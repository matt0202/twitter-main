/*
Turbolinks 5.2.0
Copyright Â© 2018 Basecamp, LLC
 */
function addIntroJsListener(t,e,n,i){document.addEventListener("turbolinks:load",function(){null==tutorials_intro[i]&&t&&1==e&&new IntroJSsetup(n)},{once:!0}),document.addEventListener("turbolinks:before-visit",function(){tutorials_intro[i]=!0},{once:!0})}function IntroJSsetup(t){var e=introJs("body");if("show_intro_cohort_index"==t){function n(t){return document.querySelector(t).click(),document.querySelector(t+"~ div")}steps=[{intro:"Hola "+userName+". Te damos la bienvenida a "+siteName+".",element:document.querySelector(".title"),position:"top"},{intro:"Puedes saltar este tutorial si ya conoces las funciones de esta secci\xf3n, desde tus preferencias puedes activar o desactivar todos los tutoriales.",element:document.querySelector(".title"),position:"top"},{element:n("#dropdownMenu"),intro:"Aqu\xed hay un men\xfa desplegable, podr\xe1s ver los anuncios y tu perfil. Recuerda activar la opci\xf3n de recibir emails.",position:"left"},{element:document.querySelector("#cohort-list"),intro:"Estos son los m\xf3dulos a los que tienes acceso. Los m\xf3dulos tambi\xe9n reciben el nombre de cohorts."},{element:document.querySelector("#cohort_counter_0"),intro:"Estos pueden tener diferentes colores seg\xfan su tipo (de carrera, curso o taller). Adem\xe1s, si el cohort concluy\xf3, podr\xe1s verlo de tono m\xe1s oscuro que el que se est\xe1 cursando actualmente (activo)."},{element:document.querySelector("#filters_lateral"),intro:"Este es el buscador."},{element:document.querySelector("#selector_tipo_cohort"),intro:"Aqu\xed puedes elegir por tipo de cohort."},{element:document.querySelector("#buscador_tipo_cohort"),intro:"Aqu\xed puedes delimitar tu b\xfasqueda."},{element:document.querySelector("#cohort_counter_0"),intro:"Tienes acceso a este cohort, ingresa a \xe9l haciendo click en el t\xedtulo para continuar el tutorial."}]}else if("show_intro_cohort_student_dashboard"==t){var i='<a aria-controls="dashboard_options" aria-expanded="false" class="btn btn-sm btn-info optionsDashboard introjs-showElement introjs-relativePosition" data-toggle="collapse" href="#dashboard_options" role="button"><i class="fas fa-cog"></i></a>';function r(t){var e=document.querySelector(t);return e.querySelector("a").click(),e.parentElement.parentElement}steps=[{element:document.querySelector(".title"),intro:"Te damos la bienvenida al cohort de "+cohortName+"."},{element:document.querySelector("#dashboard_info"),intro:"Esta es la informaci\xf3n de tu cohort. Si tienes clases virtuales, encontrar\xe1s el link a tu sala."},{element:document.querySelector("#card-contenido-curso"),intro:"Estas son las Unidades de "+cohortName+". El contenido se encuentra distribu\xeddo a lo largo unidades. Podr\xe1s ver con color la unidad activa."},{element:document.querySelector("#dashboard_notifications"),intro:"Estas son tus notificaciones."},{element:document.querySelector("#dashboard_ranking"),intro:"Este es el ranking. Ac\xe1 puedes ver los tres mejores de cada curso y al ingresar el detalle del puntaje."},{element:document.querySelector("#dashboard_challenges"),intro:"Estos son tus certificados. Los obtendr\xe1s cuando completes cada cohort."},{element:document.querySelector("#dashboard_results"),intro:"Este es tu resumen acad\xe9mico, que ir\xe1 mostrando tu progreso."},{element:document.querySelector("#dashboard_notes"),intro:"Ac\xe1 podr\xe1s ver los apuntes que vayas tomando."},{element:document.querySelector("#dashboard_favorites"),intro:"Ac\xe1 podr\xe1s ver los marcadores de favoritos."},{element:document.querySelector("#dashboard_cohorts"),intro:"Esta es la lista de tus otros cursos."},{element:document.querySelector("#pre_course"),intro:"Aqu\xed se encuentra informaci\xf3n previa respecto al curso como el programa acad\xe9mico. Est\xe1 marcada con PRE."},{element:r("#first_section"),intro:"Esta es la primera unidad, aqu\xed podr\xe1s ver su contenido."},{element:document.querySelector(".optionsDashboard"),intro:"Aqu\xed est\xe1n las opciones.<br>"+i+"<br> Aqu\xed podr\xe1s personalizar tu dashboard y reactivar \xe9sta intruducci\xf3n."}]}else if("show_intro_cohort_teacher_dashboard"==t){i='<a aria-controls="dashboard_options" aria-expanded="false" class="btn btn-sm btn-info optionsDashboard introjs-showElement introjs-relativePosition" data-toggle="collapse" href="#dashboard_options" role="button"><i class="fas fa-cog"></i></a>';var o='<button class="btn btn-info active-section-btn"><i class="fas fa-power-off"></i></button>',s='<button class="btn btn-info"><i class="fas fa-fw fa-chart-line"></i></button>';function r(t){var e=document.querySelector(t);return e.querySelector("a").click(),e.parentElement.parentElement}function n(t){return document.querySelector(t).click(),document.querySelector(t+"~ div")}steps=[{element:document.querySelector(".title"),intro:"Te damos la bienvenida al cohort de "+cohortName+"."},{element:document.querySelector("#dashboard_info"),intro:"Esta es la informaci\xf3n del cohort. Aqu\xed ver\xe1s datos como su vigencia, generaci\xf3n y tu rol en \xe9l."},{element:document.querySelector("#card-contenido-curso"),intro:"Estas son las Unidades de "+cohortName+". El contenido se encuentra distribu\xeddo a lo largo unidades. Podr\xe1s ver con color la unidad activa."},{intro:"Para activar una unidad puedes hacer click en "+o},{intro:"Para ver los reportes de avance de una unidad puedes hacer click en "+s},{element:document.querySelector("#dashboard_notifications"),intro:"Estas son tus notificaciones."},{element:document.querySelector("#dashboard_ranking"),intro:"Este es el ranking. Ac\xe1 puedes ver los tres mejores de cada cohort y al ingresar el detalle del puntaje."},{element:document.querySelector("#dashboard_challenges"),intro:"Estos son tus certificados."},{element:document.querySelector("#dashboard_results"),intro:"Este es el resumen acad\xe9mico. Podr\xe1s hacer cosas como ver el avance de los alumnos, revisar desaf\xedos e ingresar asistencia."},{element:document.querySelector("#dashboard_notes"),intro:"Ac\xe1 podr\xe1s ver los apuntes que vayas tomando."},{element:document.querySelector("#dashboard_favorites"),intro:"Ac\xe1 podr\xe1s ver los marcadores de favoritos."},{element:document.querySelector("#dashboard_cohorts"),intro:"Esta es la lista de tus otros cursos."},{element:r("#first_section"),intro:"Esta es la primera unidad, aqu\xed podr\xe1s ver su contenido y reportes."},{element:document.querySelector(".optionsDashboard"),intro:"Aqu\xed est\xe1n las opciones.<br>"+i+"<br>Aqu\xed podr\xe1s personalizar tu dashboard y reactivar \xe9sta intruducci\xf3n.",position:"top"},{element:n("#dropdownMenu"),intro:"Puedes revisar este men\xfa para m\xe1s opciones.",position:"left"}]}else if("show_intro_cohort_coordinator_dashboard"==t){i='<a aria-controls="dashboard_options" aria-expanded="false" class="btn btn-sm btn-info optionsDashboard introjs-showElement introjs-relativePosition" data-toggle="collapse" href="#dashboard_options" role="button"><i class="fas fa-cog"></i></a>',o='<button class="btn btn-info active-section-btn"><i class="fas fa-power-off"></i></button>';var a='<button class= "btn btn-danger"><i class="fas fa-trash"></i></button>';s='<button class="btn btn-info"><i class="fas fa-fw fa-chart-line"></i></button>';function r(t){var e=document.querySelector(t);return e.querySelector("a").click(),e.parentElement.parentElement}function n(t){return document.querySelector(t).click(),document.querySelector(t+"~ div")}steps=[{element:document.querySelector(".title"),intro:"Te damos la bienvenida al cohort de "+cohortName+"."},{element:document.querySelector("#dashboard_info"),intro:"Esta es la informaci\xf3n del cohort. Aqu\xed ver\xe1s datos como su vigencia, generaci\xf3n y tu rol en \xe9l."},{element:document.querySelector("#card-contenido-curso"),intro:"Estas son las Unidades de "+cohortName+". El contenido se encuentra distribu\xeddo a lo largo unidades. Podr\xe1s ver con color la unidad activa."},{intro:"Para activar una unidad puedes hacer click en "+o},{intro:"Para eliminar una unidad puedes hacer click en "+a},{intro:"Para ver los reportes de avance de una unidad puedes hacer click en "+s},{element:document.querySelector("#dashboard_notifications"),intro:"Estas son tus notificaciones."},{element:document.querySelector("#dashboard_ranking"),intro:"Este es el ranking. Ac\xe1 puedes ver los tres mejores de cada cohort y al ingresar el detalle del puntaje."},{element:document.querySelector("#dashboard_challenges"),intro:"Estos son tus certificados."},{element:document.querySelector("#dashboard_results"),intro:"Este es el resumen acad\xe9mico. Podr\xe1s hacer cosas como ver el avance de los alumnos, revisar desaf\xedos e ingresar asistencia."},{element:document.querySelector("#btn-studentMode"),intro:'En este bot\xf3n podr\xe1s entrar a "Modo Estudiante", que te mostrar\xe1 c\xf3mo ve el estudiante su dashboard.',position:"auto"},{element:document.querySelector("#dashboard_notes"),intro:"Ac\xe1 podr\xe1s ver los apuntes que vayas tomando."},{element:document.querySelector("#dashboard_favorites"),intro:"Ac\xe1 podr\xe1s ver los marcadores de favoritos."},{element:document.querySelector("#dashboard_cohorts"),intro:"Esta es la lista de tus otros cursos."},{element:r("#first_section"),intro:"Esta es la primera unidad, aqu\xed podr\xe1s ver su contenido al hace click en el t\xedtulo."},{element:document.querySelector(".optionsDashboard"),intro:"Aqu\xed est\xe1n las opciones.<br>"+i+"<br>Aqu\xed podr\xe1s personalizar tu dashboard y reactivar \xe9sta intruducci\xf3n.",position:"top"},{element:n("#dropdownMenu"),intro:'En este men\xfa desplegable tambi\xe9n podr\xe1s entrar a "Modo Estudiante", que te mostrar\xe1 c\xf3mo ve el estudiante su dashboard.',position:"left"},{element:n("#dropdownMenu"),intro:"Puedes ver m\xe1s opciones en este men\xfa.",position:"left"}]}else if("show_intro_cohort_student_section"==t){var l="<button class='btn btn-sm btn-primary ml-2' type='button > <i class='fas fa-cloud-upload-alt mr-2> <span> Subir respuesta </span> </button>",u="<div class='challenge-activity' style='width: 286px; height: 319px;'></div>",c="<div class='btn btn-sm btn-primary'><i class='fa fa-file-alt'></i></div>",d="<div class='btn btn-success'><i class='fas fa-file-download mr-2'></i></div>";steps=[{element:document.querySelector(".section .title"),intro:"Esta es una secci\xf3n."},{element:document.querySelector(".section #accordionLateralMenu"),intro:"Este es el men\xfa lateral."},{element:document.querySelector("div[data-parent]"),intro:"Aqu\xed podr\xe1s encontrar las actividades a desarrollar y desaf\xedos."},{intro:"Te encontrar\xe1s con desaf\xedos como este:"+u},{intro:"Para subir tu respuesta haz click en este bot\xf3n.<br>"+l+"<br> Lo encontrar\xe1s en la esquina inferior derecha al ver tus desaf\xedos."},{element:document.querySelector("div .icon .fa-file-alt"),intro:"Adem\xe1s puedes tomar apuntes mientras ves las actividades. Solo haz click en "+c+" y toma nota."},{intro:"Si no puedes visualizar el material, puedes descargarlo con el bot\xf3n "+d+" Lo ver\xe1s en la parte inferior."}]}else if("show_intro_cohort_staff_section"==t){function r(t){var e=document.querySelector(t);return e.click(),e}d="<div class='btn btn-success'><i class='fas fa-file-download mr-2'></i></div>";steps=[{element:document.querySelector(".section .title"),intro:"Esta es una secci\xf3n"},{element:document.querySelector(".section #accordionLateralMenu"),intro:"Este es el men\xfa lateral."},{element:"#options_activity",intro:"Ac\xe1 puedes acceder a opciones."},{element:document.querySelector("#options_activity"),intro:"Revisa qu\xe9 acci\xf3n puedes realizar."},{element:document.querySelector(".btn-group-vertical"),intro:"Aqu\xed tienes accesos r\xe1pidos a otras \xe1reas del dashboard, como informaci\xf3n del curso o resumen acad\xe9mico."},{element:document.querySelector("div .fa.fa-bug"),intro:"Con este bot\xf3n podr\xe1s reportar feedback sobre el material."},{intro:"Si no puedes visualizar el material, puedes descargarlo con el bot\xf3n "+d+" Lo ver\xe1s en la parte inferior."}]}else if("show_intro_cohort_students_ranking"==t)steps=[{element:document.querySelector("h2.h3.title"),intro:"Este es el ranking del curso"},{element:document.querySelector("#podium"),intro:"Estos son los 3 primeros lugares"},{element:document.querySelector("#th_total_points"),intro:"El puntaje de estudiantes se construye a partir del progreso que se est\xe1 teniendo dentro del curso actual."},{element:document.querySelector("#thead_ranking"),intro:"Estos progresos son medidos a traves de diversas dimensiones."},{element:document.querySelector("#th_extra_points"),intro:"Adem\xe1s, los puntos extra que puede asignar el docente."},{element:document.querySelector("#th_game_titles"),intro:"Tambi\xe9n se pueden asignar t\xedtulos como reconocimiento a los estudiantes. Estos no alteran el puntaje.",position:"left"}];else if("show_intro_cohort_staff_ranking"==t)steps=[{element:document.querySelector("h2.h3.title"),intro:"Este es el ranking del curso."},{element:document.querySelector("#podium"),intro:"Estos son los 3 primeros lugares."},{element:document.querySelector("#th_total_points"),intro:"El puntaje de estudiantes se construye a partir del progreso que se est\xe1 teniendo dentro del curso actual."},{element:document.querySelector("#thead_ranking"),intro:"Estos progresos son medidos a traves de condiciones como asistencia y desaf\xedos."},{element:document.querySelector("#tb-ranking-option"),intro:"Los pesos de cada condici\xf3n son alterables."},{element:document.querySelector("#th_extra_points"),intro:"El puntaje se genera autom\xe1ticamente, pero como docente puedes entregar puntos extra."},{element:document.querySelector("#th_game_titles"),intro:"Tambi\xe9n se pueden asignar t\xedtulos como reconocimiento a los estudiantes. Estos no alteran el puntaje.",position:"left"}];else if("show_intro_score_attempts"==t){var h=" <i class='fas fa-pencil-alt text-muted'></i>",f='<div class="attempt-img" style="width: 250px; height: 350px;"></div>';steps=[{element:document.querySelector("#teacher_dashboard_table"),intro:"Aqu\xed podr\xe1s revisar los desaf\xedos o pruebas."},{intro:"Cuando los alumnos suban sus respuestas, podr\xe1s verlas haciendo click en "+h},{intro:"Ah\xed podr\xe1s descargar los archivos con la respuesta del estudiante, asignarle una nota y dejarle feedback"+f},{intro:"Para recorregir debes hacer click en la nota y podr\xe1s realizar el mismo proceso."}]}else{if("show_intro_attendance"!=t)throw new Error("Intro_type not valid");var p="<div class='btn btn-sm btn-primary'>Subir Asistencia</div>";steps=[{element:document.querySelector("#new_attendance"),intro:"Para tomar asistencia de clases haz click aqu\xed.<br> Selecciona la fecha de la clase y marca los asistentes segun corresponda.<br> Luego haz click en "+p},{element:document.querySelector("#new_extra_attendance"),intro:"Si corresponde a una asistencia extra haz click aqu\xed.<br> Selecciona la raz\xf3n y la fecha y marca los asistentes seg\xfan corresponda.<br> Luego haz click en "+p},{intro:"Recuerda marcar bien las asistencias ya que afecta en el progreso."}]}return e.setOptions({nextLabel:"Siguiente",prevLabel:"Anterior",skipLabel:"Saltar",doneLabel:"Listo",hidePrev:!0,hideNext:!0,showProgress:!0,scrollToElement:!1,scrollPadding:5,steps:steps}),e.oncomplete(function(){disableIntro(t)}),e.onskip(function(){disableIntro(t)}),e.start(),e}function disableIntro(t){user_data={},data={user:user_data},user_data[t]=!1,$.ajax({url:"/users/save_preferences",type:"PATCH",dataType:"script",data:data})}function showConfetti(){for(var t=150;t>0;)$("main .notifications").append($("<div />",{"class":"confetti-"+t})),t--;setTimeout(function(){$("[class^=confetti]").fadeOut(function(){$(this).remove()})},4e3)}function notifyMe(t){var e={icon:"/favicon-120x120.png"};if("Notification"in window)if("granted"===Notification.permission)new Notification(t,e);else"denied"!==Notification.permission&&Notification.requestPermission(function(n){if("granted"===n)new Notification(t,e)});else console.log("This browser does not support desktop notification")}function check_capslock(t){var e=String.fromCharCode(t.keyCode);e.toUpperCase()!==e||e.toLowerCase()===e||t.shiftKey?(window.capsLockEnabled=!1,$(".capslockdiv").hide(),$(".password").removeClass("text-uppercase")):(window.capsLockEnabled=!0,$(".capslockdiv").show(),$(".password").addClass("text-uppercase"))}function check_capslock_form(t){t||(t=$(document)),t.find("input,select").each(function(){"hidden"!=this.type&&$(this).keypress(check_capslock)})}function hideRecover(){$("#recover-account").hide()}function hideLoginAnimation(){gsap.to("#login-account",{delay:0,duration:.25,opacity:0,scale:.9,ease:"power4.out"}),gsap.to("#login-account",{delay:.25,duration:0,display:"none"})}function showRecoverAnimation(){gsap.to("#recover-account",{delay:.25,duration:0,display:"block"}),gsap.from("#recover-account",{delay:.25,duration:.25,opacity:0,scale:.9}),gsap.to("#recover-account",{delay:.25,duration:.25,opacity:1,scale:1})}function hideRecoverAnimation(){gsap.to("#recover-account",{delay:0,duration:.25,opacity:0,scale:.9,ease:"power4.out"}),gsap.to("#recover-account",{delay:.25,duration:0,display:"none"})}function showLoginAnimation(){gsap.to("#login-account",{delay:.25,duration:0,display:"block"}),gsap.from("#login-account",{delay:.25,duration:.25,opacity:0,scale:.9}),gsap.to("#login-account",{delay:.25,duration:.25,opacity:1,scale:1})}function logintextAnimation(){new Typed("#typed-desafios",{strings:["desarrollar tu futuro","sumarte a la revoluci\xf3n digital","compartir en comunidad","aprender haciendo"],shuffle:!0,stringsElement:null,typeSpeed:75,startDelay:1e3,backSpeed:42,backDelay:1e3,loop:!0,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}})}if(function(){var t=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,n){return e.controller.visit(t,n)},clearCache:function(){return e.controller.clearCache()},setProgressBarDelay:function(t){return e.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var e=t.Turbolinks;(function(){(function(){var t,n,i,r=[].slice;e.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},e.closest=function(e,n){return t.call(e,n)},t=function(){var t;return null!=(t=document.documentElement.closest)?t:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&n.call(e,t))return e;e=e.parentNode}}}(),e.defer=function(t){return setTimeout(t,1)},e.throttle=function(t){var e;return e=null,function(){var n,i;return n=1<=arguments.length?r.call(arguments,0):[],null!=e?e:e=requestAnimationFrame((i=this,function(){return e=null,t.apply(i,n)}))}},e.dispatch=function(t,e){var n,r,o,s,a,l;return l=(a=null!=e?e:{}).target,n=a.cancelable,r=a.data,(o=document.createEvent("Events")).initEvent(t,!0,!0===n),o.data=null!=r?r:{},o.cancelable&&!i&&(s=o.preventDefault,o.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),s.call(this)}),(null!=l?l:document).dispatchEvent(o),o},i=function(){var t;return(t=document.createEvent("Events")).initEvent("test",!0,!0),t.preventDefault(),t.defaultPrevented}(),e.match=function(t,e){return n.call(t,e)},n=function(){var t,e,n,i;return null!=(e=null!=(n=null!=(i=(t=document.documentElement).matchesSelector)?i:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),e.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){e.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,2>(e=n.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.HttpRequest=function(){function n(n,i,r){this.delegate=n,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=e.Location.wrap(i).requestURL,this.referrer=e.Location.wrap(r).absoluteURL,this.createXHR()}return n.NETWORK_FAILURE=0,n.TIMEOUT_FAILURE=-1,n.timeout=60,n.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},n.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},n.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},n.prototype.requestLoaded=function(){return this.endRequest((t=this,function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}));var t},n.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},n.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},n.prototype.requestCanceled=function(){return this.endRequest()},n.prototype.notifyApplicationBeforeRequestStart=function(){return e.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},n.prototype.notifyApplicationAfterRequestEnd=function(){return e.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},n.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},n.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},n.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},n.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},n}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ProgressBar=function(){function e(){this.trickle=t(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},e.prototype.setValue=function(t){return this.value=t,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*n)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},e.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},e.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.BrowserAdapter=function(){function n(n){this.controller=n,this.showProgressBar=t(this.showProgressBar,this),this.progressBar=new e.ProgressBar}var i,r,o;return o=e.HttpRequest,i=o.NETWORK_FAILURE,r=o.TIMEOUT_FAILURE,n.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},n.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},n.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},n.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},n.prototype.visitRequestCompleted=function(t){return t.loadResponse()},n.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case i:case r:return this.reload();default:return t.loadResponse()}},n.prototype.visitRequestFinished=function(){return this.hideProgressBar()},n.prototype.visitCompleted=function(t){return t.followRedirect()},n.prototype.pageInvalidated=function(){return this.reload()},n.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},n.prototype.showProgressBar=function(){return this.progressBar.show()},n.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},n.prototype.reload=function(){return window.location.reload()},n}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.History=function(){function n(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},n.prototype.push=function(t,n){return t=e.Location.wrap(t),this.update("push",t,n)},n.prototype.replace=function(t,n){return t=e.Location.wrap(t),this.update("replace",t,n)},n.prototype.onPopState=function(t){var n,i,r,o;return this.shouldHandlePopState()&&(o=null!=(i=t.state)?i.turbolinks:void 0)?(n=e.Location.wrap(window.location),r=o.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(n,r)):void 0},n.prototype.onPageLoad=function(){return e.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},n.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},n.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},n.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},n}()}.call(this),function(){e.HeadDetails=function(){function t(t){var e,n,i,s,a;for(this.elements={},n=0,s=t.length;s>n;n++)(a=t[n]).nodeType===Node.ELEMENT_NODE&&(i=a.outerHTML,(null!=(e=this.elements)[i]?e[i]:e[i]={type:o(a),tracked:r(a),elements:[]}).elements.push(a))}var e,n,i,r,o;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t;return function(){var e,n;for(t in n=[],e=this.elements)e[t].tracked&&n.push(t);return n}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,r,o,s,a;for(i in s=[],r=this.elements)a=(o=r[i]).type,n=o.elements,a!==t||e.hasElementWithKey(i)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,i,r,o,s;for(e in n=[],i=this.elements)s=(r=i[e]).type,o=r.tracked,t=r.elements,null!=s||o?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var n,i,r,o;for(r in n=void 0,o=this.elements)i=o[r].elements,e(i[0],t)&&(n=i[0]);return n},o=function(t){return n(t)?"script":i(t)?"stylesheet":void 0},r=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},n=function(t){return"script"===t.tagName.toLowerCase()},i=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},e=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){e.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var n,i,r;return i=t.querySelector("head"),n=null!=(r=t.querySelector("body"))?r:document.createElement("body"),new this(e.HeadDetails.fromHeadElement(i),n)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,n;return n=null!=(t=this.getSetting("root"))?t:"/",new e.Location(n)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(e){}},
t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,i,r,o;for(o=[],n=0,i=(r=this.getPermanentElements()).length;i>n;n++)e=r[n],t.getPermanentElementById(e.id)&&o.push(e);return o},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var t=[].slice;e.Renderer=function(){function e(){}var n;return e.render=function(){var e,n,i;return n=arguments[0],e=arguments[1],(i=function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,3<=arguments.length?t.call(arguments,2):[],function(){})).delegate=n,i.render(e),i},e.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,r,o,s,a,l;for(a=[],n=0,i=(o=e.attributes).length;i>n;n++)r=(s=o[n]).name,l=s.value,a.push(t.setAttribute(r,l));return a},e}()}.call(this),function(){var t,n,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.SnapshotRenderer=function(e){function r(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return i(r,e),r.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},r.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},r.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},r.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},r.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},r.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(t));return r},r.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadScriptElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},r.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;n>e;e++)t=i[e],r.push(document.head.removeChild(t));return r},r.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(t));return r},r.prototype.relocateCurrentBodyPermanentElements=function(){var e,i,r,o,s,a,l;for(l=[],e=0,i=(a=this.getCurrentBodyPermanentElements()).length;i>e;e++)o=a[e],s=t(o),r=this.newSnapshot.getPermanentElementById(o.id),n(o,s.element),n(r,o),l.push(s);return l},r.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,i,r,o,s,a;for(a=[],r=0,o=t.length;o>r;r++)i=(s=t[r]).element,e=s.permanentElement.cloneNode(!0),a.push(n(i,e));return a},r.prototype.activateNewBodyScriptElements=function(){var t,e,i,r,o,s;for(s=[],e=0,r=(o=this.getNewBodyScriptElements()).length;r>e;e++)i=o[e],t=this.createScriptElement(i),s.push(n(i,t));return s},r.prototype.assignNewBody=function(){return document.body=this.newBody},r.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},r.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},r.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},r.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},r.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},r.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},r.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},r}(e.Renderer),t=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},n=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ErrorRenderer=function(e){function n(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return t(n,e),n.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},n.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},n.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getScriptElements()).length;n>e;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(e.Renderer)}.call(this),function(){e.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return e.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,i,r;return r=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=r?this.renderSnapshot(r,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,n,i){return e.SnapshotRenderer.render(this.delegate,i,this.getSnapshot(),e.Snapshot.wrap(t),n)},t.prototype.renderError=function(t,n){return e.ErrorRenderer.render(this.delegate,n,t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ScrollManager=function(){function n(n){this.delegate=n,this.onScroll=t(this.onScroll,this),this.onScroll=e.throttle(this.onScroll)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},n.prototype.scrollToElement=function(t){return t.scrollIntoView()},n.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},n.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},n.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},n}()}.call(this),function(){e.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var n;return t.prototype.has=function(t){return n(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=n(t),this.snapshots[e]},t.prototype.write=function(t,e){var i;return i=n(t),this.snapshots[i]=e},t.prototype.touch=function(t){var e,i;return i=n(t),(e=this.keys.indexOf(i))>-1&&this.keys.splice(e,1),this.keys.unshift(i),this.trim()},t.prototype.trim=function(){var t,e,n,i,r;for(r=[],t=0,n=(i=this.keys.splice(this.size)).length;n>t;t++)e=i[t],r.push(delete this.snapshots[e]);return r},n=function(t){return e.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Visit=function(){function n(n,i,r){this.controller=n,this.action=r,this.performScroll=t(this.performScroll,this),this.identifier=e.uuid(),this.location=e.Location.wrap(i),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var i;return n.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},n.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},n.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},n.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},n.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=i(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},n.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new e.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},n.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},n.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},n.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()})):void 0},n.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},n.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},n.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},n.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},n.prototype.requestCompletedWithResponse=function(t,n){return this.response=t,null!=n&&(this.redirectedToLocation=e.Location.wrap(n)),this.adapter.visitRequestCompleted(this)},n.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},n.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},n.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},n.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},n.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},n.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},n.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},n.prototype.getTimingMetrics=function(){return e.copyObject(this.timingMetrics)},i=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},n.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},n.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},n.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},n.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},n}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Controller=function(){function n(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new e.History(this),this.view=new e.View(this),this.scrollManager=new e.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return n.prototype.start=function(){return e.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},n.prototype.clearCache=function(){return this.cache=new e.SnapshotCache(10)},n.prototype.visit=function(t,n){var i,r;return null==n&&(n={}),t=e.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(i=null!=(r=n.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(t,i)):window.location=t:void 0},n.prototype.startVisitToLocationWithAction=function(t,n,i){var r;return e.supported?(r=this.getRestorationDataForIdentifier(i),this.startVisit(t,n,{restorationData:r})):window.location=t},n.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},n.prototype.startHistory=function(){return this.location=e.Location.wrap(window.location),this.restorationIdentifier=e.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.stopHistory=function(){return this.history.stop()},n.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,n){return this.restorationIdentifier=n,this.location=e.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},n.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,n){return this.restorationIdentifier=n,this.location=e.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,n){var i;return this.restorationIdentifier=n,this.enabled?(i=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:i,historyChanged:!0}),this.location=e.Location.wrap(t)):this.adapter.pageInvalidated()},n.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},n.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},n.prototype.cacheSnapshot=function(){var t,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),n=this.view.getSnapshot(),t=this.lastRenderedLocation,e.defer(function(e){return function(){return e.cache.put(t,n.clone())}}(this))):void 0},n.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},n.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},n.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},n.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},n.prototype.render=function(t,e){return this.view.render(t,e)},n.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},n.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},n.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},n.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},n.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},n.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},n.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},n.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},n.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,n){return e.dispatch("turbolinks:click",{target:t,data:{url:n.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationBeforeVisitingLocation=function(t){return e.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationAfterVisitingLocation=function(t){return e.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},n.prototype.notifyApplicationBeforeCachingSnapshot=function(){return e.dispatch("turbolinks:before-cache")},n.prototype.notifyApplicationBeforeRender=function(t){return e.dispatch("turbolinks:before-render",{data:{newBody:t}})},n.prototype.notifyApplicationAfterRender=function(){return e.dispatch("turbolinks:render")},n.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),e.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},n.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},n.prototype.createVisit=function(t,n,i){var r,o,s,a,l;return a=(o=null!=i?i:{}).restorationIdentifier,s=o.restorationData,r=o.historyChanged,(l=new e.Visit(this,t,n)).restorationIdentifier=null!=a?a:e.uuid(),l.restorationData=e.copyObject(s),l.historyChanged=r,l.referrer=this.location,l},n.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},n.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},n.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?e.closest(t,"a[href]:not([target]):not([download])"):void 0},n.prototype.getVisitableLocationForLink=function(t){var n;return n=new e.Location(t.getAttribute("href")),this.locationIsVisitable(n)?n:void 0},n.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},n.prototype.nodeIsVisitable=function(t){var n;return!(n=e.closest(t,"[data-turbolinks]"))||"false"!==n.getAttribute("data-turbolinks")},n.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},n.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},n.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},n}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,n,i;e.start=function(){return n()?(null==e.controller&&(e.controller=t()),e.controller.start()):void 0},n=function(){return null==window.Turbolinks&&(window.Turbolinks=e),i()},t=function(){var t;return(t=new e.Controller).adapter=new e.BrowserAdapter(t),t},(i=function(){return window.Turbolinks===e})()&&e.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).ahoy=e()}(this,function(){"use strict";function t(){return H.urlPrefix+H.visitsUrl}function e(){return H.urlPrefix+H.eventsUrl}function n(t){return 0===Object.keys(t).length}function i(){return(H.useBeacon||H.trackNow)&&n(H.headers)&&$&&"undefined"!=typeof window.navigator.sendBeacon&&!H.withCredentials}function r(t,e,n){B.set(t,e,n,H.cookieDomain||H.domain)}function o(t){return B.get(t)}function s(t){B.set(t,"",-1)}function a(t){o("ahoy_debug")&&window.console.log(t)}function l(){for(var t;t=U.shift();)t();V=!0}function u(t,e){var n=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return n?n.apply(t,[e])?t:t.parentElement?u(t.parentElement,e):null:(a("Unable to match"),null)}function c(t,e,n){document.addEventListener(t,function(t){var i=u(t.target,e);i&&n.call(i,t)})}function d(t){"interactive"===document.readyState||"complete"===document.readyState?setTimeout(t,0):document.addEventListener("DOMContentLoaded",t)}function h(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}function f(){H.cookies&&$&&r("ahoy_events",JSON.stringify(Y),1)}function p(){var t=document.querySelector("meta[name=csrf-token]");return t&&t.content}function m(){var t=document.querySelector("meta[name=csrf-param]");return t&&t.content}function g(t){var e=p();e&&t.setRequestHeader("X-CSRF-Token",e)}function v(t,e,n){if($)if(W&&W.ajax)W.ajax({type:"POST",url:t,data:JSON.stringify(e),contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:g,success:n,headers:H.headers,xhrFields:{withCredentials:H.withCredentials}});else{var i=new XMLHttpRequest;for(var r in i.open("POST",t,!0),i.withCredentials=H.withCredentials,i.setRequestHeader("Content-Type","application/json"),H.headers)H.headers.hasOwnProperty(r)&&i.setRequestHeader(r,H.headers[r]);i.onload=function(){200===i.status&&n()},g(i),i.send(JSON.stringify(e))}}function y(t){var e={events:[t]};return H.cookies&&(e.visit_token=t.visit_token,e.visitor_token=t.visitor_token),delete t.visit_token,delete t.visitor_token,e}function b(t){z.ready(function(){v(e(),y(t),function(){for(var e=0;e<Y.length;e++)if(Y[e].id==t.id){Y.splice(e,1);break}f()})})}function w(t){z.ready(function(){var n=y(t),i=m(),r=p();i&&r&&(n[i]=r),n.events_json=JSON.stringify(n.events),delete n.events,window.navigator.sendBeacon(e(),L(n))})}function x(){return H.page||window.location.pathname}function C(t){return t&&t.length>0?t:null}function S(t){for(var e in t)t.hasOwnProperty(e)&&null===t[e]&&delete t[e];return t}function _(){return S({tag:this.tagName.toLowerCase(),id:C(this.id),"class":C(this.className),page:x(),section:E(this)})}function E(t){for(;t&&t!==document;t=t.parentNode)if(t.hasAttribute("data-section"))return t.getAttribute("data-section");return null}function T(){if(V=!1,F=z.getVisitId(),j=z.getVisitorId(),q=o("ahoy_track"),!1===H.cookies||!1===H.trackVisits)a("Visit tracking disabled"),l();else if(F&&j&&!q)a("Active visit"),l();else if(F||r("ahoy_visit",F=h(),H.visitDuration),o("ahoy_visit")){a("Visit started"),j||r("ahoy_visitor",j=h(),H.visitorDuration);var e={visit_token:F,visitor_token:j,platform:H.platform,landing_page:window.location.href,screen_width:window.screen.width,screen_height:window.screen.height,js:!0};for(var n in document.referrer.length>0&&(e.referrer=document.referrer),H.visitParams)H.visitParams.hasOwnProperty(n)&&(e[n]=H.visitParams[n]);a(e),v(t(),e,function(){s("ahoy_track"),l()})}else a("Cookies disabled"),l()}var k=function(t){return t===undefined},D=function(t){return null===t},M=function(t){return"boolean"==typeof t},A=function(t){return t===Object(t)},P=function(t){return Array.isArray(t)},O=function(t){return t instanceof Date},R=function(t){return t&&"number"==typeof t.size&&"string"==typeof t.type&&"function"==typeof t.slice},N=function(t){return R(t)&&"string"==typeof t.name&&("object"==typeof t.lastModifiedDate||"number"==typeof t.lastModified)},I=function(t,e,n,i){return(e=e||{}).indices=!k(e.indices)&&e.indices,e.nullsAsUndefineds=!k(e.nullsAsUndefineds)&&e.nullsAsUndefineds,e.booleansAsIntegers=!k(e.booleansAsIntegers)&&e.booleansAsIntegers,e.allowEmptyArrays=!k(e.allowEmptyArrays)&&e.allowEmptyArrays,n=n||new FormData,k(t)?n:(D(t)?e.nullsAsUndefineds||n.append(i,""):M(t)?e.booleansAsIntegers?n.append(i,t?1:0):n.append(i,t):P(t)?t.length?t.forEach(function(t,r){var o=i+"["+(e.indices?r:"")+"]";I(t,e,n,o)}):e.allowEmptyArrays&&n.append(i+"[]",""):O(t)?n.append(i,t.toISOString()):!A(t)||N(t)||R(t)?n.append(i,t):Object.keys(t).forEach(function(r){var o=t[r];if(P(o))for(;r.length>2&&r.lastIndexOf("[]")===r.length-2;)r=r.substring(0,r.length-2);I(o,e,n,i?i+"["+r+"]":r)}),n)},L={serialize:I}.serialize,B={set:function(t,e,n,i){var r="",o="";if(n){var s=new Date;s.setTime(s.getTime()+60*n*1e3),r="; expires="+s.toGMTString()}i&&(o="; domain="+i),document.cookie=t+"="+escape(e)+r+o+"; path=/"},get:function(t){var e,n,i=t+"=",r=document.cookie.split(";");for(e=0;e<r.length;e++){for(n=r[e];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(i))return unescape(n.substring(i.length,n.length))}return null}},H={urlPrefix:"",visitsUrl:"/ahoy/visits",eventsUrl:"/ahoy/events",page:null,platform:"Web",useBeacon:!0,startOnReady:!0,trackVisits:!0,cookies:!0,cookieDomain:null,headers:{},visitParams:{},withCredentials:!1,visitDuration:240,visitorDuration:1051200},z=window.ahoy||window.Ahoy||{};z.configure=function(t){for(var e in t)t.hasOwnProperty(e)&&(H[e]=t[e])},z.configure(z);var F,j,q,W=window.jQuery||window.Zepto||window.$,V=!1,U=[],$="undefined"!=typeof JSON&&"undefined"!=typeof JSON.stringify,Y=[];z.ready=function(t){V?t():U.push(t)},z.getVisitId=z.getVisitToken=function(){return o("ahoy_visit")},z.getVisitorId=z.getVisitorToken=function(){return o("ahoy_visitor")},z.reset=function(){return s("ahoy_visit"),s("ahoy_visitor"),s("ahoy_events"),s("ahoy_track"),!0},z.debug=function(t){return!1===t?s("ahoy_debug"):r("ahoy_debug","t",525600),!0},z.track=function(t,e){var n={name:t,properties:e||{},time:(new Date).getTime()/1e3,id:h(),js:!0};return z.ready(function(){H.cookies&&!z.getVisitId()&&T(),z.ready(function(){a(n),n.visit_token=z.getVisitId(),n.visitor_token=z.getVisitorId(),i()?w(n):(Y.push(n),f(),setTimeout(function(){b(n)},1e3))})}),!0},z.trackView=function(t){var e={url:window.location.href,title:document.title,page:x()};if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);z.track("$view",e)},z.trackClicks=function(){c("click","a, button, input[type=submit]",function(t){var e=_.call(this,t);e.text="input"==e.tag?this.value:(this.textContent||this.innerText||this.innerHTML).replace(/[\s\r\n]+/g," ").trim(),e.href=this.href,z.track("$click",e)})},z.trackSubmits=function(){c("submit","form",function(t){var e=_.call(this,t);z.track("$submit",e)})},z.trackChanges=function(){c("change","input, textarea, select",function(t){var e=_.call(this,t);z.track("$change",e)})},z.trackAll=function(){z.trackView(),z.trackClicks(),z.trackSubmits(),z.trackChanges()};try{Y=JSON.parse(o("ahoy_events")||"[]")}catch(X){}for(var G=0;G<Y.length;G++)b(Y[G]);return z.start=function(){T(),z.start=function(){}},d(function(){H.startOnReady&&z.start()}),z}),
/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e,n){var i,r,o=(n=n||xt).createElement("script");if(o.text=t,e)for(i in Ct)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function i(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[pt.call(t)]||"object":typeof t}function r(t){var e=!!t&&"length"in t&&t.length,n=i(t);return!bt(t)&&!wt(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function s(t,e,n){return bt(e)?_t.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?_t.grep(t,function(t){return t===e!==n}):"string"!=typeof e?_t.grep(t,function(t){return ht.call(e,t)>-1!==n}):_t.filter(e,t,n)}function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e={};return _t.each(t.match(Nt)||[],function(t,n){e[n]=!0}),e}function u(t){return t}function c(t){throw t}function d(t,e,n,i){var r;try{t&&bt(r=t.promise)?r.call(t).done(e).fail(n):t&&bt(r=t.then)?r.call(t,e,n):e.apply(undefined,[t].slice(i))}catch(t){n.apply(undefined,[t])}}function h(){xt.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),_t.ready()}function f(t,e){return e.toUpperCase()}function p(t){return t.replace(Ht,"ms-").replace(zt,f)}function m(){this.expando=_t.expando+m.uid++}function g(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Wt.test(t)?JSON.parse(t):t)}function v(t,e,n){var i;if(n===undefined&&1===t.nodeType)if(i="data-"+e.replace(Vt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=g(n)}catch(r){}qt.set(t,e,n)}else n=undefined;return n}function y(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return _t.css(t,e,"")},l=a(),u=n&&n[3]||(_t.cssNumber[e]?"":"px"),c=t.nodeType&&(_t.cssNumber[e]||"px"!==u&&+l)&&$t.exec(_t.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)_t.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,_t.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function b(t){var e,n=t.ownerDocument,i=t.nodeName,r=Zt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=_t.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Zt[i]=r,r)}function w(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=jt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Qt(i)&&(r[o]=b(i))):"none"!==n&&(r[o]="none",jt.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function x(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],e===undefined||e&&o(t,e)?_t.merge([t],n):n}function C(t,e){for(var n=0,i=t.length;n<i;n++)jt.set(t[n],"globalEval",!e||jt.get(e[n],"globalEval"))}function S(t,e,n,r,o){for(var s,a,l,u,c,d,h=e.createDocumentFragment(),f=[],p=0,m=t.length;p<m;p++)if((s=t[p])||0===s)if("object"===i(s))_t.merge(f,s.nodeType?[s]:s);else if(oe.test(s)){for(a=a||h.appendChild(e.createElement("div")),l=(ne.exec(s)||["",""])[1].toLowerCase(),u=re[l]||re._default,a.innerHTML=u[1]+_t.htmlPrefilter(s)+u[2],d=u[0];d--;)a=a.lastChild;_t.merge(f,a.childNodes),(a=h.firstChild).textContent=""}else f.push(e.createTextNode(s));for(h.textContent="",p=0;s=f[p++];)if(r&&_t.inArray(s,r)>-1)o&&o.push(s);else if(c=Xt(s),a=x(h.appendChild(s),"script"),c&&C(a),n)for(d=0;s=a[d++];)ie.test(s.type||"")&&n.push(s);return h}function _(){return!0}function E(){return!1}function T(t,e){return t===k()==("focus"===e)}function k(){try{return xt.activeElement}catch(t){}}function D(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=undefined),e)D(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=E;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return _t().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=_t.guid++)),t.each(function(){_t.event.add(this,e,r,i,n)})}function M(t,e,n){n?(jt.set(t,e,!1),_t.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=jt.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(_t.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=ut.call(arguments),jt.set(this,e,o),i=n(this,e),this[e](),o!==(r=jt.get(this,e))||i?jt.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(jt.set(this,e,{value:_t.event.trigger(_t.extend(o[0],_t.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):jt.get(t,e)===undefined&&_t.event.add(t,e,_)}function A(t,e){return o(t,"table")&&o(11!==e.nodeType?e:e.firstChild,"tr")&&_t(t).children("tbody")[0]||t}function P(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function O(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function R(t,e){var n,i,r,o,s,a;if(1===e.nodeType){if(jt.hasData(t)&&(a=jt.get(t).events))for(r in jt.remove(e,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)_t.event.add(e,r,a[r][n]);qt.hasData(t)&&(o=qt.access(t),s=_t.extend({},o),qt.set(e,s))}}function N(t,e){var n=e.nodeName.toLowerCase();"input"===n&&ee.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function I(t,e,i,r){e=ct(e);var o,s,a,l,u,c,d=0,h=t.length,f=h-1,p=e[0],m=bt(p);if(m||h>1&&"string"==typeof p&&!yt.checkClone&&ce.test(p))return t.each(function(n){var o=t.eq(n);m&&(e[0]=p.call(this,n,o.html())),I(o,e,i,r)});if(h&&(s=(o=S(e,t[0].ownerDocument,!1,t,r)).firstChild,1===o.childNodes.length&&(o=s),s||r)){for(l=(a=_t.map(x(o,"script"),P)).length;d<h;d++)u=o,d!==f&&(u=_t.clone(u,!0,!0),l&&_t.merge(a,x(u,"script"))),i.call(t[d],u,d);if(l)for(c=a[a.length-1].ownerDocument,_t.map(a,O),d=0;d<l;d++)u=a[d],ie.test(u.type||"")&&!jt.access(u,"globalEval")&&_t.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?_t._evalUrl&&!u.noModule&&_t._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):n(u.textContent.replace(de,""),u,c))}return t}function L(t,e,n){for(var i,r=e?_t.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||_t.cleanData(x(i)),i.parentNode&&(n&&Xt(i)&&C(x(i,"script")),i.parentNode.removeChild(i));return t}function B(t,e,n){var i,r,o,s,a=t.style;return(n=n||fe(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||Xt(t)||(s=_t.style(t,e)),!yt.pixelBoxStyles()&&he.test(s)&&me.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),s!==undefined?s+"":s}function H(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function z(t){for(var e=t[0].toUpperCase()+t.slice(1),n=ge.length;n--;)if((t=ge[n]+e)in ve)return t}function F(t){var e=_t.cssProps[t]||ye[t];return e||(t in ve?t:ye[t]=z(t)||t)}function j(t,e,n){var i=$t.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function q(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=_t.css(t,n+Yt[s],!0,r)),i?("content"===n&&(l-=_t.css(t,"padding"+Yt[s],!0,r)),"margin"!==n&&(l-=_t.css(t,"border"+Yt[s]+"Width",!0,r))):(l+=_t.css(t,"padding"+Yt[s],!0,r),"padding"!==n?l+=_t.css(t,"border"+Yt[s]+"Width",!0,r):a+=_t.css(t,"border"+Yt[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l}function W(t,e,n){var i=fe(t),r=(!yt.boxSizingReliable()||n)&&"border-box"===_t.css(t,"boxSizing",!1,i),s=r,a=B(t,e,i),l="offset"+e[0].toUpperCase()+e.slice(1);if(he.test(a)){if(!n)return a;a="auto"}return(!yt.boxSizingReliable()&&r||!yt.reliableTrDimensions()&&o(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===_t.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===_t.css(t,"boxSizing",!1,i),(s=l in t)&&(a=t[l])),(a=parseFloat(a)||0)+q(t,e,n||(r?"border":"content"),s,i,a)+"px"}function V(t,e,n,i,r){return new V.prototype.init(t,e,n,i,r)}function U(){_e&&(!1===xt.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(U):t.setTimeout(U,_t.fx.interval),_t.fx.tick())}function $(){return t.setTimeout(function(){Se=undefined}),Se=Date.now()}function Y(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=Yt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function G(t,e,n){for(var i,r=(Q.tweeners[e]||[]).concat(Q.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function X(t,e,n){var i,r,o,s,a,l,u,c,d="width"in e||"height"in e,h=this,f={},p=t.style,m=t.nodeType&&Qt(t),g=jt.get(t,"fxshow");for(i in n.queue||(null==(s=_t._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,_t.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],Ee.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||g[i]===undefined)continue;m=!0}f[i]=g&&g[i]||_t.style(t,i)}if((l=!_t.isEmptyObject(e))||!_t.isEmptyObject(f))for(i in d&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=g&&g.display)&&(u=jt.get(t,"display")),"none"===(c=_t.css(t,"display"))&&(u?c=u:(w([t],!0),u=t.style.display||u,c=_t.css(t,"display"),w([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===_t.css(t,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=jt.access(t,"fxshow",{display:u}),o&&(g.hidden=!m),m&&w([t],!0),h.done(function(){for(i in m||w([t]),jt.remove(t,"fxshow"),f)_t.style(t,i,f[i])})),l=G(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}function K(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=p(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=_t.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function Q(t,e,n){var i,r,o=0,s=Q.prefilters.length,a=_t.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Se||$(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:_t.extend({},e),opts:_t.extend(!0,{specialEasing:{},easing:_t.easing._default},n),originalProperties:e,originalOptions:n,startTime:Se||$(),duration:n.duration,tweens:[],createTween:function(e,n){var i=_t.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(K(c,u.opts.specialEasing);o<s;o++)if(i=Q.prefilters[o].call(u,t,c,u.opts))return bt(i.stop)&&(_t._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return _t.map(c,G,u),bt(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),_t.fx.timer(_t.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}function Z(t){return(t.match(Nt)||[]).join(" ")}function J(t){return t.getAttribute&&t.getAttribute("class")||""}function tt(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Nt)||[]}function et(t,e,n,r){var o;if(Array.isArray(e))_t.each(e,function(e,i){n||Be.test(t)?r(t,i):et(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==i(e))r(t,e);else for(o in e)et(t+"["+o+"]",e[o],n,r)}function nt(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Nt)||[];if(bt(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function it(t,e,n,i){function r(a){var l;return o[a]=!0,_t.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===Xe;return r(e.dataTypes[0])||!o["*"]&&r("*")}function rt(t,e){var n,i,r=_t.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&_t.extend(!0,t,i),t}function ot(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}function st(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var at=[],lt=Object.getPrototypeOf,ut=at.slice,ct=at.flat?function(t){return at.flat.call(t)}:function(t){return at.concat.apply([],t)},dt=at.push,ht=at.indexOf,ft={},pt=ft.toString,mt=ft.hasOwnProperty,gt=mt.toString,vt=gt.call(Object),yt={},bt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},wt=function(t){return null!=t&&t===t.window},xt=t.document,Ct={type:!0,src:!0,nonce:!0,noModule:!0},St="3.5.1",_t=function(t,e){return new _t.fn.init(t,e)};_t.fn=_t.prototype={jquery:St,constructor:_t,length:0,toArray:function(){return ut.call(this)},get:function(t){return null==t?ut.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=_t.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return _t.each(this,t)},map:function(t){return this.pushStack(_t.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_t.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(_t.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:dt,sort:at.sort,splice:at.splice},_t.extend=_t.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||bt(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(u&&i&&(_t.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||_t.isPlainObject(n)?n:{},r=!1,s[e]=_t.extend(u,o,i)):i!==undefined&&(s[e]=i));return s},_t.extend({expando:"jQuery"+(St+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==pt.call(t))&&(!(e=lt(t))||"function"==typeof(n=mt.call(e,"constructor")&&e.constructor)&&gt.call(n)===vt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){n(t,{nonce:e&&e.nonce},i)},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?_t.merge(n,"string"==typeof t?[t]:t):dt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ht.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,o,s=0,a=[];if(r(t))for(i=t.length;s<i;s++)null!=(o=e(t[s],s,n))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,n))&&a.push(o);return ct(a)},guid:1,support:yt}),"function"==typeof Symbol&&(_t.fn[Symbol.iterator]=at[Symbol.iterator]),_t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var Et=
/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(t){function e(t,e,n,i){var r,o,s,a,l,u,c,h=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&(O(e),e=e||R,I)){if(11!==p&&(l=bt.exec(t)))if(r=l[1]){if(9===p){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(h&&(s=h.getElementById(r))&&z(e,s)&&s.id===r)return n.push(s),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&C.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(C.qsa&&!Y[t+" "]&&(!L||!L.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,h=e,1===p&&(dt.test(t)||ct.test(t))){for((h=wt.test(t)&&d(e.parentNode)||e)===e&&C.scope||((a=e.getAttribute("id"))?a=a.replace(St,_t):e.setAttribute("id",a=F)),o=(u=T(t)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+f(u[o]);c=u.join(",")}try{return J.apply(n,h.querySelectorAll(c)),n}catch(m){Y(t,!0)}finally{a===F&&e.removeAttribute("id")}}}return D(t.replace(lt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>S.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function r(t){var e=R.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)S.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Tt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function d(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=W++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,d,h=[q,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(d=e[F]||(e[F]={}))[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===q&&u[1]===a)return h[2]=u[2];if(c[o]=h,h[2]=t(e,n,l))return!0}return!1}}function m(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function y(t,e,n,r,o,s){return r&&!r[F]&&(r=y(r)),o&&!o[F]&&(o=y(o,s)),i(function(i,s,a,l){var u,c,d,h=[],f=[],p=s.length,m=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?m:v(m,h,t,a,l),b=n?o||(i?t:p||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(u=v(b,f),r(u,[],a,l),c=u.length;c--;)(d=u[c])&&(b[f[c]]=!(y[f[c]]=d));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?et(i,d):h[c])>-1&&(i[u]=!(s[u]=d))}}else b=v(b===s?b.splice(p,b.length):b),o?o(null,s,b,l):J.apply(s,b)})}function b(t){for(var e,n,i,r=t.length,o=S.relative[t[0].type],s=o||S.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return et(e,t)>-1},s,!0),c=[function(t,n,i){var r=!o&&(i||n!==M)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];a<r;a++)if(n=S.relative[t[a].type])c=[p(m(c),n)];else{if((n=S.filter[t[a].type].apply(null,t[a].matches))[F]){for(i=++a;i<r&&!S.relative[t[i].type];i++);return y(a>1&&m(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),n,a<i&&b(t.slice(a,i)),i<r&&b(t=t.slice(i)),i<r&&f(t))}c.push(n)}return m(c)}function w(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,u){var c,d,h,f=0,p="0",m=i&&[],g=[],y=M,b=i||o&&S.find.TAG("*",u),w=q+=null==y?1:Math.random()||.1,x=b.length;for(u&&(M=s==R||s||u);p!==x&&null!=(c=b[p]);p++){if(o&&c){for(d=0,s||c.ownerDocument==R||(O(c),a=!I);h=t[d++];)if(h(c,s||R,a)){l.push(c);break}u&&(q=w)}r&&((c=!h&&c)&&f--,i&&m.push(c))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(m,g,s,a);if(i){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=Q.call(l));g=v(g)}J.apply(l,g),u&&!i&&g.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(q=w,M=y),m};return r?i(s):s}var x,C,S,_,E,T,k,D,M,A,P,O,R,N,I,L,B,H,z,F="sizzle"+1*new Date,j=t.document,q=0,W=0,V=n(),U=n(),$=n(),Y=n(),G=function(t,e){return t===e&&(P=!0),0},X={}.hasOwnProperty,K=[],Q=K.pop,Z=K.push,J=K.push,tt=K.slice,et=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\[\\da-fA-F]{1,6}"+it+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ot="\\["+it+"*("+rt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+it+"*\\]",st=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ut=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp(it+"|>"),ht=new RegExp(st),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/HTML$/i,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/[+~]/,xt=new RegExp("\\\\[\\da-fA-F]{1,6}"+it+"?|\\\\([^\\r\\n\\f])","g"),Ct=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},St=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_t=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Et=function(){O()},Tt=p(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{J.apply(K=tt.call(j.childNodes),j.childNodes),K[j.childNodes.length].nodeType}catch(kt){J={apply:K.length?function(t,e){Z.apply(t,tt.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(x in C=e.support={},E=e.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!mt.test(e||n&&n.nodeName||"HTML")},O=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:j;return i!=R&&9===i.nodeType&&i.documentElement?(N=(R=i).documentElement,I=!E(R),j!=R&&(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Et,!1):n.attachEvent&&n.attachEvent("onunload",Et)),C.scope=r(function(t){return N.appendChild(t).appendChild(R.createElement("div")),"undefined"!=typeof t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),C.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=r(function(t){return t.appendChild(R.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=yt.test(R.getElementsByClassName),C.getById=r(function(t){return N.appendChild(t).id=F,!R.getElementsByName||!R.getElementsByName(F).length}),C.getById?(S.filter.ID=function(t){var e=t.replace(xt,Ct);return function(t){return t.getAttribute("id")===e}},S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}}):(S.filter.ID=function(t){var e=t.replace(xt,Ct);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),S.find.TAG=C.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):C.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},S.find.CLASS=C.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&I)return e.getElementsByClassName(t)},B=[],L=[],(C.qsa=yt.test(R.querySelectorAll))&&(r(function(t){var e;N.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+it+"*(?:value|"+nt+")"),t.querySelectorAll("[id~="+F+"-]").length||L.push("~="),(e=R.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||L.push("\\["+it+"*name"+it+"*="+it+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||L.push(".#.+[+~]"),t.querySelectorAll("\\\f"),L.push("[\\r\\n\\f]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=R.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),N.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(C.matchesSelector=yt.test(H=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){C.disconnectedMatch=H.call(t,"*"),H.call(t,"[s!='']:x"),B.push("!=",st)}),L=L.length&&new RegExp(L.join("|")),B=B.length&&new RegExp(B.join("|")),e=yt.test(N.compareDocumentPosition),z=e||yt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},G=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!C.sortDetached&&e.compareDocumentPosition(t)===n?t==R||t.ownerDocument==j&&z(j,t)?-1:e==R||e.ownerDocument==j&&z(j,e)?1:A?et(A,t)-et(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t==R?-1:e==R?1:r?-1:o?1:A?et(A,t)-et(A,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]==j?-1:l[i]==j?1:0},R):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if(O(t),C.matchesSelector&&I&&!Y[n+" "]&&(!B||!B.test(n))&&(!L||!L.test(n)))try{var i=H.call(t,n);if(i||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(kt){Y(n,!0)}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!=R&&O(t),z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!=R&&O(t);var n=S.attrHandle[e.toLowerCase()],i=n&&X.call(S.attrHandle,e.toLowerCase())?n(t,e,!I):undefined;return i!==undefined?i:C.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(St,_t)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(P=!C.detectDuplicates,A=!C.sortStable&&t.slice(0),t.sort(G),P){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},_=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=_(e);return n},(S=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,f,p,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(b=(f=(u=(c=(d=(h=g)[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===q&&u[1])&&u[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){c[t]=[q,f,b];break}}else if(y&&(b=f=(u=(c=(d=(h=e)[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===q&&u[1]),!1===b)for(;(h=++f&&h&&h[m]||(b=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((c=(d=h[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[q,b]),h!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=S.pseudos[t]||S.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],S.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)t[i=et(t,r[s])]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=k(t.replace(lt,"$1"));return r[F]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(xt,Ct),function(e){return(e.textContent||_(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,Ct).toLowerCase(),function(e){var n;do{if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=S.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=l(x);return h.prototype=S.filters=S.pseudos,S.setFilters=new h,T=e.tokenize=function(t,n){var i,r,o,s,a,l,u,c=U[t+" "];if(c)return n?0:c.slice(0);for(a=t,l=[],u=S.preFilter;a;){for(s in i&&!(r=ut.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ct.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length)),S.filter)!(r=pt[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):U(t,l).slice(0)},k=e.compile=function(t,e){var n,i=[],r=[],o=$[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)(o=b(e[n]))[F]?i.push(o):r.push(o);(o=$(t,w(r,i))).selector=t}return o},D=e.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,c=!i&&T(t=u.selector||t);if(n=n||[],1===c.length){if((o=c[0]=c[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&9===e.nodeType&&I&&S.relative[o[1].type]){if(!(e=(S.find.ID(s.matches[0].replace(xt,Ct),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!S.relative[a=s.type]);)if((l=S.find[a])&&(i=l(s.matches[0].replace(xt,Ct),wt.test(o[0].type)&&d(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&f(o)))return J.apply(n,i),n;break}}return(u||k(t,c))(i,e,!I,n,!e||wt.test(t)&&d(e.parentNode)||e),n},C.sortStable=F.split("").sort(G).join("")===F,C.detectDuplicates=!!P,O(),C.sortDetached=r(function(t){return 1&t.compareDocumentPosition(R.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(nt,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);_t.find=Et,_t.expr=Et.selectors,_t.expr[":"]=_t.expr.pseudos,_t.uniqueSort=_t.unique=Et.uniqueSort,_t.text=Et.getText,_t.isXMLDoc=Et.isXML,_t.contains=Et.contains,_t.escapeSelector=Et.escape;var Tt=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&_t(t).is(n))break;i.push(t)}return i},kt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},Dt=_t.expr.match.needsContext,Mt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;_t.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?_t.find.matchesSelector(i,t)?[i]:[]:_t.find.matches(t,_t.grep(e,function(t){return 1===t.nodeType}))},_t.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(_t(t).filter(function(){for(e=0;e<i;e++)if(_t.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)_t.find(t,r[e],n);return i>1?_t.uniqueSort(n):n},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&Dt.test(t)?_t(t):t||[],!1).length}});var At,Pt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_t.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||At,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Pt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof _t?e[0]:e,_t.merge(this,_t.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:xt,!0)),Mt.test(i[1])&&_t.isPlainObject(e))for(i in e)bt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=xt.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):bt(t)?n.ready!==undefined?n.ready(t):t(_t):_t.makeArray(t,this)}).prototype=_t.fn,At=_t(xt);var Ot=/^(?:parents|prev(?:Until|All))/,Rt={children:!0,contents:!0,next:!0,prev:!0};_t.fn.extend({has:function(t){var e=_t(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(_t.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&_t(t);if(!Dt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&_t.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?_t.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ht.call(_t(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(_t.uniqueSort(_t.merge(this.get(),_t(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),_t.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tt(t,"parentNode")},parentsUntil:function(t,e,n){return Tt(t,"parentNode",n)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return Tt(t,"nextSibling")},prevAll:function(t){return Tt(t,"previousSibling")},nextUntil:function(t,e,n){return Tt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Tt(t,"previousSibling",n)},siblings:function(t){return kt((t.parentNode||{}).firstChild,t)},children:function(t){return kt(t.firstChild)},contents:function(t){return null!=t.contentDocument&&lt(t.contentDocument)?t.contentDocument:(o(t,"template")&&(t=t.content||t),_t.merge([],t.childNodes))}},function(t,e){_t.fn[t]=function(n,i){var r=_t.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=_t.filter(i,r)),this.length>1&&(Rt[t]||_t.uniqueSort(r),Ot.test(t)&&r.reverse()),this.pushStack(r)}});var Nt=/[^\x20\t\r\n\f]+/g;_t.Callbacks=function(t){t="string"==typeof t?l(t):_t.extend({},t);var e,n,r,o,s=[],a=[],u=-1,c=function(){for(o=o||t.once,r=e=!0;a.length;u=-1)for(n=a.shift();++u<s.length;)!1===s[u].apply(n[0],n[1])&&t.stopOnFalse&&(u=s.length,n=!1);t.memory||(n=!1),e=!1,o&&(s=n?[]:"")},d={add:function(){return s&&(n&&!e&&(u=s.length-1,a.push(n)),function r(e){_t.each(e,function(e,n){bt(n)?t.unique&&d.has(n)||s.push(n):n&&n.length&&"string"!==i(n)&&r(n)})}(arguments),n&&!e&&c()),this},remove:function(){return _t.each(arguments,function(t,e){for(var n;(n=_t.inArray(e,s,n))>-1;)s.splice(n,1),n<=u&&u--}),this},has:function(t){return t?_t.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return o=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return o=a=[],n||e||(s=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},_t.extend({Deferred:function(e){var n=[["notify","progress",_t.Callbacks("memory"),_t.Callbacks("memory"),2],["resolve","done",_t.Callbacks("once memory"),_t.Callbacks("once memory"),0,"resolved"],["reject","fail",_t.Callbacks("once memory"),_t.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return _t.Deferred(function(e){_t.each(n,function(n,i){var r=bt(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&bt(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var a=this,l=arguments,d=function(){var t,d;if(!(e<s)){if((t=i.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");d=t&&("object"==typeof t||"function"==typeof t)&&t.then,bt(d)?r?d.call(t,o(s,n,u,r),o(s,n,c,r)):(s++,d.call(t,o(s,n,u,r),o(s,n,c,r),o(s,n,u,n.notifyWith))):(i!==u&&(a=undefined,l=[t]),(r||n.resolveWith)(a,l))}},h=r?d:function(){try{d()}catch(t){_t.Deferred.exceptionHook&&_t.Deferred.exceptionHook(t,h.stackTrace),e+1>=s&&(i!==c&&(a=undefined,l=[t]),n.rejectWith(a,l))}};e?h():(_t.Deferred.getStackHook&&(h.stackTrace=_t.Deferred.getStackHook()),t.setTimeout(h))}}var s=0;return _t.Deferred(function(t){n[0][3].add(o(0,t,bt(r)?r:u,t.notifyWith)),n[1][3].add(o(0,t,bt(e)?e:u)),n[2][3].add(o(0,t,bt(i)?i:c))}).promise()},promise:function(t){return null!=t?_t.extend(t,r):r}},o={};return _t.each(n,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){i=a},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?undefined:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=ut.call(arguments),o=_t.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?ut.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(d(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||bt(r[n]&&r[n].then)))return o.then();for(;n--;)d(r[n],s(n),o.reject);return o.promise()}});var It=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_t.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&It.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},_t.readyException=function(e){t.setTimeout(function(){throw e})};var Lt=_t.Deferred();_t.fn.ready=function(t){return Lt.then(t)["catch"](function(t){_t.readyException(t)}),this},_t.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--_t.readyWait:_t.isReady)||(_t.isReady=!0,!0!==t&&--_t.readyWait>0||Lt.resolveWith(xt,[_t]))}}),_t.ready.then=Lt.then,"complete"===xt.readyState||"loading"!==xt.readyState&&!xt.documentElement.doScroll?t.setTimeout(_t.ready):(xt.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var Bt=function(t,e,n,r,o,s,a){var l=0,u=t.length,c=null==n;if("object"===i(n))for(l in o=!0,n)Bt(t,e,l,n[l],!0,s,a);else if(r!==undefined&&(o=!0,bt(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(_t(t),n)})),e))for(;l<u;l++)e(t[l],n,a?r:r.call(t[l],l,e(t[l],n)));return o?t:c?e.call(t):u?e(t[0],n):s},Ht=/^-ms-/,zt=/-([a-z])/g,Ft=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ft(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[p(e)]=n;else for(i in e)r[p(i)]=e[i];return r},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][p(e)]},access:function(t,e,n){return e===undefined||e&&"string"==typeof e&&n===undefined?this.get(t,e):(this.set(t,e,n),n!==undefined?n:e)},remove:function(t,e){var n,i=t[this.expando];if(i!==undefined){if(e!==undefined){n=(e=Array.isArray(e)?e.map(p):(e=p(e))in i?[e]:e.match(Nt)||[]).length;for(;n--;)delete i[e[n]]}(e===undefined||_t.isEmptyObject(i))&&(t.nodeType?t[this.expando]=undefined:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!_t.isEmptyObject(e)}};var jt=new m,qt=new m,Wt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Vt=/[A-Z]/g;_t.extend({hasData:function(t){return qt.hasData(t)||jt.hasData(t)},data:function(t,e,n){return qt.access(t,e,n)},removeData:function(t,e){qt.remove(t,e)},_data:function(t,e,n){return jt.access(t,e,n)},_removeData:function(t,e){jt.remove(t,e)}}),_t.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(t===undefined){if(this.length&&(r=qt.get(o),1===o.nodeType&&!jt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=p(i.slice(5)),v(o,i,r[i]));jt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){qt.set(this,t)}):Bt(this,function(e){var n;if(o&&e===undefined)return(n=qt.get(o,t))!==undefined?n:(n=v(o,t))!==undefined?n:void 0;this.each(function(){qt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){qt.remove(this,t)})}}),_t.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=jt.get(t,e),n&&(!i||Array.isArray(n)?i=jt.access(t,e,_t.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=_t.queue(t,e),i=n.length,r=n.shift(),o=_t._queueHooks(t,e),s=function(){_t.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return jt.get(t,n)||jt.access(t,n,{empty:_t.Callbacks("once memory").add(function(){jt.remove(t,[e+"queue",n])})})}}),_t.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?_t.queue(this[0],t):e===undefined?this:this.each(function(){var n=_t.queue(this,t,e);_t._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&_t.dequeue(this,t)})},dequeue:function(t){return this.each(function(){_t.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=_t.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";s--;)(n=jt.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=new RegExp("^(?:([+-])=|)("+Ut+")([a-z%]*)$","i"),Yt=["Top","Right","Bottom","Left"],Gt=xt.documentElement,Xt=function(t){return _t.contains(t.ownerDocument,t)},Kt={composed:!0};Gt.getRootNode&&(Xt=function(t){return _t.contains(t.ownerDocument,t)||t.getRootNode(Kt)===t.ownerDocument});var Qt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&Xt(t)&&"none"===_t.css(t,"display")},Zt={};_t.fn.extend({show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Qt(this)?_t(this).show():_t(this).hide()})}});var Jt,te,ee=/^(?:checkbox|radio)$/i,ne=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ie=/^$|^module$|\/(?:java|ecma)script/i;Jt=xt.createDocumentFragment().appendChild(xt.createElement("div")),(te=xt.createElement("input")).setAttribute("type","radio"),te.setAttribute("checked","checked"),te.setAttribute("name","t"),Jt.appendChild(te),yt.checkClone=Jt.cloneNode(!0).cloneNode(!0).lastChild.checked,Jt.innerHTML="<textarea>x</textarea>",yt.noCloneChecked=!!Jt.cloneNode(!0).lastChild.defaultValue,Jt.innerHTML="<option></option>",yt.option=!!Jt.lastChild;var re={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};re.tbody=re.tfoot=re.colgroup=re.caption=re.thead,
re.th=re.td,yt.option||(re.optgroup=re.option=[1,"<select multiple='multiple'>","</select>"]);var oe=/<|&#?\w+;/,se=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,le=/^([^.]*)(?:\.(.+)|)/;_t.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,d,h,f,p,m,g=jt.get(t);if(Ft(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&_t.find.matchesSelector(Gt,r),n.guid||(n.guid=_t.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(e){return void 0!==_t&&_t.event.triggered!==e.type?_t.event.dispatch.apply(t,arguments):undefined}),u=(e=(e||"").match(Nt)||[""]).length;u--;)f=m=(a=le.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f&&(d=_t.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=_t.event.special[f]||{},c=_t.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&_t.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(f,s)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),_t.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,d,h,f,p,m,g=jt.hasData(t)&&jt.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(Nt)||[""]).length;u--;)if(f=m=(a=le.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=_t.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)c=h[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,g.handle)||_t.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)_t.event.remove(t,f+e[u],n,i,!0);_t.isEmptyObject(l)&&jt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=new Array(arguments.length),l=_t.event.fix(t),u=(jt.get(this,"events")||Object.create(null))[l.type]||[],c=_t.event.special[l.type]||{};for(a[0]=l,e=1;e<arguments.length;e++)a[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(s=_t.event.handlers.call(this,l,u),e=0;(r=s[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,(i=((_t.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))!==undefined&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)s[r=(i=e[n]).selector+" "]===undefined&&(s[r]=i.needsContext?_t(r,this).index(u)>-1:_t.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(_t.Event.prototype,t,{enumerable:!0,configurable:!0,get:bt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[_t.expando]?t:new _t.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ee.test(e.type)&&e.click&&o(e,"input")&&M(e,"click",_),!1},trigger:function(t){var e=this||t;return ee.test(e.type)&&e.click&&o(e,"input")&&M(e,"click"),!0},_default:function(t){var e=t.target;return ee.test(e.type)&&e.click&&o(e,"input")&&jt.get(e,"click")||o(e,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},_t.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},_t.Event=function(t,e){if(!(this instanceof _t.Event))return new _t.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?_:E,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&_t.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[_t.expando]=!0},_t.Event.prototype={constructor:_t.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},_t.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&se.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&e!==undefined&&ae.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},_t.event.addProp),_t.each({focus:"focusin",blur:"focusout"},function(t,e){_t.event.special[t]={setup:function(){return M(this,t,T),!1},trigger:function(){return M(this,t),!0},delegateType:e}}),_t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){_t.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||_t.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),_t.fn.extend({on:function(t,e,n,i){return D(this,t,e,n,i)},one:function(t,e,n,i){return D(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,_t(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=E),this.each(function(){_t.event.remove(this,t,n,e)})}});var ue=/<script|<style|<link/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;_t.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=Xt(t);if(!(yt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||_t.isXMLDoc(t)))for(s=x(a),i=0,r=(o=x(t)).length;i<r;i++)N(o[i],s[i]);if(e)if(n)for(o=o||x(t),s=s||x(a),i=0,r=o.length;i<r;i++)R(o[i],s[i]);else R(t,a);return(s=x(a,"script")).length>0&&C(s,!l&&x(t,"script")),a},cleanData:function(t){for(var e,n,i,r=_t.event.special,o=0;(n=t[o])!==undefined;o++)if(Ft(n)){if(e=n[jt.expando]){if(e.events)for(i in e.events)r[i]?_t.event.remove(n,i):_t.removeEvent(n,i,e.handle);n[jt.expando]=undefined}n[qt.expando]&&(n[qt.expando]=undefined)}}}),_t.fn.extend({detach:function(t){return L(this,t,!0)},remove:function(t){return L(this,t)},text:function(t){return Bt(this,function(t){return t===undefined?_t.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return I(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||A(this,t).appendChild(t)})},prepend:function(){return I(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=A(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return I(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return I(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(_t.cleanData(x(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return _t.clone(this,t,e)})},html:function(t){return Bt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ue.test(t)&&!re[(ne.exec(t)||["",""])[1].toLowerCase()]){t=_t.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(_t.cleanData(x(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return I(this,arguments,function(e){var n=this.parentNode;_t.inArray(this,t)<0&&(_t.cleanData(x(this)),n&&n.replaceChild(e,this))},t)}}),_t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){_t.fn[t]=function(t){for(var n,i=[],r=_t(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),_t(r[s])[e](n),dt.apply(i,n.get());return this.pushStack(i)}});var he=new RegExp("^("+Ut+")(?!px)[a-z%]+$","i"),fe=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},pe=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},me=new RegExp(Yt.join("|"),"i");!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Gt.appendChild(u).appendChild(c);var e=t.getComputedStyle(c);i="1%"!==e.top,l=12===n(e.marginLeft),c.style.right="60%",s=36===n(e.right),r=36===n(e.width),c.style.position="absolute",o=12===n(c.offsetWidth/3),Gt.removeChild(u),c=null}}function n(t){return Math.round(parseFloat(t))}var i,r,o,s,a,l,u=xt.createElement("div"),c=xt.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",yt.clearCloneStyle="content-box"===c.style.backgroundClip,_t.extend(yt,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,n,i,r;return null==a&&(e=xt.createElement("table"),n=xt.createElement("tr"),i=xt.createElement("div"),e.style.cssText="position:absolute;left:-11111px",n.style.height="1px",i.style.height="9px",Gt.appendChild(e).appendChild(n).appendChild(i),r=t.getComputedStyle(n),a=parseInt(r.height)>3,Gt.removeChild(e)),a}}))}();var ge=["Webkit","Moz","ms"],ve=xt.createElement("div").style,ye={},be=/^(none|table(?!-c[ea]).+)/,we=/^--/,xe={position:"absolute",visibility:"hidden",display:"block"},Ce={letterSpacing:"0",fontWeight:"400"};_t.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=B(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=p(e),l=we.test(e),u=t.style;if(l||(e=F(a)),s=_t.cssHooks[e]||_t.cssHooks[a],n===undefined)return s&&"get"in s&&(r=s.get(t,!1,i))!==undefined?r:u[e];"string"===(o=typeof n)&&(r=$t.exec(n))&&r[1]&&(n=y(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(_t.cssNumber[a]?"":"px")),yt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&(n=s.set(t,n,i))===undefined||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=p(e);return we.test(e)||(e=F(a)),(s=_t.cssHooks[e]||_t.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),r===undefined&&(r=B(t,e,i)),"normal"===r&&e in Ce&&(r=Ce[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),_t.each(["height","width"],function(t,e){_t.cssHooks[e]={get:function(t,n,i){if(n)return!be.test(_t.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?W(t,e,i):pe(t,xe,function(){return W(t,e,i)})},set:function(t,n,i){var r,o=fe(t),s=!yt.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===_t.css(t,"boxSizing",!1,o),l=i?q(t,e,i,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-q(t,e,"border",!1,o)-.5)),l&&(r=$t.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=_t.css(t,e)),j(t,n,l)}}}),_t.cssHooks.marginLeft=H(yt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(B(t,"marginLeft"))||t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),_t.each({margin:"",padding:"",border:"Width"},function(t,e){_t.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Yt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(_t.cssHooks[t+e].set=j)}),_t.fn.extend({css:function(t,e){return Bt(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=fe(t),r=e.length;s<r;s++)o[e[s]]=_t.css(t,e[s],!1,i);return o}return n!==undefined?_t.style(t,e,n):_t.css(t,e)},t,e,arguments.length>1)}}),_t.Tween=V,V.prototype={constructor:V,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||_t.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(_t.cssNumber[n]?"":"px")},cur:function(){var t=V.propHooks[this.prop];return t&&t.get?t.get(this):V.propHooks._default.get(this)},run:function(t){var e,n=V.propHooks[this.prop];return this.options.duration?this.pos=e=_t.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=_t.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){_t.fx.step[t.prop]?_t.fx.step[t.prop](t):1!==t.elem.nodeType||!_t.cssHooks[t.prop]&&null==t.elem.style[F(t.prop)]?t.elem[t.prop]=t.now:_t.style(t.elem,t.prop,t.now+t.unit)}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},_t.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},_t.fx=V.prototype.init,_t.fx.step={};var Se,_e,Ee=/^(?:toggle|show|hide)$/,Te=/queueHooks$/;_t.Animation=_t.extend(Q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return y(n.elem,t,$t.exec(e),n),n}]},tweener:function(t,e){bt(t)?(e=t,t=["*"]):t=t.match(Nt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Q.tweeners[n]=Q.tweeners[n]||[],Q.tweeners[n].unshift(e)},prefilters:[X],prefilter:function(t,e){e?Q.prefilters.unshift(t):Q.prefilters.push(t)}}),_t.speed=function(t,e,n){var i=t&&"object"==typeof t?_t.extend({},t):{complete:n||!n&&e||bt(t)&&t,duration:t,easing:n&&e||e&&!bt(e)&&e};return _t.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in _t.fx.speeds?i.duration=_t.fx.speeds[i.duration]:i.duration=_t.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){bt(i.old)&&i.old.call(this),i.queue&&_t.dequeue(this,i.queue)},i},_t.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Qt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=_t.isEmptyObject(t),o=_t.speed(e,n,i),s=function(){var e=Q(this,_t.extend({},t),o);(r||jt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=undefined),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=_t.timers,s=jt.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Te.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||_t.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=jt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=_t.timers,s=i?i.length:0;for(n.finish=!0,_t.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),_t.each(["toggle","show","hide"],function(t,e){var n=_t.fn[e];_t.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Y(e,!0),t,i,r)}}),_t.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){_t.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),_t.timers=[],_t.fx.tick=function(){var t,e=0,n=_t.timers;for(Se=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||_t.fx.stop(),Se=undefined},_t.fx.timer=function(t){_t.timers.push(t),_t.fx.start()},_t.fx.interval=13,_t.fx.start=function(){_e||(_e=!0,U())},_t.fx.stop=function(){_e=null},_t.fx.speeds={slow:600,fast:200,_default:400},_t.fn.delay=function(e,n){return e=_t.fx&&_t.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=xt.createElement("input"),e=xt.createElement("select").appendChild(xt.createElement("option"));t.type="checkbox",yt.checkOn=""!==t.value,yt.optSelected=e.selected,(t=xt.createElement("input")).value="t",t.type="radio",yt.radioValue="t"===t.value}();var ke,De=_t.expr.attrHandle;_t.fn.extend({attr:function(t,e){return Bt(this,_t.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){_t.removeAttr(this,t)})}}),_t.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?_t.prop(t,e,n):(1===o&&_t.isXMLDoc(t)||(r=_t.attrHooks[e.toLowerCase()]||(_t.expr.match.bool.test(e)?ke:undefined)),n!==undefined?null===n?void _t.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=_t.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!yt.radioValue&&"radio"===e&&o(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Nt);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ke={set:function(t,e,n){return!1===e?_t.removeAttr(t,n):t.setAttribute(n,n),n}},_t.each(_t.expr.match.bool.source.match(/\w+/g),function(t,e){var n=De[e]||_t.find.attr;De[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=De[s],De[s]=r,r=null!=n(t,e,i)?s:null,De[s]=o),r}});var Me=/^(?:input|select|textarea|button)$/i,Ae=/^(?:a|area)$/i;_t.fn.extend({prop:function(t,e){return Bt(this,_t.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[_t.propFix[t]||t]})}}),_t.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_t.isXMLDoc(t)||(e=_t.propFix[e]||e,r=_t.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=_t.find.attr(t,"tabindex");return e?parseInt(e,10):Me.test(t.nodeName)||Ae.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),yt.optSelected||(_t.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),_t.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_t.propFix[this.toLowerCase()]=this}),_t.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(bt(t))return this.each(function(e){_t(this).addClass(t.call(this,e,J(this)))});if((e=tt(t)).length)for(;n=this[l++];)if(r=J(n),i=1===n.nodeType&&" "+Z(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=Z(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(bt(t))return this.each(function(e){_t(this).removeClass(t.call(this,e,J(this)))});if(!arguments.length)return this.attr("class","");if((e=tt(t)).length)for(;n=this[l++];)if(r=J(n),i=1===n.nodeType&&" "+Z(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=Z(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):bt(t)?this.each(function(n){_t(this).toggleClass(t.call(this,n,J(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=_t(this),s=tt(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else t!==undefined&&"boolean"!==n||((e=J(this))&&jt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":jt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+Z(J(n))+" ").indexOf(e)>-1)return!0;return!1}});var Pe=/\r/g;_t.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=bt(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,_t(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_t.map(r,function(t){return null==t?"":t+""})),(e=_t.valHooks[this.type]||_t.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,r,"value")!==undefined||(this.value=r))})):r?(e=_t.valHooks[r.type]||_t.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&(n=e.get(r,"value"))!==undefined?n:"string"==typeof(n=r.value)?n.replace(Pe,""):null==n?"":n:void 0}}),_t.extend({valHooks:{option:{get:function(t){var e=_t.find.attr(t,"value");return null!=e?e:Z(_t.text(t))}},select:{get:function(t){var e,n,i,r=t.options,s=t.selectedIndex,a="select-one"===t.type,l=a?null:[],u=a?s+1:r.length;for(i=s<0?u:a?s:0;i<u;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(e=_t(n).val(),a)return e;l.push(e)}return l},set:function(t,e){for(var n,i,r=t.options,o=_t.makeArray(e),s=r.length;s--;)((i=r[s]).selected=_t.inArray(_t.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),_t.each(["radio","checkbox"],function(){_t.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=_t.inArray(_t(t).val(),e)>-1}},yt.checkOn||(_t.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),yt.focusin="onfocusin"in t;var Oe=/^(?:focusinfocus|focusoutblur)$/,Re=function(t){t.stopPropagation()};_t.extend(_t.event,{trigger:function(e,n,i,r){var o,s,a,l,u,c,d,h,f=[i||xt],p=mt.call(e,"type")?e.type:e,m=mt.call(e,"namespace")?e.namespace.split("."):[];if(s=h=a=i=i||xt,3!==i.nodeType&&8!==i.nodeType&&!Oe.test(p+_t.event.triggered)&&(p.indexOf(".")>-1&&(p=(m=p.split(".")).shift(),m.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[_t.expando]?e:new _t.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),n=null==n?[e]:_t.makeArray(n,[e]),d=_t.event.special[p]||{},r||!d.trigger||!1!==d.trigger.apply(i,n))){if(!r&&!d.noBubble&&!wt(i)){for(l=d.delegateType||p,Oe.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(i.ownerDocument||xt)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)h=s,e.type=o>1?l:d.bindType||p,(c=(jt.get(s,"events")||Object.create(null))[e.type]&&jt.get(s,"handle"))&&c.apply(s,n),(c=u&&s[u])&&c.apply&&Ft(s)&&(e.result=c.apply(s,n),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),n)||!Ft(i)||u&&bt(i[p])&&!wt(i)&&((a=i[u])&&(i[u]=null),_t.event.triggered=p,e.isPropagationStopped()&&h.addEventListener(p,Re),i[p](),e.isPropagationStopped()&&h.removeEventListener(p,Re),_t.event.triggered=undefined,a&&(i[u]=a)),e.result}},simulate:function(t,e,n){var i=_t.extend(new _t.Event,n,{type:t,isSimulated:!0});_t.event.trigger(i,null,e)}}),_t.fn.extend({trigger:function(t,e){return this.each(function(){_t.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return _t.event.trigger(t,e,n,!0)}}),yt.focusin||_t.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){_t.event.simulate(e,t.target,_t.event.fix(t))};_t.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=jt.access(i,e);r||i.addEventListener(t,n,!0),jt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=jt.access(i,e)-1;r?jt.access(i,e,r):(i.removeEventListener(t,n,!0),jt.remove(i,e))}}});var Ne=t.location,Ie={guid:Date.now()},Le=/\?/;_t.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=undefined}return n&&!n.getElementsByTagName("parsererror").length||_t.error("Invalid XML: "+e),n};var Be=/\[\]$/,He=/\r?\n/g,ze=/^(?:submit|button|image|reset|file)$/i,Fe=/^(?:input|select|textarea|keygen)/i;_t.param=function(t,e){var n,i=[],r=function(t,e){var n=bt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!_t.isPlainObject(t))_t.each(t,function(){r(this.name,this.value)});else for(n in t)et(n,t[n],e,r);return i.join("&")},_t.fn.extend({serialize:function(){return _t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=_t.prop(this,"elements");return t?_t.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!_t(this).is(":disabled")&&Fe.test(this.nodeName)&&!ze.test(t)&&(this.checked||!ee.test(t))}).map(function(t,e){var n=_t(this).val();return null==n?null:Array.isArray(n)?_t.map(n,function(t){return{name:e.name,value:t.replace(He,"\r\n")}}):{name:e.name,value:n.replace(He,"\r\n")}}).get()}});var je=/%20/g,qe=/#.*$/,We=/([?&])_=[^&]*/,Ve=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ue=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$e=/^(?:GET|HEAD)$/,Ye=/^\/\//,Ge={},Xe={},Ke="*/".concat("*"),Qe=xt.createElement("a");Qe.href=Ne.href,_t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ne.href,type:"GET",isLocal:Ue.test(Ne.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?rt(rt(t,_t.ajaxSettings),e):rt(_t.ajaxSettings,t)},ajaxPrefilter:nt(Ge),ajaxTransport:nt(Xe),ajax:function(e,n){function i(e,n,i,a){var u,h,f,w,x,C=n;c||(c=!0,l&&t.clearTimeout(l),r=undefined,s=a||"",S.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(w=ot(p,S,i)),!u&&_t.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),w=st(p,w,S,u),u?(p.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(_t.lastModified[o]=x),(x=S.getResponseHeader("etag"))&&(_t.etag[o]=x)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=w.state,h=w.data,u=!(f=w.error))):(f=C,!e&&C||(C="error",e<0&&(e=0))),S.status=e,S.statusText=(n||C)+"",u?v.resolveWith(m,[h,C,S]):v.rejectWith(m,[S,C,f]),S.statusCode(b),b=undefined,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[S,p,u?h:f]),y.fireWith(m,[S,C]),d&&(g.trigger("ajaxComplete",[S,p]),--_t.active||_t.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=undefined),n=n||{};var r,o,s,a,l,u,c,d,h,f,p=_t.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?_t(m):_t.event,v=_t.Deferred(),y=_t.Callbacks("once memory"),b=p.statusCode||{},w={},x={},C="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Ve.exec(s);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)S.always(t[S.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||C;return r&&r.abort(e),i(0,e),this}};if(v.promise(S),p.url=((e||p.url||Ne.href)+"").replace(Ye,Ne.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Nt)||[""],null==p.crossDomain){u=xt.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Qe.protocol+"//"+Qe.host!=u.protocol+"//"+u.host}catch(_){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=_t.param(p.data,p.traditional)),it(Ge,p,n,S),c)return S;for(h in(d=_t.event&&p.global)&&0==_t.active++&&_t.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!$e.test(p.type),o=p.url.replace(qe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(je,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Le.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(We,"$1"),f=(Le.test(o)?"&":"?")+"_="+Ie.guid+++f),p.url=o+f),p.ifModified&&(_t.lastModified[o]&&S.setRequestHeader("If-Modified-Since",_t.lastModified[o]),_t.etag[o]&&S.setRequestHeader("If-None-Match",_t.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ke+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,S,p)||c))return S.abort();if(C="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),r=it(Xe,p,n,S)){if(S.readyState=1,d&&g.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(l=t.setTimeout(function(){S.abort("timeout")},p.timeout));try{c=!1,r.send(w,i)}catch(_){if(c)throw _;i(-1,_)}}else i(-1,"No Transport");return S},getJSON:function(t,e,n){return _t.get(t,e,n,"json")},getScript:function(t,e){return _t.get(t,undefined,e,"script")}}),_t.each(["get","post"],function(t,e){_t[e]=function(t,n,i,r){return bt(n)&&(r=r||i,i=n,n=undefined),_t.ajax(_t.extend({url:t,type:e,dataType:r,data:n,success:i},_t.isPlainObject(t)&&t))}}),_t.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),_t._evalUrl=function(t,e,n){return _t.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){_t.globalEval(t,e,n)}})},_t.fn.extend({wrapAll:function(t){var e;return this[0]&&(bt(t)&&(t=t.call(this[0])),e=_t(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return bt(t)?this.each(function(e){_t(this).wrapInner(t.call(this,e))}):this.each(function(){var e=_t(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=bt(t);return this.each(function(n){_t(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){_t(this).replaceWith(this.childNodes)}),this}}),_t.expr.pseudos.hidden=function(t){return!_t.expr.pseudos.visible(t)},_t.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},_t.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ze={0:200,1223:204
},Je=_t.ajaxSettings.xhr();yt.cors=!!Je&&"withCredentials"in Je,yt.ajax=Je=!!Je,_t.ajaxTransport(function(e){var n,i;if(yt.cors||Je&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(t){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ze[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=a.ontimeout=n("error"),a.onabort!==undefined?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}}),_t.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),_t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return _t.globalEval(t),t}}}),_t.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),_t.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=_t("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),xt.head.appendChild(e[0])},abort:function(){n&&n()}}});var tn,en=[],nn=/(=)\?(?=&|$)|\?\?/;_t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=en.pop()||_t.expando+"_"+Ie.guid++;return this[t]=!0,t}}),_t.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=bt(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(nn,"$1"+r):!1!==e.jsonp&&(e.url+=(Le.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||_t.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){o===undefined?_t(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,en.push(r)),s&&bt(o)&&o(s[0]),s=o=undefined}),"script"}),yt.createHTMLDocument=((tn=xt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tn.childNodes.length),_t.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(yt.createHTMLDocument?((i=(e=xt.implementation.createHTMLDocument("")).createElement("base")).href=xt.location.href,e.head.appendChild(i)):e=xt),o=!n&&[],(r=Mt.exec(t))?[e.createElement(r[1])]:(r=S([t],e,o),o&&o.length&&_t(o).remove(),_t.merge([],r.childNodes)));var i,r,o},_t.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=Z(t.slice(a)),t=t.slice(0,a)),bt(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),s.length>0&&_t.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?_t("<div>").append(_t.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},_t.expr.pseudos.animated=function(t){return _t.grep(_t.timers,function(e){return t===e.elem}).length},_t.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=_t.css(t,"position"),c=_t(t),d={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=_t.css(t,"top"),l=_t.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),bt(e)&&(e=e.call(t,n,_t.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),c.css(d))}},_t.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){_t.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===_t.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===_t.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=_t(t).offset()).top+=_t.css(t,"borderTopWidth",!0),r.left+=_t.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-_t.css(i,"marginTop",!0),left:e.left-r.left-_t.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===_t.css(t,"position");)t=t.offsetParent;return t||Gt})}}),_t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;_t.fn[t]=function(i){return Bt(this,function(t,i,r){var o;if(wt(t)?o=t:9===t.nodeType&&(o=t.defaultView),r===undefined)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),_t.each(["top","left"],function(t,e){_t.cssHooks[e]=H(yt.pixelPosition,function(t,n){if(n)return n=B(t,e),he.test(n)?_t(t).position()[e]+"px":n})}),_t.each({Height:"height",Width:"width"},function(t,e){_t.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){_t.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return Bt(this,function(e,n,r){var o;return wt(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):r===undefined?_t.css(e,n,a):_t.style(e,n,r,a)},e,s?r:undefined,s)}})}),_t.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){_t.fn[e]=function(t){return this.on(e,t)}}),_t.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),_t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){_t.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}});var rn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_t.proxy=function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),bt(t)?(i=ut.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(ut.call(arguments)))}).guid=t.guid=t.guid||_t.guid++,r):undefined},_t.holdReady=function(t){t?_t.readyWait++:_t.ready(!0)},_t.isArray=Array.isArray,_t.parseJSON=JSON.parse,_t.nodeName=o,_t.isFunction=bt,_t.isWindow=wt,_t.camelCase=p,_t.type=i,_t.now=Date.now,_t.isNumeric=function(t){var e=_t.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},_t.trim=function(t){return null==t?"":(t+"").replace(rn,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return _t});var on=t.jQuery,sn=t.$;return _t.noConflict=function(e){return t.$===_t&&(t.$=sn),e&&t.jQuery===_t&&(t.jQuery=on),_t},void 0===e&&(t.jQuery=t.$=_t),_t}),function(){var t=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(t);var e=t.Rails;(function(){(function(){var t;t=null,e.loadCSPNonce=function(){var e;return t=null!=(e=document.querySelector("meta[name=csp-nonce]"))?e.content:void 0},e.cspNonce=function(){return null!=t?t:e.loadCSPNonce()}}).call(this),function(){var t,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,e.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},t="_ujsData",e.getData=function(e,n){var i;return null!=(i=e[t])?i[n]:void 0},e.setData=function(e,n,i){return null==e[t]&&(e[t]={}),e[t][n]=i},e.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}.call(this),function(){var t,n,i;t=e.$,i=e.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},n=e.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},e.CSRFProtection=function(t){var e;if(null!=(e=i()))return t.setRequestHeader("X-CSRF-Token",e)},e.refreshCSRFTokens=function(){var e,r;if(r=i(),e=n(),null!=r&&null!=e)return t('form input[name="'+e+'"]').forEach(function(t){return t.value=r})}}.call(this),function(){var t,n,i,r;i=e.matches,"function"!=typeof(t=window.CustomEvent)&&((t=function(t,e){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype,r=t.prototype.preventDefault,t.prototype.preventDefault=function(){var t;return t=r.call(this),this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),t}),n=e.fire=function(e,n,i){var r;return r=new t(n,{bubbles:!0,cancelable:!0,detail:i}),e.dispatchEvent(r),!r.defaultPrevented},e.stopEverything=function(t){return n(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},e.delegate=function(t,e,n,r){return t.addEventListener(n,function(t){var n;for(n=t.target;n instanceof Element&&!i(n,e);)n=n.parentNode;if(n instanceof Element&&!1===r.call(n,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var t,n,i,r,o,s;r=e.cspNonce,n=e.CSRFProtection,e.fire,t={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},e.ajax=function(t){var e;return t=o(t),e=i(t,function(){var n,i;return i=s(null!=(n=e.response)?n:e.responseText,e.getResponseHeader("Content-Type")),2===Math.floor(e.status/100)?"function"==typeof t.success&&t.success(i,e.statusText,e):"function"==typeof t.error&&t.error(i,e.statusText,e),"function"==typeof t.complete?t.complete(e,e.statusText):void 0}),!(null!=t.beforeSend&&!t.beforeSend(e,t))&&(e.readyState===XMLHttpRequest.OPENED?e.send(t.data):void 0)},o=function(e){return e.url=e.url||location.href,e.type=e.type.toUpperCase(),"GET"===e.type&&e.data&&(e.url.indexOf("?")<0?e.url+="?"+e.data:e.url+="&"+e.data),null==t[e.dataType]&&(e.dataType="*"),e.accept=t[e.dataType],"*"!==e.dataType&&(e.accept+=", */*; q=0.01"),e},i=function(t,e){var i;return(i=new XMLHttpRequest).open(t.type,t.url,!0),i.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),n(i)),i.withCredentials=!!t.withCredentials,i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)return e(i)},i},s=function(t,e){var n,i;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(o){}else if(e.match(/\b(?:java|ecma)script\b/))(i=document.createElement("script")).setAttribute("nonce",r()),i.text=t,document.head.appendChild(i).parentNode.removeChild(i);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(o){}}return t},e.href=function(t){return t.href},e.isCrossDomain=function(t){var e,n;(e=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return i,!0}}}.call(this),function(){var t,n;t=e.matches,n=function(t){return Array.prototype.slice.call(t)},e.serializeElement=function(e,i){var r,o;return r=[e],t(e,"form")&&(r=n(e.elements)),o=[],r.forEach(function(e){if(e.name&&!e.disabled)return t(e,"select")?n(e.options).forEach(function(t){if(t.selected)return o.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?o.push({name:e.name,value:e.value}):void 0}),i&&o.push(i),o.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},e.formElements=function(e,i){return t(e,"form")?n(e.elements).filter(function(e){return t(e,i)}):n(e.querySelectorAll(i))}}.call(this),function(){var t,n,i;n=e.fire,i=e.stopEverything,e.handleConfirm=function(e){if(!t(this))return i(e)},t=function(t){var e,i,r;if(!(r=t.getAttribute("data-confirm")))return!0;if(e=!1,n(t,"confirm")){try{e=confirm(r)}catch(o){}i=n(t,"confirm:complete",[e])}return e&&i}}.call(this),function(){var t,n,i,r,o,s,a,l,u,c,d;u=e.matches,l=e.getData,c=e.setData,d=e.stopEverything,a=e.formElements,e.handleDisabledElement=function(t){if(this.disabled)return d(t)},e.enableElement=function(t){var n;return n=t instanceof Event?t.target:t,u(n,e.linkDisableSelector)?s(n):u(n,e.buttonDisableSelector)||u(n,e.formEnableSelector)?r(n):u(n,e.formSubmitSelector)?o(n):void 0},e.disableElement=function(r){var o;return o=r instanceof Event?r.target:r,u(o,e.linkDisableSelector)?i(o):u(o,e.buttonDisableSelector)||u(o,e.formDisableSelector)?t(o):u(o,e.formSubmitSelector)?n(o):void 0},i=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(c(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",d),c(t,"ujs:disabled",!0)},s=function(t){var e;return null!=(e=l(t,"ujs:enable-with"))&&(t.innerHTML=e,c(t,"ujs:enable-with",null)),t.removeEventListener("click",d),c(t,"ujs:disabled",null)},n=function(n){return a(n,e.formDisableSelector).forEach(t)},t=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(u(t,"button")?(c(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(c(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,c(t,"ujs:disabled",!0)},o=function(t){return a(t,e.formEnableSelector).forEach(r)},r=function(t){var e;return null!=(e=l(t,"ujs:enable-with"))&&(u(t,"button")?t.innerHTML=e:t.value=e,c(t,"ujs:enable-with",null)),t.disabled=!1,c(t,"ujs:disabled",null)}}.call(this),function(){var t;t=e.stopEverything,e.handleMethod=function(n){var i,r,o,s,a,l,u;if(u=(l=this).getAttribute("data-method"))return a=e.href(l),r=e.csrfToken(),i=e.csrfParam(),o=document.createElement("form"),s="<input name='_method' value='"+u+"' type='hidden' />",null==i||null==r||e.isCrossDomain(a)||(s+="<input name='"+i+"' value='"+r+"' type='hidden' />"),s+='<input type="submit" />',o.method="post",o.action=a,o.target=l.target,o.innerHTML=s,o.style.display="none",document.body.appendChild(o),o.querySelector('[type="submit"]').click(),t(n)}}.call(this),function(){var t,n,i,r,o,s,a,l,u,c=[].slice;s=e.matches,i=e.getData,l=e.setData,n=e.fire,u=e.stopEverything,t=e.ajax,r=e.isCrossDomain,a=e.serializeElement,o=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},e.handleRemote=function(d){var h,f,p,m,g,v,y;return!o(m=this)||(n(m,"ajax:before")?(y=m.getAttribute("data-with-credentials"),p=m.getAttribute("data-type")||"script",s(m,e.formSubmitSelector)?(h=i(m,"ujs:submit-button"),g=i(m,"ujs:submit-button-formmethod")||m.method,v=i(m,"ujs:submit-button-formaction")||m.getAttribute("action")||location.href,"GET"===g.toUpperCase()&&(v=v.replace(/\?.*$/,"")),"multipart/form-data"===m.enctype?(f=new FormData(m),null!=h&&f.append(h.name,h.value)):f=a(m,h),l(m,"ujs:submit-button",null),l(m,"ujs:submit-button-formmethod",null),l(m,"ujs:submit-button-formaction",null)):s(m,e.buttonClickSelector)||s(m,e.inputChangeSelector)?(g=m.getAttribute("data-method"),v=m.getAttribute("data-url"),f=a(m,m.getAttribute("data-params"))):(g=m.getAttribute("data-method"),v=e.href(m),f=m.getAttribute("data-params")),t({type:g||"GET",url:v,data:f,dataType:p,beforeSend:function(t,e){return n(m,"ajax:beforeSend",[t,e])?n(m,"ajax:send",[t]):(n(m,"ajax:stopped"),!1)},success:function(){var t;return t=1<=arguments.length?c.call(arguments,0):[],n(m,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?c.call(arguments,0):[],n(m,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?c.call(arguments,0):[],n(m,"ajax:complete",t)},crossDomain:r(v),withCredentials:null!=y&&"false"!==y}),u(d)):(n(m,"ajax:stopped"),!1))},e.formSubmitButtonClick=function(){var t,e;if(e=(t=this).form)return t.name&&l(e,"ujs:submit-button",{name:t.name,value:t.value}),l(e,"ujs:formnovalidate-button",t.formNoValidate),l(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),l(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},e.preventInsignificantClick=function(t){var e,n,i,r;if(r=((i=this).getAttribute("data-method")||"GET").toUpperCase(),e=i.getAttribute("data-params"),n=(t.metaKey||t.ctrlKey)&&"GET"===r&&!e,null!=t.button&&0!==t.button||n)return t.stopImmediatePropagation()}}.call(this),function(){var t,n,i,r,o,s,a,l,u,c,d,h,f,p,m;if(s=e.fire,i=e.delegate,l=e.getData,t=e.$,m=e.refreshCSRFTokens,n=e.CSRFProtection,f=e.loadCSPNonce,o=e.enableElement,r=e.disableElement,c=e.handleDisabledElement,u=e.handleConfirm,p=e.preventInsignificantClick,h=e.handleRemote,a=e.formSubmitButtonClick,d=e.handleMethod,"undefined"!=typeof jQuery&&null!==jQuery&&null!=jQuery.ajax){if(jQuery.rails)throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");jQuery.rails=e,jQuery.ajaxPrefilter(function(t,e,i){if(!t.crossDomain)return n(i)})}e.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(e.formEnableSelector).forEach(function(t){if(l(t,"ujs:disabled"))return o(t)}),t(e.linkDisableSelector).forEach(function(t){if(l(t,"ujs:disabled"))return o(t)})}),i(document,e.linkDisableSelector,"ajax:complete",o),i(document,e.linkDisableSelector,"ajax:stopped",o),i(document,e.buttonDisableSelector,"ajax:complete",o),i(document,e.buttonDisableSelector,"ajax:stopped",o),i(document,e.linkClickSelector,"click",p),i(document,e.linkClickSelector,"click",c),i(document,e.linkClickSelector,"click",u),i(document,e.linkClickSelector,"click",r),i(document,e.linkClickSelector,"click",h),i(document,e.linkClickSelector,"click",d),i(document,e.buttonClickSelector,"click",p),i(document,e.buttonClickSelector,"click",c),i(document,e.buttonClickSelector,"click",u),i(document,e.buttonClickSelector,"click",r),i(document,e.buttonClickSelector,"click",h),i(document,e.inputChangeSelector,"change",c),i(document,e.inputChangeSelector,"change",u),i(document,e.inputChangeSelector,"change",h),i(document,e.formSubmitSelector,"submit",c),i(document,e.formSubmitSelector,"submit",u),i(document,e.formSubmitSelector,"submit",h),i(document,e.formSubmitSelector,"submit",function(t){return setTimeout(function(){return r(t)},13)}),i(document,e.formSubmitSelector,"ajax:send",r),i(document,e.formSubmitSelector,"ajax:complete",o),i(document,e.formInputClickSelector,"click",p),i(document,e.formInputClickSelector,"click",c),i(document,e.formInputClickSelector,"click",u),i(document,e.formInputClickSelector,"click",a),document.addEventListener("DOMContentLoaded",m),document.addEventListener("DOMContentLoaded",f),window._rails_loaded=!0},window.Rails===e&&s(document,"rails:attachBindings")&&e.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),$(document).ready(function(){$(window).scroll(function(){parseInt($(window).scrollTop())>=30?($(".header-navbar ").addClass("navbar-fixed"),$(".notifications-sticky-top").addClass("sticky-fixed"),$("main").addClass("margin-top")):($(".header-navbar ").removeClass("navbar-fixed"),$(".notifications-sticky-top").removeClass("sticky-fixed"),$("main").removeClass("margin-top"))})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e,n=0,i=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(s){}e(n)}),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=i}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&r!==undefined&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a))!==i&&n!==undefined?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=undefined:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return r[e]===undefined?null:r[e];r[e]=n}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var s,a;for(a=0;a<n.length;a++)s=r.classesElementLookup[n[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),r.classesElementLookup[n[a]]=s,i.push(n[a]),o&&e.classes[n[a]]&&i.push(e.classes[n[a]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):n.on(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget}),
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}(function(t){var e=!1;return t(document).on("mouseup",function(){e=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}})}),
/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)}}),
/*!
 * jQuery UI Sortable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||i+u>a&&i+u<l,h="y"===this.options.axis||e+c>o&&e+c<s,f=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(r=(o=t(u[i],this.document[0])).length-1;r>=0;r--)(s=t.data(o[r],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=(r=t(h[n],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(d.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(s=d[n][1],i=0,u=(a=d[n][0]).length;i<u;i++)(l=t(a[i])).data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,u,c,d,h=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,s=(c=h.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",d=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,e[d]-l>this.items[i][a]/2&&(u=!0),Math.abs(e[d]-l)<r&&(r=Math.abs(e[d]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),varToString=function(t){return Object.keys(t)[0]},void 0===tutorials_intro)var tutorials_intro={};var tutorials_keys=["shown_intro_cohort_index","shown_intro_cohort_teacher_dashboard","shown_intro_cohort_coordinator_dashboard","shown_intro_cohort_staff_section","shown_intro_cohort_student_section","shown_intro_cohort_student_dashboard","shown_intro_cohort_students_ranking","shown_intro_cohort_staff_ranking","shown_intro_score_attempts","shown_intro_attendance"];tutorials_keys.forEach(function(t){0==Object.prototype.hasOwnProperty.call(tutorials_intro,t)&&(tutorials_intro[t]=null)}),
/*
 Copyright (C) Federico Zivolo 2019
 Distributed under the MIT License (license terms are at http://opensource.org/licenses/MIT).
 */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,function(){"use strict";function t(t){return t&&"[object Function]"==={}.toString.call(t)}function e(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function n(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function i(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var r=e(t),o=r.overflow,s=r.overflowX,a=r.overflowY;return/(auto|scroll|overlay)/.test(o+a+s)?t:i(n(t))}function r(t){return t&&t.referenceNode?t.referenceNode:t}function o(t){return 11===t?rt:10===t?ot:rt||ot}function s(t){if(!t)return document.documentElement;for(var n=o(10)?document.body:null,i=t.offsetParent||null;i===n&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===e(i,"position")?s(i):i:t?t.ownerDocument.documentElement:document.documentElement}function a(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||s(t.firstElementChild)===t)}function l(t){return null===t.parentNode?t:l(t.parentNode)}function u(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var c=o.commonAncestorContainer;if(t!==c&&e!==c||i.contains(r))return a(c)?c:s(c);var d=l(t);return d.host?u(d.host,e):u(t,l(e).host)}function c(t){var e="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function d(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=c(e,"top"),r=c(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}function h(t,e){var n="x"===e?"Left":"Top",i="Left"==n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function f(t,e,n,i){return tt(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],o(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function p(t){var e=t.body,n=t.documentElement,i=o(10)&&getComputedStyle(n);return{height:f("Height",e,n,i),width:f("Width",e,n,i)}}function m(t){return ut({},t,{right:t.left+t.width,bottom:t.top+t.height})}function g(t){var n={};try{if(o(10)){n=t.getBoundingClientRect();var i=c(t,"top"),r=c(t,"left");n.top+=i,n.left+=r,n.bottom+=i,n.right+=r}else n=t.getBoundingClientRect()}catch(e){}var s={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},a="HTML"===t.nodeName?p(t.ownerDocument):{},l=a.width||t.clientWidth||s.width,u=a.height||t.clientHeight||s.height,d=t.offsetWidth-l,f=t.offsetHeight-u;if(d||f){var g=e(t);d-=h(g,"x"),f-=h(g,"y"),s.width-=d,s.height-=f}return m(s)}function v(t,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=o(10),a="HTML"===n.nodeName,l=g(t),u=g(n),c=i(t),h=e(n),f=parseFloat(h.borderTopWidth,10),p=parseFloat(h.borderLeftWidth,10);r&&a&&(u.top=tt(u.top,0),u.left=tt(u.left,0));var v=m({top:l.top-u.top-f,left:l.left-u.left-p,width:l.width,height:l.height});if(v.marginTop=0,v.marginLeft=0,!s&&a){var y=parseFloat(h.marginTop,10),b=parseFloat(h.marginLeft,10);v.top-=f-y,v.bottom-=f-y,v.left-=p-b,v.right-=p-b,v.marginTop=y,v.marginLeft=b}return(s&&!r?n.contains(c):n===c&&"BODY"!==c.nodeName)&&(v=d(v,n)),v}function y(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=v(t,n),r=tt(n.clientWidth,window.innerWidth||0),o=tt(n.clientHeight,window.innerHeight||0),s=e?0:c(n),a=e?0:c(n,"left");return m({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}function b(t){var i=t.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===e(t,"position"))return!0;var r=n(t);return!!r&&b(r)}function w(t){if(!t||!t.parentElement||o())return document.documentElement;for(var n=t.parentElement;n&&"none"===e(n,"transform");)n=n.parentElement;return n||document.documentElement}function x(t,e,o,s){var a=4<arguments.length&&void 0!==arguments[4]&&arguments[4],l={top:0,left:0},c=a?w(t):u(t,r(e));if("viewport"===s)l=y(c,a);else{var d;"scrollParent"===s?"BODY"===(d=i(n(e))).nodeName&&(d=t.ownerDocument.documentElement):d="window"===s?t.ownerDocument.documentElement:s;var h=v(d,c,a);if("HTML"!==d.nodeName||b(c))l=h;else{var f=p(t.ownerDocument),m=f.height,g=f.width;l.top+=h.top-h.marginTop,l.bottom=m+h.top,l.left+=h.left-h.marginLeft,l.right=g+h.left}}var x="number"==typeof(o=o||0);return l.left+=x?o:o.left||0,l.top+=x?o:o.top||0,l.right-=x?o:o.right||0,l.bottom-=x?o:o.bottom||0,l}function C(t){return t.width*t.height}function S(t,e,n,i,r){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=x(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(t){return ut({key:t},a[t],{area:C(a[t])})}).sort(function(t,e){return e.area-t.area}),u=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=0<u.length?u[0].key:l[0].key,d=t.split("-")[1];return c+(d?"-"+d:"")}function _(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return v(n,i?w(e):u(e,r(n)),i)}function E(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function T(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function k(t,e,n){n=n.split("-")[0];var i=E(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[u]:e[T(a)],r}function D(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function M(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=D(t,function(t){return t[e]===n});return t.indexOf(i)}function A(e,n,i){return(void 0===i?e:e.slice(0,M(e,"name",i))).forEach(function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=e["function"]||e.fn;e.enabled&&t(i)&&(n.offsets.popper=m(n.offsets.popper),n.offsets.reference=m(n.offsets.reference),n=i(n,e))}),n}function P(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=_(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=S(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=k(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=A(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function O(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function R(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if("undefined"!=typeof document.body.style[o])return o}return null}function N(){return this.state.isDestroyed=!0,O(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[R("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function I(t){var e=t.ownerDocument;return e?e.defaultView:window}function L(t,e,n,r){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(e,n,{passive:!0}),o||L(i(s.parentNode),e,n,r),r.push(s)}function B(t,e,n,r){n.updateBound=r,I(t).addEventListener("resize",n.updateBound,{passive:!0});var o=i(t);return L(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function H(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}function z(t,e){return I(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function F(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=z(this.reference,this.state))}function j(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function q(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&j(e[n])&&(i="px"),t.style[n]=e[n]+i})}function W(t,e){Object.keys(e).forEach(function(n){!1===e[n]?t.removeAttribute(n):t.setAttribute(n,e[n])})}function V(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=J,s=function(t){return t},a=o(r.width),l=o(i.width),u=-1!==["left","right"].indexOf(t.placement),c=-1!==t.placement.indexOf("-"),d=e?u||c||a%2==l%2?o:Z:s,h=e?o:s;return{left:d(1==a%2&&1==l%2&&!c&&e?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:d(i.right)}}function U(t,e,n){var i=D(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`";console.warn("`"+n+"` modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}function $(t){return"end"===t?"start":"start"===t?"end":t}function Y(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=ht.indexOf(t),i=ht.slice(n+1).concat(ht.slice(0,n));return e?i.reverse():i}function G(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return m(a)[e]/100*o}return"vh"===s||"vw"===s?("vh"===s?tt(document.documentElement.clientHeight,window.innerHeight||0):tt(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}function X(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(D(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1===a?[s]:[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))];return(u=u.map(function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return G(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){j(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}function K(t,e){var n,i=e.offset,r=t.placement,o=t.offsets,s=o.popper,a=o.reference,l=r.split("-")[0];return n=j(+i)?[+i,0]:X(i,s,a,l),"left"===l?(s.top+=n[0],s.left-=n[1]):"right"===l?(s.top+=n[0],s.left+=n[1]):"top"===l?(s.left+=n[0],s.top-=n[1]):"bottom"===l&&(s.left+=n[0],s.top+=n[1]),t.popper=s,t}var Q=Math.min,Z=Math.floor,J=Math.round,tt=Math.max,et="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,nt=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(et&&0<=navigator.userAgent.indexOf(t[e]))return 1;return 0}(),it=et&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},nt))}},rt=et&&!(!window.MSInputMethodContext||!document.documentMode),ot=et&&/MSIE 10/.test(navigator.userAgent),st=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},at=function(){function t(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),lt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},ut=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ct=et&&/Firefox/i.test(navigator.userAgent),dt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ht=dt.slice(3),ft={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},pt=function(){function e(n,i){var r=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};st(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=it(this.update.bind(this)),this.options=ut({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(ut({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){r.options.modifiers[t]=ut({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return ut({name:t},r.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(e){e.enabled&&t(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return at(e,[{key:"update",value:function(){return P.call(this)}},{key:"destroy",value:function(){return N.call(this)}},{key:"enableEventListeners",value:function(){return H.call(this)}},{key:"disableEventListeners",value:function(){return F.call(this)}}]),e}();return pt.Utils=("undefined"==typeof window?global:window).PopperUtils,pt.placements=dt,pt.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",u=a?"width":"height",c={start:lt({},l,o[l]),end:lt({},l,o[l]+o[u]-s[u])};t.offsets.popper=ut({},s,c[i])}return t}},offset:{order:200,enabled:!0,fn:K,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||s(t.instance.popper);t.instance.reference===n&&(n=s(n));var i=R("transform"),r=t.instance.popper.style,o=r.top,a=r.left,l=r[i];r.top="",r.left="",r[i]="";var u=x(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=a,r[i]=l,e.boundaries=u;var c=e.priority,d=t.offsets.popper,h={primary:function(t){var n=d[t];return d[t]<u[t]&&!e.escapeWithReference&&(n=tt(d[t],u[t])),lt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=d[n];return d[t]>u[t]&&!e.escapeWithReference&&(i=Q(d[n],u[t]-("right"===t?d.width:d.height))),lt({},n,i)}};return c.forEach(function(t){var e=-1===["left","top"].indexOf(t)?"secondary":"primary";d=ut({},d,h[e](t))}),t.offsets.popper=d,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Z,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,n){var i;if(!U(t.instance.modifiers,"arrow","keepTogether"))return t;var r=n.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],s=t.offsets,a=s.popper,l=s.reference,u=-1!==["left","right"].indexOf(o),c=u?"height":"width",d=u?"Top":"Left",h=d.toLowerCase(),f=u?"left":"top",p=u?"bottom":"right",g=E(r)[c];l[p]-g<a[h]&&(t.offsets.popper[h]-=a[h]-(l[p]-g)),l[h]+g>a[p]&&(t.offsets.popper[h]+=l[h]+g-a[p]),t.offsets.popper=m(t.offsets.popper);var v=l[h]+l[c]/2-g/2,y=e(t.instance.popper),b=parseFloat(y["margin"+d],10),w=parseFloat(y["border"+d+"Width"],10),x=v-t.offsets.popper[h]-b-w;return x=tt(Q(a[c]-g,x),0),t.arrowElement=r,t.offsets.arrow=(lt(i={},h,J(x)),lt(i,f,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(O(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=x(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=T(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case ft.FLIP:s=[i,r];break;case ft.CLOCKWISE:s=Y(i);break;case ft.COUNTERCLOCKWISE:s=Y(i,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=T(i);var u=t.offsets.popper,c=t.offsets.reference,d=Z,h="left"===i&&d(u.right)>d(c.left)||"right"===i&&d(u.left)<d(c.right)||"top"===i&&d(u.bottom)>d(c.top)||"bottom"===i&&d(u.top)<d(c.bottom),f=d(u.left)<d(n.left),p=d(u.right)>d(n.right),m=d(u.top)<d(n.top),g=d(u.bottom)>d(n.bottom),v="left"===i&&f||"right"===i&&p||"top"===i&&m||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g),w=!!e.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&g||!y&&"end"===o&&m),x=b||w;(h||v||x)&&(t.flipped=!0,(h||v)&&(i=s[l+1]),x&&(o=$(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=ut({},t.offsets.popper,k(t.instance.popper,t.offsets.reference,t.placement)),t=A(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=T(e),t.offsets.popper=m(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!U(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=D(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=D(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,l,u=void 0===o?e.gpuAcceleration:o,c=s(t.instance.popper),d=g(c),h={position:r.position},f=V(t,2>window.devicePixelRatio||!ct),p="bottom"===n?"top":"bottom",m="right"===i?"left":"right",v=R("transform");if(l="bottom"==p?"HTML"===c.nodeName?-c.clientHeight+f.bottom:-d.height+f.bottom:f.top,a="right"==m?"HTML"===c.nodeName?-c.clientWidth+f.right:-d.width+f.right:f.left,u&&v)h[v]="translate3d("+a+"px, "+l+"px, 0)",h[p]=0,h[m]=0,h.willChange="transform";else{var y="bottom"==p?-1:1,b="right"==m?-1:1;h[p]=l*y,h[m]=a*b,h.willChange=p+", "+m}var w={"x-placement":t.placement};return t.attributes=ut({},w,t.attributes),t.styles=ut({},h,t.styles),t.arrowStyles=ut({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return q(t.instance.popper,t.styles),W(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&q(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=_(r,e,t,n.positionFixed),s=S(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),q(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},pt}),
/*!
  * Bootstrap util.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Util=e(t.jQuery)}(this,function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function n(t){return null==t?""+t:{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function i(){return{bindType:a,delegateType:a,handle:function(t){return s["default"](t.target).is(this)?t.handleObj.handler.apply(this,arguments):undefined}}}function r(t){var e=this,n=!1;return s["default"](this).one(c.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||c.triggerTransitionEnd(e)},t),this}function o(){s["default"].fn.emulateTransitionEnd=r,s["default"].event.special[c.TRANSITION_END]=i()}var s=e(t),a="transitionend",l=1e6,u=1e3,c={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(Math.random()*l)}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(i){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=s["default"](t).css("transition-duration"),n=s["default"](t).css("transition-delay"),i=parseFloat(e),r=parseFloat(n);return i||r?(e=e.split(",")[0],n=n.split(",")[0],(parseFloat(e)+parseFloat(n))*u):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){s["default"](t).trigger(a)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var o=i[r],s=e[r],a=s&&c.isElement(s)?"element":n(s);if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+o+'".')}},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?c.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if("undefined"==typeof s["default"])throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=s["default"].fn.jquery.split(" ")[0].split("."),e=1,n=2,i=9,r=1,o=4;if(t[0]<n&&t[1]<i||t[0]===e&&t[1]===i&&t[2]<r||t[0]>=o)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};return c.jQueryDetection(),o(),c}),
/*!
  * Bootstrap collapse.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Collapse=e(t.jQuery,t.Util)}(this,function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var s=n(t),a=n(e),l="collapse",u="4.5.3",c="bs.collapse",d="."+c,h=".data-api",f=s["default"].fn[l],p={toggle:!0,parent:""},m={toggle:"boolean",parent:"(string|element)"},g="show"+d,v="shown"+d,y="hide"+d,b="hidden"+d,w="click"+d+h,x="show",C="collapse",S="collapsing",_="collapsed",E="width",T="height",k=".show, .collapsing",D='[data-toggle="collapse"]',M=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(D)),i=0,r=n.length;i<r;i++){var o=n[i],s=a["default"].getSelectorFromElement(o),l=[].slice.call(document.querySelectorAll(s)).filter(function(e){return e===t});null!==s&&l.length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){s["default"](this._element).hasClass(x)?this.hide():this.show()},e.show=function(){var e,n,i=this;if(!this._isTransitioning&&!s["default"](this._element).hasClass(x)&&(this._parent&&0===(e=[].slice.call(this._parent.querySelectorAll(k)).filter(function(t){return"string"==typeof i._config.parent?t.getAttribute("data-parent")===i._config.parent:t.classList.contains(C)})).length&&(e=null),!(e&&(n=s["default"](e).not(this._selector).data(c))&&n._isTransitioning))){var r=s["default"].Event(g);if(s["default"](this._element).trigger(r),!r.isDefaultPrevented()){e&&(t._jQueryInterface.call(s["default"](e).not(this._selector),"hide"),n||s["default"](e).data(c,null));var o=this._getDimension();s["default"](this._element).removeClass(C).addClass(S),this._element.style[o]=0,this._triggerArray.length&&s["default"](this._triggerArray).removeClass(_).attr("aria-expanded",!0),this.setTransitioning(!0);var l=function(){s["default"](i._element).removeClass(S).addClass(C+" "+x),i._element.style[o]="",i.setTransitioning(!1),s["default"](i._element).trigger(v)},u="scroll"+(o[0].toUpperCase()+o.slice(1)),d=a["default"].getTransitionDurationFromElement(this._element);s["default"](this._element).one(a["default"].TRANSITION_END,l).emulateTransitionEnd(d),this._element.style[o]=this._element[u]+"px"}}},e.hide=function(){var t=this;if(!this._isTransitioning&&s["default"](this._element).hasClass(x)){var e=s["default"].Event(y);if(s["default"](this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",a["default"].reflow(this._element),s["default"](this._element).addClass(S).removeClass(C+" "+x);var i=this._triggerArray.length;if(i>0)for(var r=0;r<i;r++){var o=this._triggerArray[r],l=a["default"].getSelectorFromElement(o);if(null!==l)s["default"]([].slice.call(document.querySelectorAll(l))).hasClass(x)||s["default"](o).addClass(_).attr("aria-expanded",!1)}this.setTransitioning(!0);var u=function(){t.setTransitioning(!1),s["default"](t._element).removeClass(S).addClass(C).trigger(b)};this._element.style[n]="";var c=a["default"].getTransitionDurationFromElement(this._element);s["default"](this._element).one(a["default"].TRANSITION_END,u).emulateTransitionEnd(c)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){s["default"].removeData(this._element,c),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return(t=i({},p,t)).toggle=Boolean(t.toggle),a["default"].typeCheckConfig(l,t,m),t},e._getDimension=function(){return s["default"](this._element).hasClass(E)?E:T},e._getParent=function(){var e,n=this;a["default"].isElement(this._config.parent)?(e=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var i='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(e.querySelectorAll(i));return s["default"](r).each(function(e,i){n._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])}),e},e._addAriaAndCollapsedClass=function(t,e){var n=s["default"](t).hasClass(x);e.length&&s["default"](e).toggleClass(_,!n).attr("aria-expanded",n)},t._getTargetFromElement=function(t){var e=a["default"].getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each(function(){var n=s["default"](this),r=n.data(c),o=i({},p,n.data(),"object"==typeof e&&e?e:{});if(!r&&o.toggle&&"string"==typeof e&&/show|hide/.test(e)&&(o.toggle=!1),r||(r=new t(this,o),n.data(c,r)),"string"==typeof e){if("undefined"==typeof r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},o(t,null,[{key:"VERSION",get:function(){return u}},{key:"Default",get:function(){return p}}]),t}();return s["default"](document).on(w,D,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=s["default"](this),n=a["default"].getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(n));s["default"](i).each(function(){var t=s["default"](this),n=t.data(c)?"toggle":e.data();M._jQueryInterface.call(t,n)})}),s["default"].fn[l]=M._jQueryInterface,s["default"].fn[l].Constructor=M,s["default"].fn[l].noConflict=function(){return s["default"].fn[l]=f,M._jQueryInterface},M}),
/*!
  * Bootstrap alert.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Alert=e(t.jQuery,t.Util)}(this,function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var o=n(t),s=n(e),a="alert",l="4.5.3",u="bs.alert",c="."+u,d=".data-api",h=o["default"].fn[a],f='[data-dismiss="alert"]',p="close"+c,m="closed"+c,g="click"+c+d,v="alert",y="fade",b="show",w=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){o["default"].removeData(this._element,u),this._element=null},e._getRootElement=function(t){var e=s["default"].getSelectorFromElement(t),n=!1;return e&&(n=document.querySelector(e)),n||(n=o["default"](t).closest("."+v)[0]),n},e._triggerCloseEvent=function(t){var e=o["default"].Event(p);return o["default"](t).trigger(e),e},e._removeElement=function(t){var e=this;if(o["default"](t).removeClass(b),o["default"](t).hasClass(y)){var n=s["default"].getTransitionDurationFromElement(t);o["default"](t).one(s["default"].TRANSITION_END,function(n){return e._destroyElement(t,n)}).emulateTransitionEnd(n)}else this._destroyElement(t)},e._destroyElement=function(t){o["default"](t).detach().trigger(m).remove()},t._jQueryInterface=function(e){return this.each(function(){var n=o["default"](this),i=n.data(u);i||(i=new t(this),n.data(u,i)),"close"===e&&i[e](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return l}}]),t}();return o["default"](document).on(g,f,w._handleDismiss(new w)),o["default"].fn[a]=w._jQueryInterface,o["default"].fn[a].Constructor=w,o["default"].fn[a].noConflict=function(){return o["default"].fn[a]=h,w._jQueryInterface},w}),
/*!
  * Bootstrap tab.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Tab=e(t.jQuery,t.Util)}(this,function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var o=n(t),s=n(e),a="tab",l="4.5.3",u="bs.tab",c="."+u,d=".data-api",h=o["default"].fn[a],f="hide"+c,p="hidden"+c,m="show"+c,g="shown"+c,v="click"+c+d,y="dropdown-menu",b="active",w="disabled",x="fade",C="show",S=".dropdown",_=".nav, .list-group",E=".active",T="> li > .active",k='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',D=".dropdown-toggle",M="> .dropdown-menu .active",A=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&o["default"](this._element).hasClass(b)||o["default"](this._element).hasClass(w))){var e,n,i=o["default"](this._element).closest(_)[0],r=s["default"].getSelectorFromElement(this._element);if(i){var a="UL"===i.nodeName||"OL"===i.nodeName?T:E;n=(n=o["default"].makeArray(o["default"](i).find(a)))[n.length-1]}var l=o["default"].Event(f,{relatedTarget:this._element}),u=o["default"].Event(m,{relatedTarget:n});if(n&&o["default"](n).trigger(l),o["default"](this._element).trigger(u),!u.isDefaultPrevented()&&!l.isDefaultPrevented()){r&&(e=document.querySelector(r)),this._activate(this._element,i);var c=function(){var e=o["default"].Event(p,{relatedTarget:t._element}),i=o["default"].Event(g,{relatedTarget:n});o["default"](n).trigger(e),o["default"](t._element).trigger(i)};e?this._activate(e,e.parentNode,c):c()}}},e.dispose=function(){o["default"].removeData(this._element,u),this._element=null},e._activate=function(t,e,n){var i=this,r=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?o["default"](e).children(E):o["default"](e).find(T))[0],a=n&&r&&o["default"](r).hasClass(x),l=function(){return i._transitionComplete(t,r,n)};if(r&&a){var u=s["default"].getTransitionDurationFromElement(r);o["default"](r).removeClass(C).one(s["default"].TRANSITION_END,l).emulateTransitionEnd(u)}else l()},e._transitionComplete=function(t,e,n){if(e){o["default"](e).removeClass(b);var i=o["default"](e.parentNode).find(M)[0];i&&o["default"](i).removeClass(b),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(o["default"](t).addClass(b),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),s["default"].reflow(t),t.classList.contains(x)&&t.classList.add(C),t.parentNode&&o["default"](t.parentNode).hasClass(y)){var r=o["default"](t).closest(S)[0];if(r){var a=[].slice.call(r.querySelectorAll(D));o["default"](a).addClass(b)}t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(e){return this.each(function(){var n=o["default"](this),i=n.data(u);if(i||(i=new t(this),n.data(u,i)),"string"==typeof e){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},r(t,null,[{key:"VERSION",get:function(){return l}}]),t}();return o["default"](document).on(v,k,function(t){t.preventDefault(),A._jQueryInterface.call(o["default"](this),"show")}),o["default"].fn[a]=A._jQueryInterface,o["default"].fn[a].Constructor=A,o["default"].fn[a].noConflict=function(){return o["default"].fn[a]=h,A._jQueryInterface},A}),
/*!
  * Bootstrap tooltip.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("popper.js"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Tooltip=e(t.jQuery,t.Popper,t.Util)}(this,function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function r(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===h.indexOf(n)||Boolean(t.nodeValue.match(p)||t.nodeValue.match(m));for(var i=e.filter(function(t){return t instanceof RegExp}),r=0,o=i.length;r<o;r++)if(n.match(i[r]))return!0;return!1}function o(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),o=Object.keys(e),s=[].slice.call(i.body.querySelectorAll("*")),a=function(t){var n=s[t],i=n.nodeName.toLowerCase();if(-1===o.indexOf(n.nodeName.toLowerCase()))return n.parentNode.removeChild(n),"continue";var a=[].slice.call(n.attributes),l=[].concat(e["*"]||[],e[i]||[]);a.forEach(function(t){r(t,l)||n.removeAttribute(t.nodeName)})},l=0,u=s.length;l<u;l++)a(l);return i.body.innerHTML}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var u=i(t),c=i(e),d=i(n),h=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],f={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},p=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,m=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,g="tooltip",v="4.5.3",y="bs.tooltip",b="."+y,w=u["default"].fn[g],x="bs-tooltip",C=new RegExp("(^|\\s)"+x+"\\S+","g"),S=["sanitize","whiteList","sanitizeFn"],_={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},E={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},T={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:f,popperConfig:null},k="show",D="out",M={HIDE:"hide"+b,HIDDEN:"hidden"+b,SHOW:"show"+b,SHOWN:"shown"+b,INSERTED:"inserted"+b,CLICK:"click"+b,FOCUSIN:"focusin"+b,FOCUSOUT:"focusout"+b,MOUSEENTER:"mouseenter"+b,MOUSELEAVE:"mouseleave"+b},A="fade",P="show",O=".tooltip-inner",R=".arrow",N="hover",I="focus",L="click",B="manual",H=function(){function t(t,e){if("undefined"==typeof c["default"])throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var e=t.prototype;return e.enable=function(){this._isEnabled=!0},e.disable=function(){this._isEnabled=!1},e.toggleEnabled=function(){this._isEnabled=!this._isEnabled},e.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=u["default"](t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),u["default"](t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(u["default"](this.getTipElement()).hasClass(P))return void this._leave(null,this);this._enter(null,this)}},e.dispose=function(){clearTimeout(this._timeout),u["default"].removeData(this.element,this.constructor.DATA_KEY),u["default"](this.element).off(this.constructor.EVENT_KEY),u["default"](this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&u["default"](this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},e.show=function(){var t=this;if("none"===u["default"](this.element).css("display"))throw new Error("Please use show on visible elements");var e=u["default"].Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){u["default"](this.element).trigger(e);var n=d["default"].findShadowRoot(this.element),i=u["default"].contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(e.isDefaultPrevented()||!i)return;var r=this.getTipElement(),o=d["default"].getUID(this.constructor.NAME);r.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&u["default"](r).addClass(A);var s="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,a=this._getAttachment(s);this.addAttachmentClass(a);var l=this._getContainer();u["default"](r).data(this.constructor.DATA_KEY,this),u["default"].contains(this.element.ownerDocument.documentElement,this.tip)||u["default"](r).appendTo(l),u["default"](this.element).trigger(this.constructor.Event.INSERTED),this._popper=new c["default"](this.element,r,this._getPopperConfig(a)),u["default"](r).addClass(P),"ontouchstart"in document.documentElement&&u["default"](document.body).children().on("mouseover",null,u["default"].noop);var h=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,u["default"](t.element).trigger(t.constructor.Event.SHOWN),e===D&&t._leave(null,t)};if(u["default"](this.tip).hasClass(A)){var f=d["default"].getTransitionDurationFromElement(this.tip);u["default"](this.tip).one(d["default"].TRANSITION_END,h).emulateTransitionEnd(f)}else h()}},e.hide=function(t){var e=this,n=this.getTipElement(),i=u["default"].Event(this.constructor.Event.HIDE),r=function(){e._hoverState!==k&&n.parentNode&&n.parentNode.removeChild(n),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),u["default"](e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(u["default"](this.element).trigger(i),!i.isDefaultPrevented()){if(u["default"](n).removeClass(P),"ontouchstart"in document.documentElement&&u["default"](document.body).children().off("mouseover",null,u["default"].noop),this._activeTrigger[L]=!1,this._activeTrigger[I]=!1,this._activeTrigger[N]=!1,u["default"](this.tip).hasClass(A)){var o=d["default"].getTransitionDurationFromElement(n);u["default"](n).one(d["default"].TRANSITION_END,r).emulateTransitionEnd(o)}else r();this._hoverState=""}},e.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},e.isWithContent=function(){return Boolean(this.getTitle())},e.addAttachmentClass=function(t){u["default"](this.getTipElement()).addClass(x+"-"+t)},e.getTipElement=function(){return this.tip=this.tip||u["default"](this.config.template)[0],this.tip},e.setContent=function(){var t=this.getTipElement();this.setElementContent(u["default"](t.querySelectorAll(O)),this.getTitle()),u["default"](t).removeClass(A+" "+P)},e.setElementContent=function(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=o(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?u["default"](e).parent().is(t)||t.empty().append(e):t.text(u["default"](e).text())},e.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},e._getPopperConfig=function(t){var e=this;return s({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:R},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},e._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},e._getContainer=function(){return!1===this.config.container?document.body:d["default"].isElement(this.config.container)?u["default"](this.config.container):u["default"](document).find(this.config.container)},e._getAttachment=function(t){return E[t.toUpperCase()]},e._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(e){if("click"===e)u["default"](t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(e!==B){var n=e===N?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,i=e===N?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;u["default"](t.element).on(n,t.config.selector,function(e){return t._enter(e)}).on(i,t.config.selector,function(e){return t._leave(e)})}}),this._hideModalHandler=function(){t.element&&t.hide()},u["default"](this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},e._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},e._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||u["default"](t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),u["default"](t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?I:N]=!0),u["default"](e.getTipElement()).hasClass(P)||e._hoverState===k?e._hoverState=k:(clearTimeout(e._timeout),e._hoverState=k,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===k&&e.show()},e.config.delay.show):e.show())},e._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||u["default"](t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),u["default"](t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?I:N]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=D,e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){e._hoverState===D&&e.hide()},e.config.delay.hide):e.hide())},e._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},e._getConfig=function(t){var e=u["default"](this.element).data();return Object.keys(e).forEach(function(t){-1!==S.indexOf(t)&&delete e[t]}),"number"==typeof(t=s({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),d["default"].typeCheckConfig(g,t,this.constructor.DefaultType),t.sanitize&&(t.template=o(t.template,t.whiteList,t.sanitizeFn)),t},e._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},e._cleanTipClass=function(){var t=u["default"](this.getTipElement()),e=t.attr("class").match(C);null!==e&&e.length&&t.removeClass(e.join(""))},e._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},e._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(u["default"](t).removeClass(A),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each(function(){var n=u["default"](this),i=n.data(y),r="object"==typeof e&&e;if((i||!/dispose|hide/.test(e))&&(i||(i=new t(this,r),n.data(y,i)),"string"==typeof e)){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},l(t,null,[{key:"VERSION",get:function(){return v}},{key:"Default",get:function(){return T}},{key:"NAME",get:function(){return g}},{key:"DATA_KEY",get:function(){return y}},{key:"Event",get:function(){return M}},{key:"EVENT_KEY",get:function(){return b}},{key:"DefaultType",get:function(){return _}}]),t}();return u["default"].fn[g]=H._jQueryInterface,u["default"].fn[g].Constructor=H,u["default"].fn[g].noConflict=function(){return u["default"].fn[g]=w,H._jQueryInterface},H}),
/*!
  * Bootstrap popover.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./tooltip.js")):"function"==typeof define&&define.amd?define(["jquery","./tooltip.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Popover=e(t.jQuery,t.Tooltip)}(this,function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var a=n(t),l=n(e),u="popover",c="4.5.3",d="bs.popover",h="."+d,f=a["default"].fn[u],p="bs-popover",m=new RegExp("(^|\\s)"+p+"\\S+","g"),g=s({},l["default"].Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),v=s({},l["default"].DefaultType,{content:"(string|element|function)"}),y="fade",b="show",w=".popover-header",x=".popover-body",C={HIDE:"hide"+h,HIDDEN:"hidden"+h,SHOW:"show"+h,SHOWN:"shown"+h,INSERTED:"inserted"+h,CLICK:"click"+h,FOCUSIN:"focusin"+h,FOCUSOUT:"focusout"+h,MOUSEENTER:"mouseenter"+h,MOUSELEAVE:"mouseleave"+h},S=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.isWithContent=function(){return this.getTitle()||this._getContent()},n.addAttachmentClass=function(t){a["default"](this.getTipElement()).addClass(p+"-"+t)},n.getTipElement=function(){return this.tip=this.tip||a["default"](this.config.template)[0],this.tip},n.setContent=function(){var t=a["default"](this.getTipElement());this.setElementContent(t.find(w),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(x),e),t.removeClass(y+" "+b)},n._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},n._cleanTipClass=function(){var t=a["default"](this.getTipElement()),e=t.attr("class").match(m);null!==e&&e.length>0&&t.removeClass(e.join(""))},e._jQueryInterface=function(t){return this.each(function(){var n=a["default"](this).data(d),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new e(this,i),a["default"](this).data(d,n)),"string"==typeof t)){if("undefined"==typeof n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},r(e,null,[{key:"VERSION",get:function(){return c}},{key:"Default",get:function(){return g}},{key:"NAME",get:function(){return u}},{key:"DATA_KEY",get:function(){return d}},{key:"Event",get:function(){return C}},{key:"EVENT_KEY",get:function(){return h}},{key:"DefaultType",get:function(){return v}}]),e}(l["default"]);return a["default"].fn[u]=S._jQueryInterface,a["default"].fn[u].Constructor=S,a["default"].fn[u].noConflict=function(){return a["default"].fn[u]=f,S._jQueryInterface},S}),
/*!
  * Bootstrap dropdown.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("popper.js"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","popper.js","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Dropdown=e(t.jQuery,t.Popper,t.Util)}(this,function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}var a=i(t),l=i(e),u=i(n),c="dropdown",d="4.5.3",h="bs.dropdown",f="."+h,p=".data-api",m=a["default"].fn[c],g=27,v=32,y=9,b=38,w=40,x=3,C=new RegExp(b+"|"+w+"|"+g),S="hide"+f,_="hidden"+f,E="show"+f,T="shown"+f,k="click"+f,D="click"+f+p,M="keydown"+f+p,A="keyup"+f+p,P="disabled",O="show",R="dropup",N="dropright",I="dropleft",L="dropdown-menu-right",B="position-static",H='[data-toggle="dropdown"]',z=".dropdown form",F=".dropdown-menu",j=".navbar-nav",q=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",W="top-start",V="top-end",U="bottom-start",$="bottom-end",Y="right-start",G="left-start",X={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},K={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Q=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var e=t.prototype;return e.toggle=function(){if(!this._element.disabled&&!a["default"](this._element).hasClass(P)){var e=a["default"](this._menu).hasClass(O);t._clearMenus(),e||this.show(!0)}},e.show=function(e){if(void 0===e&&(e=!1),!(this._element.disabled||a["default"](this._element).hasClass(P)||a["default"](this._menu).hasClass(O))){var n={relatedTarget:this._element},i=a["default"].Event(E,n),r=t._getParentFromElement(this._element);if(a["default"](r).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&e){if("undefined"==typeof l["default"])throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var o=this._element;"parent"===this._config.reference?o=r:u["default"].isElement(this._config.reference)&&(o=this._config.reference,"undefined"!=typeof this._config.reference.jquery&&(o=this._config.reference[0])),"scrollParent"!==this._config.boundary&&a["default"](r).addClass(B),this._popper=new l["default"](o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===a["default"](r).closest(j).length&&a["default"](document.body).children().on("mouseover",null,a["default"].noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),a["default"](this._menu).toggleClass(O),a["default"](r).toggleClass(O).trigger(a["default"].Event(T,n))}}},e.hide=function(){if(!this._element.disabled&&!a["default"](this._element).hasClass(P)&&a["default"](this._menu).hasClass(O)){var e={relatedTarget:this._element},n=a["default"].Event(S,e),i=t._getParentFromElement(this._element);a["default"](i).trigger(n),n.isDefaultPrevented()||(this._popper&&this._popper.destroy(),a["default"](this._menu).toggleClass(O),a["default"](i).toggleClass(O).trigger(a["default"].Event(_,e)))}},e.dispose=function(){a["default"].removeData(this._element,h),a["default"](this._element).off(f),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},e.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},e._addEventListeners=function(){var t=this;a["default"](this._element).on(k,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},e._getConfig=function(t){return t=r({},this.constructor.Default,a["default"](this._element).data(),t),u["default"].typeCheckConfig(c,t,this.constructor.DefaultType),t},e._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(F))}return this._menu},e._getPlacement=function(){var t=a["default"](this._element.parentNode),e=U;return t.hasClass(R)?e=a["default"](this._menu).hasClass(L)?V:W:t.hasClass(N)?e=Y:t.hasClass(I)?e=G:a["default"](this._menu).hasClass(L)&&(e=$),e},e._detectNavbar=function(){return a["default"](this._element).closest(".navbar").length>0},e._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=r({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},e._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),r({},t,this._config.popperConfig)},t._jQueryInterface=function(e){return this.each(function(){var n=a["default"](this).data(h);if(n||(n=new t(this,"object"==typeof e?e:null),a["default"](this).data(h,n)),"string"==typeof e){if("undefined"==typeof n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},t._clearMenus=function(e){if(!e||e.which!==x&&("keyup"!==e.type||e.which===y))for(var n=[].slice.call(document.querySelectorAll(H)),i=0,r=n.length;i<r;i++){var o=t._getParentFromElement(n[i]),s=a["default"](n[i]).data(h),l={relatedTarget:n[i]};if(e&&"click"===e.type&&(l.clickEvent=e),s){var u=s._menu;if(a["default"](o).hasClass(O)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&e.which===y)&&a["default"].contains(o,e.target))){var c=a["default"].Event(S,l);a["default"](o).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&a["default"](document.body).children().off("mouseover",null,a["default"].noop),n[i].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),a["default"](u).removeClass(O),a["default"](o).removeClass(O).trigger(a["default"].Event(_,l)))}}}},t._getParentFromElement=function(t){var e,n=u["default"].getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(e.which===v||e.which!==g&&(e.which!==w&&e.which!==b||a["default"](e.target).closest(F).length)):C.test(e.which))&&!this.disabled&&!a["default"](this).hasClass(P)){var n=t._getParentFromElement(this),i=a["default"](n).hasClass(O);if(i||e.which!==g){if(e.preventDefault(),e.stopPropagation(),!i||e.which===g||e.which===v)return e.which===g&&a["default"](n.querySelector(H)).trigger("focus"),void a["default"](this).trigger("click");var r=[].slice.call(n.querySelectorAll(q)).filter(function(t){return a["default"](t).is(":visible")});if(0!==r.length){var o=r.indexOf(e.target);e.which===b&&o>0&&o--,e.which===w&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}}},s(t,null,[{key:"VERSION",get:function(){return d}},{key:"Default",get:function(){return X}},{key:"DefaultType",get:function(){return K}}]),t}();return a["default"](document).on(M,H,Q._dataApiKeydownHandler).on(M,F,Q._dataApiKeydownHandler).on(D+" "+A,Q._clearMenus).on(D,H,function(t){t.preventDefault(),t.stopPropagation(),Q._jQueryInterface.call(a["default"](this),"toggle")}).on(D,z,function(t){t.stopPropagation()}),a["default"].fn[c]=Q._jQueryInterface,a["default"].fn[c].Constructor=Q,a["default"].fn[c].noConflict=function(){return a["default"].fn[c]=m,Q._jQueryInterface},Q}),
/*!
  * Bootstrap carousel.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Carousel=e(t.jQuery,t.Util)}(this,function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var s=n(t),a=n(e),l="carousel",u="4.5.3",c="bs.carousel",d="."+c,h=".data-api",f=s["default"].fn[l],p=37,m=39,g=500,v=40,y={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},b={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},w="next",x="prev",C="left",S="right",_="slide"+d,E="slid"+d,T="keydown"+d,k="mouseenter"+d,D="mouseleave"+d,M="touchstart"+d,A="touchmove"+d,P="touchend"+d,O="pointerdown"+d,R="pointerup"+d,N="dragstart"+d,I="load"+d+h,L="click"+d+h,B="carousel",H="active",z="slide",F="carousel-item-right",j="carousel-item-left",q="carousel-item-next",W="carousel-item-prev",V="pointer-event",U=".active",$=".active.carousel-item",Y=".carousel-item",G=".carousel-item img",X=".carousel-item-next, .carousel-item-prev",K=".carousel-indicators",Q="[data-slide], [data-slide-to]",Z='[data-ride="carousel"]',J={TOUCH:"touch",PEN:"pen"},tt=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(K),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(w)},e.nextWhenVisible=function(){var t=s["default"](this._element);!document.hidden&&t.is(":visible")&&"hidden"!==t.css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(x)},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(X)&&(a["default"].triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector($);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)s["default"](this._element).one(E,function(){return e.to(t)});else{if(n===t)return this.pause(),void this.cycle();var i=t>n?w:x;this._slide(i,this._items[t])}},e.dispose=function(){s["default"](this._element).off(d),s["default"].removeData(this._element,c),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=i({},y,t),a["default"].typeCheckConfig(l,t,b),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=v)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&s["default"](this._element).on(T,function(e){return t._keydown(e)}),"hover"===this._config.pause&&s["default"](this._element).on(k,function(e){return t.pause(e)}).on(D,function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var e=function(e){t._pointerEvent&&J[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX},i=function(e){t._pointerEvent&&J[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},g+t._config.interval))};s["default"](this._element.querySelectorAll(G)).on(N,function(t){return t.preventDefault()}),this._pointerEvent?(s["default"](this._element).on(O,function(t){return e(t)}),s["default"](this._element).on(R,function(t){return i(t)}),this._element.classList.add(V)):(s["default"](this._element).on(M,function(t){return e(t)}),s["default"](this._element).on(A,function(t){return n(t)}),s["default"](this._element).on(P,function(t){return i(t)}))}},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case p:t.preventDefault(),this.prev();break;case m:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(Y)):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=t===w,i=t===x,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=(r+(t===x?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},e._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(this._element.querySelector($)),r=s["default"].Event(_,{relatedTarget:t,direction:e,from:i,to:n});return s["default"](this._element).trigger(r),r},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(U));s["default"](e).removeClass(H);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&s["default"](n).addClass(H)}},e._slide=function(t,e){var n,i,r,o=this,l=this._element.querySelector($),u=this._getItemIndex(l),c=e||l&&this._getItemByDirection(t,l),d=this._getItemIndex(c),h=Boolean(this._interval);if(t===w?(n=j,i=q,r=C):(n=F,i=W,r=S),c&&s["default"](c).hasClass(H))this._isSliding=!1;else if(!this._triggerSlideEvent(c,r).isDefaultPrevented()&&l&&c){this._isSliding=!0,h&&this.pause(),this._setActiveIndicatorElement(c);var f=s["default"].Event(E,{relatedTarget:c,direction:r,from:u,to:d});if(s["default"](this._element).hasClass(z)){s["default"](c).addClass(i),a["default"].reflow(c),s["default"](l).addClass(n),s["default"](c).addClass(n);var p=parseInt(c.getAttribute("data-interval"),10);p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval;var m=a["default"].getTransitionDurationFromElement(l);s["default"](l).one(a["default"].TRANSITION_END,function(){s["default"](c).removeClass(n+" "+i).addClass(H),s["default"](l).removeClass(H+" "+i+" "+n),o._isSliding=!1,setTimeout(function(){return s["default"](o._element).trigger(f)},0)}).emulateTransitionEnd(m)}else s["default"](l).removeClass(H),s["default"](c).addClass(H),this._isSliding=!1,s["default"](this._element).trigger(f);h&&this.cycle()}},t._jQueryInterface=function(e){return this.each(function(){var n=s["default"](this).data(c),r=i({},y,s["default"](this).data());"object"==typeof e&&(r=i({},r,e));var o="string"==typeof e?e:r.slide;if(n||(n=new t(this,r),s["default"](this).data(c,n)),"number"==typeof e)n.to(e);else if("string"==typeof o){if("undefined"==typeof n[o])throw new TypeError('No method named "'+o+'"');n[o]()}else r.interval&&r.ride&&(n.pause(),n.cycle())})},t._dataApiClickHandler=function(e){var n=a["default"].getSelectorFromElement(this);if(n){var r=s["default"](n)[0];if(r&&s["default"](r).hasClass(B)){var o=i({},s["default"](r).data(),s["default"](this).data()),l=this.getAttribute("data-slide-to");l&&(o.interval=!1),t._jQueryInterface.call(s["default"](r),o),l&&s["default"](r).data(c).to(l),e.preventDefault()}}},o(t,null,[{key:"VERSION",get:function(){return u}},{key:"Default",get:function(){return y}}]),t}();return s["default"](document).on(L,Q,tt._dataApiClickHandler),s["default"](window).on(I,function(){for(var t=[].slice.call(document.querySelectorAll(Z)),e=0,n=t.length;e<n;e++){var i=s["default"](t[e]);tt._jQueryInterface.call(i,i.data())}}),s["default"].fn[l]=tt._jQueryInterface,s["default"].fn[l].Constructor=tt,s["default"].fn[l].noConflict=function(){return s["default"].fn[l]=f,tt._jQueryInterface},tt}),
/*!
  * Bootstrap button.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Button=e(t.jQuery)}(this,function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}var r=e(t),o="button",s="4.5.3",a="bs.button",l="."+a,u=".data-api",c=r["default"].fn[o],d="active",h="btn",f="focus",p='[data-toggle^="button"]',m='[data-toggle="buttons"]',g='[data-toggle="button"]',v='[data-toggle="buttons"] .btn',y='input:not([type="hidden"])',b=".active",w=".btn",x="click"+l+u,C="focus"+l+u+" blur"+l+u,S="load"+l+u,_=function(){function t(t){this._element=t,this.shouldAvoidTriggerChange=!1}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,n=r["default"](this._element).closest(m)[0];if(n){var i=this._element.querySelector(y);if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(d))t=!1;else{var o=n.querySelector(b);o&&r["default"](o).removeClass(d)}t&&("checkbox"!==i.type&&"radio"!==i.type||(i.checked=!this._element.classList.contains(d)),this.shouldAvoidTriggerChange||r["default"](i).trigger("change")),i.focus(),e=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(d)),t&&r["default"](this._element).toggleClass(d))},e.dispose=function(){r["default"].removeData(this._element,a),this._element=null},t._jQueryInterface=function(e,n){return this.each(function(){var i=r["default"](this),o=i.data(a);o||(o=new t(this),i.data(a,o)),o.shouldAvoidTriggerChange=n,"toggle"===e&&o[e]()})},i(t,null,[{key:"VERSION",get:function(){return s}}]),t}();return r["default"](document).on(x,p,function(t){var e=t.target,n=e;if(r["default"](e).hasClass(h)||(e=r["default"](e).closest(w)[0]),!e||e.hasAttribute("disabled")||e.classList.contains("disabled"))t.preventDefault();else{var i=e.querySelector(y);if(i&&(i.hasAttribute("disabled")||i.classList.contains("disabled")))return void t.preventDefault();"INPUT"!==n.tagName&&"LABEL"===e.tagName||_._jQueryInterface.call(r["default"](e),"toggle","INPUT"===n.tagName)}}).on(C,p,function(t){var e=r["default"](t.target).closest(w)[0];r["default"](e).toggleClass(f,/^focus(in)?$/.test(t.type))}),r["default"](window).on(S,function(){for(var t=[].slice.call(document.querySelectorAll(v)),e=0,n=t.length;e<n;e++){var i=t[e],r=i.querySelector(y);r.checked||r.hasAttribute("checked")?i.classList.add(d):i.classList.remove(d)}for(var o=0,s=(t=[].slice.call(document.querySelectorAll(g))).length;o<s;o++){var a=t[o];"true"===a.getAttribute("aria-pressed")?a.classList.add(d):a.classList.remove(d)}}),r["default"].fn[o]=_._jQueryInterface,r["default"].fn[o].Constructor=_,r["default"].fn[o].noConflict=function(){return r["default"].fn[o]=c,_._jQueryInterface},_}),
/*!
  * Bootstrap modal.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Modal=e(t.jQuery,t.Util)}(this,function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var s=n(t),a=n(e),l="modal",u="4.5.3",c="bs.modal",d="."+c,h=".data-api",f=s["default"].fn[l],p=27,m={backdrop:!0,keyboard:!0,focus:!0,show:!0},g={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},v="hide"+d,y="hidePrevented"+d,b="hidden"+d,w="show"+d,x="shown"+d,C="focusin"+d,S="resize"+d,_="click.dismiss"+d,E="keydown.dismiss"+d,T="mouseup.dismiss"+d,k="mousedown.dismiss"+d,D="click"+d+h,M="modal-dialog-scrollable",A="modal-scrollbar-measure",P="modal-backdrop",O="modal-open",R="fade",N="show",I="modal-static",L=".modal-dialog",B=".modal-body",H='[data-toggle="modal"]',z='[data-dismiss="modal"]',F=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",j=".sticky-top",q=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(L),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){s["default"](this._element).hasClass(R)&&(this._isTransitioning=!0);var n=s["default"].Event(w,{relatedTarget:t});s["default"](this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),s["default"](this._element).on(_,z,function(t){return e.hide(t)}),s["default"](this._dialog).on(k,function(){s["default"](e._element).one(T,function(t){s["default"](t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var n=s["default"].Event(v);if(s["default"](this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=s["default"](this._element).hasClass(R);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),s["default"](document).off(C),s["default"](this._element).removeClass(N),s["default"](this._element).off(_),s["default"](this._dialog).off(k),i){var r=a["default"].getTransitionDurationFromElement(this._element);s["default"](this._element).one(a["default"].TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(r)}else this._hideModal()}}},e.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return s["default"](t).off(d)}),s["default"](document).off(C),s["default"].removeData(this._element,c),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=i({},m,t),a["default"].typeCheckConfig(l,t,g),t},e._triggerBackdropTransition=function(){var t=this;if("static"===this._config.backdrop){var e=s["default"].Event(y);if(s["default"](this._element).trigger(e),e.isDefaultPrevented())return;var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY="hidden"),this._element.classList.add(I);var i=a["default"].getTransitionDurationFromElement(this._dialog);s["default"](this._element).off(a["default"].TRANSITION_END),s["default"](this._element).one(a["default"].TRANSITION_END,function(){t._element.classList.remove(I),n||s["default"](t._element).one(a["default"].TRANSITION_END,function(){t._element.style.overflowY=""}).emulateTransitionEnd(t._element,i)}).emulateTransitionEnd(i),this._element.focus()}else this.hide()},e._showElement=function(t){var e=this,n=s["default"](this._element).hasClass(R),i=this._dialog?this._dialog.querySelector(B):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),s["default"](this._dialog).hasClass(M)&&i?i.scrollTop=0:this._element.scrollTop=0,n&&a["default"].reflow(this._element),s["default"](this._element).addClass(N),this._config.focus&&this._enforceFocus();var r=s["default"].Event(x,{relatedTarget:t}),o=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,s["default"](e._element).trigger(r)};if(n){var l=a["default"].getTransitionDurationFromElement(this._dialog);s["default"](this._dialog).one(a["default"].TRANSITION_END,o).emulateTransitionEnd(l)}else o()},e._enforceFocus=function(){var t=this;s["default"](document).off(C).on(C,function(e){document!==e.target&&t._element!==e.target&&0===s["default"](t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown?s["default"](this._element).on(E,function(e){t._config.keyboard&&e.which===p?(e.preventDefault(),t.hide()):t._config.keyboard||e.which!==p||t._triggerBackdropTransition()}):this._isShown||s["default"](this._element).off(E)},e._setResizeEvent=function(){var t=this;this._isShown?s["default"](window).on(S,function(e){return t.handleUpdate(e)}):s["default"](window).off(S)},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){s["default"](document.body).removeClass(O),t._resetAdjustments(),t._resetScrollbar(),s["default"](t._element).trigger(b)})},e._removeBackdrop=function(){this._backdrop&&(s["default"](this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,n=s["default"](this._element).hasClass(R)?R:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=P,n&&this._backdrop.classList.add(n),s["default"](this._backdrop).appendTo(document.body),s["default"](this._element).on(_,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&e._triggerBackdropTransition()}),n&&a["default"].reflow(this._backdrop),s["default"](this._backdrop).addClass(N),!t)return;if(!n)return void t();var i=a["default"].getTransitionDurationFromElement(this._backdrop);s["default"](this._backdrop).one(a["default"].TRANSITION_END,t).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){s["default"](this._backdrop).removeClass(N);var r=function(){e._removeBackdrop(),t&&t()};if(s["default"](this._element).hasClass(R)){var o=a["default"].getTransitionDurationFromElement(this._backdrop);s["default"](this._backdrop).one(a["default"].TRANSITION_END,r).emulateTransitionEnd(o)}else r()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(F)),n=[].slice.call(document.querySelectorAll(j));s["default"](e).each(function(e,n){var i=n.style.paddingRight,r=s["default"](n).css("padding-right");s["default"](n).data("padding-right",i).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")}),s["default"](n).each(function(e,n){var i=n.style.marginRight,r=s["default"](n).css("margin-right");s["default"](n).data("margin-right",i).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")});var i=document.body.style.paddingRight,r=s["default"](document.body).css("padding-right");s["default"](document.body).data("padding-right",i).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}s["default"](document.body).addClass(O)},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(F));s["default"](t).each(function(t,e){var n=s["default"](e).data("padding-right");s["default"](e).removeData("padding-right"),e.style.paddingRight=n||""});var e=[].slice.call(document.querySelectorAll(""+j));s["default"](e).each(function(t,e){var n=s["default"](e).data("margin-right");void 0!==n&&s["default"](e).css("margin-right",n).removeData("margin-right")});var n=s["default"](document.body).data("padding-right");s["default"](document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className=A,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,n){return this.each(function(){var r=s["default"](this).data(c),o=i({},m,s["default"](this).data(),"object"==typeof e&&e?e:{});if(r||(r=new t(this,o),s["default"](this).data(c,r)),"string"==typeof e){if("undefined"==typeof r[e])throw new TypeError('No method named "'+e+'"');r[e](n)}else o.show&&r.show(n)})},o(t,null,[{key:"VERSION",get:function(){return u}},{key:"Default",get:function(){return m}}]),t}();return s["default"](document).on(D,H,function(t){var e,n=this,r=a["default"].getSelectorFromElement(this);r&&(e=document.querySelector(r));var o=s["default"](e).data(c)?"toggle":i({},s["default"](e).data(),s["default"](this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var l=s["default"](e).one(w,function(t){t.isDefaultPrevented()||l.one(b,function(){s["default"](n).is(":visible")&&n.focus()})});q._jQueryInterface.call(s["default"](e),o,this)}),s["default"].fn[l]=q._jQueryInterface,s["default"].fn[l].Constructor=q,s["default"].fn[l].noConflict=function(){return s["default"].fn[l]=f,q._jQueryInterface},q}),
/*!
  * Bootstrap toast.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).Toast=e(t.jQuery,t.Util)}(this,function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var s=n(t),a=n(e),l="toast",u="4.5.3",c="bs.toast",d="."+c,h=s["default"].fn[l],f="click.dismiss"+d,p="hide"+d,m="hidden"+d,g="show"+d,v="shown"+d,y="fade",b="hide",w="show",x="showing",C={animation:"boolean",autohide:"boolean",delay:"number"},S={animation:!0,autohide:!0,delay:500},_='[data-dismiss="toast"]',E=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var e=t.prototype;return e.show=function(){var t=this,e=s["default"].Event(g);if(s["default"](this._element).trigger(e),!e.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add(y);var n=function(){t._element.classList.remove(x),t._element.classList.add(w),s["default"](t._element).trigger(v),t._config.autohide&&(t._timeout=setTimeout(function(){t.hide()},t._config.delay))};if(this._element.classList.remove(b),a["default"].reflow(this._element),this._element.classList.add(x),this._config.animation){var i=a["default"].getTransitionDurationFromElement(this._element);s["default"](this._element).one(a["default"].TRANSITION_END,n).emulateTransitionEnd(i)}else n()}},e.hide=function(){if(this._element.classList.contains(w)){var t=s["default"].Event(p);s["default"](this._element).trigger(t),t.isDefaultPrevented()||this._close()}},e.dispose=function(){this._clearTimeout(),this._element.classList.contains(w)&&this._element.classList.remove(w),s["default"](this._element).off(f),s["default"].removeData(this._element,c),this._element=null,this._config=null},e._getConfig=function(t){return t=i({},S,s["default"](this._element).data(),"object"==typeof t&&t?t:{}),a["default"].typeCheckConfig(l,t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;s["default"](this._element).on(f,_,function(){return t.hide()})},e._close=function(){var t=this,e=function(){t._element.classList.add(b),s["default"](t._element).trigger(m)};if(this._element.classList.remove(w),this._config.animation){var n=a["default"].getTransitionDurationFromElement(this._element);s["default"](this._element).one(a["default"].TRANSITION_END,e).emulateTransitionEnd(n)}else e()},e._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},t._jQueryInterface=function(e){return this.each(function(){var n=s["default"](this),i=n.data(c);if(i||(i=new t(this,"object"==typeof e&&e),n.data(c,i)),"string"==typeof e){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e](this)}})},o(t,null,[{key:"VERSION",get:function(){return u}},{key:"DefaultType",get:function(){return C}},{key:"Default",get:function(){return S}}]),t}();return s["default"].fn[l]=E._jQueryInterface,s["default"].fn[l].Constructor=E,s["default"].fn[l].noConflict=function(){return s["default"].fn[l]=h,E._jQueryInterface},E}),
/*!
  * Bootstrap scrollspy.js v4.5.3 (https://getbootstrap.com/)
  * Copyright 2011-2020 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("./util.js")):"function"==typeof define&&define.amd?define(["jquery","./util.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).ScrollSpy=e(t.jQuery,t.Util)}(this,function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{"default":t}}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var s=n(t),a=n(e),l="scrollspy",u="4.5.3",c="bs.scrollspy",d="."+c,h=".data-api",f=s["default"].fn[l],p={offset:10,method:"auto",target:""},m={offset:"number",method:"string",target:"(string|element)"},g="activate"+d,v="scroll"+d,y="load"+d+h,b="dropdown-item",w="active",x='[data-spy="scroll"]',C=".nav, .list-group",S=".nav-link",_=".nav-item",E=".list-group-item",T=".dropdown",k=".dropdown-item",D=".dropdown-toggle",M="offset",A="position",P=function(){function t(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+S+","+this._config.target+" "+E+","+this._config.target+" "+k,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,s["default"](this._scrollElement).on(v,function(t){return n._process(t)}),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?M:A,n="auto"===this._config.method?e:this._config.method,i=n===A?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var e,r=a["default"].getSelectorFromElement(t);if(r&&(e=document.querySelector(r)),e){var o=e.getBoundingClientRect();if(o.width||o.height)return[s["default"](e)[n]().top+i,r]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){s["default"].removeData(this._element,c),s["default"](this._scrollElement).off(d),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if("string"!=typeof(t=i({},p,"object"==typeof t&&t?t:{})).target&&a["default"].isElement(t.target)){var e=s["default"](t.target).attr("id");e||(e=a["default"].getUID(l),s["default"](t.target).attr("id",e)),t.target="#"+e}return a["default"].typeCheckConfig(l,t,m),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;){this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&("undefined"==typeof this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),n=s["default"]([].slice.call(document.querySelectorAll(e.join(","))));n.hasClass(b)?(n.closest(T).find(D).addClass(w),n.addClass(w)):(n.addClass(w),n.parents(C).prev(S+", "+E).addClass(w),n.parents(C).prev(_).children(S).addClass(w)),s["default"](this._scrollElement).trigger(g,{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(w)}).forEach(function(t){return t.classList.remove(w)})},t._jQueryInterface=function(e){return this.each(function(){var n=s["default"](this).data(c);if(n||(n=new t(this,"object"==typeof e&&e),s["default"](this).data(c,n)),"string"==typeof e){if("undefined"==typeof n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},o(t,null,[{key:"VERSION",get:function(){return u}},{key:"Default",get:function(){return p}}]),t}();return s["default"](window).on(y,function(){for(var t=[].slice.call(document.querySelectorAll(x)),e=t.length;e--;){var n=s["default"](t[e]);P._jQueryInterface.call(n,n.data())}}),s["default"].fn[l]=P._jQueryInterface,s["default"].fn[l].Constructor=P,s["default"].fn[l].noConflict=function(){return s["default"].fn[l]=f,P._jQueryInterface},P}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t.Vimeo=t.Vimeo||{},t.Vimeo.Player=e())}(this,function(){"use strict";function t(t,e){return 0===t.indexOf(e.toLowerCase())?t:""+e.toLowerCase()+t.substr(0,1).toUpperCase()+t.substr(1)}function e(t){return t instanceof window.HTMLElement}function n(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function i(t){return/^(https?:)?\/\/((player|www).)?vimeo.com(?=$|\/)/.test(t)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,r=t.url,o=e||r;if(!o)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(n(o))return"https://vimeo.com/"+o;if(i(o))return o.replace("http:","https:");if(e)throw new TypeError("\u201c"+e+"\u201d is not a valid video id.");throw new TypeError("\u201c"+o+"\u201d is not a vimeo.com url.")}function o(t,e){return t(e={exports:{}},e.exports),e.exports}function s(t,e,n){var i=S.get(t.element)||{};e in i||(i[e]=[]),i[e].push(n),S.set(t.element,i)}function a(t,e){return(S.get(t.element)||{})[e]||[]}function l(t,e,n){var i=S.get(t.element)||{};if(!i[e])return!0;if(!n)return i[e]=[],S.set(t.element,i),!0;var r=i[e].indexOf(n);return-1!==r&&i[e].splice(r,1),S.set(t.element,i),i[e]&&0===i[e].length}function u(t,e){var n=a(t,e);if(n.length<1)return!1;var i=n.shift();return l(t,e,i),i}function c(t,e){var n=S.get(t);S.set(e,n),S["delete"](t)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.reduce(function(e,n){var i=t.getAttribute("data-vimeo-"+n);return(i||""===i)&&(e[n]=""===i?1:i),e},e)}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){if(!i(t))throw new TypeError("\u201c"+t+"\u201d is not a vimeo.com url.");var o="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(t);for(var s in e)e.hasOwnProperty(s)&&(o+="&"+s+"="+encodeURIComponent(e[s]));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(){if(404!==a.status)if(403!==a.status)try{var e=JSON.parse(a.responseText);n(e)}catch(t){r(t)}else r(new Error("\u201c"+t+"\u201d is not embeddable."));else r(new Error("\u201c"+t+"\u201d was not found."))},a.onerror=function(){var t=a.status?" ("+a.status+")":"";r(new Error("There was an error fetching the embed code from Vimeo"+t+"."))},a.send()})}function f(t,e){var n=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var i=document.createElement("div");return i.innerHTML=n,e.appendChild(i.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function p(t){return"string"==typeof t&&(t=JSON.parse(t)),t}function m(t,e,n){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var i={method:e};void 0!==n&&(i.value=n);var r=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));r>=8&&r<10&&(i=JSON.stringify(i)),t.element.contentWindow.postMessage(i,t.origin)}}function g(t,e){e=p(e);var n=[],i=void 0;if(e.event)"error"===e.event&&a(t,e.data.method).forEach(function(n){var i=new Error(e.data.message);i.name=e.data.name,n.reject(i),l(t,e.data.method,n)}),n=a(t,"event:"+e.event),i=e.data;else if(e.method){var r=u(t,e.method);r&&(n.push(r),i=e.value)}n.forEach(function(e){try{if("function"==typeof e)return void e.call(t,i);e.resolve(i)}catch(t){}})}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y="undefined"!=typeof global&&"[object global]"==={}.toString.call(global),b=void 0!==Array.prototype.indexOf,w="undefined"!=typeof window&&void 0!==window.postMessage;if(!(y||b&&w))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var x="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},C=(o(function(){!function(t){function e(t,e){function i(t){if(!this||this.constructor!==i)return new i(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&n.call(this,t)}return e||b(t,"size",{get:g}),t.constructor=i,i.prototype=t,i}function n(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function i(t){return this.has(t)&&(this._keys.splice(y,1),this._values.splice(y,1),this._itp.forEach(function(t){y<t[0]&&t[0]--})),-1<y}function r(t){return this.has(t)?this._values[y]:void 0}function o(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(y=t.length;y--&&!w(t[y],e););else y=t.indexOf(e);return-1<y}function s(t){return o.call(this,this._values,t)}function a(t){return o.call(this,this._keys,t)}function l(t,e){return this.has(t)?this._values[y]=e:this._values[this._keys.push(t)-1]=e,this}function u(t){return this.has(t)||this._values.push(t),this}function c(){(this._keys||0).length=this._values.length=0}function d(){return m(this._itp,this._keys)}function h(){return m(this._itp,this._values)}function f(){return m(this._itp,this._keys,this._values)}function p(){return m(this._itp,this._values,this._values)}function m(t,e,n){var i=[0],r=!1;return t.push(i),{next:function(){var o,s=i[0];return!r&&s<e.length?(o=n?[e[s],n[s]]:e[s],i[0]++):(r=!0,t.splice(t.indexOf(i),1)),{done:r,value:o}}}}function g(){return this._values.length}function v(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}}var y,b=Object.defineProperty,w=function(t,e){return t===e||t!=t&&e!=e};"undefined"==typeof WeakMap&&(t.WeakMap=e({"delete":i,clear:c,get:r,has:a,set:l},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(t.Map=e({"delete":i,has:a,get:r,set:l,keys:d,values:h,entries:f,forEach:v,clear:c})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(t.Set=e({has:s,add:u,"delete":i,clear:c,keys:h,values:h,entries:p,forEach:v})),"undefined"==typeof WeakSet&&(t.WeakSet=e({"delete":i,add:u,clear:c,has:s},!0))}(void 0!==x?x:window)}),o(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e,n,i){n[e]=n[e]||i(),t.exports&&(t.exports=n[e])}("Promise",x,function(){function t(t,e){f.add(t,e),h||(h=m(f.drain))}function n(t){var n,i=void 0===t?"undefined":e(t);return null==t||"object"!=i&&"function"!=i||(n=t.then),"function"==typeof n&&n}function i(){for(var t=0;t<this.chain.length;t++)r(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function r(t,e,i){var r,o;try{!1===e?i.reject(t.msg):(r=!0===e?t.msg:e.call(void 0,t.msg))===i.promise?i.reject(TypeError("Promise-chain cycle")):(o=n(r))?o.call(r,i.resolve,i.reject):i.resolve(r)}catch(t){i.reject(t)}}function o(e){var r,a=this;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(r=n(e))?t(function(){var t=new l(a);try{r.call(e,function(){o.apply(t,arguments)},function(){s.apply(t,arguments)})}catch(e){s.call(t,e)}}):(a.msg=e,a.state=1,a.chain.length>0&&t(i,a))}catch(t){s.call(new l(a),t)}}}function s(e){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=e,n.state=2,n.chain.length>0&&t(i,n))}function a(t,e,n,i){for(var r=0;r<e.length;r++)!function(r){t.resolve(e[r]).then(function(t){n(r,t)},i)}(r)}function l(t){this.def=t,this.triggered=!1}function u(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function c(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new u(this);this.then=function(e,r){var o={success:"function"!=typeof e||e,failure:"function"==typeof r&&r};return o.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");o.resolve=t,o.reject=e}),n.chain.push(o),0!==n.state&&t(i,n),o.promise},this["catch"]=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){o.call(n,t)},function(t){s.call(n,t)})}catch(t){s.call(n,t)}}var d,h,f,p=Object.prototype.toString,m="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),d=function(t,e,n,i){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==i})}}catch(t){d=function(t,e,n){return t[e]=n,t}}f=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,n,i;return{add:function(r,o){i=new t(r,o),n?n.next=i:e=i,n=i,i=void 0},drain:function(){var t=e;for(e=n=h=void 0;t;)t.fn.call(t.self),t=t.next}}}();var g=d({},"constructor",c,!1);return c.prototype=g,d(g,"__NPO__",0,!1),d(c,"resolve",function(t){var n=this;return t&&"object"==(void 0===t?"undefined":e(t))&&1===t.__NPO__?t:new n(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)})}),d(c,"reject",function(t){return new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)})}),d(c,"all",function(t){var e=this;return"[object Array]"!=p.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var r=t.length,o=Array(r),s=0;a(e,t,function(t,e){o[t]=e,++s===r&&n(o)},i)})}),d(c,"race",function(t){var e=this;return"[object Array]"!=p.call(t)?e.reject(TypeError("Not an array")):new e(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");a(e,t,function(t,e){n(e)},i)})}),c})})),S=new WeakMap,_=["id","url","width","maxwidth","height","maxheight","portrait","title","byline","color","autoplay","autopause","loop","responsive","speed","background","transparent"],E=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),T=new WeakMap,k=new WeakMap,D=function(){function n(t){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(this,n),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"string"==typeof t&&(t=document.getElementById(t)),!e(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var a=t.querySelector("iframe");a&&(t=a)}if("IFRAME"===t.nodeName&&!i(t.getAttribute("src")||""))throw new Error("The player element passed isn\u2019t a Vimeo embed.");if(T.has(t))return T.get(t);this.element=t,this.origin="*";var l=new C(function(e,n){var a=function(t){if(i(t.origin)&&o.element.contentWindow===t.source){"*"===o.origin&&(o.origin=t.origin);var n=p(t.data),r="event"in n&&"ready"===n.event,s="method"in n&&"ping"===n.method;if(r||s)return o.element.setAttribute("data-ready","true"),void e();g(o,n)}};if(window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent&&window.attachEvent("onmessage",a),"IFRAME"!==o.element.nodeName){var l=d(t,s);h(r(l),l).then(function(e){var n=f(e,t);return o.element=n,c(t,n),T.set(o.element,o),e})["catch"](function(t){return n(t)})}});return k.set(this,l),T.set(this.element,this),"IFRAME"===this.element.nodeName&&m(this,"ping"),this}return E(n,[{key:"callMethod",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new C(function(i,r){return e.ready().then(function(){s(e,t,{resolve:i,reject:r}),m(e,t,n)})})}},{key:"get",value:function(e){var n=this;return new C(function(i,r){return e=t(e,"get"),n.ready().then(function(){s(n,e,{resolve:i,reject:r}),m(n,e)})})}},{key:"set",value:function(e,n){var i=this;return C.resolve(n).then(function(n){if(e=t(e,"set"),null==n)throw new TypeError("There must be a value to set.");return i.ready().then(function(){return new C(function(t,r){s(i,e,{resolve:t,reject:r}),m(i,e,n)})})})}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===a(this,"event:"+t).length&&this.callMethod("addEventListener",t)["catch"](function(){}),s(this,"event:"+t,e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");l(this,"event:"+t,e)&&this.callMethod("removeEventListener",t)["catch"](function(){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=k.get(this);return C.resolve(t)}},{key:"addCuePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}]),n}();return y||(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: "+t)};e.forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=d(t);h(r(e),e).then(function(e){return f(e,t)})["catch"](n)}catch(t){n(t)}})}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=function(e){if(i(e.origin)&&e.data&&"spacechange"===e.data.event)for(var n=t.querySelectorAll("iframe"),r=0;r<n.length;r++)if(n[r].contentWindow===e.source){var o=n[r].parentElement;o&&-1!==o.className.indexOf("vimeo-space")&&(o.style.paddingBottom=e.data.data[0].bottom+"px");break}};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}()),D}),window.TinyMCERails={configuration:{"default":{}},initialize:function(t,e){if("undefined"!=typeof tinyMCE){var n=TinyMCERails.configuration[t||"default"];n=TinyMCERails._merge(n,e),tinyMCE.init(n)}else setTimeout(function(){TinyMCERails.initialize(t,e)},50)},setupTurbolinks:function(){document.addEventListener("turbolinks:before-render",function(){tinymce.remove()})},_merge:function(){for(var t={},e=0;e<arguments.length;++e){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&("[object Object]"===Object.prototype.toString.call(n[i])?t[i]=TinyMCERails._merge(t[i],n[i]):t[i]=n[i])}return t}},"undefined"!=typeof Turbolinks&&Turbolinks.supported&&TinyMCERails.setupTurbolinks(),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(){"use strict";function t(){function t(n,i){return e.push(n+" ")>xe.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function e(t){return t[on]=!0,t}function n(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||pn)-(~t.sourceIndex||pn);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function r(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function o(t){return e(function(n){return n=+n,e(function(e,i){for(var r,o=t([],e.length,n),s=o.length;s--;)e[r=o[s]]&&(e[r]=!(i[r]=e[r]))})})}function s(t){return t&&typeof t.getElementsByTagName!==fn&&t}function a(){}function l(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function u(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=ln++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u=[an,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((a=(l=e[on]||(e[on]={}))[i])&&a[0]===an&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function c(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function d(t,e,n){for(var i=0,r=e.length;i<r;i++)qn(t,e[i],n);return n}function h(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function f(t,n,i,r,o,s){return r&&!r[on]&&(r=f(r)),o&&!o[on]&&(o=f(o,s)),e(function(e,s,a,l){var u,c,f,p=[],m=[],g=s.length,v=e||d(n||"*",a.nodeType?[a]:a,[]),y=!t||!e&&n?v:h(v,p,t,a,l),b=i?o||(e?t:g||r)?[]:s:y;if(i&&i(y,b,a,l),r)for(u=h(b,m),r(u,[],a,l),c=u.length;c--;)(f=u[c])&&(b[m[c]]=!(y[m[c]]=f));if(e){if(o||t){if(o){for(u=[],c=b.length;c--;)(f=b[c])&&u.push(y[c]=f);o(null,b=[],u,l)}for(c=b.length;c--;)(f=b[c])&&(u=o?xn.call(e,f):p[c])>-1&&(e[u]=!(s[u]=f))}}else b=h(b===s?b.splice(g,b.length):b),o?o(null,s,b,l):bn.apply(s,b)})}function p(t){for(var e,n,i,r=t.length,o=xe.relative[t[0].type],s=o||xe.relative[" "],a=o?1:0,d=u(function(t){return t===e},s,!0),h=u(function(t){return xn.call(e,t)>-1},s,!0),m=[function(t,n,i){return!o&&(i||n!==ke)||((e=n).nodeType?d(t,n,i):h(t,n,i))}];a<r;a++)if(n=xe.relative[t[a].type])m=[u(c(m),n)];else{if((n=xe.filter[t[a].type].apply(null,t[a].matches))[on]){for(i=++a;i<r&&!xe.relative[t[i].type];i++);return f(a>1&&c(m),a>1&&l(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(kn,"$1"),n,a<i&&p(t.slice(a,i)),i<r&&p(t=t.slice(i)),i<r&&l(t))}m.push(n)}return c(m)}function m(t,n){var i=n.length>0,r=t.length>0,o=function(e,o,s,a,l){var u,c,d,f=0,p="0",m=e&&[],g=[],v=ke,y=e||r&&xe.find.TAG("*",l),b=an+=null==v?1:Math.random()||.1,w=y.length;for(l&&(ke=o!==Pe&&o);p!==w&&null!=(u=y[p]);p++){if(r&&u){for(c=0;d=t[c++];)if(d(u,o,s)){a.push(u);break}l&&(an=b)}i&&((u=!d&&u)&&f--,e&&m.push(u))}if(f+=p,i&&p!==f){for(c=0;d=n[c++];)d(m,g,o,s);if(e){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=vn.call(a));g=h(g)}bn.apply(a,g),l&&!e&&g.length>0&&f+n.length>1&&qn.uniqueSort(a)}return l&&(an=b,ke=v),m};return i?e(o):o}function g(t,e,n){var i=t.isiOS()&&!0===/ipad/i.test(n),r=t.isiOS()&&!i,o=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,a=i||o||s&&!0===/mobile/i.test(n),l=t.isiOS()||t.isAndroid(),u=l&&!a,c=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n);return{isiPad:yt.constant(i),isiPhone:yt.constant(r),isTablet:yt.constant(a),isPhone:yt.constant(u),isTouch:yt.constant(l),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:yt.constant(c)}}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var i={};return oe.each(t,function(t,n){i[t]=yt.constant(e[n])}),i}}function y(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return Co.validateStrArr("required",t),Co.validateStrArr("optional",e),Co.checkDupes(n),function(i){var r=to.keys(i);oe.forall(t,function(t){return oe.contains(r,t)})||Co.reqMessage(t,r);var o=oe.filter(r,function(t){return!oe.contains(n,t)});o.length>0&&Co.unsuppMessage(o);var s={};return oe.each(t,function(t){s[t]=yt.constant(i[t])}),oe.each(e,function(t){s[t]=yt.constant(Object.prototype.hasOwnProperty.call(i,t)?_t.some(i[t]):_t.none())}),s}}function b(t,e){var n,i=0,r={};n=(e=e||{}).maxLoadTime||5e3;var o=function(e){t.getElementsByTagName("head")[0].appendChild(e)},s=function(e,s,a){var l,u,c,d,h=function(){for(var t=d.passed,e=t.length;e--;)t[e]();d.status=2,d.passed=[],d.failed=[]},f=function(){for(var t=d.failed,e=t.length;e--;)t[e]();d.status=3,d.passed=[],d.failed=[]},p=function(){var t=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(t&&parseInt(t[1],10)<536)},m=function(t,e){t()||((new Date).getTime()-c<n?Ue.setTimeout(e):f())},g=function(){m(function(){for(var e,n,i=t.styleSheets,r=i.length;r--;)if((n=(e=i[r]).ownerNode?e.ownerNode:e.owningElement)&&n.id===l.id)return h(),!0},g)},v=function(){m(function(){try{var t=u.sheet.cssRules;return h(),!!t}catch(e){}},v)};if(e=oi._addCacheSuffix(e),r[e]?d=r[e]:(d={passed:[],failed:[]},r[e]=d),s&&d.passed.push(s),a&&d.failed.push(a),1!==d.status)if(2!==d.status)if(3!==d.status){if(d.status=1,(l=t.createElement("link")).rel="stylesheet",l.type="text/css",l.id="u"+i++,l.async=!1,l.defer=!1,c=(new Date).getTime(),"onload"in l&&!p())l.onload=g,l.onerror=f;else{if(navigator.userAgent.indexOf("Firefox")>0)return(u=t.createElement("style")).textContent='@import "'+e+'"',v(),void o(u);g()}o(l),l.href=e}else f();else h()},a=function(t){return fs.nu(function(e){s(t,yt.compose(e,yt.constant(bs.value(t))),yt.compose(e,yt.constant(bs.error(t))))})},l=function(t){return t.fold(yt.identity,yt.identity)};return{load:s,loadAll:function(t,e,n){gs.par(oe.map(t,a)).get(function(t){var i=oe.partition(t,function(t){return t.isValue()});i.fail.length>0?n(i.fail.map(l)):e(i.pass.map(l))})}}}function w(t,e){var n=t,i=function(t,n,i,r){var o,s;if(t){if(!r&&t[n])return t[n];if(t!==e){if(o=t[i])return o;for(s=t.parentNode;s&&s!==e;s=s.parentNode)if(o=s[i])return o}}},r=function(t,n,i,r){var o,s,a;if(t){if(o=t[i],e&&o===e)return;if(o){if(!r)for(a=o[n];a;a=a[n])if(!a[n])return a;return o}if((s=t.parentNode)&&s!==e)return s}};this.current=function(){return n},this.next=function(t){return n=i(n,"firstChild","nextSibling",t)},this.prev=function(t){return n=i(n,"lastChild","previousSibling",t)},this.prev2=function(t){return n=r(n,"lastChild","previousSibling",t)}}function x(t){var e,n,i,r,o,s,a,l,u,c,d,h,f,p={},m={},g=[],v={},y={},b=function(e,n,i){var r=t[e];return r?r=Ca(r,/[, ]/,Ca(r.toUpperCase(),/[, ]/)):(r=wa[e])||(r=Ca(n," ",Ca(n.toUpperCase()," ")),r=_a(r,i),wa[e]=r),r};i=Da((t=t||{}).schema),!1===t.verify_html&&(t.valid_elements="*[*]"),e=Ma(t.valid_styles),n=Ma(t.invalid_styles,"map"),l=Ma(t.valid_classes,"map"),r=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),s=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),a=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=b("non_empty_elements","td th iframe video audio object script pre code",s),d=b("move_caret_before_on_enter_elements","table",c),h=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),u=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",h),f=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Sa((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(t){y[t]=new RegExp("</"+t+"[^>]*>","gi")});var w=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},x=function(t){var e,n,i,r,o,s,a,l,u,c,d,h,f,m,v,y,b,x,C,S=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,_=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,E=/[*?+]/;if(t)for(t=ka(t,","),p["@"]&&(y=p["@"].attributes,b=p["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(o=S.exec(t[e])){if(m=o[1],u=o[2],v=o[3],l=o[5],s={attributes:h={},attributesOrder:f=[]},"#"===m&&(s.paddEmpty=!0),"-"===m&&(s.removeEmpty=!0),"!"===o[4]&&(s.removeEmptyAttrs=!0),y){for(x in y)h[x]=y[x];f.push.apply(f,b)}if(l)for(i=0,r=(l=ka(l,"|")).length;i<r;i++)if(o=_.exec(l[i])){if(a={},d=o[1],c=o[2].replace(/[\\:]:/g,":"),m=o[3],C=o[4],"!"===d&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(c),a.required=!0),"-"===d){delete h[c],f.splice(Ta(f,c),1);continue}m&&("="===m&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:c,value:C}),a.defaultValue=C),":"===m&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:c,value:C}),a.forcedValue=C),"<"===m&&(a.validValues=Ca(C,"?"))),E.test(c)?(s.attributePatterns=s.attributePatterns||[],a.pattern=w(c),s.attributePatterns.push(a)):(h[c]||f.push(c),h[c]=a)}y||"@"!==u||(y=h,b=f),v&&(s.outputName=u,p[v]=s),E.test(u)?(s.pattern=w(u),g.push(s)):p[u]=s}},C=function(t){p={},g=[],x(t),Sa(i,function(t,e){m[e]=t.children})},S=function(t){var e=/^(~)?(.+)$/;t&&(wa.text_block_elements=wa.block_elements=null,Sa(ka(t,","),function(t){var n=e.exec(t),i="~"===n[1],r=i?"span":"div",o=n[2];if(m[o]=m[r],v[o]=r,i||(u[o.toUpperCase()]={},u[o]={}),!p[o]){var s=p[r];delete(s=_a({},s)).removeEmptyAttrs,delete s.removeEmpty,p[o]=s}Sa(m,function(t,e){t[r]&&(m[e]=t=_a({},m[e]),t[o]=t[r])})}))},_=function(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;wa[t.schema]=null,e&&Sa(ka(e,","),function(t){var e,i,r=n.exec(t);r&&(i=r[1],e=i?m[r[2]]:m[r[2]]={"#comment":{}},e=m[r[2]],Sa(ka(r[3],"|"),function(t){"-"===i?delete e[t]:e[t]={}}))})},E=function(t){var e,n=p[t];if(n)return n;for(e=g.length;e--;)if((n=g[e]).pattern.test(t))return n};return t.valid_elements?C(t.valid_elements):(Sa(i,function(t,e){p[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},m[e]=t.children}),
"html5"!==t.schema&&Sa(ka("strong/b em/i"),function(t){t=ka(t,"/"),p[t[1]].outputName=t[0]}),Sa(ka("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){p[t]&&(p[t].removeEmpty=!0)}),Sa(ka("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(t){p[t].paddEmpty=!0}),Sa(ka("span"),function(t){p[t].removeEmptyAttrs=!0})),S(t.custom_elements),_(t.valid_children),x(t.extended_valid_elements),_("+ol[ul|ol],+ul[ul|ol]"),Sa({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,e){p[e]&&(p[e].parentsRequired=ka(t))}),t.invalid_elements&&Sa(Ea(t.invalid_elements),function(t){p[t]&&delete p[t]}),E("span")||x("span[!data-mce-type|*]"),{children:m,elements:p,getValidStyles:function(){return e},getValidClasses:function(){return l},getBlockElements:function(){return u},getInvalidStyles:function(){return n},getShortEndedElements:function(){return s},getTextBlockElements:function(){return h},getTextInlineElements:function(){return f},getBoolAttrs:function(){return a},getElementRule:E,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return d},getWhiteSpaceElements:function(){return r},getSpecialElements:function(){return y},isValidChild:function(t,e){var n=m[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n,i,r=E(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},getCustomElements:function(){return v},addValidElements:x,setValidElements:C,addCustomElements:S,addValidChildren:_}}function C(t,e){var n,i,r,o,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,c={},d="\ufeff";for(t=t||{},e&&(r=e.getValidStyles(),o=e.getInvalidStyles()),i=("\\\" \\' \\; \\: ; : "+d).split(" "),n=0;n<i.length;n++)c[i[n]]=d+n,c[d+n]=i[n];return{toHex:function(t){return t.replace(s,Aa)},parse:function(e){var i,r,o,h,f={},p=t.url_converter,m=t.url_converter_scope||this,g=function(t,e,i){var r,o,s,a;if((r=f[t+"-top"+e])&&(o=f[t+"-right"+e])&&(s=f[t+"-bottom"+e])&&(a=f[t+"-left"+e])){var l=[r,o,s,a];for(n=l.length-1;n--&&l[n]===l[n+1];);n>-1&&i||(f[t+e]=-1===n?l[0]:l.join(" "),delete f[t+"-top"+e],delete f[t+"-right"+e],delete f[t+"-bottom"+e],delete f[t+"-left"+e])}},v=function(t){var e,n=f[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return f[t]=n[0],!0}},y=function(t,e,n,i){v(e)&&v(n)&&v(i)&&(f[t]=f[e]+" "+f[n]+" "+f[i],delete f[e],delete f[n],delete f[i])},b=function(t){return h=!0,c[t]},w=function(t,e){return h&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return c[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},x=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},C=function(t){return t.replace(/\\[0-9a-f]+/gi,x)},S=function(e,n,i,r,o,s){if(o=o||s)return"'"+(o=w(o)).replace(/\'/g,"\\'")+"'";if(n=w(n||i||r),!t.allow_script_urls){var a=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return p&&(n=p.call(m,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,b)});i=l.exec(e);)if(l.lastIndex=i.index+i[0].length,r=i[1].replace(u,"").toLowerCase(),o=i[2].replace(u,""),r&&o){if(r=C(r),o=C(o),-1!==r.indexOf(d)||-1!==r.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":"color"!==r&&"background-color"!==r||(o=o.toLowerCase()),o=(o=o.replace(s,Aa)).replace(a,S),f[r]=h?w(o,!0):o}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),y("border","border-width","border-style","border-color"),"medium none"===f.border&&delete f.border,"none"===f["border-image"]&&delete f["border-image"]}return f},serialize:function(t,e){var n,i,s="",a=function(e){var n,i,o,a;if(n=r[e])for(i=0,o=n.length;i<o;i++)e=n[i],(a=t[e])&&(s+=(s.length>0?" ":"")+e+": "+a+";")},l=function(t,e){var n;return!((n=o["*"])&&n[t]||(n=o[e])&&n[t])};if(e&&r)a("*"),a(e);else for(n in t)!(i=t[n])||o&&!l(n,e)||(s+=(s.length>0?" ":"")+n+": "+i+";");return s}}}function S(t,e){var n,i=this;void 0===e&&(e={});var r={},o=window,s={},a=0,l=!0,u=!0,c=b(t),d=[],h=e.schema?e.schema:x({}),f=C({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),p=e.ownEvents?new rn(e.proxy):rn.Event,m=h.getBlockElements(),g=Ei.overrideDefaults(function(){return{context:t,element:ot.getRoot()}}),v=function(t){if("string"==typeof t)return!!m[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!m[t.nodeName])}return!1},y=function(e){if(e&&t&&"string"==typeof e){var n=t.getElementById(e);return n&&n.id!==e?t.getElementsByName(e)[1]:n}return e},_=function(t){return"string"==typeof t&&(t=y(t)),g(t)},E=function(t,e,i){var r,o,s=_(t);return s.length&&(o=(r=n[e])&&r.get?r.get(s,e):s.attr(e)),void 0===o&&(o=i||""),o},T=function(t){var e=y(t);return e?e.attributes:[]},k=function(t,i,r){var o,s;""===r&&(r=null);var a=_(t);o=a.attr(i),a.length&&((s=n[i])&&s.set?s.set(a,r,i):a.attr(i,r),o!==r&&e.onSetAttrib&&e.onSetAttrib({attrElm:a,attrName:i,attrValue:r}))},D=function(e,n){if(!Ra||1!==e.nodeType||n)return e.cloneNode(n);if(!n){var i=t.createElement(e.nodeName);return Pa(T(e),function(t){k(i,t.nodeName,E(e,t.nodeName))}),i}return null},M=function(){return e.root_element||t.body},A=function(t){var e=t||o,n=e.document,i=u?n.documentElement:n.body;return{x:e.pageXOffset||i.scrollLeft,y:e.pageYOffset||i.scrollTop,w:e.innerWidth||i.clientWidth,h:e.innerHeight||i.clientHeight}},P=function(e,n){return ls.getPos(t.body,y(e),n)},O=function(t,n,i){var r=_(t).css(n,i);e.update_styles&&Ba(f,r)},R=function(t,n){var i=_(t).css(n);e.update_styles&&Ba(f,i)},N=function(t,e,n){var i=_(t);return n?i.css(e):("float"===(e=e.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}))&&(e=He.ie&&He.ie<12?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[e]:undefined)},I=function(t){var e,n;return t=y(t),e=N(t,"width"),n=N(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},L=function(t){var e,n;return t=y(t),e=P(t),n=I(t),{x:e.x,y:e.y,w:n.w,h:n.h}},B=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(Na.test(e)){var i=e.toLowerCase().split(/,/),r=t.nodeName.toLowerCase();for(n=i.length-1;n>=0;n--)if(i[n]===r)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var o=Array.isArray(t)?t:[t];return qn(e,o[0].ownerDocument||o[0],null,o).length>0},H=function(t,e,n,i){var r,o=[],s=y(t);for(i=i===undefined,n=n||("BODY"!==M().nodeName?M().parentNode:null),oi.is(e,"string")&&(r=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return B(t,r)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!e||"function"==typeof e&&e(s)){if(!i)return[s];o.push(s)}s=s.parentNode}return i?o:null},z=function(t,e,n){var i=H(t,e,n,!1);return i&&i.length>0?i[0]:null},F=function(t,e,n){var i=e;if(t)for("string"==typeof e&&(i=function(t){return B(t,e)}),t=t[n];t;t=t[n])if("function"==typeof i&&i(t))return t;return null},j=function(t,e){return F(t,e,"nextSibling")},q=function(t,e){return F(t,e,"previousSibling")},W=function(n,i){return qn(n,y(i)||e.root_element||t,[])},V=function(t,e,n){var r,o="string"==typeof t?y(t):t;if(!o)return!1;if(oi.isArray(o)&&(o.length||0===o.length))return r=[],Pa(o,function(t,i){t&&("string"==typeof t&&(t=y(t)),r.push(e.call(n,t,i)))}),r;var s=n||i;return e.call(s,o)},U=function(t,e){_(t).each(function(t,n){Pa(e,function(t,e){k(n,e,t)})})},$=function(t,e){var n=_(t);Ra?n.each(function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(i){Ei("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}}):n.html(e)},Y=function(e,n,i,r,o){return V(e,function(e){var s="string"==typeof n?t.createElement(n):n;return U(s,i),r&&("string"!=typeof r&&r.nodeType?s.appendChild(r):"string"==typeof r&&$(s,r)),o?s:e.appendChild(s)})},G=function(e,n,i){return Y(t.createElement(e),e,n,i,!0)},X=ba.decode,K=ba.encodeAllRaw,Q=function(t,e){var n=_(t);return e?n.each(function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},Z=function(e){var n;ot===S.DOM||t!==document?(e||(e=""),n=t.getElementsByTagName("head")[0],Pa(e.split(","),function(t){var e;t=oi._addCacheSuffix(t),s[t]||(s[t]=!0,e=G("link",{rel:"stylesheet",href:t}),n.appendChild(e))})):S.DOM.loadCSS(e)},J=function(t,e,n){_(t).toggleClass(e,n).each(function(){""===this.className&&Ei(this).attr("class",null)})},tt=function(t,e,n){return V(e,function(e){return oi.is(e,"array")&&(t=t.cloneNode(!0)),n&&Pa(Oa(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},et=function(){return t.createRange()},nt=function(n,i,r,s){if(oi.isArray(n)){for(var a=n.length;a--;)n[a]=nt(n[a],i,r,s);return n}return!e.collect||n!==t&&n!==o||d.push([n,i,r,s]),p.bind(n,i,r,s||ot)},it=function(e,n,i){var r;if(oi.isArray(e)){for(r=e.length;r--;)e[r]=it(e[r],n,i);return e}if(d&&(e===t||e===o))for(r=d.length;r--;){var s=d[r];e!==s[0]||n&&n!==s[1]||i&&i!==s[2]||p.unbind(s[0],s[1],s[2])}return p.unbind(e,n,i)},rt=function(t){if(t&&ia.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},ot={doc:t,settings:e,win:o,files:s,stdMode:l,boxModel:u,styleSheetLoader:c,boundEvents:d,styles:f,schema:h,events:p,isBlock:v,$:g,$$:_,root:null,clone:D,getRoot:M,getViewPort:A,getRect:L,getSize:I,getParent:z,getParents:H,get:y,getNext:j,getPrev:q,select:W,is:B,add:Y,create:G,createHTML:function(t,e,n){var i,r="";for(i in r+="<"+t,e)e.hasOwnProperty(i)&&null!==e[i]&&"undefined"!=typeof e[i]&&(r+=" "+i+'="'+K(e[i])+'"');return void 0!==n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(e){var n,i=t.createElement("div"),r=t.createDocumentFragment();for(e&&(i.innerHTML=e);n=i.firstChild;)r.appendChild(n);return r},remove:Q,setStyle:O,getStyle:N,setStyles:R,removeAllAttribs:function(t){return V(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},setAttrib:k,setAttribs:U,getAttrib:E,getPos:P,parseStyle:function(t){return f.parse(t)},serializeStyle:function(t,e){return f.serialize(t,e)},addStyle:function(e){var n,i;if(ot!==S.DOM&&t===document){if(r[e])return;r[e]=!0}(i=t.getElementById("mceDefaultStyles"))||((i=t.createElement("style")).id="mceDefaultStyles",i.type="text/css",(n=t.getElementsByTagName("head")[0]).firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(t.createTextNode(e))},loadCSS:Z,addClass:function(t,e){_(t).addClass(e)},removeClass:function(t,e){J(t,e,!1)},hasClass:function(t,e){return _(t).hasClass(e)},toggleClass:J,show:function(t){_(t).show()},hide:function(t){_(t).hide()},isHidden:function(t){return"none"===_(t).css("display")},uniqueId:function(t){return(t||"mce_")+a++},setHTML:$,getOuterHTML:function(t){var e="string"==typeof t?y(t):t;return ia.isElement(e)?e.outerHTML:Ei("<div></div>").append(Ei(e).clone()).html()},setOuterHTML:function(t,e){_(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}Q(Ei(this).html(e),!0)})},decode:X,encode:K,insertAfter:function(t,e){var n=y(e);return V(t,function(t){var e,i;return e=n.parentNode,(i=n.nextSibling)?e.insertBefore(t,i):e.appendChild(t),t})},replace:tt,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=G(e),Pa(T(t),function(e){k(n,e.nodeName,E(t,e.nodeName))}),tt(n,t,!0)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return f.toHex(oi.trim(t))},run:V,getAttribs:T,isEmpty:function(t,e){var n,i,r,o,s,a,l=0;if(t=t.firstChild){s=new w(t,t.parentNode),e=e||(h?h.getNonEmptyElements():null),o=h?h.getWhiteSpaceElements():{};do{if(r=t.nodeType,ia.isElement(t)){var u=t.getAttribute("data-mce-bogus");if(u){t=s.next("all"===u);continue}if(a=t.nodeName.toLowerCase(),e&&e[a]){if("br"===a){l++,t=s.next();continue}return!1}for(n=(i=T(t)).length;n--;)if("name"===(a=i[n].nodeName)||"data-mce-bookmark"===a)return!1}if(8===r)return!1;if(3===r&&!Ia.test(t.nodeValue))return!1;if(3===r&&t.parentNode&&o[t.parentNode.nodeName]&&Ia.test(t.nodeValue))return!1;t=s.next()}while(t)}return l<=1},createRng:et,nodeIndex:Ha,split:function(t,e,n){var i,r,o,s=et();if(t&&e)return s.setStart(t.parentNode,Ha(t)),s.setEnd(e.parentNode,Ha(e)),i=s.extractContents(),(s=et()).setStart(e.parentNode,Ha(e)+1),s.setEnd(t.parentNode,Ha(t)+1),r=s.extractContents(),(o=t.parentNode).insertBefore(aa.trimNode(ot,i),t),n?o.insertBefore(n,t):o.insertBefore(e,t),o.insertBefore(aa.trimNode(ot,r),t),Q(t),n||e},bind:nt,unbind:it,fire:function(t,e,n){return p.fire(t,e,n)},getContentEditable:rt,getContentEditableParent:function(t){for(var e=M(),n=null;t&&t!==e&&null===(n=rt(t));t=t.parentNode);return n},destroy:function(){if(d)for(var t=d.length;t--;){var e=d[t];p.unbind(e[0],e[1],e[2])}qn.setDocument&&qn.setDocument()},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return n=La(f,e,function(){return ot}),ot}function _(){var t=this,e=[],n={},i={},r=[],o=function(t){var e;return i[t]&&(e=i[t].dependencies),e||[]},s=function(t,n,o){e.push(n),i[t]={instance:n,dependencies:o};var s=oe.partition(r,function(e){return e.name===t});return r=s.fail,Ua(s.pass,function(t){t.callback()}),n},a=function(t){delete n[t],delete i[t]},l=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},u=function(t,e,n){var i=o(name);Ua(i,function(e){var n=l(t,e);c(n.resource,n,undefined,undefined)}),e&&(n?e.call(n):e.call(Va))},c=function(t,e,r,o,s){if(!n[t]){var a="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=_.baseURL+"/"+a),n[t]=a.substring(0,a.lastIndexOf("/")),i[t]?u(e,r,o):Va.ScriptLoader.add(a,function(){return u(e,r,o)},o,s)}};return{items:e,urls:n,lookup:i,_listeners:r,get:function(t){return i[t]?i[t].instance:undefined},dependencies:o,requireLangPack:function(t,e){var i=_.language;if(i&&!1!==_.languageLoad){if(e)if(-1!==(e=","+e+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1===e.indexOf(","+i+","))return;Va.ScriptLoader.add(n[t]+"/langs/"+i+".js")}},add:s,remove:a,createUrl:l,addComponents:function(e,n){var i=t.urls[e];Ua(n,function(t){Va.ScriptLoader.add(i+"/"+t)})},load:c,waitFor:function(t,e){i.hasOwnProperty(t)?e():r.push({name:t,callback:e})}}}function E(t,e,n){var i=function(){return Kl(t),0===e},r=function(){return Kl(t)?e>=t.data.length:e>=t.childNodes.length},o=function(){var n;return(n=tu(t.ownerDocument)).setStart(t,e),n.setEnd(t,e),n},s=function(){return n||(n=uu(E(t,e))),n},a=function(){return s().length>0},l=function(n){return n&&t===n.container()&&e===n.offset()},u=function(n){return Jl(t,n?e-1:e)};return{container:ql.constant(t),offset:ql.constant(e),toRange:o,getClientRects:s,isVisible:a,isAtStart:i,isAtEnd:r,isEqual:l,getNode:u}}function T(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return s(n).getOr("")},i=function(t){try{return r(t)}catch(e){return _t.none()}},r=function(e){return t(e)?_t.from(e.dom().nodeValue):_t.none()},o=Or.detect().browser,s=o.isIE()&&10===o.version.major?i:r;return{get:n,getOption:s,set:function(n,i){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=i}}}function k(t){var e,n,i,r,o,s=[];return e=(t=t||{}).indent,n=vf(t.indent_before||""),i=vf(t.indent_after||""),r=ba.getEncodeFunc(t.entity_encoding||"raw",t.entities),o="html"===t.element_format,{start:function(t,a,l){var u,c,d,h;if(e&&n[t]&&s.length>0&&(h=s[s.length-1]).length>0&&"\n"!==h&&s.push("\n"),s.push("<",t),a)for(u=0,c=a.length;u<c;u++)d=a[u],s.push(" ",d.name,'="',r(d.value,!0),'"');s[s.length]=!l||o?">":" />",l&&e&&i[t]&&s.length>0&&(h=s[s.length-1]).length>0&&"\n"!==h&&s.push("\n")},end:function(t){var n;s.push("</",t,">"),e&&i[t]&&s.length>0&&(n=s[s.length-1]).length>0&&"\n"!==n&&s.push("\n")},text:function(t,e){t.length>0&&(s[s.length]=e?t:r(t))},cdata:function(t){s.push("<![CDATA[",t,"]]>")},comment:function(t){s.push("<!--",t,"-->")},pi:function(t,n){n?s.push("<?",t," ",r(n),"?>"):s.push("<?",t,"?>"),e&&s.push("\n")},doctype:function(t){s.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}}function D(t,e){void 0===e&&(e=x());var n=k(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(i){var r,o;o=t.validate,r={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{s(t)}while(t=t.next)}},n.reset();var s=function(t){var i,a,l,u,c,d,h,f,p,m=r[t.type];if(m)m(t);else{if(i=t.name,a=t.shortEnded,l=t.attributes,o&&l&&l.length>1&&((d=[]).map={},p=e.getElementRule(t.name))){for(h=0,f=p.attributesOrder.length;h<f;h++)(u=p.attributesOrder[h])in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(h=0,f=l.length;h<f;h++)(u=l[h].name)in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(n.start(t.name,l,a),!a){if(t=t.firstChild)do{s(t)}while(t=t.next);n.end(i)}}};return 1!==i.type||t.inner?r[11](i):s(i),n.getContent()}}}function M(t,e,n,i,r){return t(n,i)?_t.some(n):kt.isFunction(r)&&r(n)?_t.none():e(n,i,r)}function A(t){var e,n,i,r,o={state:{},exec:{},value:{}},s=t.settings;t.on("PreInit",function(){e=t.dom,n=t.selection,s=t.settings,i=t.formatter});var a=function(e){var n;if(!t.quirks.isHidden()&&!t.removed){if(e=e.toLowerCase(),n=o.state[e])return n(e);try{return t.getDoc().queryCommandState(e)}catch(i){}return!1}},l=function(t,e){e=e||"exec",Hy(t,function(t,n){Hy(n.toLowerCase().split(","),function(n){o[e][n]=t})})},u=function(e,n,i){e=e.toLowerCase(),o.value[e]=function(){return n.call(i||t)}};zy(this,{execCommand:function(e,n,i,r){var s,a,l=!1;if(!t.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Iy.restore(t):t.focus(),(r=t.fire("BeforeExecCommand",{command:e,ui:n,value:i})).isDefaultPrevented())return!1;if(a=e.toLowerCase(),s=o.exec[a])return s(a,n,i),t.fire("ExecCommand",{command:e,ui:n,value:i}),!0;if(Hy(t.plugins,function(r){if(r.execCommand&&r.execCommand(e,n,i))return t.fire("ExecCommand",{command:e,ui:n,value:i}),l=!0,!1}),l)return l;if(t.theme&&t.theme.execCommand&&t.theme.execCommand(e,n,i))return t.fire("ExecCommand",{command:e,ui:n,value:i}),!0;try{l=t.getDoc().execCommand(e,n,i)}catch(u){}return!!l&&(t.fire("ExecCommand",{command:e,ui:n,value:i}),!0)}},queryCommandState:a,queryCommandValue:function(e){var n;if(!t.quirks.isHidden()&&!t.removed){if(e=e.toLowerCase(),n=o.value[e])return n(e);try{return t.getDoc().queryCommandValue(e)}catch(i){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),o.exec[e])return!0;try{return t.getDoc().queryCommandSupported(e)}catch(n){}return!1},addCommands:l,addCommand:function(e,n,i){e=e.toLowerCase(),o.exec[e]=function(e,r,o,s){return n.call(i||t,r,o,s)}},addQueryStateHandler:function(e,n,i){e=e.toLowerCase(),o.state[e]=function(){return n.call(i||t)}},addQueryValueHandler:u,hasCustomCommand:function(t){return t=t.toLowerCase(),!!o.exec[t]}});var c=function(e,n,i){return n===undefined&&(n=!1),i===undefined&&(i=null),t.getDoc().execCommand(e,n,i)},d=function(t){return i.match(t)},h=function(e,n){i.toggle(e,n?{value:n}:undefined),t.nodeChanged()},f=function(t){r=n.getBookmark(t)},p=function(){n.moveToBookmark(r)};l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(e){var n,i=t.getDoc();try{c(e)}catch(o){n=!0}if("paste"!==e||i.queryCommandEnabled(e)||(n=!0),n||!i.queryCommandSupported(e)){var r=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");He.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(n.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else i.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"===e&&(e="justify"),Hy("left,center,right,justify".split(","),function(t){e!==t&&i.remove("align"+t)}),"none"!==e&&h("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var i,r;c(t),(i=e.getParent(n.getNode(),"ol,ul"))&&(r=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(f(),e.split(r,i),p()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){h(t)},"ForeColor,HiliteColor":function(t,e,n){h(t,n)},FontName:function(e,n,i){Bv(t,i)},FontSize:function(e,n,i){zv(t,i)},RemoveFormat:function(t){i.remove(t)},mceBlockQuote:function(){h("blockquote")},FormatBlock:function(t,e,n){return h(n||"p")},mceCleanup:function(){var e=n.getBookmark();t.setContent(t.getContent()),n.moveToBookmark(e)},mceRemoveNode:function(e,i,r){var o=r||n.getNode();o!==t.getBody()&&(f(),t.dom.remove(o,!0),p())},mceSelectNodeDepth:function(i,r,o){var s=0;e.getParent(n.getNode(),function(t){if(1===t.nodeType&&s++===o)return n.select(t),!1},t.getBody())},mceSelectNode:function(t,e,i){n.select(i)},mceInsertContent:function(e,n,i){Tf.insertAtCaret(t,i)},mceInsertRawHTML:function(e,i,r){var o=t.getContent();n.setContent("tiny_mce_marker"),t.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(t,e,n){h(n)},mceSetContent:function(e,n,i){t.setContent(i)},"Indent,Outdent":function(e){By(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,i,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(t,r,o){var s;"string"==typeof o&&(o={href:o}),s=e.getParent(n.getNode(),"a"),o.href=o.href.replace(" ","%20"),s&&o.href||i.remove("link"),o.href&&i.apply("link",o,s)},selectAll:function(){var t=e.getParent(n.getStart(),ia.isContentEditableTrue);if(t){var i=e.createRng();i.selectNodeContents(t),n.setRng(i)}},"delete":function(){Ev.deleteCommand(t)},forwardDelete:function(){Ev.forwardDeleteCommand(t)},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,i){return hy.insert(t,i),!0}});var m=function(t){return function(){var r=n.isCollapsed()?[e.getParent(n.getNode(),e.isBlock)]:n.getSelectedBlocks(),o=Fy(r,function(e){return!!i.matchNode(e,t)});return-1!==jy(o,!0)}};l({JustifyLeft:m("alignleft"),JustifyCenter:m("aligncenter"),JustifyRight:m("alignright"),JustifyFull:m("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return d(t)},mceBlockQuote:function(){return d("blockquote")},Outdent:function(){var t;if(s.inline_styles){if((t=e.getParent(n.getStart(),e.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return!0;if((t=e.getParent(n.getEnd(),e.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return!0}return a("InsertUnorderedList")||a("InsertOrderedList")||!s.inline_styles&&!!e.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var i=e.getParent(n.getNode(),"ul,ol");return i&&("insertunorderedlist"===t&&"UL"===i.tagName||"insertorderedlist"===t&&"OL"===i.tagName)}},"state"),l({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),u("FontName",function(){return Hv(t)},this),u("FontSize",function(){return Fv(t)},this)}function P(t,e,n){var i=n||!1,r=function(){e(),i=!0},o=function(){t(),i=!1};return{on:r,off:o,toggle:function(){(i?o:r)()},isOn:function(){return i}}}function O(t){var e=this,n={},i=[],r=function(t){var e,n,i={};for(n in yb(bb(t,"+"),function(t){t in xb?i[t]=!0:/^[0-9]{2,}$/.test(t)?i.keyCode=parseInt(t,10):(i.charCode=t.charCodeAt(0),i.keyCode=wb[t]||t.toUpperCase().charCodeAt(0))}),e=[i.keyCode],xb)i[n]?e.push(n):i[n]=!1;return i.id=e.join(","),i.access&&(i.alt=!0,He.mac?i.ctrl=!0:i.shift=!0),i.meta&&(He.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},o=function(e,n,i,o){var s;return(s=oi.map(bb(e,">"),r))[s.length-1]=oi.extend(s[s.length-1],{func:i,scope:o||t}),oi.extend(s[0],{desc:t.translate(n),subpatterns:s.slice(1)})},s=function(t){return t.altKey||t.ctrlKey||t.metaKey},a=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},l=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},u=function(t){return t.func?t.func.call(t.scope):null};t.on("keyup keypress keydown",function(t){!s(t)&&!a(t)||t.isDefaultPrevented()||(yb(n,function(e){if(l(t,e))return i=e.subpatterns.slice(0),"keydown"===t.type&&u(e),!0}),l(t,i[0])&&(1===i.length&&"keydown"===t.type&&u(i[0]),i.shift()))}),e.add=function(e,i,r,s){var a;return a=r,"string"==typeof r?r=function(){t.execCommand(a,!1,null)}:oi.isArray(a)&&(r=function(){t.execCommand(a[0],a[1],a[2])}),yb(bb(oi.trim(e.toLowerCase())),function(t){var e=o(t,i,r,s);n[e.id]=e}),!0},e.remove=function(t){var e=o(t);return!!n[e.id]&&(delete n[e.id],!0)}}function R(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}}function N(t){var e=[],n=function(){var e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():R()},i=function(){return _t.from(e[0])},r=function(t,e){return!(t.type!==e.type||t.text!==e.text||t.progressBar||t.timeout||e.progressBar||e.timeout)},o=function(){e.length>0&&n().reposition(e)},s=function(t){e.push(t)},a=function(t){oe.findIndex(e,function(e){return e===t}).each(function(t){e.splice(t,1)})},l=function(i){if(!t.removed&&Gb.isEditorAttachedToDom(t))return oe.find(e,function(t){return r(n().getArgs(t),i)}).getOrThunk(function(){t.editorManager.setActive(t);var e=n().open(i,function(){a(e),o()});return s(e),o(),e})},u=function(){i().each(function(t){n().close(t),a(t),o()})},c=function(){return e};return function(t){t.on("SkinLoaded",function(){var e=t.settings.service_message;e&&l({text:e,type:"warning",timeout:0,icon:""})}),t.on("ResizeEditor ResizeWindow",function(){Ue.requestAnimationFrame(o)}),t.on("remove",function(){oe.each(e,function(t){n().close(t)})})}(t),{open:l,close:u,getNotifications:c}}function I(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}function L(t){var e=[],n=function(){var e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():I()},i=function(t,e){return function(){return e?e.apply(t,arguments):undefined}},r=function(e){t.fire("OpenWindow",{win:e})},o=function(e){t.fire("CloseWindow",{win:e})},s=function(t){e.push(t),r(t)},a=function(n){oe.findIndex(e,function(t){return t===n}).each(function(i){e.splice(i,1),o(n),0===e.length&&t.focus()})},l=function(){return _t.from(e[e.length-1])},u=function(e,i){t.editorManager.setActive(t),Iy.store(t);var r=n().open(e,i,a);return s(r),r},c=function(t,e,r){var o=n().alert(t,i(r||this,e),a);s(o)},d=function(t,e,r){var o=n().confirm(t,i(r||this,e),a);s(o)},h=function(){l().each(function(t){n().close(t),a(t)})},f=function(){return l().map(n().getParams).getOr(null)},p=function(t){l().each(function(e){n().setParams(e,t)})},m=function(){return e};return t.on("remove",function(){oe.each(e.slice(0),function(t){n().close(t)})}),{windows:e,open:u,alert:c,confirm:d,close:h,getParams:f,setParams:p,getWindows:m}}function B(){return new(he.getOrDie("XMLHttpRequest"))}function H(t,e){var n={},i=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e},r=function(t,n,r,o){var s,a;(s=new B).open("POST",e.url),s.withCredentials=e.credentials,s.upload.onprogress=function(t){o(t.loaded/t.total*100)},s.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var t;s.status<200||s.status>=300?r("HTTP Error: "+s.status):(t=JSON.parse(s.responseText))&&"string"==typeof t.location?n(i(e.basePath,t.location)):r("Invalid JSON: "+s.responseText)},(a=new FormData).append("file",t.blob(),t.filename()),s.send(a)},o=function(){return new Fe(function(t){t([])})},s=function(t,e){return{url:e,blobInfo:t,status:!0}},a=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},l=function(t,e){oi.each(n[t],function(t){t(e)}),delete n[t]},u=function(e,n,i){return t.markPending(e.blobUri()),new Fe(function(r){var o;try{var u=function(){o&&o.close()};n(e,function(n){u(),t.markUploaded(e.blobUri(),n),l(e.blobUri(),s(e,n)),r(s(e,n))},function(n){u(),t.removeFailed(e.blobUri()),l(e.blobUri(),a(e,n)),r(a(e,n))},function(t){t<0||t>100||(o||(o=i()),o.progressBar.value(t))})}catch(c){r(a(e,c.message))}})},c=function(t){return t===r},d=function(t){var e=t.blobUri();return new Fe(function(t){n[e]=n[e]||[],n[e].push(t)})},h=function(n,i){return n=oi.grep(n,function(e){return!t.isUploaded(e.blobUri())}),Fe.all(oi.map(n,function(n){return t.isPending(n.blobUri())?d(n):u(n,e.handler,i)}))},f=function(t,n){return!e.url&&c(e.handler)?o():h(t,n)};return e=oi.extend({credentials:!1,handler:r},e),{upload:f}}function z(t,e){return new(he.getOrDie("Blob"))(t,e)}function F(){return new(he.getOrDie("FileReader"))}function j(t){return new(he.getOrDie("Uint8Array"))(t)}function q(t,e){var n={};return{findAll:function(i,r){var o;r||(r=ql.constant(!0)),o=$n.filter(dw(i),function(e){var n=e.src;return!!He.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===He.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n):0===n.indexOf("data:")&&r(e))});var s=$n.map(o,function(t){if(n[t.src])return new Fe(function(e){n[t.src].then(function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})})});var i=new Fe(function(n,i){cw(e,t,n,i)}).then(function(t){return delete n[t.image.src],t})["catch"](function(e){return delete n[t.src],e});return n[t.src]=i,i});return Fe.all(s)}}}function W(){var t=[],e=ql.constant,n=function(t){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[t.toLowerCase()]||"dat"},i=function(t,e,n,i){return r("object"==typeof t?t:{id:t,name:i,blob:e,base64:n})},r=function(t){var i,r;if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return i=t.id||pw.uuid("blobid"),r=t.name||i,{id:e(i),name:e(r),filename:e(r+"."+n(t.blob.type)),blob:e(t.blob),base64:e(t.base64),blobUri:e(t.blobUri||pe.createObjectURL(t.blob)),uri:e(t.uri)}},o=function(e){s(e.id())||t.push(e)},s=function(t){return a(function(e){return e.id()===t})},a=function(e){return $n.filter(t,e)[0]};return{create:i,add:o,get:s,getByUri:function(t){return a(function(e){return e.blobUri()===t})},findFirst:a,removeByUri:function(e){t=$n.filter(t,function(t){return t.blobUri()!==e||(pe.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){$n.each(t,function(t){pe.revokeObjectURL(t.blobUri())}),t=[]}}}function V(){var t=1,e=2,n={},i=function(t,e){return{status:t,resultUri:e}},r=function(t){return t in n};return{hasBlobUri:r,getResultUri:function(t){var e=n[t];return e?e.resultUri:null},isPending:function(e){return!!r(e)&&n[e].status===t},isUploaded:function(t){return!!r(t)&&n[t].status===e},markPending:function(e){n[e]=i(t,null)},markUploaded:function(t,r){n[t]=i(e,r)},removeFailed:function(t){delete n[t]},destroy:function(){n={}}}}function U(t){var e,n,i=W(),r=t.settings,o=V(),s=function(e){return function(n){return t.selection?e(n):[]}},a=function(){
return"?"+(new Date).getTime()},l=function(t,e,n){var i=0;do{-1!==(i=t.indexOf(e,i))&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1)}while(-1!==i);return t},u=function(t,e,n){return t=l(t,'src="'+e+'"','src="'+n+'"'),t=l(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},c=function(e,n){$n.each(t.undoManager.data,function(t){"fragmented"===t.type?t.fragments=$n.map(t.fragments,function(t){return u(t,e,n)}):t.content=u(t.content,e,n)})},d=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},h=function(e,n){i.removeByUri(e.src),c(e.src,n),t.$(e).attr({src:r.images_reuse_filename?n+a():n,"data-mce-src":t.convertURL(n,"src")})},f=function(n){return e||(e=H(o,{url:r.images_upload_url,basePath:r.images_upload_base_path,credentials:r.images_upload_credentials,handler:r.images_upload_handler})),g().then(s(function(i){var r;return r=$n.map(i,function(t){return t.blobInfo}),e.upload(r,d).then(s(function(e){var r=$n.map(e,function(e,n){var r=i[n].image;return e.status&&!1!==t.settings.images_replace_blob_uris?h(r,e.url):e.error&&tw.uploadError(t,e.error),{element:r,status:e.status}});return n&&n(r),r}))}))},p=function(t){if(!1!==r.automatic_uploads)return f(t)},m=function(t){return!r.images_dataimg_filter||r.images_dataimg_filter(t)},g=function(){return n||(n=q(o,i)),n.findAll(t.getBody(),m).then(s(function(e){return e=$n.filter(e,function(e){return"string"!=typeof e||(tw.displayError(t,e),!1)}),$n.each(e,function(t){c(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),e}))},v=function(){i.destroy(),o.destroy(),n=e=null},y=function(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var r=o.getResultUri(n);if(r)return'src="'+r+'"';var s=i.getByUri(n);return s||(s=$n.reduce(t.editorManager.get(),function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)},null)),s?'src="data:'+s.blob().type+";base64,"+s.base64()+'"':e})};return t.on("setContent",function(){!1!==t.settings.automatic_uploads?p():g()}),t.on("RawSaveContent",function(t){t.content=y(t.content)}),t.on("getContent",function(t){t.source_view||"raw"===t.format||(t.content=y(t.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(t){$n.each(t,function(t){var e=t.attr("src");if(!i.getByUri(e)){var n=o.getResultUri(e);n&&t.attr("src",n)}})})}),{blobCache:i,uploadImages:f,uploadImagesAuto:p,scanForImages:g,destroy:v}}function $(t){var e,n=[],i=function(e){var i,r;if((r=t.$(e).parentsUntil(t.getBody()).add(e)).length===n.length){for(i=r.length;i>=0&&r[i]===n[i];i--);if(-1===i)return n=r,!0}return n=r,!1};"onselectionchange"in t.getDoc()||t.on("NodeChange Click MouseUp KeyUp Focus",function(n){var i,r;r={startContainer:(i=t.selection.getRng()).startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!==n.type&&jv.isEq(r,e)||t.fire("SelectionChange"),e=r}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var e=t.selection.getStart(!0);!e||!He.range&&t.selection.isCollapsed()||kw(t)&&!i(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("MouseUp",function(e){!e.isDefaultPrevented()&&kw(t)&&("IMG"===t.selection.getNode().nodeName?Ue.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())}),this.nodeChanged=function(e){var n,i,r,o=t.selection;t.initialized&&o&&!t.settings.disable_nodechange&&!t.readonly&&(r=t.getBody(),(n=o.getStart(!0)||r).ownerDocument===t.getDoc()&&t.dom.isChildOf(n,r)||(n=r),i=[],t.dom.getParent(n,function(t){if(t===r)return!0;i.push(t)}),(e=e||{}).element=n,e.parents=i,t.fire("NodeChange",e))}}function Y(t,e){void 0===e&&(e=x());var n=function(){};!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var i=t.comment?t.comment:n,r=t.cdata?t.cdata:n,o=t.text?t.text:n,s=t.start?t.start:n,a=t.end?t.end:n,l=t.pi?t.pi:n,u=t.doctype?t.doctype:n;return{parse:function(n){var c,d,h,f,p,m,g,v,y,b,w,x,C,S,_,E,T,k,D,M,A,P,O,R,N,I,L,B,H,z=0,F=[],j=0,q=ba.decode,W=oi.makeMap("src,href,data,background,formaction,poster,xlink:href"),V=/((java|vb)script|mhtml):/i,U=function(t){var e,n;for(e=F.length;e--&&F[e].name!==t;);if(e>=0){for(n=F.length-1;n>=e;n--)(t=F[n]).valid&&a(t.name);F.length=e}},$=function(e,n,i,r,o){var s,a,l=/[\s\u0000-\u001F]+/g;if(i=(n=n.toLowerCase())in w?n:q(i||r||o||""),C&&!v&&!1===Nx(n)){if(!(s=k[n])&&D){for(a=D.length;a--&&!(s=D[a]).pattern.test(n););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}if(W[n]&&!t.allow_script_urls){var u=i.replace(l,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}if(V.test(u))return;if(Lx(t,u))return}v&&(n in W||0===n.indexOf("on"))||(f.map[n]=i,f.push({name:n,value:i}))};for(N=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),I=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=e.getShortEndedElements(),R=t.self_closing_elements||e.getSelfClosingElements(),w=e.getBoolAttrs(),C=t.validate,y=t.remove_internals,H=t.fix_self_closing,L=e.getSpecialElements(),O=n+">";c=N.exec(O);){if(z<c.index&&o(q(n.substr(z,c.index-z))),d=c[6])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),U(d);else if(d=c[7]){if(c.index+c[0].length>n.length){o(q(n.substr(c.index))),z=c.index+c[0].length;continue}if(":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),x=d in b,H&&R[d]&&F.length>0&&F[F.length-1].name===d&&U(d),!C||(S=e.getElementRule(d))){if(_=!0,C&&(k=S.attributes,D=S.attributePatterns),(T=c[8])?((v=-1!==T.indexOf("data-mce-type"))&&y&&(_=!1),(f=[]).map={},T.replace(I,$)):(f=[]).map={},C&&!v){if(M=S.attributesRequired,A=S.attributesDefault,P=S.attributesForced,S.removeEmptyAttrs&&!f.length&&(_=!1),P)for(p=P.length;p--;)g=(E=P[p]).name,"{$uid}"===(B=E.value)&&(B="mce_"+j++),f.map[g]=B,f.push({name:g,value:B});if(A)for(p=A.length;p--;)(g=(E=A[p]).name)in f.map||("{$uid}"===(B=E.value)&&(B="mce_"+j++),f.map[g]=B,f.push({name:g,value:B}));if(M){for(p=M.length;p--&&!(M[p]in f.map););-1===p&&(_=!1)}if(E=f.map["data-mce-bogus"]){if("all"===E){z=Bx(e,n,N.lastIndex),N.lastIndex=z;continue}_=!1}}_&&s(d,f,x)}else _=!1;if(h=L[d]){h.lastIndex=z=c.index+c[0].length,(c=h.exec(n))?(_&&(m=n.substr(z,c.index-z)),z=c.index+c[0].length):(m=n.substr(z),z=n.length),_&&(m.length>0&&o(m,!0),a(d)),N.lastIndex=z;continue}x||(T&&T.indexOf("/")===T.length-1?_&&a(d):F.push({name:d,valid:_}))}else(d=c[1])?(">"===d.charAt(0)&&(d=" "+d),t.allow_conditional_comments||"[if"!==d.substr(0,3).toLowerCase()||(d=" "+d),i(d)):(d=c[2])?r(Ix(d)):(d=c[3])?u(d):(d=c[4])&&l(d,c[5]);z=c.index+c[0].length}for(z<n.length&&o(q(n.substr(z))),p=F.length-1;p>=0;p--)(d=F[p]).valid&&a(d.name)}}}function G(t){var e,n,i=this,r=0,o=[],s=0,a=function(){return 0===s},l=function(t){a()&&(i.typing=t)},u=function(e){t.setDirty(e)},c=function(t){l(!1),i.add({},t)},d=function(){i.typing&&(l(!1),i.add())};t.on("init",function(){i.add()}),t.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(d(),i.beforeChange())}),t.on("ExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&c(t)}),t.on("ObjectResizeStart Cut",function(){i.beforeChange()}),t.on("SaveContent ObjectResized blur",c),t.on("DragEnd",c),t.on("KeyUp",function(e){var r=e.keyCode;e.isDefaultPrevented()||((r>=33&&r<=36||r>=37&&r<=40||45===r||e.ctrlKey)&&(c(),t.nodeChanged()),46!==r&&8!==r||t.nodeChanged(),n&&i.typing&&!1===cC.isEq(cC.createFromEditor(t),o[0])&&(!1===t.isDirty()&&(u(!0),t.fire("change",{level:o[0],lastLevel:null})),t.fire("TypingUndo"),n=!1,t.nodeChanged()))}),t.on("KeyDown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented())if(e>=33&&e<=36||e>=37&&e<=40||45===e)i.typing&&c(t);else{var r=t.ctrlKey&&!t.altKey||t.metaKey;!(e<16||e>20)||224===e||91===e||i.typing||r||(i.beforeChange(),l(!0),i.add({},t),n=!0)}}),t.on("MouseDown",function(t){i.typing&&c(t)});var h=function(t){return"insertReplacementText"===t.inputType},f=function(t){return"insertText"===t.inputType&&null===t.data};return t.on("input",function(t){t.inputType&&(h(t)||f(t))&&c(t)}),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()}),i={data:o,typing:!1,beforeChange:function(){a()&&(e=Ih.getUndoBookmark(t.selection))},add:function(n,i){var s,l,c,d=t.settings;if(c=cC.createFromEditor(t),n=n||{},n=oi.extend(n,c),!1===a()||t.removed)return null;if(l=o[r],t.fire("BeforeAddUndo",{level:n,lastLevel:l,originalEvent:i}).isDefaultPrevented())return null;if(l&&cC.isEq(l,n))return null;if(o[r]&&(o[r].beforeBookmark=e),d.custom_undo_redo_levels&&o.length>d.custom_undo_redo_levels){for(s=0;s<o.length-1;s++)o[s]=o[s+1];o.length--,r=o.length}n.bookmark=Ih.getUndoBookmark(t.selection),r<o.length-1&&(o.length=r+1),o.push(n),r=o.length-1;var h={level:n,lastLevel:l,originalEvent:i};return t.fire("AddUndo",h),r>0&&(u(!0),t.fire("change",h)),n},undo:function(){var e;return i.typing&&(i.add(),i.typing=!1,l(!1)),r>0&&(e=o[--r],cC.applyToEditor(t,e,!0),u(!0),t.fire("undo",{level:e})),e},redo:function(){var e;return r<o.length-1&&(e=o[++r],cC.applyToEditor(t,e,!1),u(!0),t.fire("redo",{level:e})),e},clear:function(){o=[],r=0,i.typing=!1,i.data=o,t.fire("ClearUndos")},hasUndo:function(){return r>0||i.typing&&o[0]&&!cC.isEq(cC.createFromEditor(t),o[0])},hasRedo:function(){return r<o.length-1&&!i.typing},transact:function(t){return d(),i.beforeChange(),i.ignore(t),i.add()},ignore:function(t){try{s++,t()}finally{s--}},extra:function(e,n){var s,a;i.transact(e)&&(a=o[r].bookmark,s=o[r-1],cC.applyToEditor(t,s,!0),i.transact(n)&&(o[r-1].beforeBookmark=a))}}}function X(t){var e={},n=function(t){return t?e[t]:e},i=function(t,n){t&&("string"!=typeof t?oi.each(t,function(t,e){i(e,t)}):(n=n.length?n:[n],oi.each(n,function(t){"undefined"==typeof t.deep&&(t.deep=!t.selector),"undefined"==typeof t.split&&(t.split=!t.selector||t.inline),"undefined"==typeof t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),e[t]=n))},r=function(t){return t&&e[t]&&delete e[t],e};return i($S.get(t.dom)),i(t.settings.formats),{get:n,register:i,unregister:r}}function K(t){var e=X(t),n=Yc(null);return e_.setup(t),nS(t),{get:e.get,register:e.register,unregister:e.unregister,apply:yt.curry(jS.applyFormat,t),remove:yt.curry(TS.remove,t),toggle:yt.curry(t_.toggle,t,e),match:yt.curry(BC.match,t),matchAll:yt.curry(BC.matchAll,t),matchNode:yt.curry(BC.matchNode,t),canApply:yt.curry(BC.canApply,t),formatChanged:yt.curry(US.formatChanged,t,n),getCssText:yt.curry(JS.getCssText,t)}}function Q(t,e){void 0===e&&(e=x());var n={},i=[],r={},o={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var s=function(t){var n,i,r,o,s,l,u,c,d,h,f,p,m,g,v,y;for(p=k_("tr,td,th,tbody,thead,tfoot,table"),h=e.getNonEmptyElements(),f=e.getWhiteSpaceElements(),m=e.getTextBlockElements(),g=e.getSpecialElements(),n=0;n<t.length;n++)if((i=t[n]).parent&&!i.fixed)if(m[i.name]&&"li"===i.parent.name){for(v=i.next;v&&m[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!e.isValidChild(r.name,i.name)&&!p[r.name];r=r.parent)o.push(r);if(r&&o.length>1){for(o.reverse(),s=l=a(o[0].clone()),d=0;d<o.length-1;d++){for(e.isValidChild(l.name,o[d].name)?(u=a(o[d].clone()),l.append(u)):u=l,c=o[d].firstChild;c&&c!==o[d+1];)y=c.next,u.append(c),c=y;l=u}__(e,h,f,s)?r.insert(i,o[0],!0):(r.insert(s,o[0],!0),r.insert(i,s)),r=o[0],(__(e,h,f,r)||C_(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((v=i.prev)&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if((v=i.next)&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(a(new b_("ul",1)));continue}e.isValidChild(i.parent.name,"div")&&e.isValidChild("div",i.name)?i.wrap(a(new b_("div",1))):g[i.name]?i.empty().remove():i.unwrap()}}},a=function(t){var e,s,a;s in n&&((a=r[s])?a.push(t):r[s]=[t]),e=i.length;for(;e--;)(s=i[e].name)in t.attributes.map&&((a=o[s])?a.push(t):o[s]=[t]);return t},l={schema:e,addAttributeFilter:function(t,e){D_(M_(t),function(t){var n;for(n=0;n<i.length;n++)if(i[n].name===t)return void i[n].callbacks.push(e);i.push({name:t,callbacks:[e]})})},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(t,e){D_(M_(t),function(t){var i=n[t];i||(n[t]=i=[]),i.push(e)})},getNodeFilters:function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:a,parse:function(a,l){var u,c,d,h,f,p,m,g,v,y,b,w=[];l=l||{},r={},o={},v=A_(k_("script,style,head,html,body,title,meta,param"),e.getBlockElements());var x=e.getNonEmptyElements(),C=e.children,S=t.validate,_="forced_root_block"in l?l.forced_root_block:t.forced_root_block,E=e.getWhiteSpaceElements(),T=/^[ \t\r\n]+/,k=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,M=/^[ \t\r\n]+$/;y=E.hasOwnProperty(l.context)||E.hasOwnProperty(t.root_name);var A=function(){var n,i,r=N.firstChild,o=function(t){t&&((r=t.firstChild)&&3===r.type&&(r.value=r.value.replace(T,"")),(r=t.lastChild)&&3===r.type&&(r.value=r.value.replace(k,"")))};if(e.isValidChild(N.name,_.toLowerCase())){for(;r;)n=r.next,3===r.type||1===r.type&&"p"!==r.name&&!v[r.name]&&!r.attr("data-mce-type")?i?i.append(r):((i=P(_,1)).attr(t.forced_root_block_attrs),N.insert(i,r),i.append(r)):(o(i),i=null),r=n;o(i)}},P=function(t,e){var i,o=new b_(t,e);return t in n&&((i=r[t])?i.push(o):r[t]=[o]),o},O=function(t){var n,i,r,o,s=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if((r=n.value.replace(k,"")).length>0)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!s[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}},R=function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n};u=Hx({validate:S,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,self_closing_elements:R(e.getSelfClosingElements()),cdata:function(t){b.append(P("#cdata",4)).value=t},text:function(t,e){var n;y||(t=t.replace(D," "),E_(b.lastChild,v)&&(t=t.replace(T,""))),0!==t.length&&((n=P("#text",3)).raw=!!e,b.append(n).value=t)},comment:function(t){b.append(P("#comment",8)).value=t},pi:function(t,e){b.append(P(t,7)).value=e,O(b)},doctype:function(t){b.append(P("#doctype",10)).value=t,O(b)},start:function(t,n,r){var s,a,l,u,c;if(l=S?e.getElementRule(t):{}){for((s=P(l.outputName||t,1)).attributes=n,s.shortEnded=r,b.append(s),(c=C[b.name])&&C[s.name]&&!c[s.name]&&w.push(s),a=i.length;a--;)(u=i[a].name)in n.map&&((m=o[u])?m.push(s):o[u]=[s]);v[t]&&O(s),r||(b=s),!y&&E[t]&&(y=!0)}},end:function(n){var i,r,o,s,a;if(r=S?e.getElementRule(n):{}){if(v[n]&&!y){if((i=b.firstChild)&&3===i.type)if((o=i.value.replace(T,"")).length>0)i.value=o,i=i.next;else for(s=i.next,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.next,(0===o.length||M.test(o))&&(i.remove(),i=s),i=s;if((i=b.lastChild)&&3===i.type)if((o=i.value.replace(k,"")).length>0)i.value=o,i=i.prev;else for(s=i.prev,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.prev,(0===o.length||M.test(o))&&(i.remove(),i=s),i=s}if(y&&E[n]&&(y=!1),r.removeEmpty&&__(e,x,E,b)&&!b.attributes.map.name&&!b.attr("id"))return a=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=a);r.paddEmpty&&(x_(b)||__(e,x,E,b))&&w_(t,l,v,b),b=b.parent}}},e);var N=b=new b_(l.context||t.root_name,11);if(u.parse(a),S&&w.length&&(l.context?l.invalid=!0:s(w)),_&&("body"===N.name||l.isRootContent)&&A(),!l.invalid){for(g in r){for(m=n[g],f=(c=r[g]).length;f--;)c[f].parent||c.splice(f,1);for(d=0,h=m.length;d<h;d++)m[d](c,g,l)}for(d=0,h=i.length;d<h;d++)if((m=i[d]).name in o){for(f=(c=o[m.name]).length;f--;)c[f].parent||c.splice(f,1);for(f=0,p=m.callbacks.length;f<p;f++)m.callbacks[f](c,m.name,l)}}return N}};return T_(l,t),m_.register(l,t),l}function Z(t,e){var n,i,r,o=["data-mce-selected"];n=e&&e.dom?e.dom:za.DOM,i=e&&e.schema?e.schema:x(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs,r=Q(t,i),a_.register(r,t,n);var s=function(o,s){var a=s_.merge({format:"html"},s||{}),l=c_.process(e,o,a),u=R_(n,l,a),c=N_(r,u,a);return"tree"===a.format?c:L_(e,t,i,c,a)};return{schema:i,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:s,addRules:function(t){i.addValidElements(t)},setRules:function(t){i.setValidElements(t)},addTempAttr:yt.curry(P_,r,o),getTempAttrs:function(){return o}}}function J(t,e){var n=Z(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function tt(t){return{getBookmark:yt.curry(of.getBookmark,t),moveToBookmark:yt.curry(of.moveToBookmark,t)}}function et(t){var e=oi.each,n=kx.BACKSPACE,i=kx.DELETE,r=t.dom,o=t.selection,s=t.settings,a=t.parser,l=He.gecko,u=He.ie,c=He.webkit,d="data:text/mce-internal,",h=u?"Text":"URL",f=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}},p=function(t){return t.isDefaultPrevented()},m=function(e){var n,i;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&o.select(e.target),(n=t.selection.getContent()).length>0&&(i=d+escape(t.id)+","+escape(n),e.dataTransfer.setData(h,i)))},g=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(h))&&e.indexOf(d)>=0?(e=e.substr(d.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null},v=function(e,n){t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:e,internal:n}):t.execCommand("mceInsertContent",!1,e)},y=function(){var e=function(t){var e=r.create("body"),n=t.cloneContents();return e.appendChild(n),o.serializer.serialize(e,{format:"html"})},s=function(n){var i=e(n),o=r.createRng();return o.selectNode(t.getBody()),i===e(o)};t.on("keydown",function(e){var o,a,l=e.keyCode;if(!p(e)&&(l===i||l===n)){if(o=t.selection.isCollapsed(),a=t.getBody(),o&&!r.isEmpty(a))return;if(!o&&!s(t.selection.getRng()))return;e.preventDefault(),t.setContent(""),a.firstChild&&r.isBlock(a.firstChild)?t.selection.setCursorLocation(a.firstChild,0):t.selection.setCursorLocation(a,0),t.nodeChanged()}})},b=function(){t.shortcuts.add("meta+a",null,"SelectAll")},w=function(){t.settings.content_editable||r.bind(t.getDoc(),"mousedown mouseup",function(e){var n;if(e.target===t.getDoc().documentElement)if(n=o.getRng(),t.getBody().focus(),"mousedown"===e.type){if(Za(n.startContainer))return;o.placeCaretAt(e.clientX,e.clientY)}else o.setRng(n)})},x=function(){t.on("keydown",function(e){if(!p(e)&&e.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(o.isCollapsed()&&0===o.getRng().startOffset){var i=o.getNode(),s=i.previousSibling;if("HR"===i.nodeName)return r.remove(i),void e.preventDefault();s&&s.nodeName&&"hr"===s.nodeName.toLowerCase()&&(r.remove(s),e.preventDefault())}}})},C=function(){Range.prototype.getClientRects||t.on("mousedown",function(e){if(!p(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),Ue.setEditorTimeout(t,function(){n.focus()})}})},S=function(){t.on("click",function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==r.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&r.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),o.select(n))})},_=function(){var n=function(){var n=r.getAttribs(o.getStart().cloneNode(!1));return function(){var i=o.getStart();i!==t.getBody()&&(r.setAttrib(i,"style",null),e(n,function(t){i.setAttributeNode(t.cloneNode(!0))}))}},i=function(){return!o.isCollapsed()&&r.getParent(o.getStart(),r.isBlock)!==r.getParent(o.getEnd(),r.isBlock)};t.on("keypress",function(e){var r;if(!p(e)&&(8===e.keyCode||46===e.keyCode)&&i())return r=n(),t.getDoc().execCommand("delete",!1,null),r(),e.preventDefault(),!1}),r.bind(t.getDoc(),"cut",function(e){var r;!p(e)&&i()&&(r=n(),Ue.setEditorTimeout(t,function(){r()}))})},E=function(){t.on("keydown",function(t){if(!p(t)&&t.keyCode===n&&o.isCollapsed()&&0===o.getRng().startOffset){var e=o.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})},T=function(){var e=function(){f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),s.object_resizing||f("enableObjectResizing",!1)};s.readonly||t.on("BeforeExecCommand MouseDown",e)},k=function(){var n=function(){e(r.select("a"),function(t){var e=t.parentNode,n=r.getRoot();if(e.lastChild===t){for(;e&&!r.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}r.add(e,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||n()})},D=function(){s.forced_root_block&&t.on("init",function(){f("DefaultParagraphSeparator",s.forced_root_block)})},M=function(){t.on("keyup focusin mouseup",function(t){kx.modifierPressed(t)||o.normalize()},!0)},A=function(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},P=function(){t.inline||t.on("keydown",function(){document.activeElement===document.body&&t.getWin().focus()})},O=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(e){var n;if("HTML"===e.target.nodeName){if(He.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}}))},R=function(){He.mac&&t.on("keydown",function(e){!kx.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})},N=function(){f("AutoUrlDetect",!1)},I=function(){t.on("click",function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},L=function(){t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(t){t.preventDefault()})})},B=function(){a.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})},H=function(){t.on("dragstart",function(t){m(t)}),t.on("drop",function(e){if(!p(e)){var n=g(e);if(n&&n.id!==t.id){e.preventDefault();var i=$_.fromPoint(e.x,e.y,t.getDoc());o.setRng(i),v(n.html,!0)}}})},z=function(){},F=function(){var e;return!l||t.removed?0:!(e=t.selection.getSel())||!e.rangeCount||0===e.rangeCount};return t.on("keydown",function(e){var n,i,s,a,l;if(!p(e)&&e.keyCode===kx.BACKSPACE&&(i=(n=o.getRng()).startContainer,s=n.startOffset,a=r.getRoot(),l=i,n.collapsed&&0===s)){for(;l&&l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.tagName&&(t.formatter.toggle("blockquote",null,l),(n=r.createRng()).setStart(i,0),n.setEnd(i,0),o.setRng(n))}}),y(),He.windowsPhone||M(),c&&(w(),S(),D(),L(),E(),B(),He.iOS?(P(),O(),I()):b()),He.ie>=11&&(O(),E()),He.ie&&(b(),N(),H()),l&&(x(),C(),_(),T(),k(),A(),R(),E()),{refreshContentEditable:z,isHidden:F}}function nt(t){return{walk:function(e,n){return hS.walk(t,e,n)},split:zC.split,normalize:function(e){return Jv.normalize(t,e).fold(yt.constant(!1),function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0})}}}var it,rt,ot,st,at,lt,ut,ct,dt,ht,ft,pt,mt,gt,vt=function(t){return function(){return t}},yt={noop:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},noarg:function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t()}},compose:function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t(e.apply(null,arguments))}},constant:vt,identity:function(t){return t},tripleEquals:function(t,e){return t===e},curry:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=new Array(arguments.length-1),r=1;r<arguments.length;r++)i[r-1]=arguments[r];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var s=i.concat(r);return t.apply(null,s)}},not:function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,arguments)}},die:function(t){return function(){throw new Error(t)}},apply:function(t){return t()},call:function(t){t()},never:vt(!1),always:vt(!0)},bt=yt.never,wt=yt.always,xt=function(){return Ct},Ct=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},i={fold:function(t){return t()},is:bt,isSome:bt,isNone:wt,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},or:n,orThunk:e,map:xt,ap:xt,each:function(){},bind:xt,flatten:xt,exists:bt,forall:wt,filter:xt,equals:t,equals_:t,toArray:function(){return[]},toString:yt.constant("none()")};return Object.freeze&&Object.freeze(i),i}(),St=function(t){var e=function(){return t},n=function(){return r},i=function(e){return e(t)},r={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:wt,isNone:bt,getOr:e,getOrThunk:e,getOrDie:e,or:n,orThunk:n,map:function(e){return St(e(t))},ap:function(e){return e.fold(xt,function(e){return St(e(t))})},each:function(e){e(t)},bind:i,flatten:e,exists:i,forall:i,filter:function(e){return e(t)?r:Ct},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(bt,function(e){return n(t,e)})},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return r},_t={some:St,none:xt,from:function(t){return null===t||t===undefined?Ct:St(t)}},Et=function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&Array.prototype.isPrototypeOf(t)?"array":"object"===e&&String.prototype.isPrototypeOf(t)?"string":e},Tt=function(t){return function(e){return Et(e)===t}},kt={isString:Tt("string"),isObject:Tt("object"),isArray:Tt("array"),isNull:Tt("null"),isBoolean:Tt("boolean"),isUndefined:Tt("undefined"),isFunction:Tt("function"),isNumber:Tt("number")},Dt=(it=Array.prototype.indexOf)===undefined?function(t,e){return Vt(t,e)}:function(t,e){return it.call(t,e)},Mt=function(t,e){var n=Dt(t,e);return-1===n?_t.none():_t.some(n)},At=function(t,e){return Dt(t,e)>-1},Pt=function(t,e){return Wt(t,e).isSome()},Ot=function(t,e){for(var n=[],i=0;i<t;i++)n.push(e(i));return n},Rt=function(t,e){for(var n=[],i=0;i<t.length;i+=e){var r=t.slice(i,i+e);n.push(r)}return n},Nt=function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;r++){var o=t[r];i[r]=e(o,r,t)}return i},It=function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n,t)},Lt=function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n],n,t)},Bt=function(t,e){for(var n=[],i=[],r=0,o=t.length;r<o;r++){var s=t[r];(e(s,r,t)?n:i).push(s)}return{pass:n,fail:i}},Ht=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];e(o,i,t)&&n.push(o)}return n},zt=function(t,e){if(0===t.length)return[];for(var n=e(t[0]),i=[],r=[],o=0,s=t.length;o<s;o++){var a=t[o],l=e(a);l!==n&&(i.push(r),r=[]),n=l,r.push(a)}return 0!==r.length&&i.push(r),i},Ft=function(t,e,n){return Lt(t,function(t){n=e(n,t)}),n},jt=function(t,e,n){return It(t,function(t){n=e(n,t)}),n},qt=function(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];if(e(r,n,t))return _t.some(r)}return _t.none()},Wt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n],n,t))return _t.some(n);return _t.none()},Vt=function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},Ut=Array.prototype.push,$t=function(t){for(var e=[],n=0,i=t.length;n<i;++n){if(!Array.prototype.isPrototypeOf(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);Ut.apply(e,t[n])}return e},Yt=function(t,e){var n=Nt(t,e);return $t(n)},Gt=function(t,e){for(var n=0,i=t.length;n<i;++n)if(!0!==e(t[n],n,t))return!1;return!0},Xt=function(t,e){return t.length===e.length&&Gt(t,function(t,n){return t===e[n]})},Kt=Array.prototype.slice,Qt=function(t){var e=Kt.call(t,0);return e.reverse(),e},Zt=function(t,e){return Ht(t,function(t){return!At(e,t)})},Jt=function(t,e){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];n[String(o)]=e(o,i)}return n},te=function(t){return[t]},ee=function(t,e){var n=Kt.call(t,0);return n.sort(e),n},ne=function(t){return 0===t.length?_t.none():_t.some(t[0])},ie=function(t){return 0===t.length?_t.none():_t.some(t[t.length-1])},re=kt.isFunction(Array.from)?Array.from:function(t){return Kt.call(t)},oe={map:Nt,each:It,eachr:Lt,partition:Bt,filter:Ht,groupBy:zt,indexOf:Mt,foldr:Ft,foldl:jt,find:qt,findIndex:Wt,flatten:$t,bind:Yt,forall:Gt,exists:Pt,contains:At,equal:Xt,reverse:Qt,chunk:Rt,difference:Zt,mapToObject:Jt,pure:te,sort:ee,range:Ot,head:ne,last:ie,from:re},se="undefined"!=typeof window?window:Function("return this;")(),ae=function(t,e){for(var n=e!==undefined&&null!==e?e:se,i=0;i<t.length&&n!==undefined&&null!==n;++i)n=n[t[i]];return n},le=function(t,e){return t[e]!==undefined&&null!==t[e]||(t[e]={}),t[e]},ue=function(t,e){for(var n=e!==undefined?e:se,i=0;i<t.length;++i)n=le(n,t[i]);return n},ce={path:ae,resolve:function(t,e){var n=t.split(".");return ae(n,e)},forge:ue,namespace:function(t,e){var n=t.split(".");return ue(n,e)}},de=function(t,e){return ce.resolve(t,e)},he={getOrDie:function(t,e){var n=de(t,e);if(n===undefined||null===n)throw t+" not available on this browser";return n}},fe=function(){return he.getOrDie("URL")},pe={createObjectURL:function(t){return fe().createObjectURL(t)},revokeObjectURL:function(t){fe().revokeObjectURL(t)}},me=navigator,ge=me.userAgent,ve=function(t){return"matchMedia"in window&&matchMedia(t).matches};rt=!1,ht=/Android/.test(ge),st=(st=!(ot=/WebKit/.test(ge))&&!rt&&/MSIE/gi.test(ge)&&/Explorer/gi.test(me.appName))&&/MSIE (\w+)\./.exec(ge)[1],at=-1!==ge.indexOf("Trident/")&&(-1!==ge.indexOf("rv:")||-1!==me.appName.indexOf("Netscape"))&&11,lt=-1!==ge.indexOf("Edge/")&&!st&&!at&&12,st=st||at||lt,ut=!ot&&!at&&/Gecko/.test(ge),ct=-1!==ge.indexOf("Mac"),dt=/(iPad|iPhone)/.test(ge),ft="FormData"in window&&"FileReader"in window&&"URL"in window&&!!pe.createObjectURL,pt=ve("only screen and (max-device-width: 480px)")&&(ht||dt),mt=ve("only screen and (min-width: 800px)")&&(ht||dt),gt=-1!==ge.indexOf("Windows Phone"),lt&&(ot=!1);var ye,be,we,xe,Ce,Se,_e,Ee,Te,ke,De,Me,Ae,Pe,Oe,Re,Ne,Ie,Le,Be,He={opera:rt,webkit:ot,ie:st,gecko:ut,mac:ct,iOS:dt,android:ht,contentEditable:!dt||ft||parseInt(ge.match(/AppleWebKit\/(\d*)/)[1],10)>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==st,range:window.getSelection&&"Range"in window,documentMode:st&&!lt?document.documentMode||7:10,fileApi:ft,ceFalse:!1===st||st>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===st||st>11,desktop:!pt&&!mt,windowsPhone:gt},ze=function(){function t(t,e){return function(){t.apply(e,arguments)}}function e(t){var e=this;null!==this._state?u(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(r){return void t.reject(r)}t.resolve(i)}else(e._state?t.resolve:t.reject)(e._value)}):this._deferreds.push(t)}function n(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void s(t(o,e),t(n,this),t(i,this))}this._state=!0,this._value=e,r.call(this)}catch(a){i.call(this,a)}}function i(t){this._state=!1,this._value=t,r.call(this)}function r(){for(var t=0,n=this._deferreds.length;t<n;t++)e.call(this,this._deferreds[t]);this._deferreds=null}function o(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function s(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},l=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(e,t(n,this),t(i,this))},u=l.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)};return l.prototype["catch"]=function(t){return this.then(null,t)},l.prototype.then=function(t,n){
var i=this;return new l(function(r,s){e.call(i,new o(t,n,r,s))})},l.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&a(arguments[0])?arguments[0]:arguments);return new l(function(e,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){i(o,t)},n)}t[o]=s,0==--r&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},l.resolve=function(t){return t&&"object"==typeof t&&t.constructor===l?t:new l(function(e){e(t)})},l.reject=function(t){return new l(function(e,n){n(t)})},l.race=function(t){return new l(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},l},Fe=window.Promise?window.Promise:ze(),je=function(t,e){var n,i=window.requestAnimationFrame,r=["ms","moz","webkit"],o=function(t){window.setTimeout(t,0)};for(n=0;n<r.length&&!i;n++)i=window[r[n]+"RequestAnimationFrame"];i||(i=o),i(t,e)},qe=function(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)},We=function(t,e){return"number"!=typeof e&&(e=1),setInterval(t,e)},Ve=function(t,e){var n,i;return(i=function(){var i=arguments;clearTimeout(n),n=qe(function(){t.apply(this,i)},e)}).stop=function(){clearTimeout(n)},i},Ue={requestAnimationFrame:function(t,e){ye?ye.then(t):ye=new Fe(function(t){e||(e=document.body),je(t,e)}).then(t)},setTimeout:qe,setInterval:We,setEditorTimeout:function(t,e,n){return qe(function(){t.removed||e()},n)},setEditorInterval:function(t,e,n){var i;return i=We(function(){t.removed?clearInterval(i):e()},n)},debounce:Ve,throttle:Ve,clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)}},$e="mce-data-",Ye=/^(?:mouse|contextmenu)|click/,Ge={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Xe=function(t){return t.isDefaultPrevented===Qe||t.isDefaultPrevented===Ke},Ke=function(){return!1},Qe=function(){return!0},Ze=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Je=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)},tn=function(t,e){var n,i=e;return(n=t.path)&&n.length>0&&(i=n[0]),t.composedPath&&(n=t.composedPath())&&n.length>0&&(i=n[0]),i},en=function(t,e){var n,i=e||{};for(n in t)Ge[n]||(i[n]=t[n]);if(i.target||(i.target=i.srcElement||document),He.experimentalShadowDom&&(i.target=tn(t,i.target)),t&&Ye.test(t.type)&&t.pageX===undefined&&t.clientX!==undefined){var r=i.target.ownerDocument||document,o=r.documentElement,s=r.body;i.pageX=t.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),i.pageY=t.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=Qe,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=Qe,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Qe,i.stopPropagation()},!1===Xe(i)&&(i.isDefaultPrevented=Ke,i.isPropagationStopped=Ke,i.isImmediatePropagationStopped=Ke),"undefined"==typeof i.metaKey&&(i.metaKey=!1),i},nn=function(t,e,n){var i=t.document,r={type:"ready"};if(n.domLoaded)e(r);else{var o=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},s=function(){n.domLoaded||(n.domLoaded=!0,e(r))},a=function(){o()&&(Je(i,"readystatechange",a),s())},l=function(){try{i.documentElement.doScroll("left")}catch(t){return void Ue.setTimeout(l)}s()};!i.addEventListener||He.ie&&He.ie<11?(Ze(i,"readystatechange",a),i.documentElement.doScroll&&t.self===t.top&&l()):o()?s():Ze(t,"DOMContentLoaded",s),Ze(t,"load",s)}},rn=function(){var t,e,n,i,r,o=this,s={};e=$e+(+new Date).toString(32),i="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,r={mouseenter:"mouseover",mouseleave:"mouseout"},t=1,o.domLoaded=!1,o.events=s;var a=function(t,e){var n,i,r,o,a=s[e];if(n=a&&a[t.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return};o.bind=function(l,u,c,d){var h,f,p,m,g,v,y,b=window,w=function(t){a(en(t||b.event),h)};if(l&&3!==l.nodeType&&8!==l.nodeType){for(l[e]?h=l[e]:(h=t++,l[e]=h,s[h]={}),d=d||l,p=(u=u.split(" ")).length;p--;)v=w,g=y=!1,"DOMContentLoaded"===(m=u[p])&&(m="ready"),o.domLoaded&&"ready"===m&&"complete"===l.readyState?c.call(d,en({type:m})):(i||(g=r[m])&&(v=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=en(t||b.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,a(t,h))}),n||"focusin"!==m&&"focusout"!==m||(y=!0,g="focusin"===m?"focus":"blur",v=function(t){(t=en(t||b.event)).type="focus"===t.type?"focusin":"focusout",a(t,h)}),(f=s[h][m])?"ready"===m&&o.domLoaded?c({type:m}):f.push({func:c,scope:d}):(s[h][m]=f=[{func:c,scope:d}],f.fakeName=g,f.capture=y,f.nativeHandler=v,"ready"===m?nn(l,v,o):Ze(l,g||m,v,y)));return l=f=0,c}},o.unbind=function(t,n,i){var r,a,l,u,c,d;if(!t||3===t.nodeType||8===t.nodeType)return o;if(r=t[e]){if(d=s[r],n){for(l=(n=n.split(" ")).length;l--;)if(a=d[c=n[l]]){if(i)for(u=a.length;u--;)if(a[u].func===i){var h=a.nativeHandler,f=a.fakeName,p=a.capture;(a=a.slice(0,u).concat(a.slice(u+1))).nativeHandler=h,a.fakeName=f,a.capture=p,d[c]=a}i&&0!==a.length||(delete d[c],Je(t,a.fakeName||c,a.nativeHandler,a.capture))}}else{for(c in d)a=d[c],Je(t,a.fakeName||c,a.nativeHandler,a.capture);d={}}for(c in d)return o;delete s[r];try{delete t[e]}catch(m){t[e]=null}}return o},o.fire=function(t,n,i){var r;if(!t||3===t.nodeType||8===t.nodeType)return o;(i=en(null,i)).type=n,i.target=t;do{(r=t[e])&&a(i,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return o},o.clean=function(t){var n,i,r=o.unbind;if(!t||3===t.nodeType||8===t.nodeType)return o;if(t[e]&&r(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(r(t),n=(i=t.getElementsByTagName("*")).length;n--;)(t=i[n])[e]&&r(t);return o},o.destroy=function(){s={}},o.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}};rn.Event=new rn,rn.Event.bind(window,"ready",function(){});var on="sizzle"+-new Date,sn=window.document,an=0,ln=0,un=t(),cn=t(),dn=t(),hn=function(t,e){return t===e&&(Me=!0),0},fn=typeof undefined,pn=1<<31,mn={}.hasOwnProperty,gn=[],vn=gn.pop,yn=gn.push,bn=gn.push,wn=gn.slice,xn=gn.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},Cn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Sn="[\\x20\\t\\r\\n\\f]",_n="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",En="\\["+Sn+"*("+_n+")(?:"+Sn+"*([*^$|!~]?=)"+Sn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+_n+"))|)"+Sn+"*\\]",Tn=":("+_n+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+En+")*)|.*)\\)|)",kn=new RegExp("^"+Sn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Sn+"+$","g"),Dn=new RegExp("^"+Sn+"*,"+Sn+"*"),Mn=new RegExp("^"+Sn+"*([>+~]|"+Sn+")"+Sn+"*"),An=new RegExp("="+Sn+"*([^\\]'\"]*?)"+Sn+"*\\]","g"),Pn=new RegExp(Tn),On=new RegExp("^"+_n+"$"),Rn={ID:new RegExp("^#("+_n+")"),CLASS:new RegExp("^\\.("+_n+")"),TAG:new RegExp("^("+_n+"|[*])"),ATTR:new RegExp("^"+En),PSEUDO:new RegExp("^"+Tn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Sn+"*(even|odd|(([+-]|)(\\d*)n|)"+Sn+"*(?:([+-]|)"+Sn+"*(\\d+)|))"+Sn+"*\\)|)","i"),bool:new RegExp("^(?:"+Cn+")$","i"),needsContext:new RegExp("^"+Sn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Sn+"*((?:-\\d)?\\d*)"+Sn+"*\\)|)(?=[^-]|$)","i")},Nn=/^(?:input|select|textarea|button)$/i,In=/^h\d$/i,Ln=/^[^{]+\{\s*\[native \w/,Bn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Hn=/[+~]/,zn=/'|\\/g,Fn=new RegExp("\\\\([\\da-f]{1,6}"+Sn+"?|("+Sn+")|.)","ig"),jn=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{bn.apply(gn=wn.call(sn.childNodes),sn.childNodes),gn[sn.childNodes.length].nodeType}catch(UM){bn={apply:gn.length?function(t,e){yn.apply(t,wn.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}var qn=function(t,e,n,i){var r,o,a,u,c,d,h,f,p,m;if((e?e.ownerDocument||e:sn)!==Pe&&Ae(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(u=(e=e||Pe).nodeType)&&9!==u)return[];if(Re&&!i){if(r=Bn.exec(t))if(a=r[1]){if(9===u){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&Be(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return bn.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&we.getElementsByClassName)return bn.apply(n,e.getElementsByClassName(a)),n}if(we.qsa&&(!Ne||!Ne.test(t))){if(f=h=on,p=e,m=9===u&&t,1===u&&"object"!==e.nodeName.toLowerCase()){for(d=_e(t),(h=e.getAttribute("id"))?f=h.replace(zn,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",c=d.length;c--;)d[c]=f+l(d[c]);p=Hn.test(t)&&s(e.parentNode)||e,m=d.join(",")}if(m)try{return bn.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return Te(t.replace(kn,"$1"),e,n,i)};for(be in we=qn.support={},Se=qn.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},Ae=qn.setDocument=function(t){function e(t){try{return t.top}catch(e){}return null}var i,r=t?t.ownerDocument||t:sn,o=r.defaultView;return r!==Pe&&9===r.nodeType&&r.documentElement?(Pe=r,Oe=r.documentElement,Re=!Se(r),o&&o!==e(o)&&(o.addEventListener?o.addEventListener("unload",function(){Ae()},!1):o.attachEvent&&o.attachEvent("onunload",function(){Ae()})),we.attributes=!0,we.getElementsByTagName=!0,we.getElementsByClassName=Ln.test(r.getElementsByClassName),we.getById=!0,xe.find.ID=function(t,e){if(typeof e.getElementById!==fn&&Re){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},xe.filter.ID=function(t){var e=t.replace(Fn,jn);return function(t){return t.getAttribute("id")===e}},xe.find.TAG=we.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==fn)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},xe.find.CLASS=we.getElementsByClassName&&function(t,e){if(Re)return e.getElementsByClassName(t)},Ie=[],Ne=[],we.disconnectedMatch=!0,Ne=Ne.length&&new RegExp(Ne.join("|")),Ie=Ie.length&&new RegExp(Ie.join("|")),i=Ln.test(Oe.compareDocumentPosition),Be=i||Ln.test(Oe.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},hn=i?function(t,e){if(t===e)return Me=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!we.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===sn&&Be(sn,t)?-1:e===r||e.ownerDocument===sn&&Be(sn,e)?1:De?xn.call(De,t)-xn.call(De,e):0:4&n?-1:1)}:function(t,e){if(t===e)return Me=!0,0;var i,o=0,s=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!s||!a)return t===r?-1:e===r?1:s?-1:a?1:De?xn.call(De,t)-xn.call(De,e):0;if(s===a)return n(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)u.unshift(i);for(;l[o]===u[o];)o++;return o?n(l[o],u[o]):l[o]===sn?-1:u[o]===sn?1:0},r):Pe},qn.matches=function(t,e){return qn(t,null,null,e)},qn.matchesSelector=function(t,e){if((t.ownerDocument||t)!==Pe&&Ae(t),e=e.replace(An,"='$1']"),we.matchesSelector&&Re&&(!Ie||!Ie.test(e))&&(!Ne||!Ne.test(e)))try{var n=Le.call(t,e);if(n||we.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(UM){}return qn(e,Pe,null,[t]).length>0},qn.contains=function(t,e){return(t.ownerDocument||t)!==Pe&&Ae(t),Be(t,e)},qn.attr=function(t,e){(t.ownerDocument||t)!==Pe&&Ae(t);var n=xe.attrHandle[e.toLowerCase()],i=n&&mn.call(xe.attrHandle,e.toLowerCase())?n(t,e,!Re):undefined;return i!==undefined?i:we.attributes||!Re?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},qn.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},qn.uniqueSort=function(t){var e,n=[],i=0,r=0;if(Me=!we.detectDuplicates,De=!we.sortStable&&t.slice(0),t.sort(hn),Me){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return De=null,t},Ce=qn.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Ce(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=Ce(e);return n},(xe=qn.selectors={cacheLength:50,createPseudo:e,match:Rn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Fn,jn),t[3]=(t[3]||t[4]||t[5]||"").replace(Fn,jn),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||qn.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&qn.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Rn.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Pn.test(n)&&(e=_e(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Fn,jn).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=un[t+" "];return e||(e=new RegExp("(^|"+Sn+")"+t+"("+Sn+"|$)"))&&un(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==fn&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=qn.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,f,p,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(f=(u=(c=g[on]||(g[on]={}))[t]||[])[0]===an&&u[1],h=u[0]===an&&u[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[an,f,h];break}}else if(y&&(u=(e[on]||(e[on]={}))[t])&&u[0]===an)h=u[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[on]||(d[on]={}))[t]=[an,h]),d!==e)););return(h-=r)===i||h%i==0&&h/i>=0}}},PSEUDO:function(t,n){var i,r=xe.pseudos[t]||xe.setFilters[t.toLowerCase()]||qn.error("unsupported pseudo: "+t);return r[on]?r(n):r.length>1?(i=[t,t,"",n],xe.setFilters.hasOwnProperty(t.toLowerCase())?e(function(t,e){for(var i,o=r(t,n),s=o.length;s--;)t[i=xn.call(t,o[s])]=!(e[i]=o[s])}):function(t){return r(t,0,i)}):r}},pseudos:{not:e(function(t){var n=[],i=[],r=Ee(t.replace(kn,"$1"));return r[on]?e(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,e,o){return n[0]=t,r(n,null,o,i),!i.pop()}}),has:e(function(t){return function(e){return qn(t,e).length>0}}),contains:e(function(t){return t=t.replace(Fn,jn),function(e){return(e.textContent||e.innerText||Ce(e)).indexOf(t)>-1}}),lang:e(function(t){return On.test(t||"")||qn.error("unsupported lang: "+t),t=t.replace(Fn,jn).toLowerCase(),function(e){var n;do{if(n=Re?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===Oe},focus:function(t){return t===Pe.activeElement&&(!Pe.hasFocus||Pe.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!xe.pseudos.empty(t)},header:function(t){return In.test(t.nodeName)},input:function(t){return Nn.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:o(function(){return[0]}),last:o(function(t,e){return[e-1]}),eq:o(function(t,e,n){return[n<0?n+e:n]}),even:o(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:o(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:o(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:o(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=xe.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})xe.pseudos[be]=i(be);for(be in{submit:!0,reset:!0})xe.pseudos[be]=r(be);a.prototype=xe.filters=xe.pseudos,xe.setFilters=new a,_e=qn.tokenize=function(t,e){var n,i,r,o,s,a,l,u=cn[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=xe.preFilter;s;){for(o in n&&!(i=Dn.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=Mn.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(kn," ")}),s=s.slice(n.length)),xe.filter)!(i=Rn[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?qn.error(t):cn(t,a).slice(0)},Ee=qn.compile=function(t,e){var n,i=[],r=[],o=dn[t+" "];if(!o){for(e||(e=_e(t)),n=e.length;n--;)(o=p(e[n]))[on]?i.push(o):r.push(o);(o=dn(t,m(r,i))).selector=t}return o},Te=qn.select=function(t,e,n,i){var r,o,a,u,c,d="function"==typeof t&&t,h=!i&&_e(t=d.selector||t);if(n=n||[],1===h.length){if((o=h[0]=h[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&we.getById&&9===e.nodeType&&Re&&xe.relative[o[1].type]){if(!(e=(xe.find.ID(a.matches[0].replace(Fn,jn),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=Rn.needsContext.test(t)?0:o.length;r--&&(a=o[r],!xe.relative[u=a.type]);)if((c=xe.find[u])&&(i=c(a.matches[0].replace(Fn,jn),Hn.test(o[0].type)&&s(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&l(o)))return bn.apply(n,i),n;break}}return(d||Ee(t,h))(i,e,!Re,n,Hn.test(t)&&s(e.parentNode)||e),n},we.sortStable=on.split("").sort(hn).join("")===on,we.detectDuplicates=!!Me,Ae(),we.sortDetached=!0;var Wn=Array.isArray,Vn=function(t,e,n){var i,r;if(!t)return 0;if(n=n||t,t.length!==undefined){for(i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return 0}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return 0;return 1},Un=function(t,e,n){var i,r;for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return i;return-1},$n={isArray:Wn,toArray:function(t){var e,n,i=t;if(!Wn(t))for(i=[],e=0,n=t.length;e<n;e++)i[e]=t[e];return i},each:Vn,map:function(t,e){var n=[];return Vn(t,function(i,r){n.push(e(i,r,t))}),n},filter:function(t,e){var n=[];return Vn(t,function(i,r){e&&!e(i,r,t)||n.push(i)}),n},indexOf:function(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,i){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(i,n,t[r],r);return n},findIndex:Un,find:function(t,e,n){var i=Un(t,e,n);return-1!==i?t[i]:undefined},last:function(t){return t[t.length-1]}},Yn=/^\s*|\s*$/g,Gn=function(t){return null===t||t===undefined?"":(""+t).replace(Yn,"")},Xn=function(t,e){return e?!("array"!==e||!$n.isArray(t))||typeof t===e:t!==undefined},Kn=function(t,e,n){var i;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n},Qn=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Zn=function(t,e,n){var i,r,o,s,a,l=this,u=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],!(r=l.createNS(t[3].replace(/\.\w+$/,""),n))[o]){if("static"===t[2])return r[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[o]));e[o]||(e[o]=function(){},u=1),r[o]=e[o],l.extend(r[o].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,s=t[5].match(/\.(\w+)$/i)[1],a=r[o],r[o]=u?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],a.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(t,e){r[o].prototype[e]=i[e]}),l.each(e,function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!==o&&(r[o].prototype[e]=t)})),l.each(e["static"],function(t,e){r[o][e]=t})}},Jn=function(t,e){for(var n,i,r,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a,l=arguments;for(n=1,i=l.length;n<i;n++)for(r in e=l[n])e.hasOwnProperty(r)&&(a=e[r])!==undefined&&(t[r]=a);return t},ti=function(t,e,n,i){i=i||this,t&&(n&&(t=t[n]),$n.each(t,function(t,r){if(!1===e.call(i,t,r,n))return!1;ti(t,e,n,i)}))},ei=function(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)e[i=t[n]]||(e[i]={}),e=e[i];return e},ni=function(t,e){var n,i;for(e=e||window,n=0,i=(t=t.split(".")).length;n<i&&(e=e[t[n]]);n++);return e},ii=function(t,e){return!t||Xn(t,"array")?t:$n.map(t.split(e||","),Gn)},ri=function(t){var e=He.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t},oi={trim:Gn,isArray:$n.isArray,is:Xn,toArray:$n.toArray,makeMap:Kn,each:$n.each,map:$n.map,grep:$n.filter,inArray:$n.indexOf,hasOwn:Qn,extend:Jn,create:Zn,walk:ti,createNS:ei,resolve:ni,explode:ii,_addCacheSuffix:ri},si=document,ai=Array.prototype.push,li=Array.prototype.slice,ui=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ci=rn.Event,di=oi.makeMap("children,contents,next,prev"),hi=function(t){return void 0!==t},fi=function(t){return"string"==typeof t},pi=function(t){return t&&t===t.window},mi=function(t,e){var n,i,r;for(r=(e=e||si).createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return n},gi=function(t,e,n,i){var r;if(fi(e))e=mi(e,Pi(t[0]));else if(e.length&&!e.nodeType){if(e=Ei.makeArray(e),i)for(r=e.length-1;r>=0;r--)gi(t,e[r],n,i);else for(r=0;r<e.length;r++)gi(t,e[r],n,i);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t},vi=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},yi=function(t,e,n){var i,r;return e=Ei(e)[0],t.each(function(){var t=this;n&&i===t.parentNode?r.appendChild(t):(i=t.parentNode,r=e.cloneNode(!1),t.parentNode.insertBefore(r,t),r.appendChild(t))}),t},bi=oi.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),wi=oi.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),xi={"for":"htmlFor","class":"className",readonly:"readOnly"},Ci={float:"cssFloat"},Si={},_i={},Ei=function(t,e){return new Ei.fn.init(t,e)},Ti=function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},ki=/^\s*|\s*$/g,Di=function(t){return null===t||t===undefined?"":(""+t).replace(ki,"")},Mi=function(t,e){var n,i,r,o;if(t)if((n=t.length)===undefined){for(i in t)if(t.hasOwnProperty(i)&&(o=t[i],!1===e.call(o,i,o)))break}else for(r=0;r<n&&(o=t[r],!1!==e.call(o,r,o));r++);return t},Ai=function(t,e){var n=[];return Mi(t,function(t,i){e(i,t)&&n.push(i)}),n},Pi=function(t){return t?9===t.nodeType?t:t.ownerDocument:si};Ei.fn=Ei.prototype={constructor:Ei,selector:"",context:null,length:0,init:function(t,e){var n,i,r=this;if(!t)return r;if(t.nodeType)return r.context=r[0]=t,r.length=1,r;if(e&&e.nodeType)r.context=e;else{if(e)return Ei(t).attr(e);r.context=e=document}if(fi(t)){if(r.selector=t,!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ui.exec(t)))return Ei(e).find(t);if(n[1])for(i=mi(t,Pi(e)).firstChild;i;)ai.call(r,i),i=i.nextSibling;else{if(!(i=Pi(e).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(t);r.length=1,r[0]=i}}else this.add(t,!1);return r},toArray:function(){return oi.toArray(this)},add:function(t,e){var n,i,r=this;if(fi(t))return r.add(Ei(t));if(!1!==e)for(n=Ei.unique(r.toArray().concat(Ei.makeArray(t))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else ai.apply(r,Ei.makeArray(t));return r},attr:function(t,e){var n,i=this;if("object"==typeof t)Mi(t,function(t,e){i.attr(t,e)});else{if(!hi(e)){if(i[0]&&1===i[0].nodeType){if((n=Si[t])&&n.get)return n.get(i[0],t);if(wi[t])return i.prop(t)?t:undefined;null===(e=i[0].getAttribute(t,2))&&(e=undefined)}return e}this.each(function(){var n;if(1===this.nodeType){if((n=Si[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=xi[t]||t))Mi(t,function(t,e){n.prop(t,e)});else{if(!hi(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1===this.nodeType&&(this[t]=e)})}return n},css:function(t,e){var n,i,r=this,o=function(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})},s=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})};if("object"==typeof t)Mi(t,function(t,e){r.css(t,e)});else if(hi(e))t=o(t),"number"!=typeof e||bi[t]||(e=e.toString()+"px"),r.each(function(){var n=this.style;if((i=_i[t])&&i.set)i.set(this,e);else{try{this.style[Ci[t]||t]=e}catch(r){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(s(t)):n.removeAttribute(t))}});else{if(n=r[0],(i=_i[t])&&i.get)return i.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(t))}catch(a){return undefined}}return r},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],ci.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(hi(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){Ei(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(hi(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return gi(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return gi(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?gi(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?gi(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return Ei(t).append(this),this},prependTo:function(t){return Ei(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return yi(this,t)},wrapAll:function(t){return yi(this,t,!0)},wrapInner:function(t){return this.each(function(){Ei(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){Ei(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),Ei(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t?n:(-1!==t.indexOf(" ")?Mi(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,i){var r,o;(o=vi(i,t))!==e&&(r=i.className,o?i.className=Di((" "+r+" ").replace(" "+t+" "," ")):i.className+=r?" "+t:t)}),n)},hasClass:function(t){return vi(this[0],t)},each:function(t){return Mi(this,t)},on:function(t,e){return this.each(function(){ci.bind(this,t,e)})},off:function(t,e){return this.each(function(){ci.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?ci.fire(this,t.type,t):ci.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Ei(li.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)Ei.find(t,this[e],i);return Ei(i)},filter:function(t){return Ei("function"==typeof t?Ai(this.toArray(),function(e,n){return t(n,e)}):Ei.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof Ei&&(t=t[0]),this.each(function(n,i){for(;i;){if("string"==typeof t&&Ei(i).is(t)){e.push(i);break}if(i===t){e.push(i);break}i=i.parentNode}}),Ei(e)},offset:function(t){var e,n,i,r,o=0,s=0;return t?this.css(t):((e=this[0])&&(i=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(o=(r=e.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,s=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:s})},push:ai,sort:[].sort,splice:[].splice},oi.extend(Ei,{extend:oi.extend,makeArray:function(t){return pi(t)||t.nodeType?[t]:oi.toArray(t)},inArray:Ti,isArray:oi.isArray,each:Mi,trim:Di,grep:Ai,find:qn,expr:qn.selectors,unique:qn.uniqueSort,text:qn.getText,contains:qn.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!==e[i].nodeType&&e.splice(i,1);return e=1===e.length?Ei.find.matchesSelector(e[0],t)?[e[0]]:[]:Ei.find.matches(t,e)}});var Oi=function(t,e,n){var i=[],r=t[e];for("string"!=typeof n&&n instanceof Ei&&(n=n[0]);r&&9!==r.nodeType;){if(n!==undefined){if(r===n)break;if("string"==typeof n&&Ei(r).is(n))break}1===r.nodeType&&i.push(r),r=r[e]}return i},Ri=function(t,e,n,i){var r=[];for(i instanceof Ei&&(i=i[0]);t;t=t[e])if(!n||t.nodeType===n){if(i!==undefined){if(t===i)break;if("string"==typeof i&&Ei(t).is(i))break}r.push(t)}return r},Ni=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};Mi({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Oi(t,"parentNode")},next:function(t){return Ni(t,"nextSibling",1)},prev:function(t){return Ni(t,"previousSibling",1)},children:function(t){return Ri(t.firstChild,"nextSibling",1)},contents:function(t){return oi.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){Ei.fn[t]=function(n){var i=[];return this.each(function(){var t=e.call(i,this,n,i);t&&(Ei.isArray(t)?i.push.apply(i,t):i.push(t))}),this.length>1&&(di[t]||(i=Ei.unique(i)),0===t.indexOf("parents")&&(i=i.reverse())),i=Ei(i),n?i.filter(n):i}}),Mi({parentsUntil:function(t,e){return Oi(t,"parentNode",e)},nextUntil:function(t,e){return Ri(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return Ri(t,"previousSibling",1,e).slice(1)}},function(t,e){Ei.fn[t]=function(n,i){var r=[];return this.each(function(){var t=e.call(r,this,n,r);t&&(Ei.isArray(t)?r.push.apply(r,t):r.push(t))}),this.length>1&&(r=Ei.unique(r),0!==t.indexOf("parents")&&"prevUntil"!==t||(r=r.reverse())),r=Ei(r),i?r.filter(i):r}}),Ei.fn.is=function(t){return!!t&&this.filter(t).length>0},Ei.fn.init.prototype=Ei.fn,Ei.overrideDefaults=function(t){var e,n=function(i,r){return e=e||t(),0===arguments.length&&(i=e.element),r||(r=e.context),new n.fn.init(i,r)};return Ei.extend(n,this),n};var Ii=function(t,e,n){Mi(n,function(n,i){t[n]=t[n]||{},t[n][e]=i})};He.ie&&He.ie<8&&(Ii(Si,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?undefined:e},size:function(t){var e=t.size;return 20===e?undefined:e},"class":function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?undefined:e}}),Ii(Si,"set",{"class":function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),He.ie&&He.ie<9&&(Ci.float="styleFloat",Ii(_i,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),Ei.attrHooks=Si,Ei.cssHooks=_i
;var Li,Bi,Hi,zi,Fi={cached:function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(null,arguments)),e}}},ji=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}return undefined},qi=function(t,e){var n=ji(t,e);if(!n)return{major:0,minor:0};var i=function(t){return Number(e.replace(n,"$"+t))};return Ui(i(1),i(2))},Wi=function(t,e){var n=String(e).toLowerCase();return 0===t.length?Vi():qi(t,n)},Vi=function(){return Ui(0,0)},Ui=function(t,e){return{major:t,minor:e}},$i={nu:Ui,detect:Wi,unknown:Vi},Yi="Edge",Gi="Chrome",Xi="IE",Ki="Opera",Qi="Firefox",Zi="Safari",Ji=function(t,e){return function(){return e===t}},tr=function(){return er({current:undefined,version:$i.unknown()})},er=function(t){var e=t.current;return{current:e,version:t.version,isEdge:Ji(Yi,e),isChrome:Ji(Gi,e),isIE:Ji(Xi,e),isOpera:Ji(Ki,e),isFirefox:Ji(Qi,e),isSafari:Ji(Zi,e)}},nr={unknown:tr,nu:er,edge:yt.constant(Yi),chrome:yt.constant(Gi),ie:yt.constant(Xi),opera:yt.constant(Ki),firefox:yt.constant(Qi),safari:yt.constant(Zi)},ir="Windows",rr="iOS",or="Android",sr="Linux",ar="OSX",lr="Solaris",ur="FreeBSD",cr=function(t,e){return function(){return e===t}},dr=function(){return hr({current:undefined,version:$i.unknown()})},hr=function(t){var e=t.current;return{current:e,version:t.version,isWindows:cr(ir,e),isiOS:cr(rr,e),isAndroid:cr(or,e),isOSX:cr(ar,e),isLinux:cr(sr,e),isSolaris:cr(lr,e),isFreeBSD:cr(ur,e)}},fr={unknown:dr,nu:hr,windows:yt.constant(ir),ios:yt.constant(rr),android:yt.constant(or),linux:yt.constant(sr),osx:yt.constant(ar),solaris:yt.constant(lr),freebsd:yt.constant(ur)},pr=function(t,e){var n=String(e).toLowerCase();return oe.find(t,function(t){return t.search(n)})},mr={detectBrowser:function(t,e){return pr(t,e).map(function(t){var n=$i.detect(t.versionRegexes,e);return{current:t.name,version:n}})},detectOs:function(t,e){return pr(t,e).map(function(t){var n=$i.detect(t.versionRegexes,e);return{current:t.name,version:n}})}},gr={addToStart:function(t,e){return e+t},addToEnd:function(t,e){return t+e},removeFromStart:function(t,e){return t.substring(e)},removeFromEnd:function(t,e){return t.substring(0,t.length-e)}},vr={first:function(t,e){return t.substr(0,e)},last:function(t,e){return t.substr(t.length-e,t.length)},head:function(t){return""===t?_t.none():_t.some(t.substr(0,1))},tail:function(t){return""===t?_t.none():_t.some(t.substring(1))}},yr=function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(n,n+e.length)===e},br=function(t,e){return Sr(t,e)?gr.removeFromStart(t,e.length):t},wr=function(t,e){return _r(t,e)?gr.removeFromEnd(t,e.length):t},xr=function(t,e){return Sr(t,e)?t:gr.addToStart(t,e)},Cr=function(t,e){return _r(t,e)?t:gr.addToEnd(t,e)},Sr=function(t,e){return yr(t,e,0)},_r=function(t,e){return yr(t,e,t.length-e.length)},Er={supplant:function(t,e){var n=function(t){var e=typeof t;return"string"===e||"number"===e};return t.replace(/\${([^{}]*)}/g,function(t,i){var r=e[i];return n(r)?r:t})},startsWith:Sr,removeLeading:br,removeTrailing:wr,ensureLeading:xr,ensureTrailing:Cr,endsWith:_r,contains:function(t,e){return-1!==t.indexOf(e)},trim:function(t){return t.replace(/^\s+|\s+$/g,"")},lTrim:function(t){return t.replace(/^\s+/g,"")},rTrim:function(t){return t.replace(/\s+$/g,"")},capitalize:function(t){return vr.head(t).bind(function(e){return vr.tail(t).map(function(t){return e.toUpperCase()+t})}).getOr(t)}},Tr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,kr=function(t){return function(e){return Er.contains(e,t)}},Dr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Er.contains(t,"edge/")&&Er.contains(t,"chrome")&&Er.contains(t,"safari")&&Er.contains(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tr],search:function(t){return Er.contains(t,"chrome")&&!Er.contains(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Er.contains(t,"msie")||Er.contains(t,"trident")}},{name:"Opera",versionRegexes:[Tr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:kr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:kr("firefox")},{name:"Safari",versionRegexes:[Tr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Er.contains(t,"safari")||Er.contains(t,"mobile/"))&&Er.contains(t,"applewebkit")}}],Mr=[{name:"Windows",search:kr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Er.contains(t,"iphone")||Er.contains(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:kr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:kr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:kr("linux"),versionRegexes:[]},{name:"Solaris",search:kr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:kr("freebsd"),versionRegexes:[]}],Ar={browsers:yt.constant(Dr),oses:yt.constant(Mr)},Pr={detect:function(t){var e=Ar.browsers(),n=Ar.oses(),i=mr.detectBrowser(e,t).fold(nr.unknown,nr.nu),r=mr.detectOs(n,t).fold(fr.unknown,fr.nu);return{browser:i,os:r,deviceType:g(r,i,t)}}},Or={detect:Fi.cached(function(){var t=navigator.userAgent;return Pr.detect(t)})},Rr=function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",t),"HTML must have a single root node";return Lr(n.childNodes[0])},Nr=function(t,e){var n=(e||document).createElement(t);return Lr(n)},Ir=function(t,e){var n=(e||document).createTextNode(t);return Lr(n)},Lr=function(t){if(null===t||t===undefined)throw new Error("Node cannot be null or undefined");return{dom:yt.constant(t)}},Br={fromHtml:Rr,fromTag:Nr,fromText:Ir,fromDom:Lr,fromPoint:function(t,e,n){return _t.from(t.dom().elementFromPoint(e,n)).map(Lr)}},Hr={ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12},zr=function(t){return t.dom().nodeName.toLowerCase()},Fr=function(t){return t.dom().nodeType},jr=function(t){return t.dom().nodeValue},qr=function(t){return function(e){return Fr(e)===t}},Wr=function(t){return Fr(t)===Hr.COMMENT||"#comment"===zr(t)},Vr=qr(Hr.ELEMENT),Ur=qr(Hr.TEXT),$r=qr(Hr.DOCUMENT),Yr={name:zr,type:Fr,value:jr,isElement:Vr,isText:Ur,isDocument:$r,isComment:Wr},Gr=(Li=Object.keys)===undefined?function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}:Li,Xr=function(t,e){for(var n=Gr(t),i=0,r=n.length;i<r;i++){var o=n[i];e(t[o],o,t)}},Kr=function(t,e){return Qr(t,function(t,n,i){return{k:n,v:e(t,n,i)}})},Qr=function(t,e){var n={};return Xr(t,function(i,r){var o=e(i,r,t);n[o.k]=o.v}),n},Zr=function(t,e){var n=[];return Xr(t,function(t,i){n.push(e(t,i))}),n},Jr=function(t){return Zr(t,function(t){return t})},to={bifilter:function(t,e){var n={},i={};return Xr(t,function(t,r){(e(t,r)?n:i)[r]=t}),{t:n,f:i}},each:Xr,map:Kr,mapToArray:Zr,tupleMap:Qr,find:function(t,e){for(var n=Gr(t),i=0,r=n.length;i<r;i++){var o=n[i],s=t[o];if(e(s,o,t))return _t.some(s)}return _t.none()},keys:Gr,values:Jr,size:function(t){return Jr(t).length}},eo=function(t,e,n){if(!(kt.isString(n)||kt.isBoolean(n)||kt.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},no=function(t,e,n){eo(t.dom(),e,n)},io=function(t,e){var n=t.dom().getAttribute(e);return null===n?undefined:n},ro=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},oo=function(t,e,n){ro(t,n)&&!ro(e,n)&&no(e,n,io(t,n))},so={clone:function(t){return oe.foldl(t.dom().attributes,function(t,e){return t[e.name]=e.value,t},{})},set:no,setAll:function(t,e){var n=t.dom();to.each(e,function(t,e){eo(n,e,t)})},get:io,has:ro,remove:function(t,e){t.dom().removeAttribute(e)},hasNone:function(t){var e=t.dom().attributes;return e===undefined||null===e||0===e.length},transfer:function(t,e,n){Yr.isElement(t)&&Yr.isElement(e)&&oe.each(n,function(n){oo(t,e,n)})}},ao=function(t){var e=Yr.isText(t)?t.dom().parentNode:t.dom();return e!==undefined&&null!==e&&e.ownerDocument.body.contains(e)},lo=Fi.cached(function(){return uo(Br.fromDom(document))}),uo=function(t){var e=t.dom().body;if(null===e||e===undefined)throw"Body is not available yet";return Br.fromDom(e)},co={body:lo,getBody:uo,inBody:ao},ho={isSupported:function(t){return t.style!==undefined}},fo=function(t,e,n){if(!kt.isString(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);ho.isSupported(t)&&t.style.setProperty(e,n)},po=function(t,e){ho.isSupported(t)&&t.style.removeProperty(e)},mo=function(t,e,n){var i=t.dom();fo(i,e,n)},go=function(t,e){var n=t.dom(),i=window.getComputedStyle(n).getPropertyValue(e),r=""!==i||co.inBody(t)?i:vo(n,e);return null===r?undefined:r},vo=function(t,e){return ho.isSupported(t)?t.style.getPropertyValue(e):""},yo=function(t,e){var n=t.dom(),i=vo(n,e);return _t.from(i).filter(function(t){return t.length>0})},bo=function(t,e,n){yo(t,n).each(function(t){yo(e,n).isNone()&&mo(e,n,t)})},wo={copy:function(t,e){var n=t.dom(),i=e.dom();ho.isSupported(n)&&ho.isSupported(i)&&(i.style.cssText=n.style.cssText)},set:mo,preserve:function(t,e){var n=so.get(t,"style"),i=e(t);return(n===undefined?so.remove:so.set)(t,"style",n),i},setAll:function(t,e){var n=t.dom();to.each(e,function(t,e){fo(n,e,t)})},setOptions:function(t,e){var n=t.dom();to.each(e,function(t,e){t.fold(function(){po(n,e)},function(t){fo(n,e,t)})})},remove:function(t,e){var n=t.dom();po(n,e),so.has(t,"style")&&""===Er.trim(so.get(t,"style"))&&so.remove(t,"style")},get:go,getRaw:yo,getAllRaw:function(t){var e={},n=t.dom();if(ho.isSupported(n))for(var i=0;i<n.style.length;i++){var r=n.style.item(i);e[r]=n.style[r]}return e},isValidValue:function(t,e,n){var i=Br.fromTag(t);return mo(i,e,n),yo(i,e).isSome()},reflow:function(t){return t.dom().offsetWidth},transfer:function(t,e,n){Yr.isElement(t)&&Yr.isElement(e)&&oe.each(n,function(n){bo(t,e,n)})}},xo=function(t){return t.slice(0).sort()},Co={sort:xo,reqMessage:function(t,e){throw new Error("All required keys ("+xo(t).join(", ")+") were not specified. Specified keys were: "+xo(e).join(", ")+".")},unsuppMessage:function(t){throw new Error("Unsupported keys for object: "+xo(t).join(", "))},validateStrArr:function(t,e){if(!kt.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");oe.each(e,function(e){if(!kt.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")})},invalidTypeMessage:function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+xo(t).join(", ")+") were not.")},checkDupes:function(t){var e=xo(t);oe.find(e,function(t,n){return n<e.length-1&&t===e[n+1]}).each(function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")})}},So={immutable:v,immutableBag:y},_o={toArray:function(t,e){var n=[],i=function(t){return n.push(t),e(t)},r=e(t);do{r=r.bind(i)}while(r.isSome());return n}},Eo=function(){return he.getOrDie("Node")},To=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},ko={documentPositionPreceding:function(t,e){return To(t,e,Eo().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(t,e){return To(t,e,Eo().DOCUMENT_POSITION_CONTAINED_BY)}},Do=Hr.ELEMENT,Mo=Hr.DOCUMENT,Ao=function(t){return t.nodeType!==Do&&t.nodeType!==Mo||0===t.childElementCount},Po={all:function(t,e){var n=e===undefined?document:e.dom();return Ao(n)?[]:oe.map(n.querySelectorAll(t),Br.fromDom)},is:function(t,e){var n=t.dom();if(n.nodeType!==Do)return!1;if(n.matches!==undefined)return n.matches(e);if(n.msMatchesSelector!==undefined)return n.msMatchesSelector(e);if(n.webkitMatchesSelector!==undefined)return n.webkitMatchesSelector(e);if(n.mozMatchesSelector!==undefined)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},one:function(t,e){var n=e===undefined?document:e.dom();return Ao(n)?_t.none():_t.from(n.querySelector(t)).map(Br.fromDom)}},Oo=function(t,e){return t.dom()===e.dom()},Ro=function(t,e){return t.dom().isEqualNode(e.dom())},No=function(t,e){return oe.exists(e,yt.curry(Oo,t))},Io=function(t,e){var n=t.dom(),i=e.dom();return n!==i&&n.contains(i)},Lo=function(t,e){return ko.documentPositionContainedBy(t.dom(),e.dom())},Bo=Or.detect().browser.isIE()?Lo:Io,Ho={eq:Oo,isEqualNode:Ro,member:No,contains:Bo,is:Po.is},zo=function(t){return Br.fromDom(t.dom().ownerDocument)},Fo=function(t){var e=zo(t);return Br.fromDom(e.dom().documentElement)},jo=function(t){var e=t.dom().ownerDocument.defaultView;return Br.fromDom(e)},qo=function(t){var e=t.dom();return _t.from(e.parentNode).map(Br.fromDom)},Wo=function(t){return qo(t).bind(function(e){var n=Qo(e);return oe.findIndex(n,function(e){return Ho.eq(t,e)})})},Vo=function(t,e){for(var n=kt.isFunction(e)?e:yt.constant(!1),i=t.dom(),r=[];null!==i.parentNode&&i.parentNode!==undefined;){var o=i.parentNode,s=Br.fromDom(o);if(r.push(s),!0===n(s))break;i=o}return r},Uo=function(t){var e=function(e){return oe.filter(e,function(e){return!Ho.eq(t,e)})};return qo(t).map(Qo).map(e).getOr([])},$o=function(t){var e=t.dom();return _t.from(e.offsetParent).map(Br.fromDom)},Yo=function(t){var e=t.dom();return _t.from(e.previousSibling).map(Br.fromDom)},Go=function(t){var e=t.dom();return _t.from(e.nextSibling).map(Br.fromDom)},Xo=function(t){return oe.reverse(_o.toArray(t,Yo))},Ko=function(t){return _o.toArray(t,Go)},Qo=function(t){var e=t.dom();return oe.map(e.childNodes,Br.fromDom)},Zo=function(t,e){var n=t.dom().childNodes;return _t.from(n[e]).map(Br.fromDom)},Jo=function(t){return Zo(t,0)},ts=function(t){return Zo(t,t.dom().childNodes.length-1)},es=function(t){return t.dom().childNodes.length},ns=function(t){return t.dom().hasChildNodes()},is=So.immutable("element","offset"),rs={owner:zo,defaultView:jo,documentElement:Fo,parent:qo,findIndex:Wo,parents:Vo,siblings:Uo,prevSibling:Yo,offsetParent:$o,prevSiblings:Xo,nextSibling:Go,nextSiblings:Ko,children:Qo,child:Zo,firstChild:Jo,lastChild:ts,childNodesCount:es,hasChildNodes:ns,leaf:function(t,e){var n=Qo(t);return n.length>0&&e<n.length?is(n[e],0):is(t,e)}},os=Or.detect().browser,ss=function(t){return oe.find(t,Yr.isElement)},as=function(t){return os.isFirefox()&&"table"===Yr.name(t)?ss(rs.children(t)).filter(function(t){return"caption"===Yr.name(t)}).bind(function(t){return ss(rs.nextSiblings(t)).map(function(e){var n=e.dom().offsetTop,i=t.dom().offsetTop,r=t.dom().offsetHeight;return n<=i?-r:0})}).getOr(0):0},ls={getPos:function(t,e,n){var i,r,o=0,s=0,a=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===wo.get(Br.fromDom(t),"position"))return{x:o=(r=e.getBoundingClientRect()).left+(a.documentElement.scrollLeft||t.scrollLeft)-a.documentElement.clientLeft,y:s=r.top+(a.documentElement.scrollTop||t.scrollTop)-a.documentElement.clientTop};for(i=e;i&&i!==n&&i.nodeType;)o+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!==n&&i.nodeType;)o-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=as(Br.fromDom(e))}return{x:o,y:s}}},us=function(t){var e=_t.none(),n=[],i=function(t){return us(function(e){r(function(n){e(t(n))})})},r=function(t){s()?l(t):n.push(t)},o=function(t){e=_t.some(t),a(n),n=[]},s=function(){return e.isSome()},a=function(t){oe.each(t,l)},l=function(t){e.each(function(e){setTimeout(function(){t(e)},0)})};return t(o),{get:r,map:i,isReady:s}},cs={nu:us,pure:function(t){return us(function(e){e(t)})}},ds={bounce:function(t){return function(){var e=Array.prototype.slice.call(arguments),n=this;setTimeout(function(){t.apply(n,e)},0)}}},hs=function(t){var e=function(e){t(ds.bounce(e))};return{map:function(t){return hs(function(n){e(function(e){var i=t(e);n(i)})})},bind:function(t){return hs(function(n){e(function(e){t(e).get(n)})})},anonBind:function(t){return hs(function(n){e(function(){t.get(n)})})},toLazy:function(){return cs.nu(e)},get:e}},fs={nu:hs,pure:function(t){return hs(function(e){e(t)})}},ps={par:function(t,e){return e(function(e){var n=[],i=0,r=function(r){return function(o){n[r]=o,++i>=t.length&&e(n)}};0===t.length?e([]):oe.each(t,function(t,e){t.get(r(e))})})}},ms=function(t){return ps.par(t,fs.nu)},gs={par:ms,mapM:function(t,e){var n=oe.map(t,e);return ms(n)},compose:function(t,e){return function(n){return e(n).bind(t)}}},vs=function(t){var e=function(){return vs(t)},n=function(){return vs(t)},i=function(e){return vs(e(t))},r=function(e){e(t)},o=function(e){return e(t)},s=function(e,n){return n(t)},a=function(e){return e(t)},l=function(e){return e(t)},u=function(){return _t.some(t)};return{is:function(e){return t===e},isValue:yt.always,isError:yt.never,getOr:yt.constant(t),getOrThunk:yt.constant(t),getOrDie:yt.constant(t),or:e,orThunk:n,fold:s,map:i,each:r,bind:o,exists:a,forall:l,toOption:u}},ys=function(t){var e=function(t){return t()},n=function(){return yt.die(String(t))()},i=function(t){return t},r=function(t){return t()},o=function(){return ys(t)},s=function(){return ys(t)},a=function(e){return e(t)};return{is:yt.never,isValue:yt.never,isError:yt.always,getOr:yt.identity,getOrThunk:e,getOrDie:n,or:i,orThunk:r,fold:a,map:o,each:yt.noop,bind:s,exists:yt.never,forall:yt.always,toOption:_t.none}},bs={value:vs,error:ys},ws=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],xs=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],Cs=["td","th"],Ss=["thead","tbody","tfoot"],_s=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Es=["li","dd","dt"],Ts=["ul","ol","dl"],ks=["pre","script","textarea","style"],Ds=function(t){var e;return function(n){return(e=e||oe.mapToObject(t,yt.constant(!0))).hasOwnProperty(Yr.name(n))}},Ms=Ds(["h1","h2","h3","h4","h5","h6"]),As=Ds(ws),Ps=function(t){return Yr.isElement(t)&&!As(t)},Os=function(t){return Yr.isElement(t)&&"br"===Yr.name(t)},Rs=Ds(_s),Ns=Ds(Ts),Is=Ds(Es),Ls=Ds(xs),Bs=Ds(Ss),Hs=Ds(Cs),zs=Ds(ks),Fs=function(t){return function(e){return!!e&&e.nodeType===t}},js=Fs(1),qs=function(t){var e=t.toLowerCase().split(" ");return function(t){var n,i;if(t&&t.nodeType)for(i=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(i===e[n])return!0;return!1}},Ws=function(t,e){var n=e.toLowerCase().split(" ");return function(e){var i;if(js(e))for(i=0;i<n.length;i++){var r=e.ownerDocument.defaultView.getComputedStyle(e,null);if((r?r.getPropertyValue(t):null)===n[i])return!0}return!1}},Vs=function(t,e){return function(n){return js(n)&&n[t]===e}},Us=function(t){return function(e){return js(e)&&e.hasAttribute(t)}},$s=function(t,e){return function(n){return js(n)&&n.getAttribute(t)===e}},Ys=function(t){return js(t)&&t.hasAttribute("data-mce-bogus")},Gs=function(t){return js(t)&&"all"===t.getAttribute("data-mce-bogus")},Xs=function(t){return js(t)&&"TABLE"===t.tagName},Ks=function(t){return function(e){if(js(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},Qs=Fs(3),Zs=Fs(8),Js=Fs(9),ta=qs("br"),ea=Ks("true"),na=Ks("false"),ia={isText:Qs,isElement:js,isComment:Zs,isDocument:Js,isBr:ta,isContentEditableTrue:ea,isContentEditableFalse:na,matchNodeNames:qs,hasPropValue:Vs,hasAttribute:Us,hasAttributeValue:$s,matchStyleValues:Ws,isBogus:Ys,isBogusAll:Gs,isTable:Xs},ra=function(t){var e=t.previousSibling&&"SPAN"===t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"===t.nextSibling.nodeName;return e&&n},oa=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},sa=function(t,e){var n,i=e.childNodes;if(!ia.isElement(e)||!oa(e)){for(n=i.length-1;n>=0;n--)sa(t,i[n]);if(!1===ia.isDocument(e)){if(ia.isText(e)&&e.nodeValue.length>0){var r=oi.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||r>0)return;if(0===r&&ra(e))return}else if(ia.isElement(e)&&(1===(i=e.childNodes).length&&oa(i[0])&&e.parentNode.insertBefore(i[0],e),i.length||Ls(Br.fromDom(e))))return;t.remove(e)}return e}},aa={trimNode:sa},la=oi.makeMap,ua=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ca=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,da=/[<>&\"\']/g,ha=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,fa={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};Hi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},zi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var pa=function(t){var e;return(e=Br.fromTag("div").dom()).innerHTML=t,e.textContent||e.innerText||t},ma=function(t,e){var n,i,r,o={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),Hi[i]||(r="&"+t[n+1]+";",o[i]=r,o[r]=i);return o}};Bi=ma("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var ga=function(t,e){return t.replace(e?ua:ca,function(t){return Hi[t]||t})},va=function(t,e){return t.replace(e?ua:ca,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":Hi[t]||"&#"+t.charCodeAt(0)+";"})},ya=function(t,e,n){return n=n||Bi,t.replace(e?ua:ca,function(t){return Hi[t]||n[t]||t})},ba={encodeRaw:ga,encodeAllRaw:function(t){return(""+t).replace(da,function(t){return Hi[t]||t})},encodeNumeric:va,encodeNamed:ya,getEncodeFunc:function(t,e){var n=ma(e)||Bi,i=function(t,e){return t.replace(e?ua:ca,function(t){return Hi[t]!==undefined?Hi[t]:n[t]!==undefined?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"})},r=function(t,e){return ya(t,e,n)},o=la(t.replace(/\+/g,","));return o.named&&o.numeric?i:o.named?e?r:ya:o.numeric?va:ga},decode:function(t){return t.replace(ha,function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):fa[e]||String.fromCharCode(e):zi[t]||Bi[t]||pa(t)})}},wa={},xa={},Ca=oi.makeMap,Sa=oi.each,_a=oi.extend,Ea=oi.explode,Ta=oi.inArray,ka=function(t,e){return(t=oi.trim(t))?t.split(e||" "):[]},Da=function(t){var e,n,i,r,o,s,a={},l=function(t,n,i){var r,o,s,l=function(t,e){var n,i,r={};for(n=0,i=t.length;n<i;n++)r[t[n]]=e||{};return r};for(n=n||"","string"==typeof(i=i||[])&&(i=ka(i)),r=(t=ka(t)).length;r--;)s={attributes:l(o=ka([e,n].join(" "))),attributesOrder:o,children:l(i,xa)},a[t[r]]=s},u=function(t,e){var n,i,r,o;for(n=(t=ka(t)).length,e=ka(e);n--;)for(i=a[t[n]],r=0,o=e.length;r<o;r++)i.attributes[e[r]]={},i.attributesOrder.push(e[r])};return wa[t]?wa[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",i=[i,s="acronym applet basefont big font strike tt"].join(" "),Sa(ka(s),function(t){l(t,"",i)}),n=[n,o="center dir isindex noframes"].join(" "),r=[n,i].join(" "),Sa(ka(o),function(t){l(t,"",r)})),r=r||[n,i].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),l("address dt dd div caption","",r),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),l("blockquote","cite",r),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",r),l("dl","","dt dd"),l("a","href target rel media hreflang type",i),l("q","cite",i),l("ins del","cite datetime",r),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",r),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),l("param","name value"),l("map","name",[r,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",r),l("th","colspan rowspan headers scope abbr",r),l("form","accept-charset action autocomplete enctype method name novalidate target",r),l("fieldset","disabled form name",[r,"legend"].join(" ")),l("label","form for",i),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?r:i),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[r,"li"].join(" ")),l("noscript","",r),"html4"!==t&&(l("wbr"),l("ruby","",[i,"rt rp"].join(" ")),l("figcaption","",r),l("mark rt rp summary bdi","",i),l("canvas","width height",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[i,"option"].join(" ")),l("article section nav aside header footer","",r),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[r,"figcaption"].join(" ")),l("time","datetime",i),l("dialog","open",r),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",i),l("progress","value max",i),l("meter","value min max low high optimum",i),l("details","open",[r,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select","onchange"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==t&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("iframe","sandbox seamless allowfullscreen")),Sa(ka("a form meter progress dfn"),function(t){a[t]&&delete a[t].children[t]}),delete a.caption.children.table,delete a.script,wa[t]=a,a)},Ma=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),Sa(t,function(t,i){n[i]=n[i.toUpperCase()]="map"===e?Ca(t,/[, ]/):Ea(t,/[, ]/)})),n},Aa=function(t,e,n,i){var r=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+r(e)+r(n)+r(i)},Pa=oi.each,Oa=oi.grep,Ra=He.ie,Na=/^([a-z0-9],?)+$/i,Ia=/^[ \t\r\n]*$/,La=function(t,e,n){var i={},r=e.keep_values,o={set:function(t,i,r){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||n(),i,r,t[0])),t.attr("data-mce-"+r,i).attr(r,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}};return i={style:{set:function(t,e){null===e||"object"!=typeof e?(r&&t.attr("data-mce-style",e),t.attr("style",e)):t.css(e)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serialize(t.parse(n),e[0].nodeName)}}},r&&(i.href=i.src=o),i},Ba=function(t,e){var n=e.attr("style"),i=t.serialize(t.parse(n),e[0].nodeName);i||(i=null),e.attr("data-mce-style",i)},Ha=function(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!==i||i!==n&&t.nodeValue.length)&&(r++,n=i);return r};!function(t){t.DOM=t(document),t.nodeIndex=Ha}(S||(S={}));var za=S,Fa=za.DOM,ja=oi.each,qa=oi.grep,Wa=function(t){return"function"==typeof t
},Va=function(){var t=0,e=1,n=2,i=3,r={},o=[],s={},a=[],l=0,u=function(t,e,n){var i,r,o=Fa,s=function(){o.remove(r),i&&(i.onreadystatechange=i.onload=i=null),e()},a=function(){Wa(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)};r=o.uniqueId(),(i=document.createElement("script")).id=r,i.type="text/javascript",i.src=oi._addCacheSuffix(t),"onreadystatechange"in i?i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&s()}:i.onload=s,i.onerror=a,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)};this.isDone=function(t){return r[t]===n},this.markDone=function(t){r[t]=n},this.add=this.load=function(e,n,i,a){r[e]===undefined&&(o.push(e),r[e]=t),n&&(s[e]||(s[e]=[]),s[e].push({success:n,failure:a,scope:i||this}))},this.remove=function(t){delete r[t],delete s[t]},this.loadQueue=function(t,e,n){this.loadScripts(o,t,e,n)},this.loadScripts=function(t,o,c,d){var h,f=[],p=function(t,e){ja(s[e],function(e){Wa(e[t])&&e[t].call(e.scope)}),s[e]=undefined};a.push({success:o,failure:d,scope:c||this}),(h=function(){var o=qa(t);if(t.length=0,ja(o,function(t){r[t]!==n?r[t]!==i?r[t]!==e&&(r[t]=e,l++,u(t,function(){r[t]=n,l--,p("success",t),h()},function(){r[t]=i,l--,f.push(t),p("failure",t),h()})):p("failure",t):p("success",t)}),!l){var s=a.slice(0);a.length=0,ja(s,function(t){0===f.length?Wa(t.success)&&t.success.call(t.scope):Wa(t.failure)&&t.failure.call(t.scope,f)})}})()}};Va.ScriptLoader=new Va;var Ua=oi.each;!function(t){t.PluginManager=t(),t.ThemeManager=t()}(_||(_={}));var $a="\ufeff",Ya={isZwsp:function(t){return t===$a},ZWSP:$a,trim:function(t){return t.replace(new RegExp($a,"g"),"")}},Ga=ia.isElement,Xa=ia.isText,Ka=function(t){return Xa(t)&&(t=t.parentNode),Ga(t)&&t.hasAttribute("data-mce-caret")},Qa=function(t){return Xa(t)&&Ya.isZwsp(t.data)},Za=function(t){return Ka(t)||Qa(t)},Ja=function(t){return t.firstChild!==t.lastChild||!ia.isBr(t.firstChild)},tl=function(t,e){var n,i,r;if(i=t.ownerDocument.createTextNode(Ya.ZWSP),r=t.parentNode,e){if(n=t.previousSibling,Xa(n)){if(Za(n))return n;if(sl(n))return n.splitText(n.data.length-1)}r.insertBefore(i,t)}else{if(n=t.nextSibling,Xa(n)){if(Za(n))return n;if(ol(n))return n.splitText(1),n}t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i)}return i},el=function(t){var e=t.container();return t&&ia.isText(e)&&e.data.charAt(t.offset())===Ya.ZWSP},nl=function(t){var e=t.container();return t&&ia.isText(e)&&e.data.charAt(t.offset()-1)===Ya.ZWSP},il=function(){var t=document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t},rl=function(t,e,n){var i,r;return(i=e.ownerDocument.createElement(t)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(il()),r=e.parentNode,n?r.insertBefore(i,e):e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i),i},ol=function(t){return Xa(t)&&t.data[0]===Ya.ZWSP},sl=function(t){return Xa(t)&&t.data[t.data.length-1]===Ya.ZWSP},al=function(t){var e=t.getElementsByTagName("br"),n=e[e.length-1];ia.isBogus(n)&&n.parentNode.removeChild(n)},ll=function(t){return t&&t.hasAttribute("data-mce-caret")?(al(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null},ul=function(t){return Ka(t.startContainer)},cl=ia.isContentEditableTrue,dl=ia.isContentEditableFalse,hl=ia.isBr,fl=ia.isText,pl=ia.matchNodeNames("script style textarea"),ml=ia.matchNodeNames("img input textarea hr iframe video audio object"),gl=ia.matchNodeNames("table"),vl=Za,yl=function(t){return!vl(t)&&(fl(t)?!pl(t.parentNode):ml(t)||hl(t)||gl(t)||wl(t))},bl=function(t){return ia.isElement(t)&&"true"===t.getAttribute("unselectable")},wl=function(t){return!1===bl(t)&&dl(t)},xl=function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(wl(t))return!1;if(cl(t))return!0}return!0},Cl=function(t){return!!wl(t)&&!0!==$n.reduce(t.getElementsByTagName("*"),function(t,e){return t||cl(e)},!1)},Sl=function(t){return ml(t)||Cl(t)},_l=function(t,e){return yl(t)&&xl(t,e)},El=Math.round,Tl=function(t){return t?{left:El(t.left),top:El(t.top),bottom:El(t.bottom),right:El(t.right),width:El(t.width),height:El(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},kl=function(t,e){return t=Tl(t),e?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t},Dl=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},Ml=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},Al=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&Ml(e.top-t.bottom,t,e)},Pl=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&Ml(e.bottom-t.top,t,e)},Ol=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},Rl=function(t,e){return e.left>t.left&&e.right<t.right?0:e.left<t.left?e.left-t.left:e.right-t.right},Nl=function(t,e){return e.top>t.top&&e.bottom<t.bottom?0:e.top<t.top?e.top-t.top:e.bottom-t.bottom},Il=function(t,e){return{x:Rl(t,e),y:Nl(t,e)}},Ll=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Bl=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},Hl=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),zl=function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&Hl.test(t)},Fl=[].slice,jl=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Fl.call(arguments);return i.length-1>=t.length?t.apply(this,i.slice(1)):function(){var t=i.concat([].slice.call(arguments));return jl.apply(this,t)}},ql={constant:function(t){return function(){return t}},negate:function(t){return function(e){return!t(e)}},and:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Fl.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}},or:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Fl.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}},curry:jl,compose:function(t,e){return function(n){return t(e(n))}},noop:function(){}},Wl={cat:function(t){for(var e=[],n=function(t){e.push(t)},i=0;i<t.length;i++)t[i].each(n);return e},findMap:function(t,e){for(var n=0;n<t.length;n++){var i=e(t[n],n);if(i.isSome())return i}return _t.none()},liftN:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(!r.isSome())return _t.none();n.push(r.getOrDie())}return _t.some(e.apply(null,n))}},Vl=ia.isElement,Ul=yl,$l=ia.matchStyleValues("display","block table"),Yl=ia.matchStyleValues("float","left right"),Gl=ql.and(Vl,Ul,ql.negate(Yl)),Xl=ql.negate(ia.matchStyleValues("white-space","pre pre-line pre-wrap")),Kl=ia.isText,Ql=ia.isBr,Zl=za.nodeIndex,Jl=Bl,tu=function(t){return"createRange"in t?t.createRange():za.DOM.createRng()},eu=function(t){return t&&/[\r\n\t ]/.test(t)},nu=function(t){return!!t.setStart&&!!t.setEnd},iu=function(t){var e,n=t.startContainer,i=t.startOffset;return!!(eu(t.toString())&&Xl(n.parentNode)&&ia.isText(n)&&(e=n.data,eu(e[i-1])||eu(e[i+1])))},ru=function(t){var e,n=t.ownerDocument,i=tu(n),r=n.createTextNode("\xa0"),o=t.parentNode;return o.insertBefore(r,t),i.setStart(r,0),i.setEnd(r,1),e=Tl(i.getBoundingClientRect()),o.removeChild(r),e},ou=function(t){var e=t.startContainer,n=t.endContainer,i=t.startOffset,r=t.endOffset;if(e===n&&ia.isText(n)&&0===i&&1===r){var o=t.cloneRange();return o.setEndAfter(n),au(o)}return null},su=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},au=function(t){var e,n;return e=(n=t.getClientRects()).length>0?Tl(n[0]):Tl(t.getBoundingClientRect()),!nu(t)&&Ql(t)&&su(e)?ru(t):su(e)&&nu(t)?ou(t):e},lu=function(t,e){var n=kl(t,e);return n.width=1,n.right=n.left+1,n},uu=function(t){var e,n,i=[],r=function(t){0!==t.height&&(i.length>0&&Dl(t,i[i.length-1])||i.push(t))},o=function(t,e){var n=tu(t.ownerDocument);if(e<t.data.length){if(zl(t.data[e]))return i;if(zl(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!iu(n)))return r(lu(au(n),!1)),i}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),iu(n)||r(lu(au(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),iu(n)||r(lu(au(n),!0)))};if(Kl(t.container()))return o(t.container(),t.offset()),i;if(Vl(t.container()))if(t.isAtEnd())n=Jl(t.container(),t.offset()),Kl(n)&&o(n,n.data.length),Gl(n)&&!Ql(n)&&r(lu(au(n),!1));else{if(n=Jl(t.container(),t.offset()),Kl(n)&&o(n,0),Gl(n)&&t.isAtEnd())return r(lu(au(n),!1)),i;e=Jl(t.container(),t.offset()-1),Gl(e)&&!Ql(e)&&($l(e)||$l(n)||!Gl(n))&&r(lu(au(e),!1)),Gl(n)&&r(lu(au(n),!0))}return i};!function(t){t.fromRangeStart=function(e){return t(e.startContainer,e.startOffset)},t.fromRangeEnd=function(e){return t(e.endContainer,e.endOffset)},t.after=function(e){return t(e.parentNode,Zl(e)+1)},t.before=function(e){return t(e.parentNode,Zl(e))},t.isAbove=function(t,e){return Wl.liftN([oe.head(e.getClientRects()),oe.last(t.getClientRects())],Al).getOr(!1)},t.isBelow=function(t,e){return Wl.liftN([oe.last(e.getClientRects()),oe.head(t.getClientRects())],Pl).getOr(!1)},t.isAtStart=function(t){return!!t&&t.isAtStart()},t.isAtEnd=function(t){return!!t&&t.isAtEnd()},t.isTextPosition=function(t){return!!t&&ia.isText(t.container())},t.isElementPosition=function(e){return!1===t.isTextPosition(e)}}(E||(E={}));var cu,du=E,hu=ia.isElement,fu=ia.isText,pu=function(t){var e=t.parentNode;e&&e.removeChild(t)},mu=function(t){try{return t.nodeValue}catch(e){return""}},gu=function(t,e){0===e.length?pu(t):t.nodeValue=e},vu=function(t){var e=Ya.trim(t);return{count:t.length-e.length,text:e}},yu=function(t,e){return Su(t),e},bu=function(t,e){var n=vu(t.data.substr(0,e.offset())),i=vu(t.data.substr(e.offset())),r=n.text+i.text;return r.length>0?(gu(t,r),du(t,e.offset()-n.count)):e},wu=function(t,e){var n=e.container(),i=oe.indexOf(oe.from(n.childNodes),t).map(function(t){return t<e.offset()?du(n,e.offset()-1):e}).getOr(e);return Su(t),i},xu=function(t,e){return fu(t)&&e.container()===t?bu(t,e):yu(t,e)},Cu=function(t,e){return e.container()===t.parentNode?wu(t,e):yu(t,e)},Su=function(t){if(hu(t)&&Za(t)&&(Ja(t)?t.removeAttribute("data-mce-caret"):pu(t)),fu(t)){var e=Ya.trim(mu(t));gu(t,e)}},_u={removeAndReposition:function(t,e){return du.isTextPosition(e)?xu(t,e):Cu(t,e)},remove:Su},Eu=function(t,e,n){var i=t?du.before(n):du.after(n);return Ou(t,e,i)},Tu=function(t){return ia.isBr(t)?du.before(t):du.after(t)},ku=function(t){return du.isTextPosition(t)?0===t.offset():yl(t.getNode())},Du=function(t){if(du.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return yl(t.getNode(!0))},Mu=function(t,e){return!du.isTextPosition(t)&&!du.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Au=function(t){return!du.isTextPosition(t)&&ia.isBr(t.getNode())},Pu=function(t,e,n){return t?!Mu(e,n)&&!Au(e)&&Du(e)&&ku(n):!Mu(n,e)&&ku(e)&&Du(n)},Ou=function(t,e,n){var i=Fd(e);return _t.from(t?i.next(n):i.prev(n))},Ru=function(t,e,n){return Ou(t,e,n).bind(function(i){return hd(n,i,e)&&Pu(t,n,i)?Ou(t,e,i):_t.some(i)})},Nu=function(t,e){var n=t?e.firstChild:e.lastChild;return ia.isText(n)?_t.some(du(n,t?0:n.data.length)):n?yl(n)?_t.some(t?du.before(n):Tu(n)):Eu(t,e,n):_t.none()},Iu={fromPosition:Ou,nextPosition:yt.curry(Ou,!0),prevPosition:yt.curry(Ou,!1),navigate:Ru,positionIn:Nu,firstPositionIn:yt.curry(Nu,!0),lastPositionIn:yt.curry(Nu,!1)},Lu=ia.isContentEditableTrue,Bu=ia.isContentEditableFalse,Hu=function(t,e,n,i,r){return e._selectionOverrides.showCaret(t,n,i,r)},zu=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},Fu=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:zu(e)},ju=function(t,e,n){var i=bd(1,t.getBody(),e),r=du.fromRangeStart(i),o=r.getNode();if(Bu(o))return Hu(1,t,o,!r.isAtEnd(),!1);var s=r.getNode(!0);if(Bu(s))return Hu(1,t,s,!1,!1);var a=t.dom.getParent(r.getNode(),function(t){return Bu(t)||Lu(t)});return Bu(a)?Hu(1,t,a,!1,n):null},qu=function(t,e,n){if(!e||!e.collapsed)return e;var i=ju(t,e,n);return i||e};!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(cu||(cu={}));var Wu,Vu=function(t,e){return t===Wu.Backwards?e.reverse():e},Uu=function(t,e,n){return t===Wu.Forwards?e.next(n):e.prev(n)},$u=function(t,e,n,i){return ia.isBr(i.getNode(e===Wu.Forwards))?cu.Br:!1===hd(n,i)?cu.Block:cu.Wrap},Yu=function(t,e,n,i){for(var r,o=Fd(n),s=i,a=[];s&&(r=Uu(e,o,s));){if(ia.isBr(r.getNode(!1)))return e===Wu.Forwards?{positions:Vu(e,a).concat([r]),breakType:cu.Br,breakAt:_t.some(r)}:{positions:Vu(e,a),breakType:cu.Br,breakAt:_t.some(r)};if(r.isVisible()){if(t(s,r)){var l=$u(n,e,s,r);return{positions:Vu(e,a),breakType:l,breakAt:_t.some(r)}}a.push(r),s=r}else s=r}return{positions:Vu(e,a),breakType:cu.Eol,breakAt:_t.none()}},Gu=function(t,e,n,i){return e(n,i).breakAt.map(function(i){var r=e(n,i).positions;return t===Wu.Backwards?r.concat(i):[i].concat(r)}).getOr([])},Xu=function(t,e){return oe.foldl(t,function(t,n){return t.fold(function(){return _t.some(n)},function(i){return Wl.liftN([oe.head(i.getClientRects()),oe.head(n.getClientRects())],function(t,r){var o=Math.abs(e-t.left);return Math.abs(e-r.left)<=o?n:i}).or(t)})},_t.none())},Ku=function(t,e){return oe.head(e.getClientRects()).bind(function(e){return Xu(t,e.left)})},Qu=yt.curry(Yu,E.isAbove,-1),Zu=yt.curry(Yu,E.isBelow,1),Ju=yt.curry(Gu,-1,Qu),tc=yt.curry(Gu,1,Zu),ec=function(t){return Iu.firstPositionIn(t).map(function(e){return[e].concat(Zu(t,e).positions)}).getOr([])},nc=function(t){return Iu.lastPositionIn(t).map(function(e){return Qu(t,e).positions.concat(e)}).getOr([])},ic=function(t){return rc(co.body(),t)},rc=function(t,e){var n=[];return oe.each(rs.children(t),function(t){e(t)&&(n=n.concat([t])),n=n.concat(rc(t,e))}),n},oc={all:ic,ancestors:function(t,e,n){return oe.filter(rs.parents(t,n),e)},siblings:function(t,e){return oe.filter(rs.siblings(t),e)},children:function(t,e){return oe.filter(rs.children(t),e)},descendants:rc},sc={all:function(t){return Po.all(t)},ancestors:function(t,e,n){return oc.ancestors(t,function(t){return Po.is(t,e)},n)},siblings:function(t,e){return oc.siblings(t,function(t){return Po.is(t,e)})},children:function(t,e){return oc.children(t,function(t){return Po.is(t,e)})},descendants:function(t,e){return Po.all(e,t)}},ac=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}},lc=function(t,e){return oe.bind(e,function(e){var n=ac(e.getBoundingClientRect(),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]})},uc=function(t,e,n){return oe.foldl(t,function(t,i){return t.fold(function(){return _t.some(i)},function(t){var r=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),o=Math.sqrt(Math.abs(i.x-e)+Math.abs(i.y-n));return _t.some(o<r?i:t)})},_t.none())},cc=function(t,e,n,i,r){var o=sc.descendants(Br.fromDom(n),"td,th").map(function(t){return t.dom()}),s=oe.filter(lc(t,o),function(t){return e(t,r)});return uc(s,i,r).map(function(t){return t.cell})},dc=function(t){return t.bottom},hc=function(t){return t.top},fc=function(t,e){return t.y<e},pc=function(t,e){return t.y>e},mc=yt.curry(cc,dc,fc),gc=yt.curry(cc,hc,pc),vc=function(t,e){return oe.head(e.getClientRects()).bind(function(e){return mc(t,e.left,e.top)}).bind(function(t){return Ku(nc(t),e)})},yc=function(t,e){return oe.last(e.getClientRects()).bind(function(e){return gc(t,e.left,e.top)}).bind(function(t){return Ku(ec(t),e)})},bc=function(t){for(var e=0,n=0,i=t;i&&i.nodeType;)e+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:e,y:n}},wc=function(t,e,n){var i={elm:e,alignToTop:n};return t.fire("scrollIntoView",i),i.isDefaultPrevented()},xc=function(t){if(t.inline)return t.getBody().getBoundingClientRect();var e=t.getWin();return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight,width:e.innerWidth,height:e.innerHeight}},Cc=function(t,e,n){t.inline?(t.getBody().scrollLeft+=e,t.getBody().scrollTop+=n):t.getWin().scrollBy(e,n)},Sc={scrollElementIntoView:function(t,e,n){var i,r,o,s,a=t.dom,l=a.getRoot(),u=0;if(!wc(t,e,n)&&ia.isElement(e)){if(!1===n&&(u=e.offsetHeight),"BODY"!==l.nodeName){var c=t.selection.getScrollContainer();if(c)return i=bc(e).y-bc(c).y+u,s=c.clientHeight,void((i<(o=c.scrollTop)||i+25>o+s)&&(c.scrollTop=i<o?i:i-s+25))}r=a.getViewPort(t.getWin()),i=a.getPos(e).y+u,o=r.y,s=r.h,(i<r.y||i+25>o+s)&&t.getWin().scrollTo(0,i<o?i:i-s+25)}},scrollRangeIntoView:function(t,e){oe.head(E.fromRangeStart(e).getClientRects()).each(function(e){var n=xc(t),i=Il(n,e),r=4,o=i.x>0?i.x+r:i.x-r,s=i.y>0?i.y+r:i.y-r;Cc(t,0!==i.x?o:0,0!==i.y?s:0)})}},_c=function(t,e,n){var i=t.getParam(e,n);if(-1!==i.indexOf("=")){var r=t.getParam(e,"","hash");return r.hasOwnProperty(t.id)?r[t.id]:n}return i},Ec={getIframeAttrs:function(t){return t.getParam("iframe_attrs",{})},getDocType:function(t){return t.getParam("doctype","<!DOCTYPE html>")},getDocumentBaseUrl:function(t){return t.getParam("document_base_url","")},getBodyId:function(t){return _c(t,"body_id","tinymce")},getBodyClass:function(t){return _c(t,"body_class","")},getContentSecurityPolicy:function(t){return t.getParam("content_security_policy","")},shouldPutBrInPre:function(t){return t.getParam("br_in_pre",!0)},getForcedRootBlock:function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":e},getForcedRootBlockAttrs:function(t){return t.getParam("forced_root_block_attrs",{})},getBrNewLineSelector:function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},getNoNewLineSelector:function(t){return t.getParam("no_newline_selector","")},shouldKeepStyles:function(t){return t.getParam("keep_styles",!0)},shouldEndContainerOnEmptyBlock:function(t){return t.getParam("end_container_on_empty_block",!1)},getFontStyleValues:function(t){return oi.explode(t.getParam("font_size_style_values",""))},getFontSizeClasses:function(t){return oi.explode(t.getParam("font_size_classes",""))}},Tc=function(t,e){rs.parent(t).each(function(n){n.dom().insertBefore(e.dom(),t.dom())})},kc=function(t,e){rs.nextSibling(t).fold(function(){rs.parent(t).each(function(t){Mc(t,e)})},function(t){Tc(t,e)})},Dc=function(t,e){rs.firstChild(t).fold(function(){Mc(t,e)},function(n){t.dom().insertBefore(e.dom(),n.dom())})},Mc=function(t,e){t.dom().appendChild(e.dom())},Ac={before:Tc,after:kc,prepend:Dc,append:Mc,appendAt:function(t,e,n){rs.child(t,n).fold(function(){Mc(t,e)},function(t){Tc(t,e)})},wrap:function(t,e){Tc(t,e),Mc(e,t)}},Pc=Or.detect().browser,Oc=function(){return Pc.isIE()||Pc.isEdge()||Pc.isFirefox()},Rc=function(t,e){t.selection.setRng(e),Sc.scrollRangeIntoView(t,e)},Nc=function(t,e,n){var i=t(e,n);return i.breakType===cu.Wrap&&0===i.positions.length?i.breakAt.map(function(n){return t(e,n).breakAt.isNone()}).getOr(!0):i.breakAt.isNone()},Ic=ql.curry(Nc,Qu),Lc=ql.curry(Nc,Zu),Bc=function(t,e,n){var i=du.fromRangeStart(e);return Iu.positionIn(!t,n).map(function(t){return t.isEqual(i)}).getOr(!1)},Hc=function(t,e,n){var i=t.selection.getRng(),r=e?1:-1;if(Oc()&&Bc(e,i,n)){var o=Hu(r,t,n,!e,!0);return Rc(t,o),!0}return!1},zc=function(t,e,n){return vc(e,n).orThunk(function(){return oe.head(n.getClientRects()).bind(function(n){return Xu(Ju(t,du.before(e)),n.left)})}).getOr(du.before(e))},Fc=function(t,e,n){return yc(e,n).orThunk(function(){return oe.head(n.getClientRects()).bind(function(n){return Xu(tc(t,du.after(e)),n.left)})}).getOr(du.after(e))},jc=function(t,e){var n=e.getNode(t);return ia.isElement(n)&&"TABLE"===n.nodeName?_t.some(n):_t.none()},qc=function(t,e,n,i){var r=Ec.getForcedRootBlock(e);r?e.undoManager.transact(function(){var i=Br.fromTag(r);so.setAll(i,Ec.getForcedRootBlockAttrs(e)),Ac.append(i,Br.fromTag("br")),t?Ac.after(Br.fromDom(n),i):Ac.before(Br.fromDom(n),i);var o=e.dom.createRng();o.setStart(i.dom(),0),o.setEnd(i.dom(),0),Rc(e,o)}):Rc(e,i.toRange())},Wc=function(t,e,n){var i=jc(!!e,n),r=!1===e;i.fold(function(){return Rc(t,n.toRange())},function(i){return Iu.positionIn(r,t.getBody()).filter(function(t){return t.isEqual(n)}).fold(function(){return Rc(t,n.toRange())},function(){return qc(e,t,i,n)})})},Vc=function(t,e,n,i){var r=t.selection.getRng(),o=du.fromRangeStart(r),s=t.getBody();if(!e&&Ic(i,o)){var a=zc(s,n,o);return Wc(t,e,a),!0}return!(!e||!Lc(i,o))&&(a=Fc(s,n,o),Wc(t,e,a),!0)},Uc=function(t,e){return function(){return _t.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(n){return _t.from(t.dom.getParent(n,"table")).map(function(i){return Hc(t,e,i,n)})}).getOr(!1)}},$c=function(t,e){return function(){return _t.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(n){return _t.from(t.dom.getParent(n,"table")).map(function(i){return Vc(t,e,i,n)})}).getOr(!1)}},Yc=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return Yc(n())}}},Gc=ia.isContentEditableFalse,Xc=function(t){return ia.isElement(t)&&/^(TD|TH)$/i.test(t.tagName)},Kc=function(t,e,n){var i,r,o,s,a,l=kl(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(i=t.ownerDocument.documentElement,r=t.scrollLeft||i.scrollLeft,o=t.scrollTop||i.scrollTop):(a=t.getBoundingClientRect(),r=t.scrollLeft-a.left,o=t.scrollTop-a.top),l.left+=r,l.right+=r,l.top+=o,l.bottom+=o,l.width=1,(s=e.offsetWidth-e.clientWidth)>0&&(n&&(s*=-1),l.left+=s,l.right+=s),l},Qc=function(t){var e,n,i,r,o;for(e=Ei("*[contentEditable=false]",t),r=0;r<e.length;r++)i=(n=e[r]).previousSibling,sl(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(o.length-1,1)),i=n.nextSibling,ol(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))},Zc=function(t,e,n){var i,r,o=Yc(_t.none()),s=function(n,i){var s,u;if(a(),Xc(i))return null;if(!e(i))return r=tl(i,n),u=i.ownerDocument.createRange(),Gc(r.nextSibling)?(u.setStart(r,0),u.setEnd(r,0)):(u.setStart(r,1),u.setEnd(r,1)),u;r=rl("p",i,n),s=Kc(t,i,n),Ei(r).css("top",s.top);var c=Ei('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(s).appendTo(t)[0];return o.set(_t.some({caret:c,element:i,before:n})),o.get().each(function(t){n&&Ei(t.caret).addClass("mce-visual-caret-before")}),l(),(u=i.ownerDocument.createRange()).setStart(r,0),u.setEnd(r,0),u},a=function(){Qc(t),r&&(_u.remove(r),r=null),o.get().each(function(t){Ei(t.caret).remove(),o.set(_t.none())}),clearInterval(i)},l=function(){i=Ue.setInterval(function(){n()?Ei("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):Ei("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)};return{show:s,hide:a,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){o.get().each(function(e){var n=Kc(t,e.element,e.before);Ei(e.caret).css(n)})},destroy:function(){return Ue.clearInterval(i)}}},Jc=function(t){return Gc(t)||ia.isTable(t)&&Oc()},td=ia.isContentEditableFalse,ed=ia.matchStyleValues("display","block table table-cell table-caption list-item"),nd=Za,id=Ka,rd=ql.curry,od=ia.isElement,sd=yl,ad=function(t){return t>0},ld=function(t){return t<0},ud=function(t,e){for(var n;n=t(e);)if(!id(n))return n;return null},cd=function(t,e,n,i,r){var o=new w(t,i);if(ld(e)){if((td(t)||id(t))&&n(t=ud(o.prev,!0)))return t;for(;t=ud(o.prev,r);)if(n(t))return t}if(ad(e)){if((td(t)||id(t))&&n(t=ud(o.next,!0)))return t;for(;t=ud(o.next,r);)if(n(t))return t}return null},dd=function(t,e){for(;t&&t!==e;){if(ed(t))return t;t=t.parentNode}return null},hd=function(t,e,n){return dd(t.container(),n)===dd(e.container(),n)},fd=function(t,e){var n,i;return e?(n=e.container(),i=e.offset(),od(n)?n.childNodes[i+t]:null):null},pd=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},md=function(t,e,n){return dd(e,t)===dd(n,t)},gd=function(t,e,n){var i,r;for(r=t?"previousSibling":"nextSibling";n&&n!==e;){if(i=n[r],nd(i)&&(i=i[r]),td(i)){if(md(e,i,n))return i;break}if(sd(i))break;n=n.parentNode}return null},vd=rd(pd,!0),yd=rd(pd,!1),bd=function(t,e,n){var i,r,o,s,a=rd(gd,!0,e),l=rd(gd,!1,e);if(r=n.startContainer,o=n.startOffset,Ka(r)){if(od(r)||(r=r.parentNode),"before"===(s=r.getAttribute("data-mce-caret"))&&(i=r.nextSibling,Jc(i)))return vd(i);if("after"===s&&(i=r.previousSibling,Jc(i)))return yd(i)}if(!n.collapsed)return n;if(ia.isText(r)){if(nd(r)){if(1===t){if(i=l(r))return vd(i);if(i=a(r))return yd(i)}if(-1===t){if(i=a(r))return yd(i);if(i=l(r))return vd(i)}return n}if(sl(r)&&o>=r.data.length-1)return 1===t&&(i=l(r))?vd(i):n;if(ol(r)&&o<=1)return-1===t&&(i=a(r))?yd(i):n;if(o===r.data.length)return(i=l(r))?vd(i):n;if(0===o)return(i=a(r))?yd(i):n}return n},wd=function(t,e){var n=fd(t,e);return td(n)&&!ia.isBogusAll(n)},xd=function(t,e){return ia.isTable(fd(t,e))},Cd=function(t,e){return _t.from(fd(t?0:-1,e)).filter(td)},Sd=function(t,e,n){var i=bd(t,e,n);return-1===t?E.fromRangeStart(i):E.fromRangeEnd(i)},_d=rd(wd,0),Ed=rd(wd,-1),Td=rd(xd,0),kd=rd(xd,-1);!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(Wu||(Wu={}));var Dd=ia.isContentEditableFalse,Md=ia.isText,Ad=ia.isElement,Pd=ia.isBr,Od=yl,Rd=Sl,Nd=_l,Id=function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n},Ld=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},Bd=function(t,e){if(ad(t)){if(Od(e.previousSibling)&&!Md(e.previousSibling))return du.before(e);if(Md(e))return du(e,0)}if(ld(t)){if(Od(e.nextSibling)&&!Md(e.nextSibling))return du.after(e);if(Md(e))return du(e,e.data.length)}return ld(t)?Pd(e)?du.before(e):du.after(e):du.before(e)},Hd=function(t,e){var n;return!!ia.isBr(t)&&!!(n=zd(1,du.after(t),e))&&!hd(du.before(t),du.before(n),e)},zd=function(t,e,n){var i,r,o,s,a;if(!Ad(n)||!e)return null;if(e.isEqual(du.after(n))&&n.lastChild){if(a=du.after(n.lastChild),ld(t)&&Od(n.lastChild)&&Ad(n.lastChild))return Pd(n.lastChild)?du.before(n.lastChild):a}else a=e;var l=a.container(),u=a.offset();if(Md(l)){if(ld(t)&&u>0)return du(l,--u);if(ad(t)&&u<l.length)return du(l,++u);i=l}else{if(ld(t)&&u>0&&(r=Ld(l,u-1),Od(r)))return!Rd(r)&&(o=cd(r,t,Nd,r))?Md(o)?du(o,o.data.length):du.after(o):Md(r)?du(r,r.data.length):du.before(r);if(ad(t)&&u<l.childNodes.length&&(r=Ld(l,u),Od(r)))return Pd(r)&&n.lastChild===r?null:Hd(r,n)?zd(t,du.after(r),n):!Rd(r)&&(o=cd(r,t,Nd,r))?Md(o)?du(o,0):du.before(o):Md(r)?du(r,0):du.after(r);i=r||a.getNode()}return(ad(t)&&a.isAtEnd()||ld(t)&&a.isAtStart())&&(i=cd(i,t,ql.constant(!0),n,!0),Nd(i,n))?Bd(t,i):(r=cd(i,t,Nd,n),!(s=$n.last($n.filter(Id(l,n),Dd)))||r&&s.contains(r)?r?Bd(t,r):null:a=ad(t)?du.after(s):du.before(s))},Fd=function(t){return{next:function(e){return zd(Wu.Forwards,e,t)},prev:function(e){return zd(Wu.Backwards,e,t)}}},jd=function(t){return t.firstChild&&t.firstChild===t.lastChild},qd=function(t){return"br"===t.name||"\xa0"===t.value},Wd=function(t,e){return t.getBlockElements()[e.name]&&jd(e)&&qd(e.firstChild)},Vd=function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||Wd(t,e))},Ud=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},$d=function(t,e,n){var i=e.serialize(n),r=t.createFragment(i);return Ud(r)},Yd=function(t){return oi.grep(t.childNodes,function(t){return"LI"===t.nodeName})},Gd=function(t){return"\xa0"===t.data||ia.isBr(t)},Xd=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&Gd(t.firstChild)},Kd=function(t){return!t.firstChild||Xd(t)},Qd=function(t){return t.length>0&&Kd(t[t.length-1])?t.slice(0,-1):t},Zd=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},Jd=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]},th=function(t,e){var n=du.before(t),i=Fd(e).next(n);return i?i.toRange():null},eh=function(t,e){var n=du.after(t),i=Fd(e).prev(n);return i?i.toRange():null},nh=function(t,e,n,i){var r=Jd(t,i),o=t.parentNode;return o.insertBefore(r[0],t),oi.each(e,function(e){o.insertBefore(e,t)}),o.insertBefore(r[1],t),o.removeChild(t),eh(e[e.length-1],n)},ih=function(t,e,n){var i=t.parentNode;return oi.each(e,function(e){i.insertBefore(e,t)}),th(t,n)},rh=function(t,e,n,i){return i.insertAfter(e.reverse(),t),eh(e[0],n)},oh={isListFragment:function(t,e){var n=e.firstChild,i=e.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),Vd(t,i)&&(i=i.prev),!(!n||n!==i||"ul"!==n.name&&"ol"!==n.name)},insertAtCaret:function(t,e,n,i){var r=$d(e,t,i),o=Zd(e,n.startContainer),s=Qd(Yd(r.firstChild)),a=1,l=2,u=e.getRoot(),c=function(t){var i=du.fromRangeStart(n),r=Fd(e.getRoot()),s=t===a?r.prev(i):r.next(i);return!s||Zd(e,s.getNode())!==o};return c(a)?ih(o,s,u):c(l)?rh(o,s,u,e):nh(o,s,u,n)},isParentBlockLi:function(t,e){return!!Zd(t,e)},trimListItems:Qd,listItems:Yd},sh=ia.isText,ah=ia.isBogus,lh=za.nodeIndex,uh=function(t){var e=t.parentNode;return ah(e)?uh(e):e},ch=function(t){return t?$n.reduce(t.childNodes,function(t,e){return ah(e)&&"BR"!==e.nodeName?t=t.concat(ch(e)):t.push(e),t},[]):[]},dh=function(t,e){for(;(t=t.previousSibling)&&sh(t);)e+=t.data.length;return e},hh=function(t){return function(e){return t===e}},fh=function(t){var e,n,i;return e=ch(uh(t)),n=$n.findIndex(e,hh(t),t),e=e.slice(0,n+1),i=$n.reduce(e,function(t,n,i){return sh(n)&&sh(e[i-1])&&t++,t},0),e=$n.filter(e,ia.matchNodeNames(t.nodeName)),(n=$n.findIndex(e,hh(t),t))-i},ph=function(t){return(sh(t)?"text()":t.nodeName.toLowerCase())+"["+fh(t)+"]"},mh=function(t,e,n){var i=[];for(e=e.parentNode;!(e===t||n&&n(e));e=e.parentNode)i.push(e);return i},gh=function(t,e){var n,i,r,o,s,a=[];return n=e.container(),i=e.offset(),sh(n)?r=dh(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),a.push(ph(n)),s=mh(t,n),s=$n.filter(s,ql.negate(ia.isBogus)),(a=a.concat($n.map(s,function(t){return ph(t)}))).reverse().join("/")+","+r},vh=function(t,e,n){var i=ch(t);return i=$n.filter(i,function(t,e){return!sh(t)||!sh(i[e-1])}),(i=$n.filter(i,ia.matchNodeNames(e)))[n]},yh=function(t,e){for(var n,i=t,r=0;sh(i);){if(n=i.data.length,e>=r&&e<=r+n){t=i,e-=r;break}if(!sh(i.nextSibling)){t=i,e=n;break}r+=n,i=i.nextSibling}return sh(t)&&e>t.data.length&&(e=t.data.length),du(t,e)},bh=function(t,e){var n,i,r;return e?(e=(n=e.split(","))[0].split("/"),r=n.length>1?n[1]:"before",
(i=$n.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),vh(t,e[1],parseInt(e[2],10))):null},t))?sh(i)?yh(i,parseInt(r,10)):(r="after"===r?lh(i)+1:lh(i),du(i.parentNode,r)):null):null},wh=ia.isContentEditableFalse,xh=function(t,e,n){var i,r;for(r=t(e.data.slice(0,n)).length,i=e.previousSibling;i&&ia.isText(i);i=i.previousSibling)r+=t(i.data).length;return r},Ch=function(t,e,n,i,r){var o,s=i[r?"startContainer":"endContainer"],a=i[r?"startOffset":"endOffset"],l=[],u=0,c=t.getRoot();for(ia.isText(s)?l.push(n?xh(e,s,a):a):(a>=(o=s.childNodes).length&&o.length&&(u=1,a=Math.max(0,o.length-1)),l.push(t.nodeIndex(o[a],n)+u));s&&s!==c;s=s.parentNode)l.push(t.nodeIndex(s,n));return l},Sh=function(t,e,n,i){var r=e.dom,o={};return o.start=Ch(r,t,n,i,!0),e.isCollapsed()||(o.end=Ch(r,t,n,i,!1)),o},_h=function(t){ia.isText(t)&&0===t.data.length&&t.parentNode.removeChild(t)},Eh=function(t,e,n){var i=0;return oi.each(t.select(e),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void i++}),i},Th=function(t,e){var n,i,r,o=e?"start":"end";n=t[o+"Container"],i=t[o+"Offset"],ia.isElement(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(e?i:i-1,r.length-1)])&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i))},kh=function(t){return Th(t,!0),Th(t,!1),t},Dh=function(t,e){var n;if(ia.isElement(t)&&(t=Bl(t,e),wh(t)))return t;if(Za(t)){if(ia.isText(t)&&Ka(t)&&(t=t.parentNode),n=t.previousSibling,wh(n))return n;if(n=t.nextSibling,wh(n))return n}},Mh=function(t){return Dh(t.startContainer,t.startOffset)||Dh(t.endContainer,t.endOffset)},Ah=function(t,e,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(wh(i)||"IMG"===r)return{name:r,index:Eh(n.dom,r,i)};var s=Mh(o);return s?{name:r=s.tagName,index:Eh(n.dom,r,s)}:Sh(t,n,e,o)},Ph=function(t){var e=t.getRng();return{start:gh(t.dom.getRoot(),du.fromRangeStart(e)),end:gh(t.dom.getRoot(),du.fromRangeEnd(e))}},Oh=function(t){return{rng:t.getRng()}},Rh=function(t,e,n){var i={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",i,"&#xFEFF;"):t.create("span",i)},Nh=function(t,e){var n=t.dom,i=t.getRng(),r=n.uniqueId(),o=t.isCollapsed(),s=t.getNode(),a=s.nodeName;if("IMG"===a)return{name:a,index:Eh(n,a,s)};var l=kh(i.cloneRange());if(!o){l.collapse(!1);var u=Rh(n,r+"_end",e);l.insertNode(u),_h(u.nextSibling)}(i=kh(i)).collapse(!0);var c=Rh(n,r+"_start",e);return i.insertNode(c),_h(c.previousSibling),t.moveToBookmark({id:r,keep:1}),{id:r}},Ih={getBookmark:function(t,e,n){return 2===e?Ah(Ya.trim,n,t):3===e?Ph(t):e?Oh(t):Nh(t,!1)},getUndoBookmark:yt.curry(Ah,yt.identity,!0),getPersistentBookmark:Nh},Lh="_mce_caret",Bh=function(t){return ia.isElement(t)&&t.id===Lh},Hh=function(t,e){for(;e&&e!==t;){if(e.id===Lh)return e;e=e.parentNode}return null},zh=function(t){return"string"==typeof t.start},Fh=function(t){return t.hasOwnProperty("rng")},jh=function(t){return t.hasOwnProperty("id")},qh=function(t){return t.hasOwnProperty("name")},Wh=function(t){return oi.isArray(t.start)},Vh=function(t,e){return!t.isBlock(e)||e.innerHTML||He.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e},Uh=function(t,e){var n,i;return n=t.createRng(),i=bh(t.getRoot(),e.start),n.setStart(i.container(),i.offset()),i=bh(t.getRoot(),e.end),n.setEnd(i.container(),i.offset()),n},$h=function(t,e){var n=t.ownerDocument.createTextNode(Ya.ZWSP);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)},Yh=function(t){return!1===t.hasChildNodes()},Gh=function(t,e){return Iu.lastPositionIn(t).fold(function(){return!1},function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0})},Xh=function(t,e,n){return!(!Yh(e)||!Hh(t,e)||($h(e,n),0))},Kh=function(t,e,n,i){var r,o,s,a,l=n[e?"start":"end"],u=t.getRoot();if(l){for(s=l[0],o=u,r=l.length-1;r>=1;r--){if(a=o.childNodes,Xh(u,o,i))return!0;if(l[r]>a.length-1)return!!Xh(u,o,i)||Gh(o,i);o=a[l[r]]}3===o.nodeType&&(s=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(s=Math.min(l[0],o.childNodes.length)),e?i.setStart(o,s):i.setEnd(o,s)}return!0},Qh=function(t){return ia.isText(t)&&t.data.length>0},Zh=function(t,e,n){var i,r,o,s,a,l,u=t.get(n.id+"_"+e),c=n.keep;if(u){if(i=u.parentNode,"start"===e?(c?u.hasChildNodes()?(i=u.firstChild,r=1):Qh(u.nextSibling)?(i=u.nextSibling,r=0):Qh(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=t.nodeIndex(u)+1):r=t.nodeIndex(u),a=i,l=r):(c?u.hasChildNodes()?(i=u.firstChild,r=1):Qh(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=t.nodeIndex(u)):r=t.nodeIndex(u),a=i,l=r),!c){for(s=u.previousSibling,o=u.nextSibling,oi.each(oi.grep(u.childNodes),function(t){ia.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});u=t.get(n.id+"_"+e);)t.remove(u,!0);s&&o&&s.nodeType===o.nodeType&&ia.isText(s)&&!He.opera&&(r=s.nodeValue.length,s.appendData(o.nodeValue),t.remove(o),a=s,l=r)}return _t.some(du(a,l))}return _t.none()},Jh=function(t,e){return t.isSome()?t:e},tf=function(t,e){var n=t.createRng();return Kh(t,!0,e,n)&&Kh(t,!1,e,n)?_t.some(n):_t.none()},ef=function(t,e){var n=Zh(t,"start",e),i=Zh(t,"end",e);return Wl.liftN([n,Jh(i,n)],function(e,n){var i=t.createRng();return i.setStart(Vh(t,e.container()),e.offset()),i.setEnd(Vh(t,n.container()),n.offset()),i})},nf=function(t,e){return _t.from(t.select(e.name)[e.index]).map(function(e){var n=t.createRng();return n.selectNode(e),n})},rf={resolve:function(t,e){var n=t.dom;if(e){if(Wh(e))return tf(n,e);if(zh(e))return _t.some(Uh(n,e));if(jh(e))return ef(n,e);if(qh(e))return nf(n,e);if(Fh(e))return _t.some(e.rng)}return _t.none()}},of={getBookmark:function(t,e,n){return Ih.getBookmark(t,e,n)},moveToBookmark:function(t,e){rf.resolve(t,e).each(function(e){t.setRng(e)})},isBookmarkNode:function(t){return ia.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")}},sf=oi.each,af=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var i=function(e){var n={};return sf(t.getAttribs(e),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=t.getAttrib(e,r))}),n},r=function(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===(n=e[i]))return!1;if(t[i]!==n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0};return!(!r(i(e),i(n))||!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))||of.isBookmarkNode(e)||of.isBookmarkNode(n))}},lf={before:function(t,e){oe.each(e,function(e){Ac.before(t,e)})},after:function(t,e){oe.each(e,function(n,i){var r=0===i?t:e[i-1];Ac.after(r,n)})},prepend:function(t,e){oe.each(e.slice().reverse(),function(e){Ac.prepend(t,e)})},append:function(t,e){oe.each(e,function(e){Ac.append(t,e)})}},uf=function(t){t.dom().textContent="",oe.each(rs.children(t),function(t){cf(t)})},cf=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},df={empty:uf,remove:cf,unwrap:function(t){var e=rs.children(t);e.length>0&&lf.before(t,e),cf(t)}},hf=T(Yr.isText,"text"),ff={get:function(t){return hf.get(t)},getOption:function(t){return hf.getOption(t)},set:function(t,e){hf.set(t,e)}},pf=function(t){for(var e=[],n=t.dom();n;)e.push(Br.fromDom(n)),n=n.lastChild;return e},mf=function(t){return Yr.isText(t)?"\xa0"===ff.get(t):Os(t)},gf={removeTrailingBr:function(t){var e=sc.descendants(t,"br"),n=oe.filter(pf(t).slice(-1),Os);e.length===n.length&&oe.each(n,df.remove)},fillWithPaddingBr:function(t){df.empty(t),Ac.append(t,Br.fromHtml('<br data-mce-bogus="1">'))},isPaddedElement:function(t){return 1===oe.filter(rs.children(t),mf).length},trimBlockTrailingBr:function(t){rs.lastChild(t).each(function(e){rs.prevSibling(e).each(function(n){As(t)&&Os(e)&&As(n)&&df.remove(e)})})}},vf=oi.makeMap,yf=function(t,e,n,i){var r=document.createRange();return r.setStart(t,e),r.setEnd(n,i),r},bf=function(t){var e=du.fromRangeStart(t),n=du.fromRangeEnd(t),i=t.commonAncestorContainer;return Iu.fromPosition(!1,i,n).map(function(r){return!hd(e,n,i)&&hd(e,r,i)?yf(e.container(),e.offset(),r.container(),r.offset()):t}).getOr(t)},wf={normalize:function(t){return t.collapsed?t:bf(t)}},xf=ia.matchNodeNames("td th"),Cf=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e)}},Sf=function(t,e){_t.from(t.getParent(e,"td,th")).map(Br.fromDom).each(gf.trimBlockTrailingBr)},_f=function(t,e,n){var i,r,o,s,a,l,u,c,d,h,f,p,m=t.schema.getTextInlineElements(),g=t.selection,v=t.dom,y=function(t){var e,n,i;e=g.getRng(),n=e.startContainer,i=e.startOffset;var r=function(t){return n[t]&&3===n[t].nodeType};return 3===n.nodeType&&(i>0?t=t.replace(/^&nbsp;/," "):r("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),i<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},b=function(){var t,n,i;n=(t=g.getRng()).startContainer,i=t.startOffset,3===n.nodeType&&t.collapsed&&("\xa0"===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"\xa0"===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e)))},w=function(){if(p){var e=t.getBody(),n=new af(v);oi.each(v.select("*[data-mce-fragment]"),function(t){for(var i=t.parentNode;i&&i!==e;i=i.parentNode)m[t.nodeName.toLowerCase()]&&n.compare(i,t)&&v.remove(t,!0)})}},x=function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")},C=function(t){oi.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},S=function(t){return!!t.getAttribute("data-mce-fragment")},_=function(e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},E=function(e){var n,i,r,o=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null};if(e){if(g.scrollIntoView(e),n=o(e))return v.remove(e),void g.select(n);c=v.createRng(),(d=e.previousSibling)&&3===d.nodeType?(c.setStart(d,d.nodeValue.length),He.ie||(h=e.nextSibling)&&3===h.nodeType&&(d.appendData(h.data),h.parentNode.removeChild(h))):(c.setStartBefore(e),c.setEndBefore(e));var s=function(e){var n=du.fromRangeStart(e);if(n=Fd(t.getBody()).next(n))return n.toRange()};i=v.getParent(e,v.isBlock),v.remove(e),i&&v.isEmpty(i)&&(t.$(i).empty(),c.setStart(i,0),c.setEnd(i,0),xf(i)||S(i)||!(r=s(c))?v.add(i,v.create("br",{"data-mce-bogus":"1"})):(c=r,v.remove(i))),g.setRng(c)}};if(/^ | $/.test(e)&&(e=y(e)),i=t.parser,p=n.merge,r=D({validate:t.settings.validate},t.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:e,format:"html",selection:!0,paste:n.paste},(l=t.fire("BeforeSetContent",l)).isDefaultPrevented())t.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=l.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,f);var T=(c=g.getRng()).startContainer||(c.parentElement?c.parentElement():null),k=t.getBody();T===k&&g.isCollapsed()&&v.isBlock(k.firstChild)&&_(k.firstChild)&&v.isEmpty(k.firstChild)&&((c=v.createRng()).setStart(k.firstChild,0),c.setEnd(k.firstChild,0),g.setRng(c)),g.isCollapsed()||(t.selection.setRng(wf.normalize(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),b());var M={context:(o=g.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(a=i.parse(e,M),!0===n.paste&&oh.isListFragment(t.schema,a)&&oh.isParentBlockLi(v,o))return c=oh.insertAtCaret(r,v,t.selection.getRng(),a),t.selection.setRng(c),void t.fire("SetContent",l);if(x(a),"mce_marker"===(d=a.lastChild).attr("id"))for(u=d,d=d.prev;d;d=d.walk(!0))if(3===d.type||!v.isBlock(d.name)){t.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(u,d,"br"===d.name);break}if(t._selectionOverrides.showBlockCaretContainer(o),M.invalid){for(g.setContent(f),o=g.getNode(),s=t.getBody(),9===o.nodeType?o=d=s:d=o;d!==s;)o=d,d=d.parentNode;e=o===s?s.innerHTML:v.getOuterHTML(o),e=r.serialize(i.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(a)}))),o===s?v.setHTML(s,e):v.setOuterHTML(o,e)}else e=r.serialize(a),Cf(t,e,o);w(),E(v.get("mce_marker")),C(t.getBody()),Sf(t.dom,t.selection.getStart()),t.fire("SetContent",l),t.addVisual()}},Ef=function(t){var e;return"string"!=typeof t?(e=oi.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}},Tf={insertAtCaret:function(t,e){var n=Ef(e);_f(t,n.content,n.details)}},kf=function(t){return Pf(co.body(),t)},Df=function(t,e,n){for(var i=t.dom(),r=kt.isFunction(n)?n:yt.constant(!1);i.parentNode;){i=i.parentNode;var o=Br.fromDom(i);if(e(o))return _t.some(o);if(r(o))break}return _t.none()},Mf=function(t,e){var n=t.dom();return n.parentNode?Af(Br.fromDom(n.parentNode),function(n){return!Ho.eq(t,n)&&e(n)}):_t.none()},Af=function(t,e){return oe.find(t.dom().childNodes,yt.compose(e,Br.fromDom)).map(Br.fromDom)},Pf=function(t,e){var n=function(t){for(var i=0;i<t.childNodes.length;i++){if(e(Br.fromDom(t.childNodes[i])))return _t.some(Br.fromDom(t.childNodes[i]));var r=n(t.childNodes[i]);if(r.isSome())return r}return _t.none()};return n(t.dom())},Of={first:kf,ancestor:Df,closest:function(t,e,n){return M(function(t){return e(t)},Df,t,e,n)},sibling:Mf,child:Af,descendant:Pf},Rf=So.immutable("sections","settings"),Nf=Or.detect().deviceType.isTouch(),If=["lists","autolink","autosave"],Lf={theme:"mobile"},Bf=function(t){var e=kt.isArray(t)?t.join(" "):t,n=oe.map(kt.isString(e)?e.split(" "):[],Er.trim);return oe.filter(n,function(t){return t.length>0})},Hf=function(t){return oe.filter(t,yt.curry(oe.contains,If))},zf=function(t,e){var n=to.bifilter(e,function(e,n){return oe.contains(t,n)});return Rf(n.t,n.f)},Ff=function(t,e,n){var i=t.sections(),r=i.hasOwnProperty(e)?i[e]:{};return oi.extend({},n,r)},jf=function(t,e){return t.sections().hasOwnProperty(e)},qf=function(t,e,n){return{id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},Wf=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?oi.extend({},t.external_plugins,n):n},Vf=function(t,e){return[].concat(Bf(t)).concat(Bf(e))},Uf=function(t,e,n,i){var r=Bf(n.forced_plugins),o=Bf(i.plugins),s=t&&jf(e,"mobile")?Hf(o):o,a=Vf(r,s);return oi.extend(i,{plugins:a.join(" ")})},$f=function(t,e){var n=e.settings().inline;return t&&jf(e,"mobile")&&!n},Yf=function(t,e,n,i){var r=zf(["mobile"],i),o=oi.extend(e,n,r.settings(),$f(t,r)?Ff(r,"mobile",Lf):{},{validate:!0,content_editable:r.settings().inline,external_plugins:Wf(n,r.settings())});return Uf(t,r,n,o)},Gf=function(t,e,n,i,r){var o=qf(e,n,t);return Yf(Nf,o,i,r)},Xf=function(t,e,n){return _t.from(e.settings[n]).filter(t)},Kf=yt.curry(Xf,kt.isString),Qf=function(t){var e={};return"string"==typeof t?oe.each(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(t){var n=t.split("=");n.length>1?e[oi.trim(n[0])]=oi.trim(n[1]):e[oi.trim(n[0])]=oi.trim(n)}):e=t,e},Zf=function(t){return function(e){return kt.isArray(e)&&oe.forall(e,t)}},Jf=function(t,e,n,i){var r=e in t.settings?t.settings[e]:n;return"hash"===i?Qf(r):"string"===i?Xf(kt.isString,t,e).getOr(n):"number"===i?Xf(kt.isNumber,t,e).getOr(n):"boolean"===i?Xf(kt.isBoolean,t,e).getOr(n):"object"===i?Xf(kt.isObject,t,e).getOr(n):"array"===i?Xf(kt.isArray,t,e).getOr(n):"string[]"===i?Xf(Zf(kt.isString),t,e).getOr(n):"function"===i?Xf(kt.isFunction,t,e).getOr(n):r},tp=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,ep=function(t){return tp.test(t)},np=function(t,e,n){return oe.filter(za.DOM.getParents(n.container(),"*",e),t)},ip=function(t,e,n){var i=dd(e,t),r=dd(n,t);return i&&i===r},rp=function(t,e){var n=e.container(),i=e.offset();return t?Qa(n)?ia.isText(n.nextSibling)?du(n.nextSibling,0):du.after(n):el(e)?du(n,i+1):e:Qa(n)?ia.isText(n.previousSibling)?du(n.previousSibling,n.previousSibling.data.length):du.before(n):nl(e)?du(n,i-1):e},op={isInlineTarget:function(t,e){var n=Kf(t,"inline_boundaries_selector").getOr("a[href],code");return Po.is(Br.fromDom(e),n)},findRootInline:function(t,e,n){var i=np(t,e,n);return _t.from(i[i.length-1])},isRtl:function(t){return"rtl"===za.DOM.getStyle(t,"direction",!0)||ep(t.textContent)},isAtZwsp:function(t){return el(t)||nl(t)},normalizePosition:rp,normalizeForwards:yt.curry(rp,!0),normalizeBackwards:yt.curry(rp,!1),hasSameParentBlock:ip},sp=function(t){return function(e){return Ho.eq(t,Br.fromDom(e.dom().parentNode))}},ap=function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)},lp={getParentBlock:function(t,e){return Ho.contains(t,e)?Of.closest(e,function(t){return Rs(t)||Is(t)},sp(t)):_t.none()},paddEmptyBody:function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),ap(t))},willDeleteLastPositionInElement:function(t,e,n){return Wl.liftN([Iu.firstPositionIn(n),Iu.lastPositionIn(n)],function(i,r){var o=op.normalizePosition(!0,i),s=op.normalizePosition(!1,r),a=op.normalizePosition(!1,e);return t?Iu.nextPosition(n,a).map(function(t){return t.isEqual(s)&&e.isEqual(o)}).getOr(!1):Iu.prevPosition(n,a).map(function(t){return t.isEqual(o)&&e.isEqual(s)}).getOr(!1)}).getOr(!0)}},up=function(t,e,n){return Of.ancestor(t,function(t){return Po.is(t,e)},n)},cp={first:function(t){return Po.one(t)},ancestor:up,sibling:function(t,e){return Of.sibling(t,function(t){return Po.is(t,e)})},child:function(t,e){return Of.child(t,function(t){return Po.is(t,e)})},descendant:function(t,e){return Po.one(e,t)},closest:function(t,e,n){return M(Po.is,up,t,e,n)}},dp={any:function(t){return cp.first(t).isSome()},ancestor:function(t,e,n){return cp.ancestor(t,e,n).isSome()},sibling:function(t,e){return cp.sibling(t,e).isSome()},child:function(t,e){return cp.child(t,e).isSome()},descendant:function(t,e){return cp.descendant(t,e).isSome()},closest:function(t,e,n){return cp.closest(t,e,n).isSome()}},hp=function(t,e){var n=Br.fromDom(t),i=Br.fromDom(e);return dp.ancestor(i,"pre,code",yt.curry(Ho.eq,n))},fp=function(t,e){return ia.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===hp(t,e)},pp=function(t){return ia.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")},mp=function(t,e){return yl(e)&&!1===fp(t,e)||pp(e)||gp(e)},gp=ia.hasAttribute("data-mce-bookmark"),vp=ia.hasAttribute("data-mce-bogus"),yp=ia.hasAttributeValue("data-mce-bogus","all"),bp=function(t){var e,n,i=0;if(mp(t,t))return!1;if(!(n=t.firstChild))return!0;e=new w(n,t);do{if(yp(n))n=e.next(!0);else if(vp(n))n=e.next();else if(ia.isBr(n))i++,n=e.next();else{if(mp(t,n))return!1;n=e.next()}}while(n);return i<=1},wp={isEmpty:function(t){return bp(t.dom())}},xp=So.immutable("block","position"),Cp=So.immutable("from","to"),Sp=function(t,e){var n=Br.fromDom(t),i=Br.fromDom(e.container());return lp.getParentBlock(n,i).map(function(t){return xp(t,e)})},_p=function(t){return!1===Ho.eq(t.from().block(),t.to().block())},Ep=function(t){return rs.parent(t.from().block()).bind(function(e){return rs.parent(t.to().block()).filter(function(t){return Ho.eq(e,t)})}).isSome()},Tp=function(t){return!1===ia.isContentEditableFalse(t.from().block())&&!1===ia.isContentEditableFalse(t.to().block())},kp=function(t,e,n){return ia.isBr(n.position().getNode())&&!1===wp.isEmpty(n.block())?Iu.positionIn(!1,n.block().dom()).bind(function(i){return i.isEqual(n.position())?Iu.fromPosition(e,t,i).bind(function(e){return Sp(t,e)}):_t.some(n)}).getOr(n):n},Dp=function(t,e,n){var i=Sp(t,du.fromRangeStart(n)),r=i.bind(function(n){return Iu.fromPosition(e,t,n.position()).bind(function(n){return Sp(t,n).map(function(n){return kp(t,e,n)})})});return Wl.liftN([i,r],Cp).filter(function(t){return _p(t)&&Ep(t)&&Tp(t)})},Mp={read:function(t,e,n){return n.collapsed?Dp(t,e,n):_t.none()}},Ap=function(t){return t.slice(0,-1)},Pp=function(t,e,n){return Ho.contains(e,t)?Ap(rs.parents(t,function(t){return n(t)||Ho.eq(t,e)})):[]},Op=function(t,e){return Pp(t,e,yt.constant(!1))},Rp={parentsUntil:Pp,parents:Op,parentsAndSelf:function(t,e){return[t].concat(Op(t,e))}},Np=function(t){var e=rs.children(t);return oe.findIndex(e,As).fold(function(){return e},function(t){return e.slice(0,t)})},Ip=function(t){var e=Np(t);return oe.each(e,function(t){df.remove(t)}),e},Lp=function(t,e){Iu.positionIn(t,e.dom()).each(function(t){var e=t.getNode();ia.isBr(e)&&df.remove(Br.fromDom(e))})},Bp=function(t,e){var n=Rp.parentsAndSelf(e,t);return oe.find(n.reverse(),wp.isEmpty).each(df.remove)},Hp=function(t,e){var n=rs.parents(e,function(e){return Ho.eq(e,t)});return _t.from(n[n.length-2])},zp=function(t,e){return Ho.contains(e,t)?rs.parent(t).bind(function(n){return Ho.eq(n,e)?_t.some(t):Hp(e,t)}):_t.none()},Fp=function(t,e,n){if(wp.isEmpty(n))return df.remove(n),wp.isEmpty(e)&&gf.fillWithPaddingBr(e),Iu.firstPositionIn(e.dom());Lp(!0,e),Lp(!1,n);var i=Ip(e);return zp(e,n).fold(function(){Bp(t,e);var r=Iu.lastPositionIn(n.dom());return oe.each(i,function(t){Ac.append(n,t)}),r},function(r){var o=Iu.prevPosition(n.dom(),du.before(r.dom()));return oe.each(i,function(t){Ac.before(r,t)}),Bp(t,e),o})},jp={mergeBlocks:function(t,e,n,i){return e?Fp(t,i,n):Fp(t,n,i)}},qp={backspaceDelete:function(t,e){var n,i=Br.fromDom(t.getBody());return(n=Mp.read(i.dom(),e,t.selection.getRng()).bind(function(t){return jp.mergeBlocks(i,e,t.from().block(),t.to().block())})).each(function(e){t.selection.setRng(e.toRange())}),n.isSome()}},Wp=function(t,e){var n=e.getRng();return Wl.liftN([lp.getParentBlock(t,Br.fromDom(n.startContainer)),lp.getParentBlock(t,Br.fromDom(n.endContainer))],function(i,r){return!1===Ho.eq(i,r)&&(n.deleteContents(),jp.mergeBlocks(t,!0,i,r).each(function(t){e.setRng(t.toRange())}),!0)}).getOr(!1)},Vp=function(t,e){var n=Br.fromDom(e),i=yt.curry(Ho.eq,t);return Of.ancestor(n,Hs,i).isSome()},Up=function(t,e){return Vp(t,e.startContainer)||Vp(t,e.endContainer)},$p=function(t,e){var n=Iu.prevPosition(t.dom(),du.fromRangeStart(e)).isNone(),i=Iu.nextPosition(t.dom(),du.fromRangeEnd(e)).isNone();return!Up(t,e)&&n&&i},Yp=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},Gp=function(t){var e=Br.fromDom(t.getBody()),n=t.selection.getRng();return $p(e,n)?Yp(t):Wp(e,t.selection)},Xp={backspaceDelete:function(t){return!t.selection.isCollapsed()&&Gp(t)}},Kp={generate:function(t){if(!kt.isArray(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return oe.each(t,function(i,r){var o=to.keys(i);if(1!==o.length)throw new Error("one and only one name per case");var s=o[0],a=i[s];if(n[s]!==undefined)throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!kt.isArray(a))throw new Error("case arguments must be an array");e.push(s),n[s]=function(){var n=arguments.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);for(var i=new Array(n),o=0;o<i.length;o++)i[o]=arguments[o];return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[r].apply(null,i)},match:function(t){var n=to.keys(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));if(!oe.forall(e,function(t){return oe.contains(n,t)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[s].apply(null,i)},log:function(t){console.log(t,{constructors:e,constructor:s,params:i})}}}}),n}},Qp=function(t){return Hs(Br.fromDom(t))||Is(Br.fromDom(t))},Zp=Kp.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Jp=function(t,e){var n=e.getNode(!1===t),i=t?"after":"before";return ia.isElement(n)&&n.getAttribute("data-mce-caret")===i},tm=function(t,e,n,i){var r=function(e){return Ps(Br.fromDom(e))&&!hd(n,i,t)};return Cd(!e,n).fold(function(){return Cd(e,i).fold(yt.constant(!1),r)},r)},em=function(t,e,n,i){var r=i.getNode(!1===e);return lp.getParentBlock(Br.fromDom(t),Br.fromDom(n.getNode())).map(function(t){return wp.isEmpty(t)?Zp.remove(t.dom()):Zp.moveToElement(r)}).orThunk(function(){return _t.some(Zp.moveToElement(r))})},nm=function(t,e,n){return Iu.fromPosition(e,t,n).bind(function(i){return Qp(i.getNode())?_t.none():tm(t,e,n,i)?_t.none():e&&ia.isContentEditableFalse(i.getNode())?em(t,e,n,i):!1===e&&ia.isContentEditableFalse(i.getNode(!0))?em(t,e,n,i):e&&Ed(n)?_t.some(Zp.moveToPosition(i)):!1===e&&_d(n)?_t.some(Zp.moveToPosition(i)):_t.none()})},im=function(t,e){return t&&ia.isContentEditableFalse(e.nextSibling)?_t.some(Zp.moveToElement(e.nextSibling)):!1===t&&ia.isContentEditableFalse(e.previousSibling)?_t.some(Zp.moveToElement(e.previousSibling)):_t.none()},rm=function(t,e,n){return n.fold(function(t){return _t.some(Zp.remove(t))},function(t){return _t.some(Zp.moveToElement(t))},function(n){return hd(e,n,t)?_t.none():_t.some(Zp.moveToPosition(n))})},om=function(t,e,n){return Jp(e,n)?im(e,n.getNode(!1===e)).fold(function(){return nm(t,e,n)},_t.some):nm(t,e,n).bind(function(e){return rm(t,n,e)})},sm=function(t,e,n){var i=bd(e?1:-1,t,n),r=du.fromRangeStart(i);return!1===e&&Ed(r)?_t.some(Zp.remove(r.getNode(!0))):e&&_d(r)?_t.some(Zp.remove(r.getNode())):om(t,e,r)},am=function(t,e){var n=t.container(),i=t.offset();return!1===du.isTextPosition(t)&&n===e.parentNode&&i>du.before(e).offset()},lm=function(t,e){return am(e,t)?du(e.container(),e.offset()-1):e},um=function(t){return ia.isText(t)?du(t,0):du.before(t)},cm=function(t){return ia.isText(t)?du(t,t.data.length):du.after(t)},dm=function(t){return yl(t.previousSibling)?_t.some(cm(t.previousSibling)):t.previousSibling?Iu.lastPositionIn(t.previousSibling):_t.none()},hm=function(t){return yl(t.nextSibling)?_t.some(um(t.nextSibling)):t.nextSibling?Iu.firstPositionIn(t.nextSibling):_t.none()},fm=function(t,e){var n=du.before(e.previousSibling?e.previousSibling:e.parentNode);return Iu.prevPosition(t,n).fold(function(){return Iu.nextPosition(t,du.after(e))},_t.some)},pm=function(t,e){return Iu.nextPosition(t,du.after(e)).fold(function(){return Iu.prevPosition(t,du.before(e))},_t.some)},mm=function(t,e){return dm(e).orThunk(function(){return hm(e)}).orThunk(function(){return fm(t,e)})},gm=function(t,e){return hm(e).orThunk(function(){return dm(e)}).orThunk(function(){return pm(t,e)})},vm=function(t,e,n){return t?gm(e,n):mm(e,n)},ym=function(t,e,n){return vm(t,e,n).map(yt.curry(lm,n))},bm=function(t,e,n){n.fold(function(){t.focus()},function(n){t.selection.setRng(n.toRange(),e)})},wm=function(t){return function(e){return e.dom()===t}},xm=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(Yr.name(e))},Cm=function(t){if(wp.isEmpty(t)){var e=Br.fromHtml('<br data-mce-bogus="1">');return df.empty(t),Ac.append(t,e),_t.some(du.before(e.dom()))}return _t.none()},Sm=function(t,e){return Wl.liftN([rs.prevSibling(t),rs.nextSibling(t),e],function(e,n,i){var r,o=e.dom(),s=n.dom();return ia.isText(o)&&ia.isText(s)?(r=o.data.length,o.appendData(s.data),df.remove(n),df.remove(t),i.container()===s?du(o,r):i):(df.remove(t),i)}).orThunk(function(){return df.remove(t),e})},_m={deleteElement:function(t,e,n){var i=ym(e,t.getBody(),n.dom()),r=Of.ancestor(n,yt.curry(xm,t),wm(t.getBody())),o=Sm(n,i);t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):r.bind(Cm).fold(function(){bm(t,e,o)},function(n){bm(t,e,_t.some(n))})}},Em=function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),_m.deleteElement(t,e,Br.fromDom(n)),!0}},Tm=function(t,e){return function(n){var i=e?du.before(n):du.after(n);return t.selection.setRng(i.toRange()),!0}},km=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},Dm=function(t,e){return sm(t.getBody(),e,t.selection.getRng()).map(function(n){return n.fold(Em(t,e),Tm(t,e),km(t))}).getOr(!1)},Mm=function(t){oe.each(sc.descendants(t,".mce-offscreen-selection"),df.remove)},Am=function(t,e){var n=t.selection.getNode();return!!ia.isContentEditableFalse(n)&&(Mm(Br.fromDom(t.getBody())),_m.deleteElement(t,e,Br.fromDom(t.selection.getNode())),lp.paddEmptyBody(t),!0)},Pm=function(t,e){for(;e&&e!==t;){if(ia.isContentEditableTrue(e)||ia.isContentEditableFalse(e))return e;e=e.parentNode}return null},Om={backspaceDelete:function(t,e){return t.selection.isCollapsed()?Dm(t,e):Am(t,e)},paddEmptyElement:function(t){var e,n=Pm(t.getBody(),t.selection.getNode());return ia.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(du.before(e).toRange())),!0}},Rm=ia.isText,Nm=function(t){return Rm(t)&&t.data[0]===Ya.ZWSP},Im=function(t){return Rm(t)&&t.data[t.data.length-1]===Ya.ZWSP},Lm=function(t){return t.ownerDocument.createTextNode(Ya.ZWSP)},Bm=function(t){if(Rm(t.previousSibling))return Im(t.previousSibling)?t.previousSibling:(t.previousSibling.appendData(Ya.ZWSP),t.previousSibling);if(Rm(t))return Nm(t)?t:(t.insertData(0,Ya.ZWSP),t);var e=Lm(t);return t.parentNode.insertBefore(e,t),e},Hm=function(t){if(Rm(t.nextSibling))return Nm(t.nextSibling)?t.nextSibling:(t.nextSibling.insertData(0,Ya.ZWSP),t.nextSibling);if(Rm(t))return Im(t)?t:(t.appendData(Ya.ZWSP),t);var e=Lm(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},zm=function(t,e){return t?Bm(e):Hm(e)},Fm=yt.curry(zm,!0),jm=yt.curry(zm,!1),qm=function(t,e){return ia.isText(t.container())?zm(e,t.container()):zm(e,t.getNode())},Wm=function(t,e){var n=e.get();return n&&t.container()===n&&Qa(n)},Vm={renderCaret:function(t,e){return e.fold(function(e){_u.remove(t.get());var n=Fm(e);return t.set(n),_t.some(du(n,n.length-1))},function(e){return Iu.firstPositionIn(e).map(function(e){if(Wm(e,t))return du(t.get(),1);_u.remove(t.get());var n=qm(e,!0);return t.set(n),du(n,1)})},function(e){return Iu.lastPositionIn(e).map(function(e){if(Wm(e,t))return du(t.get(),t.get().length-1);_u.remove(t.get());var n=qm(e,!1);return t.set(n),du(n,n.length-1)})},function(e){_u.remove(t.get());var n=jm(e);return t.set(n),_t.some(du(n,1))})}},Um={evaluateUntil:function(t,e){for(var n=0;n<t.length;n++){var i=t[n].apply(null,e);if(i.isSome())return i}return _t.none()}},$m=Kp.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Ym=function(t,e){var n=dd(e,t);return n||t},Gm=function(t,e,n){var i=op.normalizeForwards(n),r=Ym(e,i.container());return op.findRootInline(t,r,i).fold(function(){return Iu.nextPosition(r,i).bind(yt.curry(op.findRootInline,t,r)).map(function(t){return $m.before(t)})},_t.none)},Xm=function(t,e){return null===Hh(t,e)},Km=function(t,e,n){return op.findRootInline(t,e,n).filter(yt.curry(Xm,e))},Qm=function(t,e,n){var i=op.normalizeBackwards(n);return Km(t,e,i).bind(function(t){return Iu.prevPosition(t,i).isNone()?_t.some($m.start(t)):_t.none()})},Zm=function(t,e,n){var i=op.normalizeForwards(n);return Km(t,e,i).bind(function(t){return Iu.nextPosition(t,i).isNone()?_t.some($m.end(t)):_t.none()})},Jm=function(t,e,n){var i=op.normalizeBackwards(n),r=Ym(e,i.container());return op.findRootInline(t,r,i).fold(function(){return Iu.prevPosition(r,i).bind(yt.curry(op.findRootInline,t,r)).map(function(t){return $m.after(t)})},_t.none)},tg=function(t){return!1===op.isRtl(ng(t))},eg=function(t,e,n){return Um.evaluateUntil([Gm,Qm,Zm,Jm],[t,e,n]).filter(tg)},ng=function(t){return t.fold(yt.identity,yt.identity,yt.identity,yt.identity)},ig=function(t){return t.fold(yt.constant("before"),yt.constant("start"),yt.constant("end"),yt.constant("after"))},rg=function(t){return t.fold($m.before,$m.before,$m.after,$m.after)},og=function(t){
return t.fold($m.start,$m.start,$m.end,$m.end)},sg=function(t,e){return ig(t)===ig(e)&&ng(t)===ng(e)},ag=function(t,e,n,i,r,o){return Wl.liftN([op.findRootInline(e,n,i),op.findRootInline(e,n,r)],function(e,i){return e!==i&&op.hasSameParentBlock(n,e,i)?$m.after(t?e:i):o}).getOr(o)},lg=function(t,e){return t.fold(yt.constant(!0),function(t){return!sg(t,e)})},ug=function(t,e,n,i,r){var o=op.normalizePosition(t,r);return Iu.fromPosition(t,n,o).map(yt.curry(op.normalizePosition,t)).fold(function(){return i.map(rg)},function(r){return eg(e,n,r).map(yt.curry(ag,t,e,n,o,r)).filter(yt.curry(lg,i))}).filter(tg)},cg=function(t,e){return t?e.fold(yt.compose(_t.some,$m.start),_t.none,yt.compose(_t.some,$m.after),_t.none):e.fold(_t.none,yt.compose(_t.some,$m.before),_t.none,yt.compose(_t.some,$m.end))},dg=function(t,e,n,i){var r=op.normalizePosition(t,i),o=eg(e,n,r);return eg(e,n,r).bind(yt.curry(cg,t)).orThunk(function(){return ug(t,e,n,o,i)})},hg={readLocation:eg,findLocation:dg,prevLocation:yt.curry(dg,!1),nextLocation:yt.curry(dg,!0),getElement:ng,outside:rg,inside:og},fg=function(t){return kt.isFunction(t.selection.getSel().modify)},pg=function(t,e,n){var i=t?1:-1;return e.setRng(du(n.container(),n.offset()+i).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},mg={hasSelectionModifyApi:fg,moveByWord:function(t,e){var n=e.selection.getRng(),i=t?du.fromRangeEnd(n):du.fromRangeStart(n);return!!fg(e)&&(t&&el(i)?pg(!0,e.selection,i):!(t||!nl(i))&&pg(!1,e.selection,i))}},gg=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},vg=function(t){return!1!==t.settings.inline_boundaries},yg=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},bg=function(t,e,n){return Vm.renderCaret(e,n).map(function(e){return gg(t,e),n})},wg=function(t,e,n){var i=t.getBody(),r=du.fromRangeStart(t.selection.getRng()),o=yt.curry(op.isInlineTarget,t);return hg.findLocation(n,o,i,r).bind(function(n){return bg(t,e,n)})},xg=function(t,e,n){var i=oe.filter(e.select('*[data-mce-selected="inline-boundary"]'),t),r=oe.filter(n,t);oe.each(oe.difference(i,r),yt.curry(yg,!1)),oe.each(oe.difference(r,i),yt.curry(yg,!0))},Cg=function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=du.fromRangeStart(t.selection.getRng());du.isTextPosition(n)&&!1===op.isAtZwsp(n)&&(gg(t,_u.removeAndReposition(e.get(),n)),e.set(null))}},Sg=function(t,e,n,i){if(e.selection.isCollapsed()){var r=oe.filter(i,t);oe.each(r,function(){var i=du.fromRangeStart(e.selection.getRng());hg.readLocation(t,e.getBody(),i).bind(function(t){return bg(e,n,t)})})}},_g=function(t,e){return function(){return!!vg(e)&&mg.moveByWord(t,e)}},Eg=function(t){var e=Yc(null),n=yt.curry(op.isInlineTarget,t);return t.on("NodeChange",function(i){vg(t)&&(xg(n,t.dom,i.parents),Cg(t,e),Sg(n,t,e,i.parents))}),e},Tg={move:function(t,e,n){return function(){return!!vg(t)&&wg(t,e,n).isSome()}},moveNextWord:yt.curry(_g,!0),movePrevWord:yt.curry(_g,!1),setupSelectedState:Eg,setCaretPosition:gg},kg=function(t){return!1!==t.settings.inline_boundaries},Dg=function(t,e){var n=document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n},Mg=function(t){return Wl.liftN([Iu.firstPositionIn(t),Iu.lastPositionIn(t)],function(e,n){var i=op.normalizePosition(!0,e),r=op.normalizePosition(!1,n);return Iu.nextPosition(t,i).map(function(t){return t.isEqual(r)}).getOr(!0)}).getOr(!0)},Ag=function(t,e){return function(n){return Vm.renderCaret(e,n).map(function(e){return Tg.setCaretPosition(t,e),!0}).getOr(!1)}},Pg=function(t,e,n,i){var r=t.getBody(),o=yt.curry(op.isInlineTarget,t);t.undoManager.ignore(function(){t.selection.setRng(Dg(n,i)),t.execCommand("Delete"),hg.readLocation(o,r,du.fromRangeStart(t.selection.getRng())).map(hg.inside).map(Ag(t,e))}),t.nodeChanged()},Og=function(t,e){var n=dd(e,t);return n||t},Rg=function(t,e,n,i){var r=Og(t.getBody(),i.container()),o=yt.curry(op.isInlineTarget,t),s=hg.readLocation(o,r,i);return s.bind(function(t){return n?t.fold(yt.constant(_t.some(hg.inside(t))),_t.none,yt.constant(_t.some(hg.outside(t))),_t.none):t.fold(_t.none,yt.constant(_t.some(hg.outside(t))),_t.none,yt.constant(_t.some(hg.inside(t))))}).map(Ag(t,e)).getOrThunk(function(){var a=Iu.navigate(n,r,i),l=a.bind(function(t){return hg.readLocation(o,r,t)});return s.isSome()&&l.isSome()?op.findRootInline(o,r,i).map(function(e){return!!Mg(e)&&(_m.deleteElement(t,n,Br.fromDom(e)),!0)}).getOr(!1):l.bind(function(){return a.map(function(r){return n?Pg(t,e,i,r):Pg(t,e,r,i),!0})}).getOr(!1)})},Ng={backspaceDelete:function(t,e,n){if(t.selection.isCollapsed()&&kg(t)){var i=du.fromRangeStart(t.selection.getRng());return Rg(t,e,n,i)}return!1}},Ig=So.immutable("start","end"),Lg=So.immutable("rng","table","cells"),Bg=Kp.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),Hg=function(t){return yt.curry(Ho.eq,t)},zg=function(t,e){return cp.closest(Br.fromDom(t),"td,th",e)},Fg=function(t,e){return cp.ancestor(t,"table",e)},jg=function(t){return!1===Ho.eq(t.start(),t.end())},qg=function(t,e){return Fg(t.start(),e).bind(function(n){return Fg(t.end(),e).bind(function(t){return Ho.eq(n,t)?_t.some(n):_t.none()})})},Wg=function(t){return sc.descendants(t,"td,th")},Vg=function(t,e){return Fg(t.start(),e).bind(function(e){return oe.last(Wg(e)).map(function(e){return Ig(t.start(),e)})})},Ug=function(t,e){var n=zg(e.startContainer,t),i=zg(e.endContainer,t);return e.collapsed?_t.none():Wl.liftN([n,i],Ig).fold(function(){return n.fold(function(){return i.bind(function(e){return Fg(e,t).bind(function(t){return oe.head(Wg(t)).map(function(t){return Ig(t,e)})})})},function(e){return Fg(e,t).bind(function(t){return oe.last(Wg(t)).map(function(t){return Ig(e,t)})})})},function(e){return $g(t,e)?_t.none():Vg(e,t)})},$g=function(t,e){return qg(e,t).isSome()},Yg=function(t,e){var n=zg(t.startContainer,e),i=zg(t.endContainer,e);return Wl.liftN([n,i],Ig).filter(jg).filter(function(t){return $g(e,t)}).orThunk(function(){return Ug(e,t)})},Gg=function(t,e){return qg(t,e).map(function(e){return Lg(t,e,Wg(e))})},Xg=function(t,e){var n=Hg(t);return Yg(e,n).bind(function(t){return Gg(t,n)})},Kg=function(t,e){return oe.findIndex(t,function(t){return Ho.eq(t,e)})},Qg=function(t){return Wl.liftN([Kg(t.cells(),t.rng().start()),Kg(t.cells(),t.rng().end())],function(e,n){return t.cells().slice(e,n+1)})},Zg=function(t){return Qg(t).map(function(e){var n=t.cells();return e.length===n.length?Bg.removeTable(t.table()):Bg.emptyCells(e)})},Jg={getActionFromRange:function(t,e){return Xg(t,e).bind(Zg)},getActionFromCells:function(t){return Bg.emptyCells(t)}},tv=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},ev={getRanges:tv,getSelectedNodes:function(t){return oe.bind(t,function(t){var e=Ll(t);return e?[Br.fromDom(e)]:[]})},hasMultipleRanges:function(t){return tv(t).length>1}},nv=function(t){return oe.filter(ev.getSelectedNodes(t),Hs)},iv=function(t){return sc.descendants(t,"td[data-mce-selected],th[data-mce-selected]")},rv=function(t,e){var n=iv(e),i=nv(t);return n.length>0?n:i},ov={getCellsFromRanges:nv,getCellsFromElement:iv,getCellsFromElementOrRanges:rv,getCellsFromEditor:function(t){return rv(ev.getRanges(t.selection.getSel()),Br.fromDom(t.getBody()))}},sv=function(t,e){return oe.each(e,gf.fillWithPaddingBr),t.selection.setCursorLocation(e[0].dom(),0),!0},av=function(t,e){return _m.deleteElement(t,!1,e),!0},lv=function(t,e,n){return Jg.getActionFromRange(e,n).map(function(e){return e.fold(yt.curry(av,t),yt.curry(sv,t))})},uv=function(t,e){return mv(t,e)},cv=function(t,e,n,i){return fv(e,i).fold(function(){return lv(t,e,n)},function(e){return uv(t,e)}).getOr(!1)},dv=function(t,e){var n=Br.fromDom(t.getBody()),i=t.selection.getRng(),r=ov.getCellsFromEditor(t);return 0!==r.length?sv(t,r):cv(t,n,i,e)},hv=function(t,e){return oe.find(Rp.parentsAndSelf(e,t),Hs)},fv=function(t,e){return oe.find(Rp.parentsAndSelf(e,t),function(t){return"caption"===Yr.name(t)})},pv=function(t,e,n,i,r){return Iu.navigate(n,t.getBody(),r).bind(function(t){return hv(e,Br.fromDom(t.getNode())).map(function(t){return!1===Ho.eq(t,i)})})},mv=function(t,e){return gf.fillWithPaddingBr(e),t.selection.setCursorLocation(e.dom(),0),_t.some(!0)},gv=function(t,e,n,i){return Iu.firstPositionIn(t.dom()).bind(function(r){return Iu.lastPositionIn(t.dom()).map(function(t){return e?n.isEqual(r)&&i.isEqual(t):n.isEqual(t)&&i.isEqual(r)})}).getOr(!0)},vv=function(t,e){return mv(t,e)},yv=function(t,e,n){return fv(t,Br.fromDom(n.getNode())).map(function(t){return!1===Ho.eq(t,e)})},bv=function(t,e,n,i,r){return Iu.navigate(n,t.getBody(),r).bind(function(o){return gv(i,n,r,o)?vv(t,i):yv(e,i,o)}).or(_t.some(!0))},wv=function(t,e,n,i){var r=du.fromRangeStart(t.selection.getRng());return hv(n,i).bind(function(i){return wp.isEmpty(i)?mv(t,i):pv(t,n,e,i,r)})},xv=function(t,e,n,i){var r=du.fromRangeStart(t.selection.getRng());return wp.isEmpty(i)?mv(t,i):bv(t,n,e,i,r)},Cv=function(t,e,n){var i=Br.fromDom(t.getBody());return fv(i,n).fold(function(){return wv(t,e,i,n)},function(n){return xv(t,e,i,n)}).getOr(!1)},Sv={backspaceDelete:function(t,e){var n=Br.fromDom(t.selection.getStart(!0)),i=ov.getCellsFromEditor(t);return t.selection.isCollapsed()&&0===i.length?Cv(t,e,n):dv(t,n)}},_v=function(t,e){t.getDoc().execCommand(e,!1,null)},Ev={deleteCommand:function(t){Om.backspaceDelete(t,!1)||Ng.backspaceDelete(t,!1)||qp.backspaceDelete(t,!1)||Sv.backspaceDelete(t)||Xp.backspaceDelete(t,!1)||(_v(t,"Delete"),lp.paddEmptyBody(t))},forwardDeleteCommand:function(t){Om.backspaceDelete(t,!0)||Ng.backspaceDelete(t,!0)||qp.backspaceDelete(t,!0)||Sv.backspaceDelete(t)||Xp.backspaceDelete(t,!0)||_v(t,"ForwardDelete")}},Tv=function(t,e,n){var i=function(e){return wo.getRaw(e,t)},r=function(t){return Ho.eq(Br.fromDom(e),t)};return Of.closest(Br.fromDom(n),function(t){return i(t).isSome()},r).bind(i)},kv=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},Dv=function(t,e){return/[0-9.]+px$/.test(t)?kv(72*parseInt(t,10)/96,e||0)+"pt":t},Mv=function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Av=function(t,e){return _t.from(za.DOM.getStyle(e,t,!0))},Pv=function(t){return function(e,n){return _t.from(n).map(Br.fromDom).filter(Yr.isElement).bind(function(n){return Tv(t,e,n.dom()).or(Av(t,n.dom()))}).getOr("")}},Ov={getFontSize:Pv("font-size"),getFontFamily:yt.compose(Mv,Pv("font-family")),toPt:Dv},Rv=function(t){return Iu.firstPositionIn(t.getBody()).map(function(t){var e=t.container();return ia.isText(e)?e.parentNode:e})},Nv=function(t,e){return t.startContainer===e&&0===t.startOffset},Iv=function(t){return _t.from(t.selection.getRng()).bind(function(e){var n=t.getBody();return Nv(e,n)?_t.none():_t.from(t.selection.getStart(!0))})},Lv=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var i=Ec.getFontStyleValues(t),r=Ec.getFontSizeClasses(t);return r?r[n-1]||e:i[n-1]||e}return e}return e},Bv=function(t,e){t.formatter.toggle("fontname",{value:Lv(t,e)}),t.nodeChanged()},Hv=function(t){return Iv(t).fold(function(){return Rv(t).map(function(e){return Ov.getFontFamily(t.getBody(),e)}).getOr("")},function(e){return Ov.getFontFamily(t.getBody(),e)})},zv=function(t,e){t.formatter.toggle("fontsize",{value:Lv(t,e)}),t.nodeChanged()},Fv=function(t){return Iv(t).fold(function(){return Rv(t).map(function(e){return Ov.getFontSize(t.getBody(),e)}).getOr("")},function(e){return Ov.getFontSize(t.getBody(),e)})},jv={isEq:function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}},qv=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},Wv=function(t,e,n){return null!==qv(t,e,n)},Vv=function(t,e,n){return Wv(t,e,function(t){return t.nodeName===n})},Uv=function(t){return t&&"TABLE"===t.nodeName},$v=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Yv=function(t,e){return Za(t)&&!1===Wv(t,e,Bh)},Gv=function(t,e,n){for(var i=new w(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=i[n?"prev":"next"]();)if(ia.isBr(e))return!0},Xv=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},Kv=function(t,e){for(;e&&e!==t;){if(ia.isContentEditableFalse(e))return!0;e=e.parentNode}return!1},Qv=function(t,e,n,i,r){var o,s,a,l,u=t.getRoot(),c=t.schema.getNonEmptyElements();if(a=t.getParent(r.parentNode,t.isBlock)||u,i&&ia.isBr(r)&&e&&t.isEmpty(a))return _t.some(E(r.parentNode,t.nodeIndex(r)));for(o=new w(r,a);l=o[i?"prev":"next"]();){if("false"===t.getContentEditableParent(l)||Yv(l,u))return _t.none();if(ia.isText(l)&&l.nodeValue.length>0)return!1===Vv(l,u,"A")?_t.some(E(l,i?l.nodeValue.length:0)):_t.none();if(t.isBlock(l)||c[l.nodeName.toLowerCase()])return _t.none();s=l}return n&&s?_t.some(E(s,0)):_t.none()},Zv=function(t,e,n,i){var r,o,s,a,l,u,c,d=t.getRoot(),h=!1;if(r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"],c=ia.isElement(r)&&o===r.childNodes.length,l=t.schema.getNonEmptyElements(),u=n,Za(r))return _t.none();if(ia.isElement(r)&&o>r.childNodes.length-1&&(u=!1),ia.isDocument(r)&&(r=d,o=0),r===d){if(u&&(a=r.childNodes[o>0?o-1:0])){if(Za(a))return _t.none();if(l[a.nodeName]||Uv(a))return _t.none()}if(r.hasChildNodes()){if(o=Math.min(!u&&o>0?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=ia.isText(r)&&c?r.data.length:0,!e&&r===d.lastChild&&Uv(r))return _t.none();if(Kv(d,r)||Za(r))return _t.none();if(r.hasChildNodes()&&!1===Uv(r)){a=r,s=new w(r,d);do{if(ia.isContentEditableFalse(a)||Za(a)){h=!1;break}if(ia.isText(a)&&a.nodeValue.length>0){o=u?0:a.nodeValue.length,r=a,h=!0;break}if(l[a.nodeName.toLowerCase()]&&!$v(a)){o=t.nodeIndex(a),r=a.parentNode,u||o++,h=!0;break}}while(a=u?s.next():s.prev())}}}return e&&(ia.isText(r)&&0===o&&Qv(t,c,e,!0,r).each(function(t){r=t.container(),o=t.offset(),h=!0}),ia.isElement(r)&&((a=r.childNodes[o])||(a=r.childNodes[o-1]),!a||!ia.isBr(a)||Xv(a,"A")||Gv(t,a,!1)||Gv(t,a,!0)||Qv(t,c,e,!0,a).each(function(t){r=t.container(),o=t.offset(),h=!0}))),u&&!e&&ia.isText(r)&&o===r.nodeValue.length&&Qv(t,c,e,!1,r).each(function(t){r=t.container(),o=t.offset(),h=!0}),h?_t.some(E(r,o)):_t.none()},Jv={normalize:function(t,e){var n=e.collapsed,i=e.cloneRange(),r=E.fromRangeStart(e);return Zv(t,n,!0,i).each(function(t){n&&E.isAbove(r,t)||i.setStart(t.container(),t.offset())}),n||Zv(t,n,!1,i).each(function(t){i.setEnd(t.container(),t.offset())}),n&&i.collapse(!0),jv.isEq(e,i)?_t.none():_t.some(i)}},ty=function(t,e,n){for(var i,r=new w(e,n),o=t.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||i.length>0)return!0},ey=function(t,e,n){var i=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),e.scrollIntoView(i),t.remove(i)},ny=function(t,e,n,i){var r=t.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.setRng(r)},iy=function(t,e){var n,i,r=t.selection,o=t.dom,s=r.getRng();Jv.normalize(o,s).each(function(t){s.setStart(t.startContainer,t.startOffset),s.setEnd(t.endContainer,t.endOffset)});var a=s.startOffset,l=s.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=u&&3===l.nodeType?l.nodeValue.length:0}var c=o.getParent(l,o.isBlock),d=c?o.getParent(c.parentNode,o.isBlock):null,h=d?d.nodeName.toUpperCase():"",f=e&&e.ctrlKey;"LI"!==h||f||(c=d),l&&3===l.nodeType&&a>=l.nodeValue.length&&(ty(t.schema,l,c)||(n=o.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),i=!0)),n=o.create("br"),s.insertNode(n),ey(o,r,n),ny(o,r,n,i),t.undoManager.add()},ry=function(t,e){var n=Br.fromTag("br");Ac.before(Br.fromDom(e),n),t.undoManager.add()},oy=function(t,e){ay(t.getBody(),e)||Ac.after(Br.fromDom(e),Br.fromTag("br"));var n=Br.fromTag("br");Ac.after(Br.fromDom(e),n),ey(t.dom,t.selection,n.dom()),ny(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},sy=function(t){return ia.isBr(t.getNode())},ay=function(t,e){return!!sy(du.after(e))||Iu.nextPosition(t,du.after(e)).map(function(t){return ia.isBr(t.getNode())}).getOr(!1)},ly=function(t){return t&&"A"===t.nodeName&&"href"in t},uy=function(t){return t.fold(yt.constant(!1),ly,ly,yt.constant(!1))},cy=function(t){var e=yt.curry(op.isInlineTarget,t),n=du.fromRangeStart(t.selection.getRng());return hg.readLocation(e,t.getBody(),n).filter(uy)},dy=function(t,e){e.fold(yt.noop,yt.curry(ry,t),yt.curry(oy,t),yt.noop)},hy={insert:function(t,e){var n=cy(t);n.isSome()?n.each(yt.curry(dy,t)):iy(t,e)}},fy=Kp.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),py=function(t,e,n,i){return t.fold(e,n,i)},my=function(t){return t.fold(yt.identity,yt.identity,yt.identity)},gy={before:fy.before,on:fy.on,after:fy.after,cata:py,getStart:my},vy=Kp.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),yy=So.immutable("start","soffset","finish","foffset"),by=function(t){return vy.exact(t.start(),t.soffset(),t.finish(),t.foffset())},wy=function(t){return t.match({domRange:function(t){return Br.fromDom(t.startContainer)},relative:function(t){return gy.getStart(t)},exact:function(t){return t}})},xy=function(t){var e=wy(t);return rs.defaultView(e)},Cy={domRange:vy.domRange,relative:vy.relative,exact:vy.exact,exactFromRange:by,range:yy,getWin:xy},Sy=Or.detect().browser,_y=function(t,e){var n=Yr.isText(e)?ff.get(e).length:rs.children(e).length+1;return t>n?n:t<0?0:t},Ey=function(t){return Cy.range(t.start(),_y(t.soffset(),t.start()),t.finish(),_y(t.foffset(),t.finish()))},Ty=function(t,e){return Ho.contains(t,e)||Ho.eq(t,e)},ky=function(t){return function(e){return Ty(t,e.start())&&Ty(t,e.finish())}},Dy=function(t){return!0===t.inline||Sy.isIE()},My=function(t){return Cy.range(Br.fromDom(t.startContainer),t.startOffset,Br.fromDom(t.endContainer),t.endOffset)},Ay=function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?_t.from(e.getRangeAt(0)):_t.none()).map(My)},Py=function(t){var e=rs.defaultView(t);return Ay(e.dom()).filter(ky(t))},Oy=function(t,e){return _t.from(e).filter(ky(t)).map(Ey)},Ry=function(t){var e=document.createRange();try{return e.setStart(t.start().dom(),t.soffset()),e.setEnd(t.finish().dom(),t.foffset()),_t.some(e)}catch(n){return _t.none()}},Ny=function(t){return(t.bookmark?t.bookmark:_t.none()).bind(yt.curry(Oy,Br.fromDom(t.getBody()))).bind(Ry)},Iy={store:function(t){var e=Dy(t)?Py(Br.fromDom(t.getBody())):_t.none();t.bookmark=e.isSome()?e:t.bookmark},storeNative:function(t,e){var n=Br.fromDom(t.getBody()),i=(Dy(t)?_t.from(e):_t.none()).map(My).filter(ky(n));t.bookmark=i.isSome()?i:t.bookmark},readRange:Ay,restore:function(t){Ny(t).each(function(e){t.selection.setRng(e)})},getRng:Ny,getBookmark:Py,validate:Oy},Ly=function(t,e,n,i,r,o){if("false"!==t.getContentEditable(o)&&"LI"!==o.nodeName){var s=n?"margin":"padding";if(s="TABLE"===o.nodeName?"margin":s,s+="rtl"===t.getStyle(o,"direction",!0)?"Right":"Left","outdent"===e){var a=Math.max(0,parseInt(o.style[s]||0,10)-i);t.setStyle(o,s,a?a+r:"")}else a=parseInt(o.style[s]||0,10)+i+r,t.setStyle(o,s,a)}},By=function(t,e){var n=t.settings,i=t.dom,r=t.selection,o=t.formatter,s=/[a-z%]+$/i.exec(n.indentation)[0],a=parseInt(n.indentation,10),l=t.getParam("indent_use_margin",!1);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||(n.forced_root_block||i.getParent(r.getNode(),i.isBlock)||o.apply("div"),oe.each(r.getSelectedBlocks(),function(t){return Ly(i,e,l,a,s,t)}))},Hy=oi.each,zy=oi.extend,Fy=oi.map,jy=oi.inArray,qy=oi.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),Wy=function(t){var e,n,i=this,r={},o=function(){return!1},s=function(){return!0};e=(t=t||{}).scope||i,n=t.toggleEvent||o;var a=function(n,i){var a,l,c,d;if(n=n.toLowerCase(),(i=i||{}).type=n,i.target||(i.target=e),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=s},i.stopPropagation=function(){i.isPropagationStopped=s},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=s},i.isDefaultPrevented=o,i.isPropagationStopped=o,i.isImmediatePropagationStopped=o),t.beforeFire&&t.beforeFire(i),a=r[n])for(l=0,c=a.length;l<c;l++){if((d=a[l]).once&&u(n,d.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===d.func.call(e,i))return i.preventDefault(),i}return i},l=function(t,e,s,a){var l,u,c;if(!1===e&&(e=o),e)for(e={func:e},a&&oi.extend(e,a),c=(u=t.toLowerCase().split(" ")).length;c--;)t=u[c],(l=r[t])||(l=r[t]=[],n(t,!0)),s?l.unshift(e):l.push(e);return i},u=function(t,e){var o,s,a,l,u;if(t)for(o=(l=t.toLowerCase().split(" ")).length;o--;){if(t=l[o],s=r[t],!t){for(a in r)n(a,!1),delete r[a];return i}if(s){if(e)for(u=s.length;u--;)s[u].func===e&&(s=s.slice(0,u).concat(s.slice(u+1)),r[t]=s);else s.length=0;s.length||(n(t,!1),delete r[t])}}else{for(t in r)n(t,!1);r={}}return i},c=function(t,e,n){return l(t,e,n,{once:!0})},d=function(t){return t=t.toLowerCase(),!(!r[t]||0===r[t].length)};i.fire=a,i.on=l,i.off=u,i.once=c,i.has=d};Wy.isNative=function(t){return!!qy[t.toLowerCase()]};var Vy,Uy,$y=function(t){return t._eventDispatcher||(t._eventDispatcher=new Wy({scope:t,toggleEvent:function(e,n){Wy.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},Yy={fire:function(t,e,n){var i=this;if(i.removed&&"remove"!==t)return e;if(e=$y(i).fire(t,e,n),!1!==n&&i.parent)for(var r=i.parent();r&&!e.isPropagationStopped();)r.fire(t,e,!1),r=r.parent();return e},on:function(t,e,n){return $y(this).on(t,e,n)},off:function(t,e){return $y(this).off(t,e)},once:function(t,e){return $y(this).once(t,e)},hasEventListeners:function(t){return $y(this).has(t)}},Gy=function(t,e){var n=so.get(t,e);return n===undefined||""===n?[]:n.split(" ")},Xy={read:Gy,add:function(t,e,n){var i=Gy(t,e).concat([n]);so.set(t,e,i.join(" "))},remove:function(t,e,n){var i=oe.filter(Gy(t,e),function(t){return t!==n});i.length>0?so.set(t,e,i.join(" ")):so.remove(t,e)}},Ky=function(t){return Xy.read(t,"class")},Qy=function(t,e){return Xy.add(t,"class",e)},Zy=function(t,e){return Xy.remove(t,"class",e)},Jy={get:Ky,add:Qy,remove:Zy,toggle:function(t,e){oe.contains(Ky(t),e)?Zy(t,e):Qy(t,e)},supports:function(t){return t.dom().classList!==undefined}},tb=function(t){0===(Jy.supports(t)?t.dom().classList:Jy.get(t)).length&&so.remove(t,"class")},eb=function(t,e){var n=Jy.supports(t),i=t.dom().classList;return P(function(){n?i.remove(e):Jy.remove(t,e)},function(){n?i.add(e):Jy.add(t,e)},nb(t,e))},nb=function(t,e){return Jy.supports(t)&&t.dom().classList.contains(e)},ib={add:function(t,e){Jy.supports(t)?t.dom().classList.add(e):Jy.add(t,e)},remove:function(t,e){Jy.supports(t)?t.dom().classList.remove(e):Jy.remove(t,e),tb(t)},toggle:function(t,e){return Jy.supports(t)?t.dom().classList.toggle(e):Jy.toggle(t,e)},toggler:eb,has:nb},rb={firePreProcess:function(t,e){return t.fire("PreProcess",e)},firePostProcess:function(t,e){return t.fire("PostProcess",e)},fireRemove:function(t){return t.fire("remove")},fireSwitchMode:function(t,e){return t.fire("SwitchMode",{mode:e})},fireObjectResizeStart:function(t,e,n,i){t.fire("ObjectResizeStart",{target:e,width:n,height:i})},fireObjectResized:function(t,e,n,i){t.fire("ObjectResized",{target:e,width:n,height:i})}},ob=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}},sb=function(t,e,n){ib.has(t,e)&&!1===n?ib.remove(t,e):n&&ib.add(t,e)},ab=function(t,e){sb(Br.fromDom(t.getBody()),"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable="false"):(t.readonly=!1,t.getBody().contentEditable="true",ob(t,"StyleWithCSS",!1),ob(t,"enableInlineTableEditing",!1),ob(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())},lb=function(t,e){e!==ub(t)&&(t.initialized?ab(t,"readonly"===e):t.on("init",function(){ab(t,"readonly"===e)}),rb.fireSwitchMode(t,e))},ub=function(t){return t.readonly?"readonly":"design"},cb=function(t){return!0===t.readonly},db=za.DOM,hb=function(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=db.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},fb=function(t){return!t.hidden&&!t.readonly},pb=function(t,e,n){fb(t)?t.fire(e,n):cb(t)&&n.preventDefault()},mb=function(t,e){var n,i;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=hb(t,e),t.settings.event_root){if(Vy||(Vy={},t.editorManager.on("removeEditor",function(){var e;if(!t.editorManager.activeEditor&&Vy){for(e in Vy)t.dom.unbind(hb(t,e));Vy=null}})),Vy[e])return;i=function(n){for(var i=n.target,r=t.editorManager.get(),o=r.length;o--;){var s=r[o].getBody();(s===i||db.isChildOf(i,s))&&pb(r[o],e,n)}},Vy[e]=i,db.bind(n,e,i)}else i=function(n){pb(t,e,n)},db.bind(n,e,i),t.delegates[e]=i},gb={bindPendingEventDelegates:function(){var t=this;oi.each(t._pendingNativeEvents,function(e){mb(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(e?n.initialized?mb(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(hb(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this,n=e.getBody(),i=e.dom;if(e.delegates){for(t in e.delegates)e.dom.unbind(hb(e,t),t,e.delegates[t]);delete e.delegates}!e.inline&&n&&i&&(n.onload=null,i.unbind(e.getWin()),i.unbind(e.getDoc())),i&&(i.unbind(n),i.unbind(e.getContainer()))}},vb=gb=oi.extend({},Yy,gb),yb=oi.each,bb=oi.explode,wb={f9:120,f10:121,f11:122},xb=oi.makeMap("alt,ctrl,shift,meta,access"),Cb={any:function(t){return Of.first(t).isSome()},ancestor:function(t,e,n){return Of.ancestor(t,e,n).isSome()},closest:function(t,e,n){return Of.closest(t,e,n).isSome()},sibling:function(t,e){return Of.sibling(t,e).isSome()},child:function(t,e){return Of.child(t,e).isSome()},descendant:function(t,e){return Of.descendant(t,e).isSome()}},Sb=function(t){t.dom().focus()},_b=function(t){var e=t!==undefined?t.dom():document;return _t.from(e.activeElement).map(Br.fromDom)},Eb={hasFocus:function(t){var e=rs.owner(t).dom();return t.dom()===e.activeElement},focus:Sb,blur:function(t){t.dom().blur()},active:_b,search:function(t){return _b(rs.owner(t)).filter(function(e){return t.dom().contains(e.dom())})},focusInside:function(t){var e=rs.owner(t);_b(e).filter(function(e){return Cb.closest(e,yt.curry(Ho.eq,t))}).fold(function(){Sb(t)},yt.noop)}},Tb=function(t,e){return t.dom.getParent(e,function(e){return"true"===t.dom.getContentEditable(e)})},kb=function(t){return t.collapsed?_t.from(Bl(t.startContainer,t.startOffset)).map(Br.fromDom):_t.none()},Db=function(t,e){return kb(e).bind(function(e){return Bs(e)?_t.some(e):!1===Ho.contains(t,e)?_t.some(t):_t.none()})},Mb=function(t,e){Db(Br.fromDom(t.getBody()),e).bind(function(t){return Iu.firstPositionIn(t.dom())}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},Ab=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},Pb=function(t){return Eb.hasFocus(t)||Eb.search(t).isSome()},Ob=function(t){return t.iframeElement&&Eb.hasFocus(Br.fromDom(t.iframeElement))},Rb=function(t){var e=t.getBody();return e&&Pb(Br.fromDom(e))},Nb=function(t){return t.inline?Rb(t):Ob(t)},Ib=function(t){var e=t.selection,n=t.settings.content_editable,i=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable();var o=Tb(t,e.getNode());if(t.$.contains(i,o))return Ab(o),Mb(t,r),void Lb(t);t.bookmark!==undefined&&!1===Nb(t)&&Iy.getRng(t).each(function(e){t.selection.setRng(e),r=e}),n||(He.opera||Ab(i),t.getWin().focus()),(He.gecko||n)&&(Ab(i),Mb(t,r)),Lb(t)},Lb=function(t){return t.editorManager.setActive(t)},Bb={focus:function(t,e){t.removed||(e?Lb(t):Ib(t))},hasFocus:Nb},Hb=function(t,e){return e.dom()[t]},zb=function(t,e){return parseInt(wo.get(e,t),10)},Fb=yt.curry(Hb,"clientWidth"),jb=yt.curry(Hb,"clientHeight"),qb=yt.curry(zb,"margin-top"),Wb=yt.curry(zb,"margin-left"),Vb=function(t){return t.dom().getBoundingClientRect()},Ub=function(t,e,n){var i=Fb(t),r=jb(t);return e>=0&&n>=0&&e<=i&&n<=r},$b=function(t,e,n,i){var r=Vb(e);return{x:n-(t?r.left+e.dom().clientLeft+Wb(e):0),y:i-(t?r.top+e.dom().clientTop+qb(e):0)}},Yb=function(t){return _t.from(t).map(Br.fromDom)},Gb={isXYInContentArea:function(t,e,n){var i=Br.fromDom(t.getBody()),r=t.inline?i:rs.documentElement(i),o=$b(t.inline,r,e,n);return Ub(r,o.x,o.y)},isEditorAttachedToDom:function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return Yb(e).map(function(t){return Ho.contains(rs.owner(t),t)}).getOr(!1)}},Xb=_.PluginManager,Kb=function(t,e){for(var n in Xb.urls)if(Xb.urls[n]+"/plugin"+e+".js"===t)return n;return null},Qb=function(t,e){var n=Kb(e,t.suffix);return n?"Failed to load plugin: "+n+" from url "+e:"Failed to load plugin url: "+e},Zb=function(t,e){t.notificationManager.open({type:"error",text:e})},Jb=function(t,e){t._skinLoaded?Zb(t,e):t.on("SkinLoaded",function(){Zb(t,e)})},tw={pluginLoadError:function(t,e){Jb(t,Qb(t,e))},uploadError:function(t,e){Jb(t,"Failed to upload image: "+e)},displayError:Jb,initError:function(){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var n=window.console;n&&(n.error?n.error.apply(n,arguments):n.log.apply(n,arguments))}},ew=_.PluginManager,nw=_.ThemeManager,iw={atob:function(t){return he.getOrDie("atob")(t)},requestAnimationFrame:function(t){he.getOrDie("requestAnimationFrame")(t)}},rw=function(t){return new Fe(function(e,n){var i=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new B;r.open("GET",t,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):i()},r.onerror=i,r.send()}catch(o){i()}})},ow=function(t){var e,n;return t=decodeURIComponent(t).split(","),(n=/data:([^;]+)/.exec(t[0]))&&(e=n[1]),{type:e,data:t[1]}},sw=function(t){return new Fe(function(e){var n,i,r;t=ow(t);try{n=iw.atob(t.data)}catch(UM){return void e(new z([]))}for(i=new j(n.length),r=0;r<i.length;r++)i[r]=n.charCodeAt(r);e(new z([i],{type:t.type}))})},aw={uriToBlob:function(t){return 0===t.indexOf("blob:")?rw(t):0===t.indexOf("data:")?sw(t):null},blobToDataUri:function(t){return new Fe(function(e){var n=new F;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})},parseDataUri:ow},lw=0,uw=function(t){return(t||"blobid")+lw++},cw=function(t,e,n,i){var r,o;0!==e.src.indexOf("blob:")?(r=aw.parseDataUri(e.src).data,(o=t.findFirst(function(t){return t.base64()===r}))?n({image:e,blobInfo:o}):aw.uriToBlob(e.src).then(function(i){o=t.create(uw(),i,r),t.add(o),n({image:e,blobInfo:o})},function(t){i(t)})):(o=t.getByUri(e.src))?n({image:e,blobInfo:o}):aw.uriToBlob(e.src).then(function(i){aw.blobToDataUri(i).then(function(s){r=aw.parseDataUri(s).data,o=t.create(uw(),i,r),t.add(o),n({image:e,blobInfo:o})})},function(t){i(t)})},dw=function(t){return t?t.getElementsByTagName("img"):[]},hw=0,fw=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+t()+t()+t()},pw={uuid:function(t){return t+hw+++fw()}},mw=function(t,e){return t.hasOwnProperty(e.nodeName)},gw=function(t,e){return!!ia.isText(e)||!!ia.isElement(e)&&!mw(t,e)&&!of.isBookmarkNode(e)},vw=function(t,e,n){return oe.exists(Rp.parents(Br.fromDom(n),Br.fromDom(e)),function(e){return mw(t,e.dom())})},yw=function(t,e){if(ia.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||mw(t,e.nextSibling)))return!0}return!1},bw=function(t){var e,n,i,r,o,s,a,l,u,c,d,h=t.settings,f=t.dom,p=t.selection,m=t.schema,g=m.getBlockElements(),v=p.getStart(),y=t.getBody();if(d=h.forced_root_block,v&&ia.isElement(v)&&d&&(c=y.nodeName.toLowerCase(),m.isValidChild(c,d.toLowerCase())&&!vw(g,y,v))){for(n=(e=p.getRng()).startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,u=Bb.hasFocus(t),v=y.firstChild;v;)if(gw(g,v)){if(yw(g,v)){a=v,v=v.nextSibling,f.remove(a);continue}s||(s=f.create(d,t.settings.forced_root_block_attrs),v.parentNode.insertBefore(s,v),l=!0),a=v,v=v.nextSibling,s.appendChild(a)}else s=null,v=v.nextSibling;l&&u&&(e.setStart(n,i),e.setEnd(r,o),p.setRng(e),t.nodeChanged())}},ww={setup:function(t){t.settings.forced_root_block&&t.on("NodeChange",yt.curry(bw,t))}},xw=function(t){var e=t.startContainer,n=t.startOffset
;return ia.isText(e)?0===n?_t.some(Br.fromDom(e)):_t.none():_t.from(e.childNodes[n]).map(Br.fromDom)},Cw=function(t){var e=t.endContainer,n=t.endOffset;return ia.isText(e)?n===e.data.length?_t.some(Br.fromDom(e)):_t.none():_t.from(e.childNodes[n-1]).map(Br.fromDom)},Sw=function(t){return rs.firstChild(t).fold(yt.constant([t]),function(e){return[t].concat(Sw(e))})},_w=function(t){return rs.lastChild(t).fold(yt.constant([t]),function(e){return"br"===Yr.name(e)?rs.prevSibling(e).map(function(e){return[t].concat(_w(e))}).getOr([]):[t].concat(_w(e))})},Ew=function(t,e){return Wl.liftN([xw(e),Cw(e)],function(e,n){var i=oe.find(Sw(t),yt.curry(Ho.eq,e)),r=oe.find(_w(t),yt.curry(Ho.eq,n));return i.isSome()&&r.isSome()}).getOr(!1)},Tw=function(t,e,n,i){var r=n,o=new w(n,r),s=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==oi.trim(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(He.ie&&He.ie<11&&t.isBlock(n)&&t.isEmpty(n))return void(i?e.setStart(n,0):e.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},kw=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},Dw=function(t){var e,n,i,r;return r=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},Mw=function(t){return t.inline?Dw(t.getBody()):{left:0,top:0}},Aw=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},Pw=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},r={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:r},Ow=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=Dw(t.getContentAreaContainer()),i=Pw(t);return{left:e.pageX-n.left+i.left,top:e.pageY-n.top+i.top}}return{left:e.pageX,top:e.pageY}},Rw=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}},Nw={calc:function(t,e){return Rw(Mw(t),Aw(t),Ow(t,e))}},Iw=ia.isContentEditableFalse,Lw=ia.isContentEditableTrue,Bw=function(t,e){return Iw(e)&&e!==t},Hw=function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!Iw(e)},zw=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},Fw=function(t,e,n,i){var r=e.cloneNode(!0);t.dom.setStyles(r,{width:n,height:i}),t.dom.setAttrib(r,"data-mce-selected",null);var o=t.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o},jw=function(t,e){t.parentNode!==e&&e.appendChild(t)},qw=function(t,e,n,i,r,o){var s=0,a=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>r&&(s=e.pageX+n-r),e.pageY+i>o&&(a=e.pageY+i-o),t.style.width=n-s+"px",t.style.height=i-a+"px"},Ww=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},Vw=function(t){return 0===t.button},Uw=function(t){return t.element},$w=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},Yw=function(t,e){return function(n){if(Vw(n)){var i=$n.find(e.dom.getParents(n.target),ql.or(Iw,Lw));if(Bw(e.getBody(),i)){var r=e.dom.getPos(i),o=e.getBody(),s=e.getDoc().documentElement;t.element=i,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?o.scrollWidth:s.offsetWidth)-2,t.maxY=(e.inline?o.scrollHeight:s.offsetHeight)-2,t.relX=n.pageX-r.x,t.relY=n.pageY-r.y,t.width=i.offsetWidth,t.height=i.offsetHeight,t.ghost=Fw(e,i,t.width,t.height)}}}},Gw=function(t,e){var n=Ue.throttle(function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)},0);return function(i){var r=Math.max(Math.abs(i.screenX-t.screenX),Math.abs(i.screenY-t.screenY));if(Uw(t)&&!t.dragging&&r>10){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var o=$w(t,Nw.calc(e,i));jw(t.ghost,e.getBody()),qw(t.ghost,o,t.width,t.height,t.maxX,t.maxY),n(i.clientX,i.clientY)}}},Xw=function(t){var e=t.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e},Kw=function(t,e){return function(n){if(t.dragging&&Hw(e,Xw(e.selection),t.element)){var i=zw(t.element),r=e.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,e.undoManager.transact(function(){Ww(t.element),e.insertContent(e.dom.getOuterHTML(i)),e._selectionOverrides.hideFakeCaret()}))}Zw(t)}},Qw=function(t,e){return function(){t.dragging&&e.fire("dragend"),Zw(t)}},Zw=function(t){t.dragging=!1,t.element=null,Ww(t.ghost)},Jw=function(t){var e,n,i,r,o,s,a={};e=za.DOM,s=document,n=Yw(a,t),i=Gw(a,t),r=Kw(a,t),o=Qw(a,t),t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",r),e.bind(s,"mousemove",i),e.bind(s,"mouseup",o),t.on("remove",function(){e.unbind(s,"mousemove",i),e.unbind(s,"mouseup",o)})},tx=function(t){t.on("drop",function(e){var n="undefined"!=typeof e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(Iw(n)||Iw(t.dom.getContentEditableParent(n)))&&e.preventDefault()})},ex={init:function(t){Jw(t),tx(t)}},nx=function(t){var e=function(e){return $n.map(e,function(e){return(e=Tl(e)).node=t,e})};if(ia.isElement(t))return e(t.getClientRects());if(ia.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}},ix=function(t){return $n.reduce(t,function(t,e){return t.concat(nx(e))},[])};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(Uy||(Uy={}));var rx=function(t,e,n,i){for(;i=cd(i,t,_l,e);)if(n(i))return},ox=function(t,e,n,i,r,o){var s,a,l=0,u=[],c=function(i){var o,s,c;for(c=ix([i]),-1===t&&(c=c.reverse()),o=0;o<c.length;o++)if(s=c[o],!n(s,a)){if(u.length>0&&e(s,$n.last(u))&&l++,s.line=l,r(s))return!0;u.push(s)}};return(a=$n.last(o.getClientRects()))?(c(s=o.getNode()),rx(t,i,c,s),u):u},sx=function(t,e){return e.line>t},ax=function(t,e){return e.line===t},lx=yt.curry(ox,Uy.Up,Al,Pl),ux=yt.curry(ox,Uy.Down,Pl,Al),cx=function(t,e,n,i){var r,o,s,a,l,u,c=Fd(e),d=[],h=0,f=function(t){return $n.last(t.getClientRects())};1===t?(r=c.next,o=Pl,s=Al,a=du.after(i)):(r=c.prev,o=Al,s=Pl,a=du.before(i)),u=f(a);do{if(a.isVisible()&&!s(l=f(a),u)){if(d.length>0&&o(l,$n.last(d))&&h++,(l=Tl(l)).position=a,l.line=h,n(l))return d;d.push(l)}}while(a=r(a));return d},dx=function(t){return function(e){return sx(t,e)}},hx=function(t){return function(e){return ax(t,e)}},fx=ia.isContentEditableFalse,px=cd,mx=function(t,e){return Math.abs(t.left-e)},gx=function(t,e){return Math.abs(t.right-e)},vx=function(t,e){return t>=e.left&&t<=e.right},yx=function(t,e){return $n.reduce(t,function(t,n){var i,r;return i=Math.min(mx(t,e),gx(t,e)),r=Math.min(mx(n,e),gx(n,e)),vx(e,n)?n:vx(e,t)?t:r===i&&fx(n.node)?n:r<i?n:t})},bx=function(t,e,n,i){for(;i=px(i,t,_l,e);)if(n(i))return},wx=function(t,e){var n=[],i=function(t,i){var r;return r=$n.filter(ix([i]),function(n){return!t(n,e)}),n=n.concat(r),0===r.length};return n.push(e),bx(Uy.Up,t,yt.curry(i,Al),e.node),bx(Uy.Down,t,yt.curry(i,Pl),e.node),n},xx=function(t){return $n.filter($n.toArray(t.getElementsByTagName("*")),Jc)},Cx=function(t,e){return{node:t.node,before:mx(t,e)<gx(t,e)}},Sx=function(t,e,n){var i,r=ix(xx(t)),o=$n.filter(r,function(t){return n>=t.top&&n<=t.bottom});return(i=yx(o,e))&&(i=yx(wx(t,i),e))&&Jc(i.node)?Cx(i,e):null},_x={isXYWithinRange:function(t,e,n){return!n.collapsed&&oe.foldl(n.getClientRects(),function(n,i){return n||Ol(i,t,e)},!1)}},Ex={adaptable:function(t,e){var n=null,i=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null,i=null)},throttle:function(){i=arguments,null===n&&(n=setTimeout(function(){t.apply(null,i),n=null,i=null},e))}}},first:function(t,e){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var i=arguments;null===n&&(n=setTimeout(function(){t.apply(null,i),n=null,i=null},e))}}},last:function(t,e){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var i=arguments;null!==n&&clearTimeout(n),n=setTimeout(function(){t.apply(null,i),n=null,i=null},e)}}}},Tx={setup:function(t){var e=Ex.first(function(){if(!t.removed&&t.selection.getRng().collapsed){var e=qu(t,t.selection.getRng(),!1);t.selection.setRng(e)}},0);t.on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()})}},kx={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return He.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Dx=ia.isContentEditableTrue,Mx=ia.isContentEditableFalse,Ax=Ed,Px=_d,Ox=function(t,e){for(var n=t.getBody();e&&e!==n;){if(Dx(e)||Mx(e))return e;e=e.parentNode}return null},Rx=function(t){var e,n=function(e){return t.dom.isBlock(e)},i=t.getBody(),r=Zc(t.getBody(),n,function(){return Bb.hasFocus(t)}),o="sel-"+t.dom.uniqueId(),s=function(e){return t.dom.hasClass(e,"mce-offscreen-selection")},a=function(){var e=t.dom.get(o);return e?e.getElementsByTagName("*")[0]:e},l=function(e){e&&t.selection.setRng(e)},u=function(){return t.selection.getRng()},c=function(e,n,i,o){return void 0===o&&(o=!0),t.fire("ShowCaret",{target:n,direction:e,before:i}).isDefaultPrevented()?null:(o&&t.selection.scrollIntoView(n,-1===e),r.show(i,n))},d=function(t,e){return e=bd(t,i,e),-1===t?du.fromRangeStart(e):du.fromRangeEnd(e)},h=function(e){e.hasAttribute("data-mce-caret")&&(ll(e),l(u()),t.selection.scrollIntoView(e[0]))},f=function(){t.on("mouseup",function(e){var n=u();n.collapsed&&Gb.isXYInContentArea(t,e.clientX,e.clientY)&&l(ju(t,n,!1))}),t.on("click",function(e){var n;(n=Ox(t,e.target))&&(Mx(n)&&(e.preventDefault(),t.focus()),Dx(n)&&t.dom.isChildOf(n,t.selection.getNode())&&y())}),t.on("blur NewBlock",function(){y()}),t.on("ResizeWindow FullscreenStateChanged",function(){return r.reposition()});var n=function(t){var e=Fd(t);if(!t.firstChild)return!1;var n=du.before(t.firstChild),i=e.next(n);return i&&!Px(i)&&!Ax(i)},o=function(e,n){return t.dom.getParent(e,t.dom.isBlock)===t.dom.getParent(n,t.dom.isBlock)},d=function(e,i){var r=t.dom.getParent(e,t.dom.isBlock),s=t.dom.getParent(i,t.dom.isBlock);return!(!r||!t.dom.isChildOf(r,s)||!1!==Mx(Ox(t,r)))||r&&!o(r,s)&&n(r)};(function(t){var e=!1;t.on("touchstart",function(){e=!1}),t.on("touchmove",function(){e=!0}),t.on("touchend",function(n){var i=Ox(t,n.target);Mx(i)&&(e||(n.preventDefault(),v(Fu(t,i))))})})(t),t.on("mousedown",function(e){var n,r=e.target;if((r===i||"HTML"===r.nodeName||t.dom.isChildOf(r,i))&&!1!==Gb.isXYInContentArea(t,e.clientX,e.clientY))if(n=Ox(t,r))Mx(n)?(e.preventDefault(),v(Fu(t,n))):(y(),Dx(n)&&e.shiftKey||_x.isXYWithinRange(e.clientX,e.clientY,t.selection.getRng())||(w(),t.selection.placeCaretAt(e.clientX,e.clientY)));else if(!1===Jc(r)){y(),w();var o=Sx(i,e.clientX,e.clientY);if(o&&!d(e.target,o.node)){e.preventDefault();var s=c(1,o.node,o.before,!1);t.getBody().focus(),l(s)}}}),t.on("keypress",function(e){kx.modifierPressed(e)||(e.keyCode,Mx(t.selection.getNode())&&e.preventDefault())}),t.on("getSelectionRange",function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);(n=n.cloneRange()).selectNode(e),t.range=n}}),t.on("setSelectionRange",function(t){var e;(e=v(t.range,t.forward))&&(t.range=e)}),t.on("AfterSetSelectionRange",function(t){var e=t.range;g(e)||w(),s(e.startContainer.parentNode)||y()}),t.on("copy",function(t){var e=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!He.ie){var n=a();n&&(t.preventDefault(),e.clearData(),e.setData("text/html",n.outerHTML),e.setData("text/plain",n.outerText))}}),ex.init(t),Tx.setup(t)},p=function(){var e=t.contentStyles,n=".mce-content-body";e.push(r.getCss()),e.push(n+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+n+" *[contentEditable=false] {cursor: default;}"+n+" *[contentEditable=true] {cursor: text;}")},m=function(t){return Za(t)||ol(t)||sl(t)},g=function(t){return m(t.startContainer)||m(t.endContainer)},v=function(n,i){var r,s,a,l,u,h,f,p,m,v,y=t.$,b=t.dom;if(!n)return null;if(n.collapsed){if(!g(n))if(!1===i){if(p=d(-1,n),Jc(p.getNode(!0)))return c(-1,p.getNode(!0),!1,!1);if(Jc(p.getNode()))return c(-1,p.getNode(),!p.isAtEnd(),!1)}else{if(p=d(1,n),Jc(p.getNode()))return c(1,p.getNode(),!p.isAtEnd(),!1);if(Jc(p.getNode(!0)))return c(1,p.getNode(!0),!1,!1)}return null}return l=n.startContainer,u=n.startOffset,h=n.endOffset,3===l.nodeType&&0===u&&Mx(l.parentNode)&&(l=l.parentNode,u=b.nodeIndex(l),l=l.parentNode),1!==l.nodeType?null:(h===u+1&&(r=l.childNodes[u]),Mx(r)?(m=v=r.cloneNode(!0),(f=t.fire("ObjectSelected",{target:r,targetClone:m})).isDefaultPrevented()?null:(s=cp.descendant(Br.fromDom(t.getBody()),"#"+o).fold(function(){return y([])},function(t){return y([t.dom()])}),m=f.targetClone,0===s.length&&(s=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o)).appendTo(t.getBody()),n=t.dom.createRng(),m===v&&He.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(m),n.setStartAfter(s[0].firstChild.firstChild),n.setEndAfter(m)):(s.empty().append("\xa0").append(m).append("\xa0"),n.setStart(s[0].firstChild,1),n.setEnd(s[0].lastChild,0)),s.css({top:b.getPos(r,t.getBody()).y}),s[0].focus(),(a=t.selection.getSel()).removeAllRanges(),a.addRange(n),oe.each(sc.descendants(Br.fromDom(t.getBody()),"*[data-mce-selected]"),function(t){so.remove(t,"data-mce-selected")}),r.setAttribute("data-mce-selected","1"),e=r,w(),n)):null)},y=function(){e&&e.removeAttribute("data-mce-selected"),cp.descendant(Br.fromDom(t.getBody()),"#"+o).each(df.remove),e=null},b=function(){r.destroy(),e=null},w=function(){r.hide()};return He.ceFalse&&(f(),p()),{showCaret:c,showBlockCaretContainer:h,hideFakeCaret:w,destroy:b}},Nx=function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")},Ix=function(t){return t.replace(/<!--|-->/g,"")},Lx=function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))},Bx=function(t,e,n){var i,r,o,s,a=1;for(s=t.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(e);){if(i=o.lastIndex,"/"===r[1])a--;else if(!r[1]){if(r[2]in s)continue;a++}if(0===a)break}return i};!function(t){t.findEndTag=Bx}(Y||(Y={}));var Hx=Y,zx=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")},Fx=function(t,e){var n,i,r,o,s,a=e,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=t.schema;for(a=zx(t.getTempAttrs(),a),s=u.getShortEndedElements();o=l.exec(a);)i=l.lastIndex,r=o[0].length,n=s[o[1]]?i:Hx.findEndTag(u,a,i),a=a.substring(0,i-r)+a.substring(n),l.lastIndex=i-r;return Ya.trim(a)},jx={trimExternal:Fx,trimInternal:Fx},qx=0,Wx=1,Vx=2,Ux={KEEP:qx,DELETE:Vx,INSERT:Wx,diff:function(t,e){var n=t.length+e.length+2,i=new Array(n),r=new Array(n),o=function(t,e,n){return{start:t,end:e,diag:n}},s=function(n,i,r,o,a){var u=l(n,i,r,o);if(null===u||u.start===i&&u.diag===i-o||u.end===n&&u.diag===n-r)for(var c=n,d=r;c<i||d<o;)c<i&&d<o&&t[c]===e[d]?(a.push([qx,t[c]]),++c,++d):i-n>o-r?(a.push([Vx,t[c]]),++c):(a.push([Wx,e[d]]),++d);else{s(n,u.start,r,u.start-u.diag,a);for(var h=u.start;h<u.end;++h)a.push([qx,t[h]]);s(u.end,i,u.end-u.diag,o,a)}},a=function(n,i,r,s){for(var a=n;a-i<s&&a<r&&t[a]===e[a-i];)++a;return o(n,a,i)},l=function(n,o,s,l){var u=o-n,c=l-s;if(0===u||0===c)return null;var d,h,f,p,m,g=u-c,v=c+u,y=(v%2==0?v:v+1)/2;for(i[1+y]=n,r[1+y]=o+1,d=0;d<=y;++d){for(h=-d;h<=d;h+=2){for(f=h+y,h===-d||h!==d&&i[f-1]<i[f+1]?i[f]=i[f+1]:i[f]=i[f-1]+1,m=(p=i[f])-n+s-h;p<o&&m<l&&t[p]===e[m];)i[f]=++p,++m;if(g%2!=0&&g-d<=h&&h<=g+d&&r[f-g]<=i[f])return a(r[f-g],h+n-s,o,l)}for(h=g-d;h<=g+d;h+=2){for(f=h+y-g,h===g-d||h!==g+d&&r[f+1]<=r[f-1]?r[f]=r[f+1]-1:r[f]=r[f-1],m=(p=r[f]-1)-n+s-h;p>=n&&m>=s&&t[p]===e[m];)r[f]=p--,m--;if(g%2==0&&-d<=h&&h<=d&&r[f]<=i[f+g])return a(r[f],h+n-s,o,l)}}},u=[];return s(0,t.length,0,e.length,u),u}},$x=function(t){return ia.isElement(t)?t.outerHTML:ia.isText(t)?ba.encodeRaw(t.data,!1):ia.isComment(t)?"<!--"+t.data+"-->":""},Yx=function(t){var e,n,i;for(i=document.createElement("div"),e=document.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},Gx=function(t,e,n){var i=Yx(e);if(t.hasChildNodes()&&n<t.childNodes.length){var r=t.childNodes[n];r.parentNode.insertBefore(i,r)}else t.appendChild(i)},Xx=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},Kx=function(t,e){var n=0;$n.each(t,function(t){t[0]===Ux.KEEP?n++:t[0]===Ux.INSERT?(Gx(e,t[1],n),n++):t[0]===Ux.DELETE&&Xx(e,n)})},Qx={read:function(t){return $n.filter($n.map(t.childNodes,$x),function(t){return t.length>0})},write:function(t,e){var n=$n.map(e.childNodes,$x);return Kx(Ux.diff(n,t),e),e}},Zx={fromHtml:function(t,e){var n=(e||document).createElement("div");return n.innerHTML=t,rs.children(Br.fromDom(n))},fromTags:function(t,e){return oe.map(t,function(t){return Br.fromTag(t,e)})},fromText:function(t,e){return oe.map(t,function(t){return Br.fromText(t,e)})},fromDom:function(t){return oe.map(t,Br.fromDom)}},Jx=function(t){return t.dom().innerHTML},tC={get:Jx,set:function(t,e){var n=rs.owner(t).dom(),i=Br.fromDom(n.createDocumentFragment()),r=Zx.fromHtml(e,n);lf.append(i,r),df.empty(t),Ac.append(t,i)},getOuter:function(t){var e=Br.fromTag("div"),n=Br.fromDom(t.dom().cloneNode(!0));return Ac.append(e,n),Jx(e)}},eC=Yc(_t.none()),nC=function(){return eC.get().getOrThunk(function(){var t=document.implementation.createHTMLDocument("undo");return eC.set(_t.some(t)),t})},iC=function(t){return-1!==t.indexOf("</iframe>")},rC=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},oC=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},sC=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},aC=function(t){var e=Br.fromTag("body",nC());return tC.set(e,sC(t)),oe.each(sc.descendants(e,"*[data-mce-bogus]"),df.unwrap),tC.get(e)},lC=function(t,e){return sC(t)===sC(e)},uC=function(t,e){return aC(t)===aC(e)},cC={createFragmentedLevel:rC,createCompleteLevel:oC,createFromEditor:function(t){var e,n,i;return e=Qx.read(t.getBody()),n=(i=oe.bind(e,function(e){var n=jx.trimInternal(t.serializer,e);return n.length>0?[n]:[]})).join(""),iC(n)?rC(i):oC(n)},applyToEditor:function(t,e,n){"fragmented"===e.type?Qx.write(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},isEq:function(t,e){return!(!t||!e)&&(!!lC(t,e)||uC(t,e))}},dC=function(t){return t&&/^(IMG)$/.test(t.nodeName)},hC=function(t,e,n){var i,r,o,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!dC(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(s<(o=a.childNodes).length?i=new w(a=o[s],t.getParent(a,t.isBlock)):(i=new w(a=o[o.length-1],t.getParent(a,t.isBlock))).next(!0),r=i.current();r;r=i.next())if(3===r.nodeType&&!pC(r))return n.setStart(r,0),void e.setRng(n)},fC=function(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1===t.nodeType||!pC(t))return t},pC=function(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)},mC=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},gC={isInlineBlock:dC,moveStart:hC,getNonWhiteSpaceSibling:fC,isTextBlock:function(t,e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},isValid:function(t,e,n){return t.schema.isValidChild(e,n)},isWhiteSpaceNode:pC,replaceVars:function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t},isEq:function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},normalizeStyleValue:mC,getStyle:function(t,e,n){return mC(t,t.getStyle(e,n),n)},getTextDecoration:function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n},getParents:function(t,e,n){return t.getParents(e,n,t.getRoot())}},vC=of.isBookmarkNode,yC=gC.getParents,bC=gC.isWhiteSpaceNode,wC=gC.isTextBlock,xC=function(t,e){for(void 0===e&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)(t=t.childNodes[e])&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}},CC=function(t,e){var n=xC(t,e);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=xC(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(t=n.node).splitText(n.offset-1)}return t},SC=function(t){return"BR"===t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},_C=function(t,e){for(var n=e;n;){if(1===n.nodeType&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},EC=function(t,e,n,i){var r,o,s=n.nodeValue;return void 0===i&&(i=t?s.length:0),t?-1===(r=(r=s.lastIndexOf(" ",i))>(o=s.lastIndexOf("\xa0",i))?r:o)||e||r++:(r=s.indexOf(" ",i),o=s.indexOf("\xa0",i),r=-1!==r&&(-1===o||r<o)?r:o),r},TC=function(t,e,n,i,r,o){var s,a,l,u;if(3===n.nodeType){if(-1!==(l=EC(r,o,n,i)))return{container:n,offset:l};u=n}for(s=new w(n,t.getParent(n,t.isBlock)||e);a=s[r?"prev":"next"]();)if(3===a.nodeType){if(u=a,-1!==(l=EC(r,o,a)))return{container:a,offset:l}}else if(t.isBlock(a))break;if(u)return{container:u,offset:i=r?0:u.length}},kC=function(t,e,n,i,r){var o,s,a,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=yC(t,i),s=0;s<o.length;s++)for(a=0;a<e.length;a++)if(!("collapsed"in(l=e[a])&&l.collapsed!==n.collapsed)&&t.is(o[s],l.selector))return o[s];return i},DC=function(t,e,n,i){var r,o=t.dom,s=o.getRoot();if(e[0].wrapper||(r=o.getParent(n,e[0].block,s)),!r){var a=o.getParent(n,"LI,TD,TH");r=o.getParent(3===n.nodeType?n.parentNode:n,function(e){return e!==s&&wC(t,e)},a)}if(r&&e[0].wrapper&&(r=yC(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!gC.isEq(r,"br")););return r||n},MC=function(t,e,n,i,r,o,s){var a,l,u,c,d;if(a=l=s?n:r,c=s?"previousSibling":"nextSibling",d=t.getRoot(),3===a.nodeType&&!bC(a)&&(s?i>0:o<a.nodeValue.length))return a;for(;;){if(!e[0].block_expand&&t.isBlock(l))return l;for(u=l[c];u;u=u[c])if(!vC(u)&&!bC(u)&&!SC(u))return l;if(l===d||l.parentNode===d){a=l;break}l=l.parentNode}return a},AC={expandRng:function(t,e,n,i){var r,o=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,u=t.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=Bl(o,s)).nodeType&&(s=0),1===a.nodeType&&a.hasChildNodes()&&3===(a=Bl(a,e.collapsed?l:l-1)).nodeType&&(l=a.nodeValue.length),o=_C(u,o),a=_C(u,a),(vC(o.parentNode)||vC(o))&&3===(o=(o=vC(o)?o:o.parentNode).nextSibling||o).nodeType&&(s=0),(vC(a.parentNode)||vC(a))&&3===(a=(a=vC(a)?a:a.parentNode).previousSibling||a).nodeType&&(l=a.length),n[0].inline&&(e.collapsed&&((r=TC(u,t.getBody(),o,s,!0,i))&&(o=r.container,s=r.offset),(r=TC(u,t.getBody(),a,l,!1,i))&&(a=r.container,l=r.offset)),a=i?a:CC(a,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==s||(o=MC(u,n,o,s,a,l,!0)),n[0].inline&&3===a.nodeType&&l!==a.nodeValue.length||(a=MC(u,n,o,s,a,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=kC(u,n,e,o,"previousSibling"),a=kC(u,n,e,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=DC(t,n,o,"previousSibling"),a=DC(t,n,a,"nextSibling"),n[0].block&&(u.isBlock(o)||(o=MC(u,n,o,s,a,l,!0)),u.isBlock(a)||(a=MC(u,n,o,s,a,l,!1)))),1===o.nodeType&&(s=u.nodeIndex(o),o=o.parentNode),1===a.nodeType&&(l=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:s,endContainer:a,endOffset:l}}},PC=gC.isEq,OC=function(t,e,n){var i=t.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&t.dom.is(e,i[r].selector))return!0;return!1},RC=function(t,e,n,i){var r=t.dom.getRoot();return e!==r&&(e=t.dom.getParent(e,function(e){return!!OC(t,e,n)||e.parentNode===r||!!LC(t,e,n,i,!0)}),LC(t,e,n,i))},NC=function(t,e,n){return!!PC(e,n.inline)||!!PC(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)},IC=function(t,e,n,i,r,o){var s,a,l,u=n[i];if(n.onmatch)return n.onmatch(e,n,i);if(u)if("undefined"==typeof u.length){for(s in u)if(u.hasOwnProperty(s)){if(a="attributes"===i?t.getAttrib(e,s):gC.getStyle(t,e,s),r&&!a&&!n.exact)return;if((!r||n.exact)&&!PC(a,gC.normalizeStyleValue(t,gC.replaceVars(u[s],o),s)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?t.getAttrib(e,u[l]):gC.getStyle(t,e,u[l]))return n;return n},LC=function(t,e,n,i,r){var o,s,a,l,u=t.formatter.get(n),c=t.dom;if(u&&e)for(s=0;s<u.length;s++)if(o=u[s],NC(t.dom,e,o)&&IC(c,e,o,"attributes",r,i)&&IC(c,e,o,"styles",r,i)){if(l=o.classes)for(a=0;a<l.length;a++)if(!t.dom.hasClass(e,l[a]))return;return o}},BC={matchNode:LC,matchName:NC,match:function(t,e,n,i){var r;return i?RC(t,i,e,n):(i=t.selection.getNode(),!!RC(t,i,e,n)||!((r=t.selection.getStart())===i||!RC(t,r,e,n)))},matchAll:function(t,e,n){var i,r=[],o={};return i=t.selection.getStart(),t.dom.getParent(i,function(i){var s,a;for(s=0;s<e.length;s++)a=e[s],!o[a]&&LC(t,i,a,n)&&(o[a]=!0,r.push(a))},t.dom.getRoot()),r},canApply:function(t,e){var n,i,r,o,s,a=t.formatter.get(e),l=t.dom;if(a)for(n=t.selection.getStart(),i=gC.getParents(l,n),o=a.length-1;o>=0;o--){if(!(s=a[o].selector)||a[o].defaultBlock)return!0;for(r=i.length-1;r>=0;r--)if(l.is(i[r],s))return!0}return!1},matchesUnInheritedFormatSelector:OC},HC=function(t,e){return t.splitText(e)},zC={split:function(t){var e=t.startContainer,n=t.startOffset,i=t.endContainer,r=t.endOffset;return e===i&&ia.isText(e)?n>0&&n<e.nodeValue.length&&(e=(i=HC(e,n)).previousSibling,r>n?(e=i=HC(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(ia.isText(e)&&n>0&&n<e.nodeValue.length&&(e=HC(e,n),n=0),ia.isText(i)&&r>0&&r<i.nodeValue.length&&(r=(i=HC(i,r).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:i,endOffset:r}}},FC=Ya.ZWSP,jC="_mce_caret",qC=function(t,e){return t.importNode(e,!0)},WC=function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==FC||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e},VC=function(t){return WC(t).length>0},UC=function(t){var e;if(t)for(t=(e=new w(t,t)).current();t;t=e.next())if(3===t.nodeType)return t;return null},$C=function(t){var e=Br.fromTag("span");return so.setAll(e,{id:jC,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Ac.append(e,Br.fromText(FC)),e},YC=function(t){var e=UC(t);return e&&e.nodeValue.charAt(0)===FC&&e.deleteData(0,1),e},GC=function(t,e,n,i){var r,o,s;r=e.getRng(!0),o=t.getParent(n,t.isBlock),VC(n)?(!1!==i&&(r.setStartBefore(n),r.setEndBefore(n)),t.remove(n)):(s=YC(n),r.startContainer===s&&r.startOffset>0&&r.setStart(s,r.startOffset-1),r.endContainer===s&&r.endOffset>0&&r.setEnd(s,r.endOffset-1),t.remove(n,!0)),o&&t.isEmpty(o)&&gf.fillWithPaddingBr(Br.fromDom(o)),e.setRng(r)},XC=function(t,e,n,i,r){if(i)GC(e,n,i,r);else if(!(i=Hh(t,n.getStart())))for(;i=e.get(jC);)GC(e,n,i,!1)},KC=function(t,e,n){var i=t.dom,r=i.getParent(n,ql.curry(gC.isTextBlock,t));r&&i.isEmpty(r)?n.parentNode.replaceChild(e,n):(gf.removeTrailingBr(Br.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(e,n):i.insertAfter(e,n))},QC=function(t,e){return t.appendChild(e),e},ZC=function(t,e){var n=oe.foldr(t,function(t,e){return QC(t,e.cloneNode(!1))},e);return QC(n,n.ownerDocument.createTextNode(FC))},JC=function(t,e,n){var i,r,o,s,a,l,u=t.selection;s=(i=u.getRng(!0)).startOffset,l=i.startContainer.nodeValue,(r=Hh(t.getBody(),u.getStart()))&&(o=UC(r));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&s>0&&s<l.length&&c.test(l.charAt(s))&&c.test(l.charAt(s-1))?(a=u.getBookmark(),i.collapse(!0),i=AC.expandRng(t,i,t.formatter.get(e)),i=zC.split(i),t.formatter.apply(e,n,i),u.moveToBookmark(a)):(r&&o.nodeValue===FC?t.formatter.apply(e,n,r):(o=(r=qC(t.getDoc(),$C(!0).dom())).firstChild,i.insertNode(r),s=1,t.formatter.apply(e,n,r)),u.setCursorLocation(o,s))},tS=function(t,e,n,i){var r,o,s,a,l,u,c,d=t.dom,h=t.selection,f=[],p=h.getRng();for(r=p.startContainer,o=p.startOffset,l=r,3===r.nodeType&&(o!==r.nodeValue.length&&(a=!0),l=l.parentNode);l;){if(BC.matchNode(t,l,e,n,i)){u=l;break}l.nextSibling&&(a=!0),f.push(l),l=l.parentNode}if(u)if(a){s=h.getBookmark(),p.collapse(!0);var m=AC.expandRng(t,p,t.formatter.get(e),!0);m=zC.split(m),t.formatter.remove(e,n,m),h.moveToBookmark(s)}else{c=Hh(t.getBody(),u);var g=$C(!1).dom(),v=ZC(f,g);KC(t,g,c||u),GC(d,h,c,!1),h.setCursorLocation(v,1),d.isEmpty(u)&&d.remove(u)}},eS=function(t,e,n,i){XC(t,e,n,null,!1),8===i&&n.isCollapsed()&&n.getStart().innerHTML===FC&&XC(t,e,n,Hh(t,n.getStart())),37!==i&&39!==i||XC(t,e,n,Hh(t,n.getStart()))},nS=function(t){var e=t.dom,n=t.selection,i=t.getBody();t.on("mouseup keydown",function(t){eS(i,e,n,t.keyCode)})},iS=function(t,e){var n=$C(!1),i=ZC(e,n.dom());return Ac.before(Br.fromDom(t),n),df.remove(Br.fromDom(t)),du(i,0)},rS=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(Yr.name(e))&&!Bh(e.dom())&&!ia.isBogus(e.dom())},oS={},sS=$n.filter,aS=$n.each,lS=function(t,e){aS(oS[t],function(t){t(e)})};!function(t,e){var n=oS[t];n||(oS[t]=n=[]),oS[t].push(e)}("pre",function(t){var e,n,i=t.selection.getRng(),r=function(t){return e(t.previousSibling)&&-1!==$n.indexOf(n,t.previousSibling)},o=function(t,e){Ei(e).remove(),Ei(t).append("<br><br>").append(e.childNodes)};e=ia.matchNodeNames("pre"),i.collapsed||(n=t.selection.getSelectedBlocks(),aS(sS(sS(n,e),r),function(t){o(t.previousSibling,t)}))});var uS={postProcess:lS},cS=oi.each,dS=function(t,e){var n=t.childNodes;return--e>n.length-1?e=n.length-1:e<0&&(e=0),n[e]||t},hS={walk:function(t,e,n){var i,r,o,s,a,l,u,c=e.startContainer,d=e.startOffset,h=e.endContainer,f=e.endOffset;if((u=t.select("td[data-mce-selected],th[data-mce-selected]")).length>0)cS(u,function(t){n([t])});else{var p=function(t){var e;return 3===(e=t[0]).nodeType&&e===c&&d>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===f&&t.length>0&&e===h&&3===e.nodeType&&t.splice(t.length-1,1),t},m=function(t,e,n){for(var i=[];t&&t!==n;t=t[e])i.push(t);return i},g=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},v=function(t,e,i){var r=i?"nextSibling":"previousSibling";for(a=(s=t).parentNode;s&&s!==e;s=a)a=s.parentNode,(l=m(s===t?s:s[r],r)).length&&(i||l.reverse(),n(p(l)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[d]),1===h.nodeType&&h.hasChildNodes()&&(h=dS(h,f)),c===h)return n(p([c]));for(i=t.findCommonAncestor(c,h),s=c;s;s=s.parentNode){if(s===h)return v(c,i,!0);if(s===i)break}for(s=h;s;s=s.parentNode){if(s===c)return v(h,i);if(s===i)break}r=g(c,i)||c,o=g(h,i)||h,v(c,r,!0),(l=m(r===c?r:r.nextSibling,"nextSibling",o===h?o.nextSibling:o)).length&&n(p(l)),v(h,o)}}},fS=/^(src|href|style)$/,pS=oi.each,mS=gC.isEq,gS=function(t){return/^(TH|TD)$/.test(t.nodeName)},vS=function(t,e,n){var i,r,o;return i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],ia.isElement(i)&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),ia.isText(i)&&n&&r>=i.nodeValue.length&&(i=new w(i,t.getBody()).next()||i),ia.isText(i)&&!n&&0===r&&(i=new w(i,t.getBody()).prev()||i),i},yS=function(t,e,n,i){var r=t.create(n,i);return e.parentNode.insertBefore(r,e),r.appendChild(e),r},bS=function(t,e,n){return!!mS(e,n.inline)||!!mS(e,n.block)||(n.selector?ia.isElement(e)&&t.is(e,n.selector):void 0)},wS=function(t,e){return e.links&&"A"===t.tagName},xS=function(t,e,n,i){return!(e=gC.getNonWhiteSpaceSibling(e,n,i))||"BR"===e.nodeName||t.isBlock(e)},CS=function(t,e,n){var i,r=e.parentNode,o=t.dom,s=t.settings.forced_root_block;n.block&&(s?r===o.getRoot()&&(n.list_block&&mS(e,n.list_block)||pS(oi.grep(e.childNodes),function(e){gC.isValid(t,s,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=yS(o,e,s),o.setAttribs(i,t.settings.forced_root_block_attrs)):i=0})):o.isBlock(e)&&!o.isBlock(r)&&(xS(o,e,!1)||xS(o,e.firstChild,!0,1)||e.insertBefore(o.create("br"),e.firstChild),xS(o,e,!0)||xS(o,e.lastChild,!1,1)||e.appendChild(o.create("br")))),n.selector&&n.inline&&!mS(n.inline,e)||o.remove(e,1)},SS=function(t,e,n,i,r){var o,s,a,l=t.dom;if(!bS(l,i,e)&&!wS(i,e))return!1;if("all"!==e.remove)for(pS(e.styles,function(t,o){t=gC.normalizeStyleValue(l,gC.replaceVars(t,n),o),"number"==typeof o&&(o=t,r=0),
(e.remove_similar||!r||mS(gC.getStyle(l,r,o),t))&&l.setStyle(i,o,""),a=1}),a&&""===l.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),pS(e.attributes,function(t,e){var o;if(t=gC.replaceVars(t,n),"number"==typeof e&&(e=t,r=0),!r||mS(l.getAttrib(r,e),t)){if("class"===e&&(t=l.getAttrib(i,e))&&(o="",pS(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(o+=(o?" ":"")+t)}),o))return void l.setAttrib(i,e,o);"class"===e&&i.removeAttribute("className"),fS.test(e)&&i.removeAttribute("data-mce-"+e),i.removeAttribute(e)}}),pS(e.classes,function(t){t=gC.replaceVars(t,n),r&&!l.hasClass(r,t)||l.removeClass(i,t)}),s=l.getAttribs(i),o=0;o<s.length;o++){var u=s[o].nodeName;if(0!==u.indexOf("_")&&0!==u.indexOf("data-"))return!1}return"none"!==e.remove?(CS(t,i,e),!0):void 0},_S=function(t,e,n,i,r){var o;return pS(gC.getParents(t.dom,e.parentNode).reverse(),function(e){var s;o||"_start"===e.id||"_end"===e.id||(s=BC.matchNode(t,e,n,i,r))&&!1!==s.split&&(o=e)}),o},ES=function(t,e,n,i,r,o,s,a){var l,u,c,d,h,f,p=t.dom;if(n){for(f=n.parentNode,l=i.parentNode;l&&l!==f;l=l.parentNode){for(u=p.clone(l,!1),h=0;h<e.length;h++)if(SS(t,e[h],a,u,u)){u=0;break}u&&(c&&u.appendChild(c),d||(d=u),c=u)}!o||s.mixed&&p.isBlock(n)||(i=p.split(n,i)),c&&(r.parentNode.insertBefore(c,r),d.appendChild(r))}return i},TS={removeFormat:SS,remove:function(t,e,n,i,r){var o,s,a=t.formatter.get(e),l=a[0],u=!0,c=t.dom,d=t.selection,h=function(i){var o=_S(t,i,e,n,r);return ES(t,a,o,i,i,!0,l,n)},f=function(e){var i,r,o,s,d;if(ia.isElement(e)&&c.getContentEditable(e)&&(s=u,u="true"===c.getContentEditable(e),d=!0),i=oi.grep(e.childNodes),u&&!d)for(r=0,o=a.length;r<o&&!SS(t,a[r],n,e,e);r++);if(l.deep&&i.length){for(r=0,o=i.length;r<o;r++)f(i[r]);d&&(u=s)}},p=function(t){var e=c.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return of.isBookmarkNode(n)&&(n=n[t?"firstChild":"lastChild"]),ia.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),c.remove(e,!0),n},m=function(e){var n,i,r=e.commonAncestorContainer;if(e=AC.expandRng(t,e,a,!0),l.split){if((n=vS(t,e,!0))!==(i=vS(t,e))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&gS(i)&&i.firstChild&&(i=i.firstChild||i),c.isChildOf(n,i)&&n!==i&&!c.isBlock(i)&&!gS(n)&&!gS(i))return n=yS(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),h(n),void(n=p(!0));n=yS(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=yS(c,i,"span",{id:"_end","data-mce-type":"bookmark"}),h(n),h(i),n=p(!0),i=p()}else n=i=h(n);e.startContainer=n.parentNode?n.parentNode:n,e.startOffset=c.nodeIndex(n),e.endContainer=i.parentNode?i.parentNode:i,e.endOffset=c.nodeIndex(i)+1}hS.walk(c,e,function(e){pS(e,function(e){f(e),ia.isElement(e)&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===gC.getTextDecoration(c,e.parentNode)&&SS(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})};if(i)i.nodeType?((s=c.createRng()).setStartBefore(i),s.setEndAfter(i),m(s)):m(i);else if("false"!==c.getContentEditable(d.getNode()))d.isCollapsed()&&l.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?tS(t,e,n,r):(o=Ih.getPersistentBookmark(t.selection,!0),m(d.getRng()),d.moveToBookmark(o),l.inline&&BC.match(t,e,n,d.getStart())&&gC.moveStart(c,d,d.getRng()),t.nodeChanged());else{i=d.getNode();for(var g=0,v=a.length;g<v&&(!a[g].ceFalseOverride||!SS(t,a[g],n,i,i));g++);}}},kS=oi.each,DS=function(t){return t&&1===t.nodeType&&!of.isBookmarkNode(t)&&!Bh(t)&&!ia.isBogus(t)},MS=function(t,e){var n;for(n=t;n;n=n[e]){if(3===n.nodeType&&0!==n.nodeValue.length)return t;if(1===n.nodeType&&!of.isBookmarkNode(n))return n}return t},AS=function(t,e,n){var i,r,o=new af(t);if(e&&n&&(e=MS(e,"previousSibling"),n=MS(n,"nextSibling"),o.compare(e,n))){for(i=e.nextSibling;i&&i!==n;)r=i,i=i.nextSibling,e.appendChild(r);return t.remove(n),oi.each(oi.grep(n.childNodes),function(t){e.appendChild(t)}),e}return n},PS=function(t,e,n){kS(t.childNodes,function(t){DS(t)&&(e(t)&&n(t),t.hasChildNodes()&&PS(t,e,n))})},OS=function(t,e){return yt.curry(function(e,n){return!(!n||!gC.getStyle(t,n,e))},e)},RS=function(t,e,n){return yt.curry(function(e,n,i){t.setStyle(i,e,n),""===i.getAttribute("style")&&i.removeAttribute("style"),NS(t,i)},e,n)},NS=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},IS=function(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=gC.getTextDecoration(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))},LS=function(t,e,n){if(e.clear_child_styles){var i=e.links?"*:not(a)":"*";kS(t.select(i,n),function(n){DS(n)&&kS(e.styles,function(e,i){t.setStyle(n,i,"")})})}},BS={mergeWithChildren:function(t,e,n,i){kS(e,function(e){kS(t.dom.select(e.inline,i),function(i){DS(i)&&TS.removeFormat(t,e,n,i,e.exact?i:null)}),LS(t.dom,e,i)})},mergeUnderlineAndColor:function(t,e,n,i){(e.styles.color||e.styles.textDecoration)&&(oi.walk(i,yt.curry(IS,t),"childNodes"),IS(t,i))},mergeBackgroundColorAndFontSize:function(t,e,n,i){e.styles&&e.styles.backgroundColor&&PS(i,OS(t,"fontSize"),RS(t,"backgroundColor",gC.replaceVars(e.styles.backgroundColor,n)))},mergeSubSup:function(t,e,n,i){"sub"!==e.inline&&"sup"!==e.inline||(PS(i,OS(t,"fontSize"),RS(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",i),!0))},mergeSiblings:function(t,e,n,i){i&&!1!==e.merge_siblings&&(i=AS(t,gC.getNonWhiteSpaceSibling(i),i),i=AS(t,i,gC.getNonWhiteSpaceSibling(i,!0)))},mergeWithParents:function(t,e,n,i,r){BC.matchNode(t,r.parentNode,n,i)&&TS.removeFormat(t,e,i,r)||e.merge_with_parents&&t.dom.getParent(r.parentNode,function(o){if(BC.matchNode(t,o,n,i))return TS.removeFormat(t,e,i,r),!0})}},HS=oi.each,zS=function(t){return t&&1===t.nodeType&&!of.isBookmarkNode(t)&&!Bh(t)&&!ia.isBogus(t)},FS=function(t,e,n,i){var r,o,s=t.formatter.get(e),a=s[0],l=!i&&t.selection.isCollapsed(),u=t.dom,c=t.selection,d=function(t,e){if(e=e||a,t){if(e.onformat&&e.onformat(t,e,n,i),HS(e.styles,function(e,i){u.setStyle(t,i,gC.replaceVars(e,n))}),e.styles){var r=u.getAttrib(t,"style");r&&t.setAttribute("data-mce-style",r)}HS(e.attributes,function(e,i){u.setAttrib(t,i,gC.replaceVars(e,n))}),HS(e.classes,function(e){e=gC.replaceVars(e,n),u.hasClass(t,e)||u.addClass(t,e)})}},h=function(t,e){var n=!1;return!!a.selector&&(HS(t,function(t){if(!("collapsed"in t&&t.collapsed!==l))return u.is(e,t.selector)&&!Bh(e)?(d(e,t),n=!0,!1):void 0}),n)},f=function(i,r,o,l){var u,c,f=[],p=!0;u=a.inline||a.block,c=i.create(u),d(c),hS.walk(i,r,function(r){var o,m=function(r){var g,v,y,b;if(b=p,g=r.nodeName.toLowerCase(),v=r.parentNode.nodeName.toLowerCase(),1===r.nodeType&&i.getContentEditable(r)&&(b=p,p="true"===i.getContentEditable(r),y=!0),gC.isEq(g,"br"))return o=0,void(a.block&&i.remove(r));if(a.wrapper&&BC.matchNode(t,r,e,n))o=0;else{if(p&&!y&&a.block&&!a.wrapper&&gC.isTextBlock(t,g)&&gC.isValid(t,v,u))return r=i.rename(r,u),d(r),f.push(r),void(o=0);if(a.selector){var w=h(s,r);if(!a.inline||w)return void(o=0)}!p||y||!gC.isValid(t,u,g)||!gC.isValid(t,v,u)||!l&&3===r.nodeType&&1===r.nodeValue.length&&65279===r.nodeValue.charCodeAt(0)||Bh(r)||a.inline&&i.isBlock(r)?(o=0,HS(oi.grep(r.childNodes),m),y&&(p=b),o=0):(o||(o=i.clone(c,!1),r.parentNode.insertBefore(o,r),f.push(o)),o.appendChild(r))}};HS(r,m)}),!0===a.links&&HS(f,function(t){var e=function(t){"A"===t.nodeName&&d(t,a),HS(oi.grep(t.childNodes),e)};e(t)}),HS(f,function(r){var o,l=function(t){var e=!1;return HS(t.childNodes,function(t){if(zS(t))return e=t,!1}),e},u=function(t){var e,n;return(e=l(t))&&!of.isBookmarkNode(e)&&BC.matchName(i,e,a)&&(n=i.clone(e,!1),d(n),i.replace(n,t,!0),i.remove(e,1)),n||t};o=function(t){var e=0;return HS(t.childNodes,function(t){gC.isWhiteSpaceNode(t)||of.isBookmarkNode(t)||e++}),e}(r),!(f.length>1)&&i.isBlock(r)||0!==o?(a.inline||a.wrapper)&&(a.exact||1!==o||(r=u(r)),BS.mergeWithChildren(t,s,n,r),BS.mergeWithParents(t,a,e,n,r),BS.mergeBackgroundColorAndFontSize(i,a,n,r),BS.mergeSubSup(i,a,n,r),BS.mergeSiblings(i,a,n,r)):i.remove(r,1)})};if("false"!==u.getContentEditable(c.getNode())){if(a){if(i)i.nodeType?h(s,i)||((o=u.createRng()).setStartBefore(i),o.setEndAfter(i),f(u,AC.expandRng(t,o,s),null,!0)):f(u,i,null,!0);else if(l&&a.inline&&!u.select("td[data-mce-selected],th[data-mce-selected]").length)JC(t,e,n);else{var p=t.selection.getNode();t.settings.forced_root_block||!s[0].defaultBlock||u.getParent(p,u.isBlock)||FS(t,s[0].defaultBlock),t.selection.setRng(wf.normalize(t.selection.getRng())),r=Ih.getPersistentBookmark(t.selection,!0),f(u,AC.expandRng(t,c.getRng(),s),r),a.styles&&BS.mergeUnderlineAndColor(u,a,n,p),c.moveToBookmark(r),gC.moveStart(u,c,c.getRng()),t.nodeChanged()}uS.postProcess(e,t)}}else{i=c.getNode();for(var m=0,g=s.length;m<g;m++)if(s[m].ceFalseOverride&&u.is(i,s[m].selector))return void d(i,s[m])}},jS={applyFormat:FS},qS=oi.each,WS=function(t,e){var n={};t.set({}),e.on("NodeChange",function(i){var r=gC.getParents(e.dom,i.element),o={};r=oi.grep(r,function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}),qS(t.get(),function(t,i){qS(r,function(s){return e.formatter.matchNode(s,i,{},t.similar)?(n[i]||(qS(t,function(t){t(!0,{node:s,format:i,parents:r})}),n[i]=t),o[i]=t,!1):!BC.matchesUnInheritedFormatSelector(e,s,i)&&void 0})}),qS(n,function(t,e){o[e]||(delete n[e],qS(t,function(t){t(!1,{node:i.element,format:e,parents:r})}))})})},VS=function(t,e,n,i){var r=t.get();qS(e.split(","),function(t){r[t]||(r[t]=[],r[t].similar=i),r[t].push(n)}),t.set(r)},US={formatChanged:function(t,e,n,i,r){null===e.get()&&WS(e,t),VS(e,n,i,r)}},$S={get:function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,i){oi.each(i,function(n,i){t.setAttrib(e,i,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return oi.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){e[t]={block:t,remove:"all"}}),e}},YS=oi.each,GS=za.DOM,XS=function(t,e){var n,i,r,o=e&&e.schema||x({}),s=function(t,e){e.classes.length&&GS.addClass(t,e.classes.join(" ")),GS.setAttribs(t,e.attrs)},a=function(t){var e;return i="string"==typeof t?{name:t,classes:[],attrs:{}}:t,e=GS.create(i.name),s(e,i),e},l=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,i=o.getElementRule(n),r=i&&i.parentsRequired;return!(!r||!r.length)&&(e&&-1!==oi.inArray(r,e)?e:r[0])},u=function(t,e,n){var i,r,o,s=e.length>0&&e[0],c=s&&s.name;if(o=l(t,c))c===o?(r=e[0],e=e.slice(1)):r=o;else if(s)r=e[0],e=e.slice(1);else if(!n)return t;return r&&(i=a(r)).appendChild(t),n&&(i||(i=GS.create("div")).appendChild(t),oi.each(n,function(e){var n=a(e);i.insertBefore(n,t)})),u(i,e,r&&r.siblings)};return t&&t.length?(i=t[0],n=a(i),(r=GS.create("div")).appendChild(u(n,t.slice(1),i.siblings)),r):""},KS=function(t,e){return XS(ZS(t),e)},QS=function(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=oi.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,e,i,r,o){switch(e){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==oi.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var s=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""})),n.name=e||"div",n},ZS=function(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),oi.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var e=oi.map(t.split(/(?:~\+|~|\+)/),QS),n=e.pop();return e.length&&(n.siblings=e),n}).reverse()):[]},JS={getCssText:function(t,e){var n,i,r,o,s,a,l="";if(!1===(a=t.settings.preview_styles))return"";"string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var u=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(a=e.preview)?"":(n=e.block||e.inline||"span",(o=ZS(e.selector)).length?(o[0].name||(o[0].name=n),n=e.selector,i=XS(o,t)):i=XS([n],t),r=GS.select(n,i)[0]||i.firstChild,YS(e.styles,function(t,e){(t=u(t))&&GS.setStyle(r,e,t)}),YS(e.attributes,function(t,e){(t=u(t))&&GS.setAttrib(r,e,t)}),YS(e.classes,function(t){t=u(t),GS.hasClass(r,t)||GS.addClass(r,t)}),t.fire("PreviewFormats"),GS.setStyles(i,{position:"absolute",left:-65535}),t.getBody().appendChild(i),s=GS.getStyle(t.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,YS(a.split(" "),function(e){var n=GS.getStyle(r,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=GS.getStyle(t.getBody(),e,!0),"#ffffff"===GS.toHex(n).toLowerCase())||"color"===e&&"#000000"===GS.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===s)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*s+"px"}"border"===e&&n&&(l+="padding:0 2px;"),l+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),GS.remove(i),l)},parseSelector:ZS,selectorToHtml:KS},t_={toggle:function(t,e,n,i,r){var o=e.get(n);!BC.match(t,n,i,r)||"toggle"in o[0]&&!o[0].toggle?jS.applyFormat(t,n,i,r):TS.remove(t,n,i,r)}},e_={setup:function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}},n_=function(t,e){return e},i_=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var i={},r=0;r<e.length;r++){var o=e[r];for(var s in o)o.hasOwnProperty(s)&&(i[s]=t(i[s],o[s]))}return i}},r_=i_(function(t,e){return kt.isObject(t)&&kt.isObject(e)?r_(t,e):e}),o_=i_(n_),s_={deepMerge:r_,merge:o_},a_={register:function(t,e,n){t.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)(n=t[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(e,null)}),t.addAttributeFilter("src,href,style",function(t,i){for(var r,o,s=t.length,a="data-mce-"+i,l=e.url_converter,u=e.url_converter_scope;s--;)(o=(r=t[s]).attributes.map[a])!==undefined?(r.attr(i,o.length>0?o:null),r.attr(a,null)):(o=r.attributes.map[i],"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):l&&(o=l.call(u,o,i,r.name)),r.attr(i,o.length>0?o:null))}),t.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)(n=(e=t[i]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))}),t.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)"bookmark"!==(i=t[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()}),t.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=ba.decode(e.value))}),t.addNodeFilter("script,style",function(t,n){for(var i,r,o,s=t.length,a=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};s--;)r=(i=t[s]).firstChild?i.firstChild.value:"","script"===n?((o=i.attr("type"))&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===e.element_format&&r.length>0&&(i.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):"xhtml"===e.element_format&&r.length>0&&(i.firstChild.value="<!--\n"+a(r)+"\n-->")}),t.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)0===(e=t[n]).value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),t.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)7===(n=t[i]).type?n.remove():1===n.type&&("input"!==e||"type"in n.attributes.map||n.attr("type","text"))}),t.addAttributeFilter("data-mce-type",function(e){oe.each(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})},trimTrailingBr:function(t){var e,n,i=function(t){return t&&"br"===t.name};i(e=t.lastChild)&&i(n=e.prev)&&(e.remove(),n.remove())}},l_=function(t,e,n){var i,r,o,s=t.dom;return e=e.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(r=i.createHTMLDocument(""),oi.each("BODY"===e.nodeName?e.childNodes:[e],function(t){r.body.appendChild(r.importNode(t,!0))}),e="BODY"!==e.nodeName?r.body.firstChild:r.body,o=s.doc,s.doc=r),rb.firePreProcess(t,s_.merge(n,{node:e})),o&&(s.doc=o),e},u_=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},c_={process:function(t,e,n){return u_(t,n)?l_(t,e,n):e}},d_=function(t,e){oe.each(e,function(e){t.attr(e,null)})},h_=function(t,e,n){t.addNodeFilter("font",function(t){oe.each(t,function(t){var i=e.parse(t.attr("style")),r=t.attr("color"),o=t.attr("face"),s=t.attr("size");r&&(i.color=r),o&&(i["font-family"]=o),s&&(i["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(i)),d_(t,["color","face","size"])})})},f_=function(t,e){t.addNodeFilter("strike",function(t){oe.each(t,function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))})})},p_=function(t,e){var n=C();e.convert_fonts_to_spans&&h_(t,n,oi.explode(e.font_size_legacy_values)),f_(t,n)},m_={register:function(t,e){e.inline_styles&&p_(t,e)}},g_=/^[ \t\r\n]*$/,v_={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},y_=function(t,e,n){var i,r,o=n?"lastChild":"firstChild",s=n?"prev":"next";if(t[o])return t[o];if(t!==e){if(i=t[s])return i;for(r=t.parent;r&&r!==e;r=r.parent)if(i=r[s])return i}},b_=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var i,r;if(i=new t(e,v_[e]||1),n)for(r in n)i.attr(r,n[r]);return i},t.prototype.replace=function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},t.prototype.attr=function(t,e){var n,i,r=this;if("string"!=typeof t){for(i in t)r.attr(i,t[i]);return r}if(n=r.attributes){if(e!==undefined){if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),r;return r}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,r}return n.map[t]}},t.prototype.clone=function(){var e,n,i,r,o,s=this,a=new t(s.name,s.type);if(i=s.attributes){for((o=[]).map={},e=0,n=i.length;e<n;e++)"id"!==(r=i[e]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);a.attributes=o}return a.value=s.value,a.shortEnded=s.shortEnded,a},t.prototype.wrap=function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},t.prototype.unwrap=function(){var t,e,n=this;for(t=n.firstChild;t;)e=t.next,n.insert(t,n,!0),t=e;n.remove()},t.prototype.remove=function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):i.next=n,e.lastChild===t?(e.lastChild=i,i&&(i.next=null)):n.prev=i,t.parent=t.next=t.prev=null),t},t.prototype.append=function(t){var e,n=this;return t.parent&&t.remove(),(e=n.lastChild)?(e.next=t,t.prev=e,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},t.prototype.insert=function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},t.prototype.getAll=function(t){var e,n=this,i=[];for(e=n.firstChild;e;e=y_(e,n))e.name===t&&i.push(e);return i},t.prototype.empty=function(){var t,e,n,i=this;if(i.firstChild){for(t=[],n=i.firstChild;n;n=y_(n,i))t.push(n);for(e=t.length;e--;)(n=t[e]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return i.firstChild=i.lastChild=null,i},t.prototype.isEmpty=function(t,e,n){var i,r,o=this,s=o.firstChild;if(e=e||{},s)do{if(1===s.type){if(s.attributes.map["data-mce-bogus"])continue;if(t[s.name])return!1;for(i=s.attributes.length;i--;)if("name"===(r=s.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===s.type)return!1;if(3===s.type&&!g_.test(s.value))return!1;if(3===s.type&&s.parent&&e[s.parent.name]&&g_.test(s.value))return!1;if(n&&n(s))return!1}while(s=y_(s,o));return!0},t.prototype.walk=function(t){return y_(this,null,t)},t}(),w_=function(t,e,n,i){(t.padd_empty_with_br||e.insert)&&n[i.name]?i.empty().append(new b_("br",1)).shortEnded=!0:i.empty().append(new b_("#text",3)).value="\xa0"},x_=function(t){return C_(t,"#text")&&"\xa0"===t.firstChild.value},C_=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},S_=function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty},__=function(t,e,n,i){return i.isEmpty(e,n,function(e){return S_(t,e)})},E_=function(t,e){return t&&(e[t.name]||"br"===t.name)},T_=function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",function(t,i,r){var o,s,a,l,u,c,d,h,f=t.length,p=oi.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(p.body=1,o=0;o<f;o++)if(a=(s=t[o]).parent,p[s.parent.name]&&s===a.lastChild){for(u=s.prev;u;){if("span"!==(c=u.name)||"bookmark"!==u.attr("data-mce-type")){if("br"!==c)break;if("br"===c){s=null;break}}u=u.prev}s&&(s.remove(),__(n,m,g,a)&&(d=n.getElementRule(a.name))&&(d.removeEmpty?a.remove():d.paddEmpty&&w_(e,r,p,a)))}else{for(l=s;a&&a.firstChild===l&&a.lastChild===l&&(l=a,!p[a.name]);)a=a.parent;l===a&&!0!==e.padd_empty_with_br&&((h=new b_("#text",3)).value="\xa0",s.replace(h))}}),t.addAttributeFilter("href",function(t){var n,i=t.length,r=function(t){return t.split(" ").filter(function(t){return t.length>0}).concat(["noopener"]).sort().join(" ")},o=function(t){var e=t?oi.trim(t):"";return/\b(noopener)\b/g.test(e)?e:r(e)};if(!e.allow_unsafe_link_target)for(;i--;)"a"===(n=t[i]).name&&"_blank"===n.attr("target")&&n.attr("rel",o(n.attr("rel")))}),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if("a"===(r=t[o]).name&&r.firstChild&&!r.attr("href")){i=r.parent,e=r.lastChild;do{n=e.prev,i.insert(e,r),e=n}while(e)}}),e.fix_list_elements&&t.addNodeFilter("ul,ol",function(t){for(var e,n,i=t.length;i--;)if("ul"===(n=(e=t[i]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var r=new b_("li",1);r.attr("style","list-style-type: none"),e.wrap(r)}}),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",function(t){for(var e,i,r,o,s,a,l,u=t.length,c=n.getValidClasses();u--;){for(i=(e=t[u]).attr("class").split(" "),s="",r=0;r<i.length;r++)o=i[r],l=!1,(a=c["*"])&&a[o]&&(l=!0),a=c[e.name],!l&&a&&a[o]&&(l=!0),l&&(s&&(s+=" "),s+=o);s.length||(s=null),e.attr("class",s)}})},k_=oi.makeMap,D_=oi.each,M_=oi.explode,A_=oi.extend,P_=function(t,e,n){-1===oi.inArray(e,n)&&(t.addAttributeFilter(n,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),e.push(n))},O_=function(t,e,n){return!e.no_events&&t?rb.firePostProcess(t,s_.merge(e,{content:n})).content:n},R_=function(t,e,n){var i=Ya.trim(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||zs(Br.fromDom(e))?i:oi.trim(i)},N_=function(t,e,n){var i=n.selection?s_.merge({forced_root_block:!1},n):n,r=t.parse(e,i);return a_.trimTrailingBr(r),r},I_=function(t,e,n){return D(t,e).serialize(n)},L_=function(t,e,n,i,r){var o=I_(e,n,i);return O_(t,r,o)};!function(t){t.isBookmarkNode=of.isBookmarkNode}(tt||(tt={}));var B_=tt,H_=ia.isContentEditableFalse,z_=ia.isContentEditableTrue,F_=function(t,e){for(;e&&e!==t;){if(z_(e)||H_(e))return e;e=e.parentNode}return null},j_=function(t,e){var n,i,r,o,s,a,l,u,c,d,h,f,p,m,g,v,y,b=e.dom,w=oi.each,x=e.getDoc(),C=document,S=Math.abs,_=Math.round,E=e.getBody();o={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var T=".mce-content-body";e.contentStyles.push(T+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+T+" .mce-resizehandle:hover {background: #000}"+T+" img[data-mce-selected],"+T+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+T+" .mce-clonedresizable {position: absolute;"+(He.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+T+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var k=function(t){return t&&("IMG"===t.nodeName||e.dom.is(t,"figure.image"))},D=function(t,e){return k(t.target)&&!_x.isXYWithinRange(t.clientX,t.clientY,e)},M=function(t){var n=t.target;D(t,e.selection.getRng())&&!t.isDefaultPrevented()&&(t.preventDefault(),e.selection.select(n))},A=function(t){return e.dom.is(t,"figure.image")?t.querySelector("img"):t},P=function(t){var n=e.settings.object_resizing;return!1!==n&&!He.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&t!==e.getBody()&&Po.is(Br.fromDom(t),n))},O=function(t){var o,w,x,C;o=t.screenX-a,w=t.screenY-l,m=o*s[2]+d,g=w*s[3]+h,m=m<5?5:m,g=g<5?5:g,(k(n)&&!1!==e.settings.resize_img_proportional?!kx.modifierPressed(t):kx.modifierPressed(t)||k(n)&&s[2]*s[3]!=0)&&(S(o)>S(w)?(g=_(m*f),m=_(g/f)):(m=_(g/f),g=_(m*f))),b.setStyles(A(i),{width:m,height:g}),x=(x=s.startPos.x+o)>0?x:0,C=(C=s.startPos.y+w)>0?C:0,b.setStyles(r,{left:x,top:C,display:"block"}),r.innerHTML=m+" &times; "+g,s[2]<0&&i.clientWidth<=m&&b.setStyle(i,"left",u+(d-m)),s[3]<0&&i.clientHeight<=g&&b.setStyle(i,"top",c+(h-g)),(o=E.scrollWidth-v)+(w=E.scrollHeight-y)!=0&&b.setStyles(r,{left:x-o,top:C-w}),p||(rb.fireObjectResizeStart(e,n,d,h),p=!0)},R=function(){p=!1;var t=function(t,i){i&&(n.style[t]||!e.schema.isValid(n.nodeName.toLowerCase(),t)?b.setStyle(A(n),t,i):b.setAttrib(A(n),t,i))};t("width",m),t("height",g),b.unbind(x,"mousemove",O),b.unbind(x,"mouseup",R),C!==x&&(b.unbind(C,"mousemove",O),b.unbind(C,"mouseup",R)),b.remove(i),b.remove(r),N(n),rb.fireObjectResized(e,n,m,g),b.setAttrib(n,"style",b.getAttrib(n,"style")),e.nodeChanged()},N=function(t){var p,S,_,T,k;I(),H(),p=b.getPos(t,E),u=p.x,c=p.y,k=t.getBoundingClientRect(),S=k.width||k.right-k.left,_=k.height||k.bottom-k.top,n!==t&&(n=t,m=g=0),T=e.fire("ObjectSelected",{target:t}),P(t)&&!T.isDefaultPrevented()?w(o,function(t,e){var o,p=function(e){a=e.screenX,l=e.screenY,d=A(n).clientWidth,h=A(n).clientHeight,f=h/d,s=t,t.startPos={x:S*t[0]+u,y:_*t[1]+c},v=E.scrollWidth,y=E.scrollHeight,i=n.cloneNode(!0),b.addClass(i,"mce-clonedresizable"),b.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,b.setStyles(i,{left:u,top:c,margin:0}),i.removeAttribute("data-mce-selected"),E.appendChild(i),b.bind(x,"mousemove",O),b.bind(x,"mouseup",R),C!==x&&(b.bind(C,"mousemove",O),b.bind(C,"mouseup",R)),r=b.add(E,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+h)};(o=b.get("mceResizeHandle"+e))&&b.remove(o),o=b.add(E,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===He.ie&&(o.contentEditable=!1),b.bind(o,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),p(t)}),t.elm=o,b.setStyles(o,{left:S*t[0]+u-o.offsetWidth/2,top:_*t[1]+c-o.offsetHeight/2})}):I(),n.setAttribute("data-mce-selected","1")},I=function(){var t,e;for(t in H(),n&&n.removeAttribute("data-mce-selected"),o)(e=b.get("mceResizeHandle"+t))&&(b.unbind(e),b.remove(e))},L=function(n){var i,r=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};p||e.removed||(w(b.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),i="mousedown"===n.type?n.target:t.getNode(),r(i=b.$(i).closest("table,img,figure.image,hr")[0],E)&&(z(),r(t.getStart(!0),i)&&r(t.getEnd(!0),i))?N(i):I())},B=function(t){return H_(F_(e.getBody(),t))},H=function(){for(var t in o){var e=o[t];e.elm&&(b.unbind(e.elm),delete e.elm)}},z=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};return e.on("init",function(){z(),He.ie&&He.ie>=11&&(e.on("mousedown click",function(t){var n=t.target,i=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(i)||B(n)||(2!==t.button&&e.selection.select(n,"TABLE"===i),"mousedown"===t.type&&e.nodeChanged())}),e.dom.bind(E,"mscontrolselect",function(t){var n=function(t){Ue.setEditorTimeout(e,function(){e.selection.select(t)})};if(B(t.target))return t.preventDefault(),void n(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&n(t.target))}));var t=Ue.throttle(function(t){e.composing||L(t)});e.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),e.on("keyup compositionend",function(e){n&&"TABLE"===n.nodeName&&t(e)}),e.on("hide blur",I),e.on("contextmenu",M)}),e.on("remove",H),{isResizable:P,showResizeRect:N,hideResizeRect:I,updateResizeRect:L,destroy:function(){n=i=null}}},q_=function(t){return ia.isContentEditableTrue(t)||ia.isContentEditableFalse(t)},W_=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null
},V_=function(t,e,n){var i,r,o;if(i=n.elementFromPoint(t,e),r=n.body.createTextRange(),i&&"HTML"!==i.tagName||(i=n.body),r.moveToElementText(i),(o=(o=oi.toArray(r.getClientRects())).sort(function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-(n=Math.abs(Math.max(n.top-e,n.bottom-e)))})).length>0){e=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(t,e),r.collapse(!0),r}catch(s){}}return null},U_=function(t,e){var n=t&&t.parentElement?t.parentElement():null;return ia.isContentEditableFalse(W_(n,e,q_))?null:t},$_={fromPoint:function(t,e,n){var i,r,o=n;if(o.caretPositionFromPoint)(r=o.caretPositionFromPoint(t,e))&&((i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(o.body.createTextRange){i=o.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(s){i=V_(t,e,n)}return U_(i,n.body)}return i}},Y_={processRanges:function(t,e){return oe.map(e,function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e})}},G_=function(t,e){return Br.fromDom(t.dom().cloneNode(e))},X_=function(t){return G_(t,!0)},K_=function(t,e){var n=Br.fromTag(e),i=so.clone(t);return so.setAll(n,i),n},Q_={shallow:function(t){return G_(t,!1)},shallowAs:K_,deep:X_,copy:function(t,e){var n=K_(t,e),i=rs.children(X_(t));return lf.append(n,i),n},mutate:function(t,e){var n=K_(t,e);Ac.before(t,n);var i=rs.children(t);return lf.append(n,i),df.remove(t),n}},Z_={fromElements:function(t,e){var n=(e||document).createDocumentFragment();return oe.each(t,function(t){n.appendChild(t.dom())}),Br.fromDom(n)}},J_=So.immutable("element","width","rows"),tE=So.immutable("element","cells"),eE=So.immutable("x","y"),nE=function(t,e){var n=parseInt(so.get(t,e),10);return isNaN(n)?1:n},iE=function(t,e,n,i,r){for(var o=nE(r,"rowspan"),s=nE(r,"colspan"),a=t.rows(),l=n;l<n+o;l++){a[l]||(a[l]=tE(Q_.deep(i),[]));for(var u=e;u<e+s;u++)a[l].cells()[u]=l===n&&u===e?r:Q_.shallow(r)}},rE=function(t,e,n){var i=t.rows();return!!(i[n]?i[n].cells():[])[e]},oE=function(t,e,n){for(;rE(t,e,n);)e++;return e},sE=function(t){return oe.foldl(t,function(t,e){return e.cells().length>t?e.cells().length:t},0)},aE=function(t,e){for(var n=t.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(Ho.eq(r[o],e))return _t.some(eE(o,i));return _t.none()},lE=function(t,e,n,i,r){for(var o=[],s=t.rows(),a=n;a<=r;a++){var l=s[a].cells(),u=e<i?l.slice(e,i+1):l.slice(i,e+1);o.push(tE(s[a].element(),u))}return o},uE=function(t,e,n){var i=e.x(),r=e.y(),o=n.x(),s=n.y(),a=r<s?lE(t,i,r,o,s):lE(t,i,s,o,r);return J_(t.element(),sE(a),a)},cE=function(t,e){var n=Q_.shallow(t.element()),i=Br.fromTag("tbody");return lf.append(i,e),Ac.append(n,i),n},dE=function(t){return oe.map(t.rows(),function(t){var e=oe.map(t.cells(),function(t){var e=Q_.deep(t);return so.remove(e,"colspan"),so.remove(e,"rowspan"),e}),n=Q_.shallow(t.element());return lf.append(n,e),n})},hE={fromDom:function(t){var e=J_(Q_.shallow(t),0,[]);return oe.each(sc.descendants(t,"tr"),function(t,n){oe.each(sc.descendants(t,"td,th"),function(i,r){iE(e,oE(e,r,n),n,t,i)})}),J_(e.element(),sE(e.rows()),e.rows())},toDom:function(t){return cE(t,dE(t))},subsection:function(t,e,n){return aE(t,e).bind(function(e){return aE(t,n).map(function(n){return uE(t,e,n)})})}},fE=function(t){return oe.find(t,function(t){return"ul"===Yr.name(t)||"ol"===Yr.name(t)})},pE=function(t,e){return oe.find(t,function(t){return"li"===Yr.name(t)&&Ew(t,e)}).fold(yt.constant([]),function(){return fE(t).map(function(t){return[Br.fromTag("li"),Br.fromTag(Yr.name(t))]}).getOr([])})},mE=function(t,e){var n=oe.foldl(e,function(t,e){return Ac.append(e,t),e},t);return e.length>0?Z_.fromElements([n]):n},gE=function(t){return Is(t)?rs.parent(t).filter(Ns).fold(yt.constant([]),function(e){return[t,e]}):Ns(t)?[t]:[]},vE=function(t,e){var n=Br.fromDom(e.commonAncestorContainer),i=Rp.parentsAndSelf(n,t),r=oe.filter(i,function(t){return Ps(t)||Ms(t)}),o=pE(i,e),s=r.concat(o.length?o:gE(n));return oe.map(s,Q_.shallow)},yE=function(){return Z_.fromElements([])},bE=function(t,e){return mE(Br.fromDom(e.cloneContents()),vE(t,e))},wE=function(t,e){return cp.ancestor(e,"table",yt.curry(Ho.eq,t))},xE=function(t,e){return wE(t,e[0]).bind(function(t){var n=e[0],i=e[e.length-1],r=hE.fromDom(t);return hE.subsection(r,n,i).map(function(t){return Z_.fromElements([hE.toDom(t)])})}).getOrThunk(yE)},CE=function(t,e){return e.length>0&&e[0].collapsed?yE():bE(t,e[0])},SE={read:function(t,e){var n=ov.getCellsFromElementOrRanges(e,t);return n.length>0?xE(t,n):CE(t,e)}},_E={getContent:function(t,e){var n,i=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),s=Y_.processRanges(t,ev.getRanges(o));if((e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return t.selection.isCollapsed()?"":Ya.trim(i.text||(o.toString?o.toString():""));i.cloneContents?(n=e.contextual?SE.read(Br.fromDom(t.getBody()),s).dom():i.cloneContents())&&r.appendChild(n):i.item!==undefined||i.htmlText!==undefined?(r.innerHTML="<br>"+(i.item?i.item(0).outerHTML:i.htmlText),r.removeChild(r.firstChild)):r.innerHTML=i.toString(),e.getInner=!0;var a=t.selection.serializer.serialize(r,e);return"tree"===e.format?a:(e.content=t.selection.isCollapsed()?"":a,t.fire("GetContent",e),e.content)}},EE={setContent:function(t,e,n){var i,r,o,s=t.selection.getRng(),a=t.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=e,n.no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){if(e=n.content,s.insertNode){e+='<span id="__caret">_</span>',s.startContainer===a&&s.endContainer===a?a.body.innerHTML=e:(s.deleteContents(),0===a.body.childNodes.length?a.body.innerHTML=e:s.createContextualFragment?s.insertNode(s.createContextualFragment(e)):(r=a.createDocumentFragment(),o=a.createElement("div"),r.appendChild(o),o.outerHTML=e,s.insertNode(r))),i=t.dom.get("__caret"),(s=a.createRange()).setStartBefore(i),s.setEndBefore(i),t.selection.setRng(s),t.dom.remove("__caret");try{t.selection.setRng(s)}catch(l){}}else s.item&&(a.execCommand("Delete",!1,null),s=t.getRng()),/^\s+/.test(e)?(s.pasteHTML('<span id="__mce_tmp">_</span>'+e),t.dom.remove("__mce_tmp")):s.pasteHTML(e);n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)}},TE=function(t,e,n,i,r){var o=n?e.startContainer:e.endContainer,s=n?e.startOffset:e.endOffset;return _t.from(o).map(Br.fromDom).map(function(t){return i&&e.collapsed?t:rs.child(t,r(t,s)).getOr(t)}).bind(function(t){return Yr.isElement(t)?_t.some(t):rs.parent(t)}).map(function(t){return t.dom()}).getOr(t)},kE=function(t,e,n){return TE(t,e,!0,n,function(t,e){return Math.min(rs.childNodesCount(t),e)})},DE=function(t,e,n){return TE(t,e,!1,n,function(t,e){return e>0?e-1:e})},ME=function(t,e){for(var n=t;t&&ia.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},AE=function(t,e){var n,i,r,o,s;return e?(i=e.startContainer,r=e.endContainer,o=e.startOffset,s=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(i===r&&s-o<2&&i.hasChildNodes()&&(n=i.childNodes[o]),3===i.nodeType&&3===r.nodeType&&(i=i.length===o?ME(i.nextSibling,!0):i.parentNode,r=0===s?ME(r.previousSibling,!1):r.parentNode,i&&i===r))?i:n&&3===n.nodeType?n.parentNode:n):t},PE=function(t,e,n,i){var r,o,s=[];if(o=t.getRoot(),n=t.getParent(n||kE(o,e,!1),t.isBlock),i=t.getParent(i||DE(o,e,!1),t.isBlock),n&&n!==o&&s.push(n),n&&i&&n!==i){r=n;for(var a=new w(n,o);(r=a.next())&&r!==i;)t.isBlock(r)&&s.push(r)}return i&&n!==i&&i!==o&&s.push(i),s},OE=function(t,e,n){return _t.from(e).map(function(e){var i=t.nodeIndex(e),r=t.createRng();return r.setStart(e.parentNode,i),r.setEnd(e.parentNode,i+1),n&&(Tw(t,r,e,!0),Tw(t,r,e,!1)),r})},RE=oi.each,NE=function(t){return!!t.select},IE=function(t){return!(!t||!t.ownerDocument)&&Ho.contains(Br.fromDom(t.ownerDocument),Br.fromDom(t))},LE=function(t){return!!t&&(!!NE(t)||IE(t.startContainer)&&IE(t.endContainer))},BE=function(t,e,n,i){var r,o,s,a,l,u=function(e,n){var r=t.createRng();e?(r.setStart(e,n),r.setEnd(e,n),y(r),m(!1)):(Tw(t,r,i.getBody(),!0),y(r))},c=function(t,e){return EE.setContent(i,t,e)},d=function(t){return kE(i.getBody(),v(),t)},h=function(t){return DE(i.getBody(),v(),t)},f=function(e,n){return OE(t,e,n).each(y),e},p=function(){var t=v(),e=g();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},m=function(t){var e=v();e.collapse(!!t),y(e)},g=function(){return e.getSelection?e.getSelection():e.document.selection},v=function(){var n,r,o,l,u=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(i){return-1}};if(!e)return null;if(null==(l=e.document))return null;if(i.bookmark!==undefined&&!1===Bb.hasFocus(i)){var c=Iy.getRng(i);if(c.isSome())return c.map(function(t){return Y_.processRanges(i,[t])[0]}).getOr(l.createRange())}try{(n=g())&&(r=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():l.createRange())}catch(d){}return(r=Y_.processRanges(i,[r])[0])||(r=l.createRange?l.createRange():l.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(o=t.getRoot(),r.setStart(o,0),r.setEnd(o,0)),s&&a&&(0===u(r.START_TO_START,r,s)&&0===u(r.END_TO_END,r,s)?r=a:(s=null,a=null)),r},y=function(t,e){var n,r;if(LE(t)){var o=NE(t)?t:null;if(o){a=null;try{o.select()}catch(l){}}else{if(n=g(),t=i.fire("SetSelectionRange",{range:t,forward:e}).range,n){a=t;try{n.removeAllRanges(),n.addRange(t)}catch(l){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),s=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||He.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(r=t.startContainer.childNodes[t.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(r,0,r,1)),i.fire("AfterSetSelectionRange",{range:t,forward:e})}}},b=function(){var e,n,i=g();return!(i&&i.anchorNode&&i.focusNode)||((e=t.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(n=t.createRng()).setStart(i.focusNode,i.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)},w=function(){e=s=a=null,o.destroy()},x={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:i,collapse:m,setCursorLocation:u,getContent:function(t){return _E.getContent(i,t)},setContent:c,getBookmark:function(t,e){return r.getBookmark(t,e)},moveToBookmark:function(t){return r.moveToBookmark(t)},select:f,isCollapsed:p,isForward:b,setNode:function(e){return c(t.getOuterHTML(e)),e},getNode:function(){return AE(i.getBody(),v())},getSel:g,setRng:y,getRng:v,getStart:d,getEnd:h,getSelectedBlocks:function(e,n){return PE(t,v(),e,n)},normalize:function(){var e=v(),n=g();if(!ev.hasMultipleRanges(n)&&kw(i)){var r=Jv.normalize(t,e);return r.each(function(t){y(t,b())}),r.getOr(e)}return e},selectorChanged:function(e,n){var r;return l||(l={},r={},i.on("NodeChange",function(e){var n=e.element,i=t.getParents(n,null,t.getRoot()),o={};RE(l,function(e,n){RE(i,function(s){if(t.is(s,n))return r[n]||(RE(e,function(t){t(!0,{node:s,selector:n,parents:i})}),r[n]=e),o[n]=e,!1})}),RE(r,function(t,e){o[e]||(delete r[e],RE(t,function(t){t(!1,{node:n,selector:e,parents:i})}))})})),l[e]||(l[e]=[]),l[e].push(n),x},getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){return Sc.scrollElementIntoView(i,t,e)},placeCaretAt:function(t,e){return y($_.fromPoint(t,e,i.getDoc()))},getBoundingClientRect:function(){var t=v();return t.collapsed?du.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:w};return r=B_(x),o=j_(x,i),x.bookmarkManager=r,x.controlSelection=o,x},HE=ia.isContentEditableFalse,zE=Ll,FE=Ed,jE=_d,qE=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},WE=function(t,e){var n=hd(t,e);return!(n||!ia.isBr(t.getNode()))||n},VE=function(t,e,n,i){var r,o,s,a,l=t===Wu.Forwards,u=l?jE:FE;return!i.collapsed&&(r=zE(i),HE(r))?Hu(t,e,r,t===Wu.Backwards,!0):(a=ul(i),u(o=Sd(t,e.getBody(),i))?Fu(e,o.getNode(!l)):(o=n(o))?u(o)?Hu(t,e,o.getNode(!l),l,!0):u(s=n(o))&&WE(o,s)?Hu(t,e,s.getNode(!l),l,!0):a?qu(e,o.toRange(),!0):null:a?i:null)},UE=function(t,e,n,i){var r,o,s,a,l,u,c,d,h;if(h=zE(i),r=Sd(t,e.getBody(),i),o=n(e.getBody(),dx(1),r),s=$n.filter(o,hx(1)),l=$n.last(r.getClientRects()),(jE(r)||Td(r))&&(h=r.getNode()),(FE(r)||kd(r))&&(h=r.getNode(!0)),!l)return null;if(u=l.left,(a=yx(s,u))&&HE(a.node))return c=Math.abs(u-a.left),d=Math.abs(u-a.right),Hu(t,e,a.node,c<d,!0);if(h){var f=cx(t,e.getBody(),dx(1),h);if(a=yx($n.filter(f,hx(1)),u))return qu(e,a.position.toRange(),!0);if(a=$n.last($n.filter(f,hx(0))))return qu(e,a.position.toRange(),!0)}},$E=function(t){var e=t.dom.create(t.settings.forced_root_block);return(!He.ie||He.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e},YE=function(t,e,n){var i,r,o=Fd(t.getBody()),s=ql.curry(qE,o.next),a=ql.curry(qE,o.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(i=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?s(du.fromRangeStart(n)):a(du.fromRangeStart(n)))||(r=$E(t),1===e?t.$(i).after(r):t.$(i).before(r),t.selection.select(r,!0),t.selection.collapse())}},GE=function(t,e){var n,i=Fd(t.getBody()),r=ql.curry(qE,i.next),o=ql.curry(qE,i.prev),s=e?Wu.Forwards:Wu.Backwards,a=e?r:o,l=t.selection.getRng();return(n=VE(s,t,a,l))?n:(n=YE(t,s,l))||null},XE=function(t,e){var n,i=e?1:-1,r=e?ux:lx,o=t.selection.getRng();return(n=UE(i,t,r,o))?n:(n=YE(t,i,o))||null},KE=function(t,e){return function(){var n=GE(t,e);return!!n&&(t.selection.setRng(n),!0)}},QE=function(t,e){return function(){var n=XE(t,e);return!!n&&(t.selection.setRng(n),!0)}},ZE=function(t){return oe.map(t,function(t){return s_.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:yt.noop},t)})},JE=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},tT=function(t,e){return oe.bind(ZE(t),function(t){return JE(t,e)?[t]:[]})},eT={match:tT,action:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,i)}},execute:function(t,e){return oe.find(tT(t,e),function(t){return t.action()})}},nT=function(t,e,n){var i=Or.detect().os;eT.execute([{keyCode:kx.RIGHT,action:KE(t,!0)},{keyCode:kx.LEFT,action:KE(t,!1)},{keyCode:kx.UP,action:QE(t,!1)},{keyCode:kx.DOWN,action:QE(t,!0)},{keyCode:kx.RIGHT,action:Uc(t,!0)},{keyCode:kx.LEFT,action:Uc(t,!1)},{keyCode:kx.UP,action:$c(t,!1)},{keyCode:kx.DOWN,action:$c(t,!0)},{keyCode:kx.RIGHT,action:Tg.move(t,e,!0)},{keyCode:kx.LEFT,action:Tg.move(t,e,!1)},{keyCode:kx.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Tg.moveNextWord(t,e)},{keyCode:kx.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Tg.movePrevWord(t,e)}],n).each(function(){n.preventDefault()})},iT={setup:function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&nT(t,e,n)})}},rT=function(t,e){var n=Rp.parentsAndSelf(e,t);return oe.findIndex(n,As).fold(yt.constant(n),function(t){return n.slice(0,t)})},oT=function(t){return 1===rs.children(t).length},sT=function(t,e,n,i){var r=yt.curry(rS,e),o=oe.map(oe.filter(i,r),function(t){return t.dom()});if(0===o.length)_m.deleteElement(e,t,n);else{var s=iS(n.dom(),o);e.selection.setRng(s.toRange())}},aT=function(t,e){var n=Br.fromDom(t.getBody()),i=Br.fromDom(t.selection.getStart()),r=oe.filter(rT(n,i),oT);return oe.last(r).map(function(n){var i=du.fromRangeStart(t.selection.getRng());return!!lp.willDeleteLastPositionInElement(e,i,n.dom())&&(sT(e,t,n,r),!0)}).getOr(!1)},lT={backspaceDelete:function(t,e){return!!t.selection.isCollapsed()&&aT(t,e)}},uT=function(t,e,n){eT.execute([{keyCode:kx.BACKSPACE,action:eT.action(Om.backspaceDelete,t,!1)},{keyCode:kx.DELETE,action:eT.action(Om.backspaceDelete,t,!0)},{keyCode:kx.BACKSPACE,action:eT.action(Ng.backspaceDelete,t,e,!1)},{keyCode:kx.DELETE,action:eT.action(Ng.backspaceDelete,t,e,!0)},{keyCode:kx.BACKSPACE,action:eT.action(Xp.backspaceDelete,t,!1)},{keyCode:kx.DELETE,action:eT.action(Xp.backspaceDelete,t,!0)},{keyCode:kx.BACKSPACE,action:eT.action(qp.backspaceDelete,t,!1)},{keyCode:kx.DELETE,action:eT.action(qp.backspaceDelete,t,!0)},{keyCode:kx.BACKSPACE,action:eT.action(Sv.backspaceDelete,t,!1)},{keyCode:kx.DELETE,action:eT.action(Sv.backspaceDelete,t,!0)},{keyCode:kx.BACKSPACE,action:eT.action(lT.backspaceDelete,t,!1)},{keyCode:kx.DELETE,action:eT.action(lT.backspaceDelete,t,!0)}],n).each(function(){n.preventDefault()})},cT=function(t,e){eT.execute([{keyCode:kx.BACKSPACE,action:eT.action(Om.paddEmptyElement,t)},{keyCode:kx.DELETE,action:eT.action(Om.paddEmptyElement,t)}],e)},dT={setup:function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&uT(t,e,n)}),t.on("keyup",function(e){!1===e.isDefaultPrevented()&&cT(t,e)})}},hT=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},fT=function(t){return _t.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},pT={moveToCaretPosition:function(t,e){var n,i,r,o,s=e,a=t.dom,l=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var u=hT(e.firstChild);u&&/^(UL|OL|DL)$/.test(u.nodeName)&&e.insertBefore(a.doc.createTextNode("\xa0"),e.firstChild)}if(r=a.createRng(),e.normalize(),e.hasChildNodes()){for(n=new w(e,e);i=n.current();){if(ia.isText(i)){r.setStart(i,0),r.setEnd(i,0);break}if(l[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}s=i,i=n.next()}i||(r.setStart(s,0),r.setEnd(s,0))}else ia.isBr(e)?e.nextSibling&&a.isBlock(e.nextSibling)?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));t.selection.setRng(r),a.remove(o),t.selection.scrollIntoView(e)}},getEditableRoot:function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},getParentBlock:fT,getParentBlockName:function(t){return fT(t).fold(yt.constant(""),function(t){return t.nodeName.toUpperCase()})},isListItemParentBlock:function(t){return fT(t).filter(function(t){return Is(Br.fromDom(t))}).isSome()}},mT=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},gT=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},vT=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},yT=function(t){return vT(t)&&vT(t.parentNode)},bT=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},wT=function(t,e,n){for(var i=t[n?"firstChild":"lastChild"];i&&!ia.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===e},xT={insert:function(t,e,n,i,r){var o=t.dom,s=t.selection.getRng();if(n!==t.getBody()){yT(n)&&(r="LI");var a=r?e(r):o.create("BR");if(wT(n,i,!0)&&wT(n,i,!1))gT(n,"LI")?o.insertAfter(a,bT(n)):o.replace(a,n);else if(wT(n,i,!0))gT(n,"LI")?(o.insertAfter(a,bT(n)),a.appendChild(o.doc.createTextNode(" ")),a.appendChild(n)):n.parentNode.insertBefore(a,n);else if(wT(n,i,!1))o.insertAfter(a,bT(n));else{n=bT(n);var l=s.cloneRange();l.setStartAfter(i),l.setEndAfter(n);var u=l.extractContents();"LI"===r&&mT(u,"LI")?(a=u.firstChild,o.insertAfter(u,n)):(o.insertAfter(u,n),o.insertAfter(a,n))}o.remove(i),pT.moveToCaretPosition(t,a)}}},CT=function(t){return t&&"A"===t.nodeName&&0===oi.trim(Ya.trim(t.innerText||t.textContent)).length},ST=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},_T=function(t){t.innerHTML='<br data-mce-bogus="1">'},ET=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},TT=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},kT=function(t,e,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(t.isBlock(r))return;ia.isElement(r)&&!e[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?t.remove(r):CT(r)&&t.remove(r)}},DT=function(t,e,n){return!1===ia.isText(e)?n:t?1===n&&e.data.charAt(n-1)===Ya.ZWSP?0:n:n===e.data.length-1&&e.data.charAt(n)===Ya.ZWSP?e.data.length:n},MT=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,DT(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,DT(!1,t.endContainer,t.endOffset)),e},AT=function(t){do{ia.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)},PT=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},OT=function(t,e){var n=Ec.getForcedRootBlock(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&t.dom.setAttribs(e,Ec.getForcedRootBlockAttrs(t))},RT=function(t,e,n,i,r){var o,s,a,l,u,c,d=e||"P",h=t.dom,f=PT(h,i);if(!(s=h.getParent(i,h.isBlock))||!TT(h,s)){if(c=(s=s||f)===t.getBody()||ST(s)?s.nodeName.toLowerCase():s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return o=h.create(d),OT(t,o),s.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==s;)l=l.parentNode;for(;l&&!h.isBlock(l);)a=l,l=l.previousSibling;if(a&&t.schema.isValidChild(c,d.toLowerCase())){for(o=h.create(d),OT(t,o),a.parentNode.insertBefore(o,a),l=a;l&&!h.isBlock(l);)u=l.nextSibling,o.appendChild(l),l=u;n.setStart(i,r),n.setEnd(i,r)}}return i},NT=function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")},IT={insert:function(t,e){var n,i,r,o,s,a,l,u,c,d,h,f,p,m=t.dom,g=t.schema,v=g.getNonEmptyElements(),y=t.selection.getRng(),b=function(e){var n,o,a,l=r,u=g.getTextInlineElements();if(e||"TABLE"===d||"HR"===d?(n=m.create(e||f),OT(t,n)):n=s.cloneNode(!1),a=n,!1===Ec.shouldKeepStyles(t))m.setAttrib(n,"style",null),m.setAttrib(n,"class",null);else do{if(u[l.nodeName]){if(Bh(l))continue;o=l.cloneNode(!1),m.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((l=l.parentNode)&&l!==i);return _T(a),n},x=function(t){var e,n,i,a;if(a=DT(t,r,o),ia.isText(r)&&(t?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===s&&p&&!t)return!0;if(t&&ia.isElement(r)&&r===s.firstChild)return!0;if(ET(r,"TABLE")||ET(r,"HR"))return p&&!t||!p&&t;for(e=new w(r,s),ia.isText(r)&&(t&&0===a?e.prev():t||a!==r.nodeValue.length||e.next());n=e.current();){if(ia.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),v[i]&&"br"!==i))return!1}else if(ia.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;t?e.prev():e.next()}return!0},C=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==h?b(f):b(),Ec.shouldEndContainerOnEmptyBlock(t)&&TT(m,c)&&m.isEmpty(s)?l=m.split(c,s):m.insertAfter(l,s),pT.moveToCaretPosition(t,l)};Jv.normalize(m,y).each(function(t){y.setStart(t.startContainer,t.startOffset),y.setEnd(t.endContainer,t.endOffset)}),r=y.startContainer,o=y.startOffset,f=Ec.getForcedRootBlock(t),a=e.shiftKey,ia.isElement(r)&&r.hasChildNodes()&&(p=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=p&&ia.isText(r)?r.nodeValue.length:0),(i=PT(m,r))&&((f&&!a||!f&&a)&&(r=RT(t,f,y,r,o)),s=m.getParent(r,m.isBlock),c=s?m.getParent(s.parentNode,m.isBlock):null,d=s?s.nodeName.toUpperCase():"","LI"!==(h=c?c.nodeName.toUpperCase():"")||e.ctrlKey||(s=c,c=c.parentNode,d=h),/^(LI|DT|DD)$/.test(d)&&m.isEmpty(s)?xT.insert(t,b,c,s,f):f&&s===t.getBody()||(f=f||"P",Ka(s)?(l=ll(s),m.isEmpty(s)&&_T(s),pT.moveToCaretPosition(t,l)):x()?C():x(!0)?(l=s.parentNode.insertBefore(b(),s),pT.moveToCaretPosition(t,ET(s,"HR")?l:s)):((n=MT(y).cloneRange()).setEndAfter(s),u=n.extractContents(),AT(u),l=u.firstChild,m.insertAfter(u,s),kT(m,v,l),NT(m,s),m.isEmpty(s)&&_T(s),l.normalize(),m.isEmpty(l)?(m.remove(l),C()):pT.moveToCaretPosition(t,l)),m.setAttrib(l,"id",""),t.fire("NewBlock",{newBlock:l})))}},LT=function(t,e){return pT.getParentBlock(t).filter(function(t){return e.length>0&&Po.is(Br.fromDom(t),e)}).isSome()},BT={shouldInsertBr:function(t){return LT(t,Ec.getBrNewLineSelector(t))},shouldBlockNewLine:function(t){return LT(t,Ec.getNoNewLineSelector(t))}},HT=Kp.generate([{br:[]},{block:[]},{none:[]}]),zT=function(t){return BT.shouldBlockNewLine(t)},FT=function(t){return function(e){return""===Ec.getForcedRootBlock(e)===t}},jT=function(t){return function(e){return pT.isListItemParentBlock(e)===t}},qT=function(t,e){return function(n){return pT.getParentBlockName(n)===t.toUpperCase()===e}},WT=function(t){return qT("pre",t)},VT=function(){return qT("summary",!0)},UT=function(t){return function(e){return Ec.shouldPutBrInPre(e)===t}},$T=function(t){return BT.shouldInsertBr(t)},YT=function(t,e){return e},GT=function(t){var e=Ec.getForcedRootBlock(t),n=pT.getEditableRoot(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},XT=function(t,e){return function(n,i){return oe.foldl(t,function(t,e){return t&&e(n,i)},!0)?_t.some(e):_t.none()}},KT={getAction:function(t,e){return Um.evaluateUntil([XT([zT],HT.none()),XT([VT()],HT.br()),XT([WT(!0),UT(!1),YT],HT.br()),XT([WT(!0),UT(!1)],HT.block()),XT([WT(!0),UT(!0),YT],HT.block()),XT([WT(!0),UT(!0)],HT.br()),XT([jT(!0),YT],HT.br()),XT([jT(!0)],HT.block()),XT([FT(!0),YT,GT],HT.block()),XT([FT(!0)],HT.br()),XT([$T],HT.br()),XT([FT(!1),YT],HT.br()),XT([GT],HT.block())],[t,e.shiftKey]).getOr(HT.none())}},QT={insert:function(t,e){KT.getAction(t,e).fold(function(){hy.insert(t,e)},function(){IT.insert(t,e)},yt.noop)}},ZT=function(t){t.typing&&(t.typing=!1,t.add())},JT=function(t,e){e.isDefaultPrevented()||(e.preventDefault(),ZT(t.undoManager),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),QT.insert(t,e)}))},tk={setup:function(t){t.on("keydown",function(e){e.keyCode===kx.ENTER&&JT(t,e)})}},ek=function(t,e){return ok(t)&&ia.isText(e.container())},nk=function(t,e){var n=e.container(),i=e.offset();n.insertData(i,"\xa0"),t.selection.setCursorLocation(n,i+1)},ik=function(t,e,n){return!!ek(n,e)&&(nk(t,e),!0)},rk=function(t){var e=yt.curry(op.isInlineTarget,t),n=du.fromRangeStart(t.selection.getRng());return hg.readLocation(e,t.getBody(),n).map(yt.curry(ik,t,n)).getOr(!1)},ok=function(t){return t.fold(yt.constant(!1),yt.constant(!0),yt.constant(!0),yt.constant(!1))},sk={insertAtSelection:function(t){return!!t.selection.isCollapsed()&&rk(t)}},ak=function(t,e){eT.execute([{keyCode:kx.SPACEBAR,action:eT.action(sk.insertAtSelection,t)}],e).each(function(){e.preventDefault()})},lk={setup:function(t){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&ak(t,e)})}},uk=function(t){return cp.descendant(Br.fromDom(t.getBody()),"*[data-mce-caret]").fold(yt.constant(null),function(t){return t.dom()})},ck=function(t){t.selection.setRng(t.selection.getRng())},dk=function(t,e){e.hasAttribute("data-mce-caret")&&(ll(e),ck(t),t.selection.scrollIntoView(e))},hk=function(t,e){var n=uk(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void dk(t,n)):void(Ja(n)&&(dk(t,n),t.undoManager.add()))},fk={setup:function(t){t.on("keyup compositionstart",yt.curry(hk,t))}},pk={setup:function(t){var e=Tg.setupSelectedState(t);fk.setup(t),iT.setup(t,e),dT.setup(t,e),tk.setup(t),lk.setup(t)}},mk=function(t){return ia.isElement(t)&&Rs(Br.fromDom(t))},gk=function(t){var e=t.selection.getRng(),n=E.fromRangeStart(e),i=E.fromRangeEnd(e);if(E.isElementPosition(n)){var r=n.container();mk(r)&&Iu.firstPositionIn(r).each(function(t){return e.setStart(t.container(),t.offset())})}E.isElementPosition(i)&&(r=n.container(),mk(r)&&Iu.lastPositionIn(r).each(function(t){return e.setEnd(t.container(),t.offset())})),t.selection.setRng(wf.normalize(e))},vk={setup:function(t){t.on("click",function(e){3===e.detail&&gk(t)})}},yk=function(t){t.on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})},bk=function(t){t.parser.addNodeFilter("details",function(t){oe.each(t,function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")})}),t.serializer.addNodeFilter("details",function(t){oe.each(t,function(t){var e=t.attr("data-mce-open");t.attr("open",kt.isString(e)?e:null),t.attr("data-mce-open",null)})})},wk=function(t){yk(t),bk(t)},xk=za.DOM,Ck=function(t,e){var n=Br.fromDom(t.getDoc().head),i=Br.fromTag("style");so.set(i,"type","text/css"),Ac.append(i,Br.fromText(e)),Ac.append(n,i)},Sk=function(t){var e=Q(t.settings,t.schema);return e.addAttributeFilter("src,href,style,tabindex",function(e,n){for(var i,r,o,s=e.length,a=t.dom;s--;)if(r=(i=e[s]).attr(n),o="data-mce-"+n,!i.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?((r=a.serializeStyle(a.parseStyle(r),i.name)).length||(r=null),i.attr(o,r),i.attr(n,r)):"tabindex"===n?(i.attr(o,r),i.attr(n,null)):i.attr(o,t.convertURL(r,n,i.name))}}),e.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)0!==(n=(e=t[i]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)}),e.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)(e=t[n]).type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var n,i=e.length,r=t.schema.getNonEmptyElements();i--;)(n=e[i]).isEmpty(r)&&0===n.getAll("br").length&&(n.append(new b_("br",1)).shortEnded=!0)}),e},_k=function(t){t.settings.auto_focus&&Ue.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)},Ek=function(t){t.bindPendingEventDelegates(),t.initialized=!0,t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),_k(t)},Tk=function(t){return t.inline?xk.styleSheetLoader:t.dom.styleSheetLoader},kk={initContentBody:function(t,e){var n,i,r=t.settings,o=t.getElement(),s=t.getDoc();r.inline||(t.getElement().style.visibility=t.orgVisibility),e||r.content_editable||(s.open(),s.write(t.iframeHTML),s.close()),r.content_editable&&(t.on("remove",function(){var t=this.getBody();xk.removeClass(t,"mce-content-body"),xk.removeClass(t,"mce-edit-focus"),xk.setAttrib(t,"contentEditable",null)}),xk.addClass(o,"mce-content-body"),t.contentDocument=s=r.content_document||document,t.contentWindow=r.content_window||window,t.bodyElement=o,r.content_document=r.content_window=null,r.root_name=o.nodeName.toLowerCase()),(n=t.getBody()).disabled=!0,t.readonly=r.readonly,t.readonly||(t.inline&&"static"===xk.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=t.getParam("content_editable_state",!0)),n.disabled=!1,t.editorUpload=U(t),t.schema=x(r),t.dom=za(s,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:r.content_editable,schema:t.schema,onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=Sk(t),t.serializer=J(r,t),t.selection=BE(t.dom,t.getWin(),t.serializer,t),t.formatter=K(t),t.undoManager=G(t),t._nodeChangeDispatcher=new $(t),t._selectionOverrides=Rx(t),wk(t),vk.setup(t),pk.setup(t),ww.setup(t),t.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(s.body.spellcheck=!1,xk.setAttrib(n,"spellcheck","false")),t.quirks=et(t),t.fire("PostRender"),r.directionality&&(n.dir=r.directionality),r.nowrap&&(n.style.whiteSpace="nowrap"),r.protect&&t.on("BeforeSetContent",function(t){oi.each(r.protect,function(e){t.content=t.content.replace(e,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),t.contentStyles.length>0&&(i="",oi.each(t.contentStyles,function(t){i+=t+"\r\n"}),t.dom.addStyle(i)),Tk(t).loadAll(t.contentCSS,function(){Ek(t)},function(){Ek(t)}),r.content_style&&Ck(t,r.content_style)}},Dk=za.DOM,Mk=function(t,e){if(document.domain!==window.location.hostname&&He.ie&&He.ie<12){var n=pw.uuid("mce");t[n]=function(){kk.initContentBody(t)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Dk.setAttrib(e,"src",i),!0}return!1},Ak=function(t){var e="number"==typeof t?t+"px":t;return e||""},Pk=function(t,e,n,i){var r=Br.fromTag("iframe");return so.setAll(r,i),so.setAll(r,{id:t+"_ifr",frameBorder:"0",
allowTransparency:"true",title:e}),wo.setAll(r,{width:"100%",height:Ak(n),display:"block"}),r},Ok=function(t){var e,n,i;return i=Ec.getDocType(t)+"<html><head>",Ec.getDocumentBaseUrl(t)!==t.documentBaseUrl&&(i+='<base href="'+t.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=Ec.getBodyId(t),n=Ec.getBodyClass(t),Ec.getContentSecurityPolicy(t)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+Ec.getContentSecurityPolicy(t)+'" />'),i+='</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'},Rk=function(t,e){var n=t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),i=Pk(t.id,n,e.height,Ec.getIframeAttrs(t)).dom();i.onload=function(){i.onload=null,t.fire("load")};var r=Mk(t,i);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=i,t.iframeHTML=Ok(t),Dk.add(e.iframeContainer,i),r},Nk={init:function(t,e){var n=Rk(t,e);e.editorContainer&&(Dk.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=Dk.isHidden(e.editorContainer)),t.getElement().style.display="none",Dk.setAttrib(t.id,"aria-hidden","true"),n||kk.initContentBody(t)}},Ik=za.DOM,Lk=function(t,e,n){var i,r,o=ew.get(n);if(i=ew.urls[n]||t.documentBaseUrl.replace(/\/$/,""),n=oi.trim(n),o&&-1===oi.inArray(e,n)){if(oi.each(ew.dependencies(n),function(n){Lk(t,e,n)}),t.plugins[n])return;r=new o(t,i,t.$),t.plugins[n]=r,r.init&&(r.init(t,i),e.push(n))}},Bk=function(t){return t.replace(/^\-/,"")},Hk=function(t){var e=[];oi.each(t.settings.plugins.split(/[ ,]/),function(n){Lk(t,e,Bk(n))})},zk=function(t){var e,n=t.settings.theme;kt.isString(n)?(t.settings.theme=Bk(n),e=nw.get(n),t.theme=new e(t,nw.urls[n]),t.theme.init&&t.theme.init(t,nw.urls[n]||t.documentBaseUrl.replace(/\/$/,""),t.$)):t.theme={}},Fk=function(t){var e,n,i,r,o,s=t.settings,a=t.getElement();return e=s.width||Ik.getStyle(a,"width")||"100%",n=s.height||Ik.getStyle(a,"height")||a.offsetHeight,i=s.min_height||100,(r=/^[0-9\.]+(|px)$/i).test(""+e)&&(e=Math.max(parseInt(e,10),100)),r.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=t.theme.renderUI({targetNode:a,width:e,height:n,deltaWidth:s.delta_width,deltaHeight:s.delta_height}),s.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""))<i&&(n=i),o.height=n,o},jk=function(t){var e,n=t.getElement();return(e=t.settings.theme(t,n)).editorContainer.nodeType&&(e.editorContainer.id=e.editorContainer.id||t.id+"_parent"),e.iframeContainer&&e.iframeContainer.nodeType&&(e.iframeContainer.id=e.iframeContainer.id||t.id+"_iframecontainer"),e.height=e.iframeHeight?e.iframeHeight:n.offsetHeight,e},qk=function(t){return{editorContainer:t,iframeContainer:t}},Wk=function(t){var e=Ik.create("div");return Ik.insertAfter(e,t),qk(e)},Vk=function(t){var e=t.getElement();return t.inline?qk(null):Wk(e)},Uk=function(t){var e=t.settings,n=t.getElement();return t.orgDisplay=n.style.display,kt.isString(e.theme)?Fk(t):kt.isFunction(e.theme)?jk(t):Vk(t)},$k={init:function(t){var e,n=t.settings,i=t.getElement();return t.rtl=n.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||Ik.getAttrib(i,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),zk(t),Hk(t),e=Uk(t),t.editorContainer=e.editorContainer?e.editorContainer:null,n.content_css&&oi.each(oi.explode(n.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),n.content_editable?kk.initContentBody(t):Nk.init(t,e)}},Yk=za.DOM,Gk=function(t){return"-"===t.charAt(0)},Xk=function(t,e){var n=e.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=e.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!e.editorManager.i18n.data[n.language]&&t.add(n.language_url)},Kk=function(t,e,n,i){var r=e.settings,o=r.theme;if(kt.isString(o)){if(!Gk(o)&&!nw.urls.hasOwnProperty(o)){var s=r.theme_url;s?nw.load(o,e.documentBaseURI.toAbsolute(s)):nw.load(o,"themes/"+o+"/theme"+n+".js")}t.loadQueue(function(){nw.waitFor(o,i)})}else i()},Qk=function(t,e){oi.isArray(t.plugins)&&(t.plugins=t.plugins.join(" ")),oi.each(t.external_plugins,function(e,n){ew.load(n,e),t.plugins+=" "+n}),oi.each(t.plugins.split(/[ ,]/),function(t){if((t=oi.trim(t))&&!ew.urls[t])if(Gk(t)){t=t.substr(1,t.length);var n=ew.dependencies(t);oi.each(n,function(t){var n={prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"};t=ew.createUrl(n,t),ew.load(t.resource,t)})}else ew.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"})})},Zk=function(t,e){var n=Va.ScriptLoader;Kk(n,t,e,function(){Xk(n,t),Qk(t.settings,e),n.loadQueue(function(){t.removed||$k.init(t)},t,function(e){tw.pluginLoadError(t,e[0]),t.removed||$k.init(t)})})},Jk={render:function(t){var e=t.settings,n=t.id,i=function(){Yk.unbind(window,"ready",i),t.render()};if(rn.Event.domLoaded){if(t.getElement()&&He.contentEditable){e.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var r=t.getElement().form||Yk.getParent(n,"form");r&&(t.formElement=r,e.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(Yk.insertAfter(Yk.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},Yk.bind(r,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!e.submit_patch||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),r._mceOldSubmit(r)})),t.windowManager=L(t),t.notificationManager=N(t),"xml"===e.encoding&&t.on("GetContent",function(t){t.save&&(t.content=Yk.encode(t.content))}),e.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),e.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),Zk(t,t.suffix)}}else Yk.bind(window,"ready",i)}},tD={add:function(t,e,n){var i=t.sidebars?t.sidebars:[];i.push({name:e,settings:n}),t.sidebars=i}},eD=oi.each,nD=oi.trim,iD="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),rD={ftp:21,http:80,https:443,mailto:25},oD=function(t,e){var n,i,r=this;if(t=nD(t),n=(e=r.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))r.source=t;else{var o=0===t.indexOf("//");0!==t.indexOf("/")||o||(t=(n&&n.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(i=e.base_uri?e.base_uri.path:new oD(document.location.href).directory,""==e.base_uri.protocol?t="//mce_host"+r.toAbsPath(i,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(n&&n.protocol||"http")+"://mce_host"+r.toAbsPath(i,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),eD(iD,function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),r[e]=i}),n&&(r.protocol||(r.protocol=n.protocol),r.userInfo||(r.userInfo=n.userInfo),r.port||"mce_host"!==r.host||(r.port=n.port),r.host&&"mce_host"!==r.host||(r.host=n.host),r.source=""),o&&(r.protocol="")}};oD.prototype={setPath:function(t){var e=this;t=/^(.*?)\/?(\w+)?$/.exec(t),e.path=t[0],e.directory=t[1],e.file=t[2],e.source="",e.getURI()},toRelative:function(t){var e,n=this;if("./"===t)return t;if("mce_host"!==(t=new oD(t,{base_uri:n})).host&&n.host!==t.host&&t.host||n.port!==t.port||n.protocol!==t.protocol&&""!==t.protocol)return t.getURI();var i=n.getURI(),r=t.getURI();return i===r||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===r?i:(e=n.toRelPath(n.path,t.path),t.query&&(e+="?"+t.query),t.anchor&&(e+="#"+t.anchor),e)},toAbsolute:function(t,e){return(t=new oD(t,{base_uri:this})).getURI(e&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=rD[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var n,i,r,o=0,s="";if(t=(t=t.substring(0,t.lastIndexOf("/"))).split("/"),n=e.split("/"),t.length>=n.length)for(i=0,r=t.length;i<r;i++)if(i>=n.length||t[i]!==n[i]){o=i+1;break}if(t.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=t.length||t[i]!==n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=t.length-(o-1);i<r;i++)s+="../";for(i=o-1,r=n.length;i<r;i++)s+=i!==o-1?"/"+n[i]:n[i];return s},toAbsPath:function(t,e){var n,i,r,o=0,s=[];for(i=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),eD(t,function(t){t&&s.push(t)}),t=s,n=e.length-1,s=[];n>=0;n--)0!==e[n].length&&"."!==e[n]&&(".."!==e[n]?o>0?o--:s.push(e[n]):o++);return 0!==(r=(n=t.length-o)<=0?s.reverse().join("/"):t.slice(0,n).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(t){var e,n=this;return n.source&&!t||(e="",t||(n.protocol?e+=n.protocol+"://":e+="//",n.userInfo&&(e+=n.userInfo+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port)),n.path&&(e+=n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),n.source=e),n.source}},oD.parseDataUri=function(t){var e,n;return t=decodeURIComponent(t).split(","),(n=/data:([^;]+)/.exec(t[0]))&&(e=n[1]),{type:e,data:t[1]}},oD.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e};var sD="html",aD=function(t,e){var n=Ec.getForcedRootBlock(t),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(i,"")},lD=function(t,e,n){var i;if(e.format=e.format?e.format:sD,e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)i=oi.trim(jx.trimExternal(t.serializer,n.innerHTML));else if("text"===e.format)i=Ya.trim(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);i=aD(t,t.serializer.serialize(n,e))}return"text"===e.format||zs(Br.fromDom(n))?e.content=i:e.content=oi.trim(i),e.no_events||t.fire("GetContent",e),e.content},uD=function(t,e){return void 0===e&&(e={}),_t.from(t.getBody()).fold(yt.constant("tree"===e.format?new b_("body",11):""),function(n){return lD(t,e,n)})},cD=function(t,e){e(t),t.firstChild&&cD(t.firstChild,e),t.next&&cD(t.next,e)},dD=function(t,e,n){var i={},r={},o=[];for(var s in n.firstChild&&cD(n.firstChild,function(n){oe.each(t,function(t){t.name===n.name&&(i[t.name]?i[t.name].nodes.push(n):i[t.name]={filter:t,nodes:[n]})}),oe.each(e,function(t){"string"==typeof n.attr(t.name)&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})})}),i)i.hasOwnProperty(s)&&o.push(i[s]);for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o},hD=function(t,e,n){var i=dD(t,e,n);oe.each(i,function(t){oe.each(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})},fD="html",pD=function(t){return t instanceof b_},mD=function(t){Bb.hasFocus(t)&&Iu.firstPositionIn(t.getBody()).each(function(e){var n=e.getNode(),i=ia.isTable(n)?Iu.firstPositionIn(n).getOr(e):e;t.selection.setRng(i.toRange())})},gD=function(t,e){t.dom.setHTML(t.getBody(),e),mD(t)},vD=function(t,e,n,i){var r,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>"),(r=Ec.getForcedRootBlock(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=t.dom.createHTML(r,t.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),gD(t,n),t.fire("SetContent",i)):("raw"!==i.format&&(n=D({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),i.content=zs(Br.fromDom(e))?n:oi.trim(n),gD(t,i.content),i.no_events||t.fire("SetContent",i)),i.content},yD=function(t,e,n,i){hD(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var r=D({validate:t.validate},t.schema).serialize(n);return i.content=zs(Br.fromDom(e))?r:oi.trim(r),gD(t,i.content),i.no_events||t.fire("SetContent",i),n},bD=function(t,e,n){return void 0===n&&(n={}),n.format=n.format?n.format:fD,n.set=!0,n.content=pD(e)?"":e,pD(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),_t.from(t.getBody()).fold(yt.constant(e),function(i){return pD(e)?yD(t,i,e,n):vD(t,i,e,n)})},wD=za.DOM,xD=function(t){wD.setStyle(t.id,"display",t.orgDisplay)},CD=function(t){return _t.from(t).each(function(t){return t.destroy()})},SD=function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)},_D=function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),wD.unbind(e,"submit reset",t.formEventDelegate))},ED=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,i=t.getBody(),r=t.getElement();i&&t.save(),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&r&&wD.remove(r.nextSibling),!t.inline&&i&&xD(t),rb.fireRemove(t),t.editorManager.remove(t),wD.remove(t.getContainer()),CD(e),CD(n),t.destroy()}},TD=function(t,e){var n=t.selection,i=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),CD(n),CD(i)),_D(t),SD(t),t.destroyed=!0):t.remove())},kD=za.DOM,DD=oi.extend,MD=oi.each,AD=oi.resolve,PD=He.ie,OD=function(t,e,n){var i=this,r=i.documentBaseUrl=n.documentBaseURL,o=n.baseURI;e=Gf(i,t,r,n.defaultSettings,e),i.settings=e,_.language=e.language||"en",_.languageLoad=e.language_load,_.baseURL=n.baseURL,i.id=t,i.setDirty(!1),i.plugins={},i.documentBaseURI=new oD(e.document_base_url,{base_uri:o}),i.baseURI=o,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new O(i),i.loadedCSS={},i.editorCommands=new A(i),i.suffix=n.suffix,i.editorManager=n,i.inline=e.inline,i.buttons={},i.menuItems={},e.cache_suffix&&(He.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,"")),!1===e.override_viewport&&(He.overrideViewPort=!1),n.fire("SetupEditor",{editor:i}),i.execCallback("setup",i),i.$=Ei.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})};OD.prototype={render:function(){Jk.render(this)},focus:function(t){Bb.focus(this,t)},hasFocus:function(){return Bb.hasFocus(this)},execCallback:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,r=this,o=r.settings[t];if(o)return r.callbackLookup&&(i=r.callbackLookup[t])&&(o=i.func,i=i.scope),"string"==typeof o&&(i=(i=o.replace(/\.\w+$/,""))?AD(i):0,o=AD(o),r.callbackLookup=r.callbackLookup||{},r.callbackLookup[t]={func:o,scope:i}),o.apply(i||r,Array.prototype.slice.call(arguments,1))},translate:function(t){if(t&&oi.is(t,"string")){var e=this.settings.language||"en",n=this.editorManager.i18n;t=n.data[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,i){return n.data[e+"."+i]||"{#"+i+"}"})}return this.editorManager.translate(t)},getLang:function(t,e){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(e!==undefined?e:"{#"+t+"}")},getParam:function(t,e,n){return Jf(this,t,e,n)},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.stateSelector&&"undefined"==typeof e.active&&(e.active=!1),e.text||e.icon||(e.icon=t),n.buttons=n.buttons,e.tooltip=e.tooltip||e.title,n.buttons[t]=e},addSidebar:function(t,e){return tD.add(this,t,e)},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems=n.menuItems,n.menuItems[t]=e},addContextToolbar:function(t,e){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof t&&(n=t,t=function(t){return i.dom.is(t,n)}),i.contextToolbars.push({id:pw.uuid("mcet"),predicate:t,items:e})},addCommand:function(t,e,n){this.editorCommands.addCommand(t,e,n)},addQueryStateHandler:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},addQueryValueHandler:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable=!0:(kD.show(t.getContainer()),kD.hide(t.id)),t.load(),t.fire("show"))},hide:function(){var t=this,e=t.getDoc();t.hidden||(PD&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable=!1,t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(kD.hide(t.getContainer()),kD.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var e,n=this,i=n.getElement();return n.removed?"":i?((t=t||{}).load=!0,e=n.setContent(i.value!==undefined?i.value:i.innerHTML,t),t.element=i,t.no_events||n.fire("LoadContent",t),t.element=i=null,e):void 0},save:function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(t=t||{}).save=!0,t.element=r,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"===t.format&&i.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=e:(i.inline||(r.innerHTML=e),(n=kD.getParent(i.id,"form"))&&MD(n.elements,function(t){if(t.name===i.id)return t.value=e,!1})),t.element=r=null,!1!==t.set_dirty&&i.setDirty(!1),e},setContent:function(t,e){return bD(this,t,e)},getContent:function(t){return uD(this,t)},insertContent:function(t,e){e&&(t=DD({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},setMode:function(t){lb(this,t)},getContainer:function(){var t=this;return t.container||(t.container=kD.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=kD.get(this.id)),this.targetElm},getWin:function(){var t,e=this;return e.contentWindow||(t=e.iframeElement)&&(e.contentWindow=t.contentWindow),e.contentWindow},getDoc:function(){var t,e=this;return e.contentDocument||(t=e.getWin())&&(e.contentDocument=t.document),e.contentDocument},getBody:function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},convertURL:function(t,e,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,r.remove_script_host)},addVisual:function(t){var e,n=this,i=n.settings,r=n.dom;t=t||n.getBody(),n.hasVisual===undefined&&(n.hasVisual=i.visual),MD(r.select("table,a",t),function(t){var o;switch(t.nodeName){case"TABLE":return e=i.visual_table_class||"mce-item-table",void((o=r.getAttrib(t,"border"))&&"0"!==o||!n.hasVisual?r.removeClass(t,e):r.addClass(t,e));case"A":return void(r.getAttrib(t,"href")||(o=r.getAttrib(t,"name")||t.id,e=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(t,e):r.removeClass(t,e)))}}),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},remove:function(){ED(this)},destroy:function(t){TD(this,t)},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},DD(OD.prototype,vb);var RD,ND,ID,LD={isEditorUIElement:function(t){return-1!==t.className.toString().indexOf("mce-")}},BD=function(t){return"nodechange"===t.type&&t.selectionChange},HD=function(t,e){var n=function(){e.throttle()};za.DOM.bind(document,"mouseup",n),t.on("remove",function(){za.DOM.unbind(document,"mouseup",n)})},zD=function(t){t.on("focusout",function(){Iy.store(t)})},FD=function(t,e){t.on("mouseup touchend",function(){e.throttle()})},jD=function(t,e){Or.detect().browser.isIE()?zD(t):FD(t,e),t.on("keyup nodechange",function(e){BD(e)||Iy.store(t)})},qD={register:function(t){var e=Ex.first(function(){Iy.store(t)},0);t.inline&&HD(t,e),t.on("init",function(){jD(t,e)}),t.on("remove",function(){e.cancel()})}},WD=za.DOM,VD=function(t){return LD.isEditorUIElement(t)},UD=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==WD.getParent(e,function(e){return VD(e)||!!n&&t.dom.is(e,n)})},$D=function(){try{return document.activeElement}catch(t){return document.body}},YD=function(t,e){var n=e.editor;qD.register(n),n.on("focusin",function(){var e=this,n=t.focusedEditor;n!==e&&(n&&n.fire("blur",{focusedEditor:e}),t.setActive(e),t.focusedEditor=e,e.fire("focus",{blurredEditor:n}),e.focus(!0))}),n.on("focusout",function(){var e=this;Ue.setEditorTimeout(e,function(){var n=t.focusedEditor;UD(e,$D())||n!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),RD||(RD=function(e){var n,i=t.activeEditor;n=e.target,i&&n.ownerDocument===document&&(n===document.body||UD(i,n)||t.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},WD.bind(document,"focusin",RD))},GD=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(WD.unbind(document,"focusin",RD),RD=null)},XD={setup:function(t){t.on("AddEditor",yt.curry(YD,t)),t.on("RemoveEditor",yt.curry(GD,t))},isEditorUIElement:VD,isUIElement:UD},KD={},QD="en",ZD={setCode:function(t){t&&(QD=t,this.rtl=!!this.data[t]&&"rtl"===this.data[t]._dir)},getCode:function(){return QD},rtl:!1,add:function(t,e){var n=KD[t];for(var i in n||(KD[t]=n={}),e)n[i]=e[i];this.setCode(t)},translate:function(t){var e=KD[QD]||{},n=function(t){return oi.is(t,"function")?Object.prototype.toString.call(t):i(t)?"":""+t},i=function(t){return""===t||null===t||oi.is(t,"undefined")},r=function(t){return t=n(t),oi.hasOwn(e,t)?n(e[t]):t};if(i(t))return"";if(oi.is(t,"object")&&oi.hasOwn(t,"raw"))return n(t.raw);if(oi.is(t,"array")){var o=t.slice(1);t=r(t[0]).replace(/\{([0-9]+)\}/g,function(t,e){return oi.hasOwn(o,e)?n(o[e]):t})}return r(t).replace(/{context:\w+}$/,"")},data:KD},JD=za.DOM,tM=oi.explode,eM=oi.each,nM=oi.extend,iM=0,rM=!1,oM=[],sM=[],aM=function(t){return"length"!==t},lM=function(t){eM(ID.get(),function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})},uM=function(t){t!==rM&&(t?Ei(window).on("resize scroll",lM):Ei(window).off("resize scroll",lM),rM=t)},cM=function(t){var e=sM;delete oM[t.id];for(var n=0;n<oM.length;n++)if(oM[n]===t){oM.splice(n,1);break}return sM=oe.filter(sM,function(e){return t!==e}),ID.activeEditor===t&&(ID.activeEditor=sM.length>0?sM[0]:null),ID.focusedEditor===t&&(ID.focusedEditor=null),e.length!==sM.length},dM=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(cM(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t};nM(ID={defaultSettings:{},$:Ei,majorVersion:"4",minorVersion:"7.13",releaseDate:"2018-05-16",editors:oM,i18n:ZD,activeEditor:null,settings:{},setup:function(){var t,e,n,i,r=this,o="";if(e=oD.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),n=window.tinymce||window.tinyMCEPreInit)t=n.base||n.baseURL,o=n.suffix;else{for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var l=(i=s[a].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==l.indexOf(".min")&&(o=".min"),t=i.substring(0,i.lastIndexOf("/"));break}}!t&&document.currentScript&&(-1!==(i=document.currentScript.src).indexOf(".min")&&(o=".min"),t=i.substring(0,i.lastIndexOf("/")))}r.baseURL=new oD(e).toAbsolute(t),r.documentBaseURL=e,r.baseURI=new oD(r.baseURL),r.suffix=o,XD.setup(r)},overrideDefaults:function(t){var e,n;(e=t.base_url)&&(this.baseURL=new oD(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new oD(this.baseURL)),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t;var i=t.plugin_base_urls;for(var r in i)_.PluginManager.urls[r]=i[r]},init:function(t){var e,n,i=this;n=oi.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var r=function(t,e){return t.inline&&e.tagName.toLowerCase()in n},o=function(t){var e=t.id;return e||(e=(e=t.name)&&!JD.get(e)?t.name:JD.uniqueId(),t.setAttribute("id",e)),e},s=function(e){var n=t[e];if(n)return n.apply(i,Array.prototype.slice.call(arguments,2))},a=function(t,e){return e.constructor===RegExp?e.test(t.className):JD.hasClass(t,e)},l=function(t){var e,n=[];if(He.ie&&He.ie<11)return tw.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return eM(t.types,function(t){n=n.concat(JD.select(t.selector))}),n;if(t.selector)return JD.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":(e=t.elements||"").length>0&&eM(tM(e),function(t){var e;(e=JD.get(t))?n.push(e):eM(document.forms,function(e){eM(e.elements,function(e){e.name===t&&(t="mce_editor_"+iM++,JD.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":eM(JD.select("textarea"),function(e){t.editor_deselector&&a(e,t.editor_deselector)||t.editor_selector&&!a(e,t.editor_selector)||n.push(e)})}return n},u=function(t){e=t},c=function(){var e,n=0,a=[],d=function(t,r,o){var s=new OD(t,r,i);a.push(s),s.on("init",function(){++n===e.length&&u(a)}),s.targetElm=s.targetElm||o,s.render()};JD.unbind(window,"ready",c),s("onpageload"),e=Ei.unique(l(t)),t.types?eM(t.types,function(n){oi.each(e,function(e){return!JD.is(e,n.selector)||(d(o(e),nM({},t,n),e),!1)})}):(oi.each(e,function(t){dM(i.get(t.id))}),0===(e=oi.grep(e,function(t){return!i.get(t.id)})).length?u([]):eM(e,function(e){r(t,e)?tw.initError("Could not initialize inline editor on invalid inline target element",e):d(o(e),t,e)}))};return i.settings=t,JD.bind(window,"ready",c),new Fe(function(t){e?t(e):u=function(e){t(e)}})},get:function(t){return 0===arguments.length?sM.slice(0):kt.isString(t)?oe.find(sM,function(e){return e.id===t}).getOr(null):kt.isNumber(t)&&sM[t]?sM[t]:null},add:function(t){var e=this;return oM[t.id]===t?t:(null===e.get(t.id)&&(aM(t.id)&&(oM[t.id]=t),oM.push(t),sM.push(t)),uM(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),ND||(ND=function(){e.fire("BeforeUnload")},JD.bind(window,"beforeunload",ND)),t)},createEditor:function(t,e){return this.add(new OD(t,e,this))},remove:function(t){var e,n,i=this;if(t)return kt.isString(t)?(t=t.selector||t,void eM(JD.select(t),function(t){(n=i.get(t.id))&&i.remove(n)})):(n=t,kt.isNull(i.get(n.id))?null:(cM(n)&&i.fire("RemoveEditor",{editor:n}),0===sM.length&&JD.unbind(window,"beforeunload",ND),n.remove(),uM(sM.length>0),n));for(e=sM.length-1;e>=0;e--)i.remove(sM[e])},execCommand:function(t,e,n){var i=this,r=i.get(n);switch(t){case"mceAddEditor":return i.get(n)||new OD(n,i.settings,i).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(i.execCommand("mceAddEditor",0,n),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(t,e,n)},triggerSave:function(){eM(sM,function(t){t.save()})},addI18n:function(t,e){ZD.add(t,e)},translate:function(t){return ZD.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},Yy),ID.setup();var hM=ID;!function(t){t.compareRanges=jv.isEq,t.getCaretRangeFromPoint=$_.fromPoint,t.getSelectedNode=Ll,t.getNode=Bl}(nt||(nt={}));var fM,pM,mM=nt,gM=Math.min,vM=Math.max,yM=Math.round,bM=function(t,e,n){var i,r,o,s,a,l;return i=e.x,r=e.y,o=t.w,s=t.h,a=e.w,l=e.h,"b"===(n=(n||"").split(""))[0]&&(r+=l),"r"===n[1]&&(i+=a),"c"===n[0]&&(r+=yM(l/2)),"c"===n[1]&&(i+=yM(a/2)),"b"===n[3]&&(r-=s),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=yM(s/2)),"c"===n[4]&&(i-=yM(o/2)),SM(i,r,o,s)},wM=function(t,e,n){return SM(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},xM=function(t,e){var n,i,r,o;return n=vM(t.x,e.x),i=vM(t.y,e.y),r=gM(t.x+t.w,e.x+e.w),o=gM(t.y+t.h,e.y+e.h),r-n<0||o-i<0?null:SM(n,i,r-n,o-i)},CM=function(t,e,n){var i,r,o,s,a,l,u,c,d,h;return a=t.x,l=t.y,u=t.x+t.w,c=t.y+t.h,d=e.x+e.w,h=e.y+e.h,i=vM(0,e.x-a),r=vM(0,e.y-l),o=vM(0,u-d),s=vM(0,c-h),a+=i,l+=r,n&&(u+=i,c+=r,a-=o,l-=s),SM(a,l,(u-=o)-a,(c-=s)-l)},SM=function(t,e,n,i){return{x:t,y:e,w:n,h:i}},_M={inflate:wM,relativePosition:bM,findBestRelativePosition:function(t,e,n,i){var r,o;for(o=0;o<i.length;o++)if((r=bM(t,e,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:xM,clamp:CM,create:SM,fromClientRect:function(t){return SM(t.left,t.top,t.width,t.height)}},EM={},TM={add:function(t,e){EM[t.toLowerCase()]=e},has:function(t){return!!EM[t.toLowerCase()]},get:function(t){var e=t.toLowerCase(),n=EM.hasOwnProperty(e)?EM[e]:null;if(null===n)throw new Error("Could not find module for type: "+t);return n},create:function(t,e){var n;if("string"==typeof t?(e=e||{}).type=t:t=(e=t).type,t=t.toLowerCase(),!(n=EM[t]))throw new Error("Could not find control by type: "+t);return(n=new n(e)).type=t,n}},kM=oi.each,DM=oi.extend,MM=function(){};MM.extend=fM=function(t){var e,n,i,r=this,o=r.prototype,s=function(){var t,e,n,i=this;if(!pM&&(i.init&&i.init.apply(i,arguments),e=i.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(i,arguments)},a=function(){return this},l=function(t,e){return function(){var n,i=this,r=i._super;return i._super=o[t],n=e.apply(i,arguments),i._super=r,n}};for(n in pM=!0,e=new r,pM=!1,t.Mixins&&(kM(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),o.Mixins&&(t.Mixins=o.Mixins.concat(t.Mixins))),t.Methods&&kM(t.Methods.split(","),function(e){t[e]=a}),t.Properties&&kM(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){var e=this;return t!==undefined?(e[n]=t,e):e[n]}}),t.Statics&&kM(t.Statics,function(t,e){s[e]=t}),t.Defaults&&o.Defaults&&(t.Defaults=DM({},o.Defaults,t.Defaults)),t)"function"==typeof(i=t[n])&&o[n]?e[n]=l(n,i):e[n]=i;return s.prototype=e,s.constructor=s,s.extend=fM,s};var AM=Math.min,PM=Math.max,OM=Math.round,RM=function(t){var e={},n=0,i=0,r=0,o=function(t,e,n){var i,r,o,s;return i=0,r=0,(o=AM(t/=255,AM(e/=255,n/=255)))===(s=PM(t,PM(e,n)))?{h:0,s:0,v:100*(r=o)}:(i=(s-o)/s,r=s,{h:OM(60*((t===o?3:n===o?1:5)-(t===o?e-n:n===o?t-e:n-t)/(s-o))),s:OM(100*i),v:OM(100*r)})},s=function(t,e,o){var s,a,l,u;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,o=parseInt(o,10)/100,e=PM(0,AM(e,1)),o=PM(0,AM(o,1)),0!==e){switch(s=t/60,l=(a=o*e)*(1-Math.abs(s%2-1)),u=o-a,Math.floor(s)){case 0:n=a,i=l,r=0;break;case 1:n=l,i=a,r=0;break;case 2:n=0,i=a,r=l;break;case 3:n=0,i=l,r=a;break;case 4:n=l,i=0,r=a;break;case 5:n=a,i=0,r=l;break;default:n=i=r=0}n=OM(255*(n+u)),i=OM(255*(i+u)),r=OM(255*(r+u))}else n=i=r=OM(255*o)},a=function(){var t=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+t(n)+t(i)+t(r)},l=function(){return{r:n,g:i,b:r}},u=function(){return o(n,i,r)},c=function(t){var o;return"object"==typeof t?"r"in t?(n=t.r,i=t.g,r=t.b):"v"in t&&s(t.h,t.s,t.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(o[1],10),i=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(o[1]+o[1],16),i=parseInt(o[2]+o[2],16),r=parseInt(o[3]+o[3],16)),n=n<0?0:n>255?255:n,i=i<0?0:i>255?255:i,r=r<0?0:r>255?255:r,e};return t&&c(t),e.toRgb=l,e.toHsv=u,e.toHex=a,e.parse=c,e},NM=function(t,e){var n,i,r,o;if(e=e||'"',null===t)return"null";if("string"==(r=typeof t))return i="\bb\tt\nn\ff\rr\"\"''\\\\",e+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,r){return'"'===e&&"'"===t?t:(n=i.indexOf(r))+1?"\\"+i.charAt(n+1):(t=r.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t)})+e;if("object"===r){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(n=0,
i="[";n<t.length;n++)i+=(n>0?",":"")+NM(t[n],e);return i+"]"}for(o in i="{",t)t.hasOwnProperty(o)&&(i+="function"!=typeof t[o]?(i.length>1?","+e:e)+o+e+":"+NM(t[o],e):"");return i+"}"}return""+t},IM={serialize:NM,parse:function(t){try{return JSON.parse(t)}catch(e){}}},LM={callbacks:{},count:0,send:function(t){var e=this,n=za.DOM,i=t.count!==undefined?t.count:e.count,r="tinymce_jsonp_"+i;e.callbacks[i]=function(o){n.remove(r),delete e.callbacks[i],t.callback(o)},n.add(n.doc.body,"script",{id:r,src:t.url,type:"text/javascript"}),e.count++}},BM={send:function(t){var e,n=0,i=function(){!t.async||4===e.readyState||n++>1e4?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,n>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):setTimeout(i,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",BM.fire("beforeInitialize",{settings:t}),e=new B){if(e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&oi.each(t.requestheaders,function(t){e.setRequestHeader(t.key,t.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),(e=BM.fire("beforeSend",{xhr:e,settings:t}).xhr).send(t.data),!t.async)return i();setTimeout(i,10)}}};oi.extend(BM,Yy);var HM=oi.extend,zM=function(t){this.settings=HM({},t),this.count=0};zM.sendRPC=function(t){return(new zM).send(t)},zM.prototype={send:function(t){var e=t.error,n=t.success;(t=HM(this.settings,t)).success=function(i,r){void 0===(i=IM.parse(i))&&(i={error:"JSON Parse error."}),i.error?e.call(t.error_scope||t.scope,i.error,r):n.call(t.success_scope||t.scope,i.result)},t.error=function(n,i){e&&e.call(t.error_scope||t.scope,n,i)},t.data=IM.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),t.content_type="application/json",BM.send(t)}};var FM=window.localStorage,jM=hM,qM={geom:{Rect:_M},util:{Promise:Fe,Delay:Ue,Tools:oi,VK:kx,URI:oD,Class:MM,EventDispatcher:Wy,Observable:Yy,I18n:ZD,XHR:BM,JSON:IM,JSONRequest:zM,JSONP:LM,LocalStorage:FM,Color:RM},dom:{EventUtils:rn,Sizzle:qn,DomQuery:Ei,TreeWalker:w,DOMUtils:za,ScriptLoader:Va,RangeUtils:mM,Serializer:J,ControlSelection:j_,BookmarkManager:B_,Selection:BE,Event:rn.Event},html:{Styles:C,Entities:ba,Node:b_,Schema:x,SaxParser:Hx,DomParser:Q,Writer:k,Serializer:D},ui:{Factory:TM},Env:He,AddOnManager:_,Formatter:K,UndoManager:G,EditorCommands:A,WindowManager:L,NotificationManager:N,EditorObservable:vb,Shortcuts:O,Editor:OD,FocusManager:LD,EditorManager:hM,DOM:za.DOM,ScriptLoader:Va.ScriptLoader,PluginManager:_.PluginManager,ThemeManager:_.ThemeManager,trim:oi.trim,isArray:oi.isArray,is:oi.is,toArray:oi.toArray,makeMap:oi.makeMap,each:oi.each,map:oi.map,grep:oi.grep,inArray:oi.inArray,extend:oi.extend,create:oi.create,walk:oi.walk,createNS:oi.createNS,resolve:oi.resolve,explode:oi.explode,_addCacheSuffix:oi._addCacheSuffix,isOpera:He.opera,isWebKit:He.webkit,isIE:He.ie,isGecko:He.gecko,isMac:He.mac},WM=jM=oi.extend(jM,qM),VM=function(t){if("object"==typeof module)try{module.exports=t}catch(e){}};(function(t){window.tinymce=t,window.tinyMCE=t})(WM),VM(WM)}(),function(){var t,e,n,i,r,o=[];r="undefined"!=typeof global?global:window,i=r.jQuery;var s=function(){return r.tinymce};i.fn.tinymce=function(t){var l,u,c,d=this,h="";if(!d.length)return d;if(!t)return s()?s().get(d[0].id):null;d.css("visibility","hidden");var f=function(){var e=[],r=0;n||(a(),n=!0),d.each(function(n,i){var o,a=i.id,l=t.oninit;a||(i.id=a=s().DOM.uniqueId()),s().get(a)||(o=s().createEditor(a,t),e.push(o),o.on("init",function(){var t,n=l;d.css("visibility",""),l&&++r==e.length&&("string"==typeof n&&(t=-1===n.indexOf(".")?null:s().resolve(n.replace(/\.\w+$/,"")),n=s().resolve(n)),n.apply(t||s(),e))}))}),i.each(e,function(t,e){e.render()})};if(r.tinymce||e||!(l=t.script_url))1===e?o.push(f):f();else{e=1,u=l.substring(0,l.lastIndexOf("/")),-1!=l.indexOf(".min")&&(h=".min"),r.tinymce=r.tinyMCEPreInit||{base:u,suffix:h},-1!=l.indexOf("gzip")&&(c=t.language||"en",l=l+(/\?/.test(l)?"&":"?")+"js=true&core=true&suffix="+escape(h)+"&themes="+escape(t.theme||"modern")+"&plugins="+escape(t.plugins||"")+"&languages="+(c||""),r.tinyMCE_GZ||(r.tinyMCE_GZ={start:function(){var e=function(t){s().ScriptLoader.markDone(s().baseURI.toAbsolute(t))};e("langs/"+c+".js"),e("themes/"+t.theme+"/theme"+h+".js"),e("themes/"+t.theme+"/langs/"+c+".js"),i.each(t.plugins.split(","),function(t,n){n&&(e("plugins/"+n+"/plugin"+h+".js"),e("plugins/"+n+"/langs/"+c+".js"))})},end:function(){}}));var p=document.createElement("script");p.type="text/javascript",p.onload=p.onreadystatechange=function(n){n=n||window.event,2===e||"load"!=n.type&&!/complete|loaded/.test(p.readyState)||(s().dom.Event.domLoaded=1,e=2,t.script_loaded&&t.script_loaded(),f(),i.each(o,function(t,e){e()}))},p.src=l,document.body.appendChild(p)}return d},i.extend(i.expr[":"],{tinymce:function(t){var e;return!!(t.id&&"tinymce"in r&&(e=s().get(t.id))&&e.editorManager===s())}});var a=function(){var e=function(t){"remove"===t&&this.each(function(t,e){var n=o(e);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(t,e){var n=s().get(e.id.replace(/_parent$/,""));n&&n.remove()})},n=function(t){var n,i=this;if(null!=t)e.call(i),i.each(function(e,n){var i;(i=s().get(n.id))&&i.setContent(t)});else if(0<i.length&&(n=s().get(i[0].id)))return n.getContent()},o=function(t){var e=null;return t&&t.id&&r.tinymce&&(e=s().get(t.id)),e},a=function(t){return!!(t&&t.length&&r.tinymce&&t.is(":tinymce"))},l={};i.each(["text","html","val"],function(e,r){var s=l[r]=i.fn[r],u="text"===r;i.fn[r]=function(e){var r=this;if(!a(r))return s.apply(r,arguments);if(e!==t)return n.call(r.filter(":tinymce"),e),s.apply(r.not(":tinymce"),arguments),r;var l="",c=arguments;return(u?r:r.eq(0)).each(function(t,e){var n=o(e);l+=n?u?n.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):n.getContent({save:!0}):s.apply(i(e),c)}),l}}),i.each(["append","prepend"],function(e,n){var r=l[n]=i.fn[n],s="prepend"===n;i.fn[n]=function(e){var n=this;return a(n)?e!==t?("string"==typeof e&&n.filter(":tinymce").each(function(t,n){var i=o(n);i&&i.setContent(s?e+i.getContent():i.getContent()+e)}),r.apply(n.not(":tinymce"),arguments),n):void 0:r.apply(n,arguments)}}),i.each(["remove","replaceWith","replaceAll","empty"],function(t,n){var r=l[n]=i.fn[n];i.fn[n]=function(){return e.call(this,n),r.apply(this,arguments)}}),l.attr=i.fn.attr,i.fn.attr=function(e,r){var s=this,u=arguments;if(!e||"value"!==e||!a(s))return l.attr.apply(s,u);if(r!==t)return n.call(s.filter(":tinymce"),r),l.attr.apply(s.not(":tinymce"),u),s;var c=s[0],d=o(c);return d?d.getContent({save:!0}):l.attr.apply(i(c),u)}}}();var TinyMCEActivator={editor:null,activated:!1,selector:"textarea.tinymce",height:300,activate:function(){$(this.selector).length>0&&(tinyMCE.remove(),this.editor=tinyMCE.init({selector:this.selector,toolbar:["styleselect | bold italic | undo redo, image, uploadimage | numlist, bullist | link | code | emoticons"],plugins:"image,uploadimage,link,code,preview,table,lists,emoticons",menubar:"edit insert format table tools",uploadimage_form_url:"/admin/tinymce_assets",valid_elements:"+*[*]",extended_valid_elements:"+*[*]",valid_children:"+*[*]",element_format:"html",cleanup:!1,auto_focus:!1,init_instance_callback:function(){setTimeout(function(){tinyMCE.get()[0].focus()},300)}}),this.activated=!0)}};
//! moment.js
//! version : 2.20.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return ki.apply(null,arguments)}function e(t){ki=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,i){return _e(t,e,n,i,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(t){return null==t._pf&&(t._pf=h()),t._pf}function p(t){if(null==t._isValid){var e=f(t),n=Di.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&e.bigHour===undefined),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function m(t){var e=d(NaN);return null!=t?c(f(e),t):f(e).userInvalidated=!0,e}function g(t,e){var n,i,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=f(e)),o(e._locale)||(t._locale=e._locale),Ai.length>0)for(n=0;n<Ai.length;n++)o(r=e[i=Ai[n]])||(t[i]=r);return t}function v(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Pi&&(Pi=!0,t.updateOffset(this),Pi=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function x(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&s++;return s+o}function C(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,n){var i=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){for(var a in r+="\n["+s+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}C(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function _(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Oi[e]||(C(n),Oi[e]=!0)}function E(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t){var e,n;for(n in t)E(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function k(t,e){var n,r=c({},t);for(n in e)u(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},c(r[n],t[n]),c(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)u(t,n)&&!u(e,n)&&i(t[n])&&(r[n]=c({},r[n]));return r}function D(t){null!=t&&this.set(t)}function M(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return E(i)?i.call(e,n):i}function A(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function P(){return this._invalidDate}function O(t){return this._ordinal.replace("%d",t)}function R(t,e,n,i){var r=this._relativeTime[n];return E(r)?r(t,e,n,i):r.replace(/%d/i,t)}function N(t,e){var n=this._relativeTime[t>0?"future":"past"];return E(n)?n(e):n.replace(/%s/i,e)}function I(t,e){var n=t.toLowerCase();zi[n]=zi[n+"s"]=zi[e]=t}function L(t){return"string"==typeof t?zi[t]||zi[t.toLowerCase()]:undefined}function B(t){var e,n,i={};for(n in t)u(t,n)&&(e=L(n))&&(i[e]=t[n]);return i}function H(t,e){Fi[t]=e}function z(t){var e=[];for(var n in t)e.push({unit:n,priority:Fi[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function F(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function j(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Vi[t]=r),e&&(Vi[e[0]]=function(){return F(r.apply(this,arguments),e[1],e[2])}),n&&(Vi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function q(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function W(t){var e,n,i=t.match(ji);for(e=0,n=i.length;e<n;e++)Vi[i[e]]?i[e]=Vi[i[e]]:i[e]=q(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=E(i[r])?i[r].call(e,t):i[r];return o}}function V(t,e){return t.isValid()?(e=U(e,t.localeData()),Wi[e]=Wi[e]||W(e),Wi[e](t)):t.localeData().invalidDate()}function U(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(qi.lastIndex=0;i>=0&&qi.test(t);)t=t.replace(qi,n),qi.lastIndex=0,i-=1;return t}function $(t,e,n){lr[t]=E(e)?e:function(t){return t&&n?n:e}}function Y(t,e){return u(lr,t)?lr[t](e._strict,e._locale):new RegExp(G(t))}function G(t){return X(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function X(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),s(e)&&(i=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)ur[t[n]]=i}function Q(t,e){K(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function Z(t,e,n){null!=e&&u(ur,t)&&ur[t](e,n._a,n,t)}function J(t){return tt(t)?366:365}function tt(t){return t%4==0&&t%100!=0||t%400==0}function et(){return tt(this.year())}function nt(e,n){return function(i){return null!=i?(rt(this,e,i),t.updateOffset(this,n),this):it(this,e)}}function it(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function rt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&tt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),lt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function ot(t){return E(this[t=L(t)])?this[t]():this}function st(t,e){if("object"==typeof t)for(var n=z(t=B(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(E(this[t=L(t)]))return this[t](e);return this}function at(t,e){return(t%e+e)%e}function lt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=at(e,12);return t+=(e-n)/12,1===n?tt(t)?29:28:31-n%7%2}function ut(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||xr).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone}function ct(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[xr.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dt(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=br.call(this._shortMonthsParse,s))?r:null:-1!==(r=br.call(this._longMonthsParse,s))?r:null:"MMM"===e?-1!==(r=br.call(this._shortMonthsParse,s))?r:-1!==(r=br.call(this._longMonthsParse,s))?r:null:-1!==(r=br.call(this._longMonthsParse,s))?r:-1!==(r=br.call(this._shortMonthsParse,s))?r:null}function ht(t,e,n){var i,r,o;if(this._monthsParseExact)return dt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ft(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(!s(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),lt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function pt(e){return null!=e?(ft(this,e),t.updateOffset(this,!0),this):it(this,"Month")}function mt(){return lt(this.year(),this.month())}function gt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||yt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=_r),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||yt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Er),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function yt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=d([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=X(i[e]),r[e]=X(r[e]);for(e=0;e<24;e++)o[e]=X(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function bt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function wt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function xt(t,e,n){var i=7+e-n;return-((7+wt(t,0,i).getUTCDay()-e)%7)+i-1}function Ct(t,e,n,i,r){var o,s,a=1+7*(e-1)+(7+n-i)%7+xt(t,i,r);return a<=0?s=J(o=t-1)+a:a>J(t)?(o=t+1,s=a-J(t)):(o=t,s=a),{year:o,dayOfYear:s}}function St(t,e,n){var i,r,o=xt(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?i=s+_t(r=t.year()-1,e,n):s>_t(t.year(),e,n)?(i=s-_t(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function _t(t,e,n){var i=xt(t,e,n),r=xt(t+1,e,n);return(J(t)-i+r)/7}function Et(t){return St(t,this._week.dow,this._week.doy).week}function Tt(){return this._week.dow}function kt(){return this._week.doy}function Dt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Mt(t){var e=St(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function At(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Pt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ot(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Rt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Nt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function It(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=br.call(this._weekdaysParse,s))?r:null:"ddd"===e?-1!==(r=br.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=br.call(this._minWeekdaysParse,s))?r:null:"dddd"===e?-1!==(r=br.call(this._weekdaysParse,s))?r:-1!==(r=br.call(this._shortWeekdaysParse,s))?r:-1!==(r=br.call(this._minWeekdaysParse,s))?r:null:"ddd"===e?-1!==(r=br.call(this._shortWeekdaysParse,s))?r:-1!==(r=br.call(this._weekdaysParse,s))?r:-1!==(r=br.call(this._minWeekdaysParse,s))?r:null:-1!==(r=br.call(this._minWeekdaysParse,s))?r:-1!==(r=br.call(this._weekdaysParse,s))?r:-1!==(r=br.call(this._shortWeekdaysParse,s))?r:null}function Lt(t,e,n){var i,r,o;if(this._weekdaysParseExact)return It.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Bt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=At(t,this.localeData()),this.add(t-e,"d")):e}function Ht(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function zt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Pt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ft(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ar),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function jt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Pr),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function qt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Or),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],l=[],u=[];for(e=0;e<7;e++)n=d([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(s.sort(t),a.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)a[e]=X(a[e]),l[e]=X(l[e]),u[e]=X(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Vt(){return this.hours()%12||12}function Ut(){return this.hours()||24}function $t(t,e){j(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Yt(t,e){return e._meridiemParse}function Gt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Xt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Kt(t){return t?t.toLowerCase().replace("_","-"):t}function Qt(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=Kt(t[o]).split("-")).length,n=(n=Kt(t[o+1]))?n.split("-"):null;e>0;){if(i=Zt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&x(r,n,!0)>=e-1)break;e--}o++}return null}function Zt(t){var e=null;if(!Br[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Rr._abbr,require("./locale/"+t),Jt(e)}catch(n){}return Br[t]}function Jt(t,e){var n;return t&&(n=o(e)?ne(t):te(t,e))&&(Rr=n),Rr._abbr}function te(t,e){if(null!==e){var n=Lr;if(e.abbr=t,null!=Br[t])_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Br[t]._config;else if(null!=e.parentLocale){if(null==Br[e.parentLocale])return Hr[e.parentLocale]||(Hr[e.parentLocale]=[]),Hr[e.parentLocale].push({name:t,config:e}),null;n=Br[e.parentLocale]._config}return Br[t]=new D(k(n,e)),Hr[t]&&Hr[t].forEach(function(t){te(t.name,t.config)}),Jt(t),Br[t]}return delete Br[t],null}function ee(t,e){if(null!=e){var n,i,r=Lr;null!=(i=Zt(t))&&(r=i._config),(n=new D(e=k(r,e))).parentLocale=Br[t],Br[t]=n,Jt(t)}else null!=Br[t]&&(null!=Br[t].parentLocale?Br[t]=Br[t].parentLocale:null!=Br[t]&&delete Br[t]);return Br[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Rr;if(!n(t)){if(e=Zt(t))return e;t=[t]}return Qt(t)}function ie(){return Mi(Br)}function re(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[dr]<0||n[dr]>11?dr:n[hr]<1||n[hr]>lt(n[cr],n[dr])?hr:n[fr]<0||n[fr]>24||24===n[fr]&&(0!==n[pr]||0!==n[mr]||0!==n[gr])?fr:n[pr]<0||n[pr]>59?pr:n[mr]<0||n[mr]>59?mr:n[gr]<0||n[gr]>999?gr:-1,f(t)._overflowDayOfYear&&(e<cr||e>hr)&&(e=hr),f(t)._overflowWeeks&&-1===e&&(e=vr),f(t)._overflowWeekday&&-1===e&&(e=yr),f(t).overflow=e),t}function oe(t,e,n){return null!=t?t:null!=e?e:n}function se(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ae(t){var e,n,i,r,o,s=[];if(!t._d){for(i=se(t),t._w&&null==t._a[hr]&&null==t._a[dr]&&le(t),null!=t._dayOfYear&&(o=oe(t._a[cr],i[cr]),(t._dayOfYear>J(o)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=wt(o,0,t._dayOfYear),t._a[dr]=n.getUTCMonth(),t._a[hr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[fr]&&0===t._a[pr]&&0===t._a[mr]&&0===t._a[gr]&&(t._nextDay=!0,t._a[fr]=0),t._d=(t._useUTC?wt:bt).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[fr]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==r&&(f(t).weekdayMismatch=!0)}}function le(t){var e,n,i,r,o,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,s=4,n=oe(e.GG,t._a[cr],St(Ee(),1,4).year),i=oe(e.W,1),((r=oe(e.E,1))<1||r>7)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var u=St(Ee(),o,s);n=oe(e.gg,t._a[cr],u.year),i=oe(e.w,u.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o}i<1||i>_t(n,o,s)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(a=Ct(n,i,r,o,s),t._a[cr]=a.year,t._dayOfYear=a.dayOfYear)}function ue(t){var e,n,i,r,o,s,a=t._i,l=zr.exec(a)||Fr.exec(a);if(l){for(f(t).iso=!0,e=0,n=qr.length;e<n;e++)if(qr[e][1].exec(l[1])){r=qr[e][0],i=!1!==qr[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Wr.length;e<n;e++)if(Wr[e][1].exec(l[3])){o=(l[2]||" ")+Wr[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!jr.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),ve(t)}else t._isValid=!1}function ce(t,e,n,i,r,o){var s=[de(t),Sr.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}function de(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function he(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function fe(t,e,n){if(t&&Dr.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return f(n).weekdayMismatch=!0,n._isValid=!1,!1;return!0}function pe(t,e,n){if(t)return $r[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return 60*((i-r)/100)+r}function me(t){var e=Ur.exec(he(t._i));if(e){var n=ce(e[4],e[3],e[2],e[5],e[6],e[7]);if(!fe(e[1],n,t))return;t._a=n,t._tzm=pe(e[8],e[9],e[10]),t._d=wt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function ge(e){var n=Vr.exec(e._i);null===n?(ue(e),!1===e._isValid&&(delete e._isValid,me(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))):e._d=new Date(+n[1])}function ve(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],f(e).empty=!0;var n,i,r,o,s,a=""+e._i,l=a.length,u=0;for(r=U(e._f,e._locale).match(ji)||[],n=0;n<r.length;n++)o=r[n],(i=(a.match(Y(o,e))||[])[0])&&((s=a.substr(0,a.indexOf(i))).length>0&&f(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),u+=i.length),Vi[o]?(i?f(e).empty=!1:f(e).unusedTokens.push(o),Z(o,i,e)):e._strict&&!i&&f(e).unusedTokens.push(o);f(e).charsLeftOver=l-u,a.length>0&&f(e).unusedInput.push(a),e._a[fr]<=12&&!0===f(e).bigHour&&e._a[fr]>0&&(f(e).bigHour=undefined),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[fr]=ye(e._locale,e._a[fr],e._meridiem),ae(e),re(e)}else me(e);else ue(e)}function ye(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function be(t){var e,n,i,r,o;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ve(e),p(e)&&(o+=f(e).charsLeftOver,o+=10*f(e).unusedTokens.length,f(e).score=o,(null==i||o<i)&&(i=o,n=e));c(t,n||e)}function we(t){if(!t._d){var e=B(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ae(t)}}function xe(t){var e=new v(re(Ce(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=undefined),e}function Ce(t){var e=t._i,i=t._f;return t._locale=t._locale||ne(t._l),null===e||i===undefined&&""===e?m({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(re(e)):(a(e)?t._d=e:n(i)?be(t):i?ve(t):Se(t),p(t)||(t._d=null),t))}function Se(e){var r=e._i;o(r)?e._d=new Date(t.now()):a(r)?e._d=new Date(r.valueOf()):"string"==typeof r?ge(e):n(r)?(e._a=l(r.slice(0),function(t){return parseInt(t,10)}),ae(e)):i(r)?we(e):s(r)?e._d=new Date(r):t.createFromInputFallback(e)}function _e(t,e,o,s,a){var l={};return!0!==o&&!1!==o||(s=o,o=undefined),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=undefined),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=o,l._i=t,l._f=e,l._strict=s,xe(l)}function Ee(t,e,n,i){return _e(t,e,n,i,!1)}function Te(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ee();for(i=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](i)||(i=e[r]);return i}function ke(){return Te("isBefore",[].slice.call(arguments,0))}function De(){return Te("isAfter",[].slice.call(arguments,0))}function Me(t){for(var e in t)if(-1===br.call(Kr,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Kr.length;++i)if(t[Kr[i]]){if(n)return!1;parseFloat(t[Kr[i]])!==w(t[Kr[i]])&&(n=!0)}return!0}function Ae(){return this._isValid}function Pe(){return Ke(NaN)}function Oe(t){var e=B(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Me(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ne(),this._bubble()}function Re(t){return t instanceof Oe}function Ne(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,e){j(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+F(~~(t/60),2)+e+F(~~t%60,2)})}function Le(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Qr)||["-",0,0],r=60*i[1]+w(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Be(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(y(e)||a(e)?e.valueOf():Ee(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):Ee(e).local()}function He(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function ze(e,n,i){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Le(or,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&n&&(r=He(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!n||this._changeInProgress?en(this,Ke(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:He(this)}function Fe(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function je(t){return this.utcOffset(0,t)}function qe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(He(this),"m")),this}function We(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Le(rr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ve(t){return!!this.isValid()&&(t=t?Ee(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Ue(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function $e(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),(t=Ce(t))._a){var e=t._isUTC?d(t._a):Ee(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ye(){return!!this.isValid()&&!this._isUTC}function Ge(){return!!this.isValid()&&this._isUTC}function Xe(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ke(t,e){var n,i,r,o=t,a=null;return Re(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Zr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:w(a[hr])*n,h:w(a[fr])*n,m:w(a[pr])*n,s:w(a[mr])*n,ms:w(Ne(1e3*a[gr]))*n}):(a=Jr.exec(t))?(n="-"===a[1]?-1:(a[1],1),o={y:Qe(a[2],n),M:Qe(a[3],n),w:Qe(a[4],n),d:Qe(a[5],n),h:Qe(a[6],n),m:Qe(a[7],n),s:Qe(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Je(Ee(o.from),Ee(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Oe(o),Re(t)&&u(t,"_locale")&&(i._locale=t._locale),i}function Qe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ze(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Je(t,e){var n;return t.isValid()&&e.isValid()?(e=Be(e,t),t.isBefore(e)?n=Ze(t,e):((n=Ze(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(_(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),en(this,Ke(n="string"==typeof n?+n:n,i),t),this}}function en(e,n,i,r){var o=n._milliseconds,s=Ne(n._days),a=Ne(n._months);e.isValid()&&(r=null==r||r,a&&ft(e,it(e,"Month")+a*i),s&&rt(e,"Date",it(e,"Date")+s*i),o&&e._d.setTime(e._d.valueOf()+o*i),r&&t.updateOffset(e,s||a))}function nn(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(e,n){var i=e||Ee(),r=Be(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",s=n&&(E(n[o])?n[o].call(this,i):n[o]);return this.format(s||this.localeData().calendar(o,this,Ee(i)))}function on(){return new v(this)}function sn(t,e){var n=y(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(o(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function an(t,e){var n=y(t)?t:Ee(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(o(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ln(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function un(t,e){var n,i=y(t)?t:Ee(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=L(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function cn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function dn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function hn(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Be(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=L(e)){case"year":o=fn(this,i)/12;break;case"month":o=fn(this,i);break;case"quarter":o=fn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:b(o)}function fn(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function pn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mn(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",V(n,"Z")):V(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+i+r+o)}function vn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=V(this,e);return this.localeData().postformat(n)}function yn(t,e){return this.isValid()&&(y(t)&&t.isValid()||Ee(t).isValid())?Ke({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bn(t){return this.from(Ee(),t)}function wn(t,e){return this.isValid()&&(y(t)&&t.isValid()||Ee(t).isValid())?Ke({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function xn(t){return this.to(Ee(),t)}function Cn(t){var e;return t===undefined?this._locale._abbr:(null!=(e=ne(t))&&(this._locale=e),this)}function Sn(){return this._locale}function _n(t){switch(t=L(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function En(t){return(t=L(t))===undefined||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Tn(){return this._d.valueOf()-6e4*(this._offset||0)}function kn(){return Math.floor(this.valueOf()/1e3)}function Dn(){return new Date(this.valueOf())}function Mn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function An(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Pn(){return this.isValid()?this.toISOString():null}function On(){return p(this)}function Rn(){return c({},f(this))}function Nn(){return f(this).overflow}function In(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ln(t,e){j(0,[t,t.length],0,e)}function Bn(t){
return jn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Hn(t){return jn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function zn(){return _t(this.year(),1,4)}function Fn(){var t=this.localeData()._week;return _t(this.year(),t.dow,t.doy)}function jn(t,e,n,i,r){var o;return null==t?St(this,i,r).year:(e>(o=_t(t,i,r))&&(e=o),qn.call(this,t,e,n,i,r))}function qn(t,e,n,i,r){var o=Ct(t,e,n,i,r),s=wt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Wn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Vn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Un(t,e){e[gr]=w(1e3*("0."+t))}function $n(){return this._isUTC?"UTC":""}function Yn(){return this._isUTC?"Coordinated Universal Time":""}function Gn(t){return Ee(1e3*t)}function Xn(){return Ee.apply(null,arguments).parseZone()}function Kn(t){return t}function Qn(t,e,n,i){var r=ne(),o=d().set(i,e);return r[n](o,t)}function Zn(t,e,n){if(s(t)&&(e=t,t=undefined),t=t||"",null!=e)return Qn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Qn(t,i,n,"month");return r}function Jn(t,e,n,i){"boolean"==typeof t?(s(e)&&(n=e,e=undefined),e=e||""):(n=e=t,t=!1,s(e)&&(n=e,e=undefined),e=e||"");var r,o=ne(),a=t?o._week.dow:0;if(null!=n)return Qn(e,(n+a)%7,i,"day");var l=[];for(r=0;r<7;r++)l[r]=Qn(e,(r+a)%7,i,"day");return l}function ti(t,e){return Zn(t,e,"months")}function ei(t,e){return Zn(t,e,"monthsShort")}function ni(t,e,n){return Jn(t,e,n,"weekdays")}function ii(t,e,n){return Jn(t,e,n,"weekdaysShort")}function ri(t,e,n){return Jn(t,e,n,"weekdaysMin")}function oi(){var t=this._data;return this._milliseconds=co(this._milliseconds),this._days=co(this._days),this._months=co(this._months),t.milliseconds=co(t.milliseconds),t.seconds=co(t.seconds),t.minutes=co(t.minutes),t.hours=co(t.hours),t.months=co(t.months),t.years=co(t.years),this}function si(t,e,n,i){var r=Ke(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function ai(t,e){return si(this,t,e,1)}function li(t,e){return si(this,t,e,-1)}function ui(t){return t<0?Math.floor(t):Math.ceil(t)}function ci(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*ui(hi(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=b(o/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,a+=r=b(di(s+=b(n/24))),s-=ui(hi(r)),i=b(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function di(t){return 4800*t/146097}function hi(t){return 146097*t/4800}function fi(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=L(t))||"year"===t)return e=this._days+i/864e5,n=this._months+di(e),"month"===t?n:n/12;switch(e=this._days+Math.round(hi(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function pi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN}function mi(t){return function(){return this.as(t)}}function gi(){return Ke(this)}function vi(t){return t=L(t),this.isValid()?this[t+"s"]():NaN}function yi(t){return function(){return this.isValid()?this._data[t]:NaN}}function bi(){return b(this.days()/7)}function wi(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function xi(t,e,n){var i=Ke(t).abs(),r=ko(i.as("s")),o=ko(i.as("m")),s=ko(i.as("h")),a=ko(i.as("d")),l=ko(i.as("M")),u=ko(i.as("y")),c=r<=Do.ss&&["s",r]||r<Do.s&&["ss",r]||o<=1&&["m"]||o<Do.m&&["mm",o]||s<=1&&["h"]||s<Do.h&&["hh",s]||a<=1&&["d"]||a<Do.d&&["dd",a]||l<=1&&["M"]||l<Do.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,wi.apply(null,c)}function Ci(t){return t===undefined?ko:"function"==typeof t&&(ko=t,!0)}function Si(t,e){return Do[t]!==undefined&&(e===undefined?Do[t]:(Do[t]=e,"s"===t&&(Do.ss=e-1),!0))}function _i(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=xi(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Ei(t){return(t>0)-(t<0)||+t}function Ti(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Mo(this._milliseconds)/1e3,i=Mo(this._days),r=Mo(this._months);e=b((t=b(n/60))/60),n%=60,t%=60;var o=b(r/12),s=r%=12,a=i,l=e,u=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",f=Ei(this._months)!==Ei(d)?"-":"",p=Ei(this._days)!==Ei(d)?"-":"",m=Ei(this._milliseconds)!==Ei(d)?"-":"";return h+"P"+(o?f+o+"Y":"")+(s?f+s+"M":"")+(a?p+a+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var ki,Di;Di=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Mi,Ai=t.momentProperties=[],Pi=!1,Oi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null,Mi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)u(t,e)&&n.push(e);return n};var Ri={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ni={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ii="Invalid date",Li="%d",Bi=/\d{1,2}/,Hi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},zi={},Fi={},ji=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,qi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wi={},Vi={},Ui=/\d/,$i=/\d\d/,Yi=/\d{3}/,Gi=/\d{4}/,Xi=/[+-]?\d{6}/,Ki=/\d\d?/,Qi=/\d\d\d\d?/,Zi=/\d\d\d\d\d\d?/,Ji=/\d{1,3}/,tr=/\d{1,4}/,er=/[+-]?\d{1,6}/,nr=/\d+/,ir=/[+-]?\d+/,rr=/Z|[+-]\d\d:?\d\d/gi,or=/Z|[+-]\d\d(?::?\d\d)?/gi,sr=/[+-]?\d+(\.\d{1,3})?/,ar=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lr={},ur={},cr=0,dr=1,hr=2,fr=3,pr=4,mr=5,gr=6,vr=7,yr=8;j("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),I("year","y"),H("year",1),$("Y",ir),$("YY",Ki,$i),$("YYYY",tr,Gi),$("YYYYY",er,Xi),$("YYYYYY",er,Xi),K(["YYYYY","YYYYYY"],cr),K("YYYY",function(e,n){n[cr]=2===e.length?t.parseTwoDigitYear(e):w(e)}),K("YY",function(e,n){n[cr]=t.parseTwoDigitYear(e)}),K("Y",function(t,e){e[cr]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var br,wr=nt("FullYear",!0);br=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),j("MMMM",0,0,function(t){return this.localeData().months(this,t)}),I("month","M"),H("month",8),$("M",Ki),$("MM",Ki,$i),$("MMM",function(t,e){return e.monthsShortRegex(t)}),$("MMMM",function(t,e){return e.monthsRegex(t)}),K(["M","MM"],function(t,e){e[dr]=w(t)-1}),K(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[dr]=r:f(n).invalidMonth=t});var xr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Cr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Sr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_r=ar,Er=ar;j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),H("week",5),H("isoWeek",5),$("w",Ki),$("ww",Ki,$i),$("W",Ki),$("WW",Ki,$i),Q(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)});var Tr={dow:0,doy:6};j("d",0,"do","day"),j("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),j("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),j("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),$("d",Ki),$("e",Ki),$("E",Ki),$("dd",function(t,e){return e.weekdaysMinRegex(t)}),$("ddd",function(t,e){return e.weekdaysShortRegex(t)}),$("dddd",function(t,e){return e.weekdaysRegex(t)}),Q(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:f(n).invalidWeekday=t}),Q(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var kr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ar=ar,Pr=ar,Or=ar;j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Vt),j("k",["kk",2],0,Ut),j("hmm",0,0,function(){return""+Vt.apply(this)+F(this.minutes(),2)}),j("hmmss",0,0,function(){return""+Vt.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),$t("a",!0),$t("A",!1),I("hour","h"),H("hour",13),$("a",Yt),$("A",Yt),$("H",Ki),$("h",Ki),$("k",Ki),$("HH",Ki,$i),$("hh",Ki,$i),$("kk",Ki,$i),$("hmm",Qi),$("hmmss",Zi),$("Hmm",Qi),$("Hmmss",Zi),K(["H","HH"],fr),K(["k","kk"],function(t,e){var n=w(t);e[fr]=24===n?0:n}),K(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),K(["h","hh"],function(t,e,n){e[fr]=w(t),f(n).bigHour=!0}),K("hmm",function(t,e,n){var i=t.length-2;e[fr]=w(t.substr(0,i)),e[pr]=w(t.substr(i)),f(n).bigHour=!0}),K("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[fr]=w(t.substr(0,i)),e[pr]=w(t.substr(i,2)),e[mr]=w(t.substr(r)),f(n).bigHour=!0}),K("Hmm",function(t,e){var n=t.length-2;e[fr]=w(t.substr(0,n)),e[pr]=w(t.substr(n))}),K("Hmmss",function(t,e){var n=t.length-4,i=t.length-2;e[fr]=w(t.substr(0,n)),e[pr]=w(t.substr(n,2)),e[mr]=w(t.substr(i))});var Rr,Nr=/[ap]\.?m?\.?/i,Ir=nt("Hours",!0),Lr={calendar:Ri,longDateFormat:Ni,invalidDate:Ii,ordinal:Li,dayOfMonthOrdinalParse:Bi,relativeTime:Hi,months:Cr,monthsShort:Sr,week:Tr,weekdays:kr,weekdaysMin:Mr,weekdaysShort:Dr,meridiemParse:Nr},Br={},Hr={},zr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jr=/Z|[+-]\d\d(?::?\d\d)?/,qr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Wr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Vr=/^\/?Date\((\-?\d+)/i,Ur=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,$r={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Yr=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()}),Gr=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ee.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:m()}),Xr=function(){return Date.now?Date.now():+new Date},Kr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ie("Z",":"),Ie("ZZ",""),$("Z",or),$("ZZ",or),K(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Le(or,t)});var Qr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Zr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Jr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ke.fn=Oe.prototype,Ke.invalid=Pe;var to=tn(1,"add"),eo=tn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var no=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===undefined?this.localeData():this.locale(t)});j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ln("gggg","weekYear"),Ln("ggggg","weekYear"),Ln("GGGG","isoWeekYear"),Ln("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),$("G",ir),$("g",ir),$("GG",Ki,$i),$("gg",Ki,$i),$("GGGG",tr,Gi),$("gggg",tr,Gi),$("GGGGG",er,Xi),$("ggggg",er,Xi),Q(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),Q(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),j("Q",0,"Qo","quarter"),I("quarter","Q"),H("quarter",7),$("Q",Ui),K("Q",function(t,e){e[dr]=3*(w(t)-1)}),j("D",["DD",2],"Do","date"),I("date","D"),H("date",9),$("D",Ki),$("DD",Ki,$i),$("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),K(["D","DD"],hr),K("Do",function(t,e){e[hr]=w(t.match(Ki)[0])});var io=nt("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),H("dayOfYear",4),$("DDD",Ji),$("DDDD",Yi),K(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),j("m",["mm",2],0,"minute"),I("minute","m"),H("minute",14),$("m",Ki),$("mm",Ki,$i),K(["m","mm"],pr);var ro=nt("Minutes",!1);j("s",["ss",2],0,"second"),I("second","s"),H("second",15),$("s",Ki),$("ss",Ki,$i),K(["s","ss"],mr);var oo,so=nt("Seconds",!1);for(j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),H("millisecond",16),$("S",Ji,Ui),$("SS",Ji,$i),$("SSS",Ji,Yi),oo="SSSS";oo.length<=9;oo+="S")$(oo,nr);for(oo="S";oo.length<=9;oo+="S")K(oo,Un);var ao=nt("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var lo=v.prototype;lo.add=to,lo.calendar=rn,lo.clone=on,lo.diff=hn,lo.endOf=En,lo.format=vn,lo.from=yn,lo.fromNow=bn,lo.to=wn,lo.toNow=xn,lo.get=ot,lo.invalidAt=Nn,lo.isAfter=sn,lo.isBefore=an,lo.isBetween=ln,lo.isSame=un,lo.isSameOrAfter=cn,lo.isSameOrBefore=dn,lo.isValid=On,lo.lang=no,lo.locale=Cn,lo.localeData=Sn,lo.max=Gr,lo.min=Yr,lo.parsingFlags=Rn,lo.set=st,lo.startOf=_n,lo.subtract=eo,lo.toArray=Mn,lo.toObject=An,lo.toDate=Dn,lo.toISOString=mn,lo.inspect=gn,lo.toJSON=Pn,lo.toString=pn,lo.unix=kn,lo.valueOf=Tn,lo.creationData=In,lo.year=wr,lo.isLeapYear=et,lo.weekYear=Bn,lo.isoWeekYear=Hn,lo.quarter=lo.quarters=Wn,lo.month=pt,lo.daysInMonth=mt,lo.week=lo.weeks=Dt,lo.isoWeek=lo.isoWeeks=Mt,lo.weeksInYear=Fn,lo.isoWeeksInYear=zn,lo.date=io,lo.day=lo.days=Bt,lo.weekday=Ht,lo.isoWeekday=zt,lo.dayOfYear=Vn,lo.hour=lo.hours=Ir,lo.minute=lo.minutes=ro,lo.second=lo.seconds=so,lo.millisecond=lo.milliseconds=ao,lo.utcOffset=ze,lo.utc=je,lo.local=qe,lo.parseZone=We,lo.hasAlignedHourOffset=Ve,lo.isDST=Ue,lo.isLocal=Ye,lo.isUtcOffset=Ge,lo.isUtc=Xe,lo.isUTC=Xe,lo.zoneAbbr=$n,lo.zoneName=Yn,lo.dates=S("dates accessor is deprecated. Use date instead.",io),lo.months=S("months accessor is deprecated. Use month instead",pt),lo.years=S("years accessor is deprecated. Use year instead",wr),lo.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Fe),lo.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",$e);var uo=D.prototype;uo.calendar=M,uo.longDateFormat=A,uo.invalidDate=P,uo.ordinal=O,uo.preparse=Kn,uo.postformat=Kn,uo.relativeTime=R,uo.pastFuture=N,uo.set=T,uo.months=ut,uo.monthsShort=ct,uo.monthsParse=ht,uo.monthsRegex=vt,uo.monthsShortRegex=gt,uo.week=Et,uo.firstDayOfYear=kt,uo.firstDayOfWeek=Tt,uo.weekdays=Ot,uo.weekdaysMin=Nt,uo.weekdaysShort=Rt,uo.weekdaysParse=Lt,uo.weekdaysRegex=Ft,uo.weekdaysShortRegex=jt,uo.weekdaysMinRegex=qt,uo.isPM=Gt,uo.meridiem=Xt,Jt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=S("moment.lang is deprecated. Use moment.locale instead.",Jt),t.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ne);var co=Math.abs,ho=mi("ms"),fo=mi("s"),po=mi("m"),mo=mi("h"),go=mi("d"),vo=mi("w"),yo=mi("M"),bo=mi("y"),wo=yi("milliseconds"),xo=yi("seconds"),Co=yi("minutes"),So=yi("hours"),_o=yi("days"),Eo=yi("months"),To=yi("years"),ko=Math.round,Do={ss:44,s:45,m:45,h:22,d:26,M:11},Mo=Math.abs,Ao=Oe.prototype;return Ao.isValid=Ae,Ao.abs=oi,Ao.add=ai,Ao.subtract=li,Ao.as=fi,Ao.asMilliseconds=ho,Ao.asSeconds=fo,Ao.asMinutes=po,Ao.asHours=mo,Ao.asDays=go,Ao.asWeeks=vo,Ao.asMonths=yo,Ao.asYears=bo,Ao.valueOf=pi,Ao._bubble=ci,Ao.clone=gi,Ao.get=vi,Ao.milliseconds=wo,Ao.seconds=xo,Ao.minutes=Co,Ao.hours=So,Ao.days=_o,Ao.weeks=bi,Ao.months=Eo,Ao.years=To,Ao.humanize=_i,Ao.toISOString=Ti,Ao.toString=Ti,Ao.toJSON=Ti,Ao.locale=Cn,Ao.localeData=Sn,Ao.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ti),Ao.lang=no,j("X",0,0,"unix"),j("x",0,0,"valueOf"),$("x",ir),$("X",sr),K("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),K("x",function(t,e,n){n._d=new Date(w(t))}),t.version="2.20.1",e(Ee),t.fn=lo,t.min=ke,t.max=De,t.now=Xr,t.utc=d,t.unix=Gn,t.months=ti,t.isDate=a,t.locale=Jt,t.invalid=m,t.duration=Ke,t.isMoment=y,t.weekdays=ni,t.parseZone=Xn,t.localeData=ne,t.isDuration=Re,t.monthsShort=ei,t.weekdaysMin=ri,t.defineLocale=te,t.updateLocale=ee,t.locales=ie,t.weekdaysShort=ii,t.normalizeUnits=L,t.relativeTimeRounding=Ci,t.relativeTimeThreshold=Si,t.calendarFormat=nn,t.prototype=lo,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?e(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(t.moment)}(this,function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}),
/*!
 * FullCalendar v3.9.0
 * Docs & License: https://fullcalendar.io/
 * (c) 2018 Adam Shaw
 */
function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment"),require("jquery")):"function"==typeof define&&define.amd?define(["moment","jquery"],e):"object"==typeof exports?exports.FullCalendar=e(require("moment"),require("jquery")):t.FullCalendar=e(t.moment,t.jQuery)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=236)}([function(e){e.exports=t},,function(t,e){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};e.__extends=function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}},function(t){t.exports=e},function(t,e,n){function i(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function r(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){ft("body").addClass("fc-not-allowed")}function s(){ft("body").removeClass("fc-not-allowed")}function a(t,e,n){var i=Math.floor(e/t.length),r=Math.floor(e-i*(t.length-1)),o=[],s=[],a=[],u=0;l(t),t.each(function(e,n){var l=e===t.length-1?r:i,c=ft(n).outerHeight(!0);c<l?(o.push(n),s.push(c),a.push(ft(n).height())):u+=c}),n&&(e-=u,i=Math.floor(e/o.length),r=Math.floor(e-i*(o.length-1))),ft(o).each(function(t,e){var n=t===o.length-1?r:i,l=s[t],u=n-(l-a[t]);l<n&&ft(e).height(u)})}function l(t){t.height("")}function u(t){var e=0;return t.find("> *").each(function(t,n){var i=ft(n).outerWidth();i>e&&(e=i)}),e++,t.width(e),e}function c(t,e){var n,i=t.add(e);return i.css({position:"relative",left:-1}),n=t.outerHeight()-e.outerHeight(),i.css({position:"",left:""}),n}function d(t){var e=t.css("position"),n=t.parents().filter(function(){var t=ft(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&n.length?n:ft(t[0].ownerDocument||document)}function h(t,e){var n=t.offset(),i=n.left-(e?e.left:0),r=n.top-(e?e.top:0);return{left:i,right:i+t.outerWidth(),top:r,bottom:r+t.outerHeight()}}function f(t,e){var n=t.offset(),i=m(t),r=n.left+b(t,"border-left-width")+i.left-(e?e.left:0),o=n.top+b(t,"border-top-width")+i.top-(e?e.top:0);return{left:r,right:r+t[0].clientWidth,top:o,bottom:o+t[0].clientHeight}}function p(t,e){var n=t.offset(),i=n.left+b(t,"border-left-width")+b(t,"padding-left")-(e?e.left:0),r=n.top+b(t,"border-top-width")+b(t,"padding-top")-(e?e.top:0);return{left:i,right:i+t.width(),top:r,bottom:r+t.height()}}function m(t){var e,n=t[0].offsetWidth-t[0].clientWidth,i=t[0].offsetHeight-t[0].clientHeight;return n=g(n),e={left:0,right:0,top:0,bottom:i=g(i)},v()&&"rtl"===t.css("direction")?e.left=n:e.right=n,e}function g(t){return t=Math.max(0,t),t=Math.round(t)}function v(){return null===pt&&(pt=y()),pt}function y(){var t=ft("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),e=t.children().offset().left>t.offset().left;return t.remove(),e}function b(t,e){return parseFloat(t.css(e))||0}function w(t){return 1===t.which&&!t.ctrlKey}function x(t){var e=t.originalEvent.touches;return e&&e.length?e[0].pageX:t.pageX}function C(t){var e=t.originalEvent.touches;return e&&e.length?e[0].pageY:t.pageY}function S(t){return/^touch/.test(t.type)}function _(t){t.addClass("fc-unselectable").on("selectstart",T)}function E(t){t.removeClass("fc-unselectable").off("selectstart",T)}function T(t){t.preventDefault()}function k(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function D(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function M(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function A(t,e){return{left:t.left-e.left,top:t.top-e.top}}function P(t){var e,n,i=[],r=[];for("string"==typeof t?r=t.split(/\s*,\s*/):"function"==typeof t?r=[t]:ft.isArray(t)&&(r=t),e=0;e<r.length;e++)"string"==typeof(n=r[e])?i.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&i.push({func:n});return i}function O(t,e,n,i,r){var o,s;for(o=0;o<n.length;o++)if(s=R(t,e,n[o],i,r))return s;return 0}function R(t,e,n,i,r){if(n.func)return n.func(t,e);var o=t[n.field],s=e[n.field];return null==o&&i&&(o=i[n.field]),null==s&&r&&(s=r[n.field]),N(o,s)*(n.order||1)}function N(t,e){return t||e?null==e?-1:null==t?1:"string"===ft.type(t)||"string"===ft.type(e)?String(t).localeCompare(String(e)):t-e:0}function I(t,e){return ht.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days"),ms:t.time()-e.time()})}function L(t,e){return ht.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days")})}function B(t,e,n){return ht.duration(Math.round(t.diff(e,n,!0)),n)}function H(t,n){var i,r,o;for(i=0;i<e.unitsDesc.length&&!((o=F(r=e.unitsDesc[i],t,n))>=1&&ut(o));i++);return r}function z(t,e){var n=H(t);return"week"===n&&"object"==typeof e&&e.days&&(n="day"),n}function F(t,e,n){return null!=n?n.diff(e,t,!0):ht.isDuration(e)?e.as(t):e.end.diff(e.start,t,!0)}function j(t,e,n){var i;return V(n)?(e-t)/n:(i=n.asMonths(),Math.abs(i)>=1&&ut(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/n.asDays())}function q(t,e){var n,i;return V(t)||V(e)?t/e:(n=t.asMonths(),i=e.asMonths(),Math.abs(n)>=1&&ut(n)&&Math.abs(i)>=1&&ut(i)?n/i:t.asDays()/e.asDays())}function W(t,e){var n;return V(t)?ht.duration(t*e):(n=t.asMonths(),Math.abs(n)>=1&&ut(n)?ht.duration({months:n*e}):ht.duration({days:t.asDays()*e}))}function V(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function U(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function $(t){return"string"==typeof t&&/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function Y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=window.console;if(n&&n.log)return n.log.apply(n,t)}function G(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=window.console;return n&&n.warn?n.warn.apply(n,t):Y.apply(null,t)}function X(t,e){var n,i,r,o,s,a,l={};if(e)for(n=0;n<e.length;n++){for(i=e[n],r=[],o=t.length-1;o>=0;o--)if("object"==typeof(s=t[o][i]))r.unshift(s);else if(s!==undefined){l[i]=s;break}r.length&&(l[i]=X(r))}for(n=t.length-1;n>=0;n--)for(i in a=t[n])i in l||(l[i]=a[i]);return l}function K(t,e){for(var n in t)Q(t,n)&&(e[n]=t[n])}function Q(t,e){return mt.call(t,e)}function Z(t,e,n){if(ft.isFunction(t)&&(t=[t]),t){var i=void 0,r=void 0;for(i=0;i<t.length;i++)r=t[i].apply(e,n)||r;return r}}function J(t,e){for(var n=0,i=0;i<t.length;)e(t[i])?(t.splice(i,1),n++):i++;return n}function tt(t,e){for(var n=0,i=0;i<t.length;)t[i]===e?(t.splice(i,1),n++):i++;return n}function et(t,e){var n,i=t.length;if(null==i||i!==e.length)return!1;for(n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function nt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++)if(t[n]!==undefined)return t[n]}function it(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function rt(t){return t.replace(/&.*?;/g,"")}function ot(t){var e=[];return ft.each(t,function(t,n){null!=n&&e.push(t+":"+n)}),e.join(";")}function st(t){var e=[];return ft.each(t,function(t,n){null!=n&&e.push(t+'="'+it(n)+'"')}),e.join(" ")}function at(t){return t.charAt(0).toUpperCase()+t.slice(1)}function lt(t,e){return t-e}function ut(t){return t%1==0}function ct(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function dt(t,e,n){var i,r,o,s,a;void 0===n&&(n=!1);var l=function(){var u=+new Date-s;u<e?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=+new Date;var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(o,r),o=r=null),a}}Object.defineProperty(e,"__esModule",{value:!0});var ht=n(0),ft=n(3);e.compensateScroll=i,e.uncompensateScroll=r,e.disableCursor=o,e.enableCursor=s,e.distributeHeight=a,e.undistributeHeight=l,e.matchCellWidths=u,e.subtractInnerElHeight=c,e.getScrollParent=d,e.getOuterRect=h,e.getClientRect=f,e.getContentRect=p,e.getScrollbarWidths=m;var pt=null;e.isPrimaryMouseButton=w,e.getEvX=x,e.getEvY=C,e.getEvIsTouch=S,e.preventSelection=_,e.allowSelection=E,e.preventDefault=T,e.intersectRects=k,e.constrainPoint=D,e.getRectCenter=M,e.diffPoints=A,e.parseFieldSpecs=P,e.compareByFieldSpecs=O,e.compareByFieldSpec=R,e.flexibleCompare=N,e.dayIDs=["sun","mon","tue","wed","thu","fri","sat"],e.unitsDesc=["year","month","week","day","hour","minute","second","millisecond"],e.diffDayTime=I,e.diffDay=L,e.diffByUnit=B,e.computeGreatestUnit=H,e.computeDurationGreatestUnit=z,e.divideRangeByDuration=j,e.divideDurationByDuration=q,e.multiplyDuration=W,e.durationHasTime=V,e.isNativeDate=U,e.isTimeString=$,e.log=Y,e.warn=G;var mt={}.hasOwnProperty;e.mergeProps=X,e.copyOwnProps=K,e.hasOwnProp=Q,e.applyAll=Z,e.removeMatching=J,e.removeExact=tt,e.isArraysEqual=et,e.firstDefined=nt,e.htmlEscape=it,e.stripHtmlEntities=rt,e.cssToStr=ot,e.attrsToStr=st,e.capitaliseFirstLetter=at,e.compareNumbers=lt,e.isInt=ut,e.proxy=ct,e.debounce=dt},function(t,e,n){function i(t,e){return t.startMs-e.startMs}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(10),s=function(){function t(t,e){this.isStart=!0,this.isEnd=!0,r.isMoment(t)&&(t=t.clone().stripZone()),r.isMoment(e)&&(e=e.clone().stripZone()),t&&(this.startMs=t.valueOf()),e&&(this.endMs=e.valueOf())}return t.invertRanges=function(e,n){var r,o,s=[],a=n.startMs;for(e.sort(i),r=0;r<e.length;r++)(o=e[r]).startMs>a&&s.push(new t(a,o.startMs)),o.endMs>a&&(a=o.endMs);return a<n.endMs&&s.push(new t(a,n.endMs)),s},t.prototype.intersect=function(e){var n=this.startMs,i=this.endMs,r=null;return null!=e.startMs&&(n=null==n?e.startMs:Math.max(n,e.startMs)),null!=e.endMs&&(i=null==i?e.endMs:Math.min(i,e.endMs)),(null==n||null==i||n<i)&&((r=new t(n,i)).isStart=this.isStart&&n===this.startMs,r.isEnd=this.isEnd&&i===this.endMs),r},t.prototype.intersectsWith=function(t){return(null==this.endMs||null==t.startMs||this.endMs>t.startMs)&&(null==this.startMs||null==t.endMs||this.startMs<t.endMs)},t.prototype.containsRange=function(t){return(null==this.startMs||null!=t.startMs&&t.startMs>=this.startMs)&&(null==this.endMs||null!=t.endMs&&t.endMs<=this.endMs)},t.prototype.containsDate=function(t){var e=t.valueOf();return(null==this.startMs||e>=this.startMs)&&(null==this.endMs||e<this.endMs)},t.prototype.constrainDate=function(t){var e=t.valueOf();return null!=this.startMs&&e<this.startMs&&(e=this.startMs),null!=this.endMs&&e>=this.endMs&&(e=this.endMs-1),e},t.prototype.equals=function(t){return this.startMs===t.startMs&&this.endMs===t.endMs},t.prototype.clone=function(){var e=new t(this.startMs,this.endMs);return e.isStart=this.isStart,e.isEnd=this.isEnd,e},t.prototype.getStart=function(){return null!=this.startMs?o["default"].utc(this.startMs).stripZone():null},t.prototype.getEnd=function(){return null!=this.endMs?o["default"].utc(this.endMs).stripZone():null},t.prototype.as=function(t){return r.utc(this.endMs).diff(r.utc(this.startMs),t,!0)},t}();e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(208),s=n(33),a=n(49),l=function(t){function e(n){var i=t.call(this)||this;return i.calendar=n,i.className=[],i.uid=String(e.uuid++),i}return i.__extends(e,t),e.parse=function(t,e){var n=new this(e);return!("object"!=typeof t||!n.applyProps(t))&&n},e.normalizeId=function(t){return t?String(t):null},e.prototype.fetch=function(){},e.prototype.removeEventDefsById=function(){},e.prototype.removeAllEventDefs=function(){},e.prototype.getPrimitive=function(){},e.prototype.parseEventDefs=function(t){var e,n,i=[];for(e=0;e<t.length;e++)(n=this.parseEventDef(t[e]))&&i.push(n);return i},e.prototype.parseEventDef=function(t){var e=this.calendar.opt("eventDataTransform"),n=this.eventDataTransform;return e&&(t=e(t,this.calendar)),n&&(t=n(t,this.calendar)),a["default"].parse(t,this)},e.prototype.applyManualStandardProps=function(t){return null!=t.id&&(this.id=e.normalizeId(t.id)),r.isArray(t.className)?this.className=t.className:"string"==typeof t.className&&(this.className=t.className.split(/\s+/)),!0},e.uuid=0,e.defineStandardProps=o["default"].defineStandardProps,e.copyVerbatimStandardProps=o["default"].copyVerbatimStandardProps,e}(s["default"]);e["default"]=l,o["default"].mixInto(l),l.defineStandardProps({id:!1,className:!1,color:!0,backgroundColor:!0,borderColor:!0,textColor:!0,editable:!0,startEditable:!0,durationEditable:!0,rendering:!0,overlap:!0,constraint:!0,allDayDefault:!0,eventDataTransform:!0})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(14),s=0,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.listenTo=function(t,e,n){if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&this.listenTo(t,i,e[i]);else"string"==typeof e&&t.on(e+"."+this.getListenerNamespace(),r.proxy(n,this))},e.prototype.stopListeningTo=function(t,e){t.off((e||"")+"."+this.getListenerNamespace())},e.prototype.getListenerNamespace=function(){return null==this.listenerId&&(this.listenerId=s++),"_listener"+this.listenerId},e}(o["default"]);e["default"]=a},,,function(t,e,n){function i(t,e){return d.format.call(t,e)}function r(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i,r,c,d,h=t[0],f=1===t.length&&"string"==typeof h;return o.isMoment(h)||a.isNativeDate(h)||h===undefined?d=o.apply(null,t):(i=!1,r=!1,f?l.test(h)?(t=[h+="-01"],i=!0,r=!0):(c=u.exec(h))&&(i=!c[5],r=!0):s.isArray(h)&&(r=!0),d=e||i?o.utc.apply(o,t):o.apply(null,t),i?(d._ambigTime=!0,d._ambigZone=!0):n&&(r?d._ambigZone=!0:f&&d.utcOffset(h))),d._fullCalendar=!0,d}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=n(3),a=n(4),l=/^\s*\d{4}-\d\d$/,u=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,c=o.fn;e.newMomentProto=c;var d=s.extend({},c);e.oldMomentProto=d;var h=o.momentProperties;h.push("_fullCalendar"),h.push("_ambigTime"),h.push("_ambigZone"),e.oldMomentFormat=i;var f=function(){return r(arguments)};e["default"]=f,f.utc=function(){var t=r(arguments,!0);return t.hasTime()&&t.utc(),t},f.parseZone=function(){return r(arguments,!0,!0)},c.week=c.weeks=function(t){var e=this._locale._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?d.isoWeek.apply(this,arguments):d.week.apply(this,arguments)},c.time=function(t){if(!this._fullCalendar)return d.time.apply(this,arguments);if(null==t)return o.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,o.isDuration(t)||o.isMoment(t)||(t=o.duration(t));var e=0;return o.isDuration(t)&&(e=24*Math.floor(t.asDays())),this.hours(e+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},c.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this},c.hasTime=function(){return!this._ambigTime},c.stripZone=function(){var t;return this._ambigZone||(t=this._ambigTime,this.utc(!0),this._ambigTime=t||!1,this._ambigZone=!0),this},c.hasZone=function(){return!this._ambigZone},c.local=function(t){return d.local.call(this,this._ambigZone||t),this._ambigTime=!1,this._ambigZone=!1,this},c.utc=function(t){return d.utc.call(this,t),this._ambigTime=!1,this._ambigZone=!1,this},c.utcOffset=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),d.utcOffset.apply(this,arguments)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.on=function(t,e){return r(this).on(t,this._prepareIntercept(e)),this},e.prototype.one=function(t,e){return r(this).one(t,this._prepareIntercept(e)),this},e.prototype._prepareIntercept=function(t){var e=function(e,n){return t.apply(n.context||this,n.args||[])};return t.guid||(t.guid=r.guid++),e.guid=t.guid,e},e.prototype.off=function(t,e){return r(this).off(t,e),this},e.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return r(this).triggerHandler(t,{args:e}),this},e.prototype.triggerWith=function(t,e,n){return r(this).triggerHandler(t,{context:e,args:n}),this},e.prototype.hasHandlers=function(t){var e=r._data(this,"events");return e&&e[t]&&e[t].length>0},e}(n(14)["default"]);e["default"]=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.isAllDay=!1,this.unzonedRange=t,this.isAllDay=e}return t.prototype.toLegacy=function(t){return{start:t.msToMoment(this.unzonedRange.startMs,this.isAllDay),end:t.msToMoment(this.unzonedRange.endMs,this.isAllDay)}},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(34),o=n(209),s=n(17),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.buildInstances=function(){return[this.buildInstance()]},e.prototype.buildInstance=function(){return new o["default"](this,this.dateProfile)},e.prototype.isAllDay=function(){return this.dateProfile.isAllDay()},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.dateProfile=this.dateProfile,e},e.prototype.rezone=function(){var t=this.source.calendar,e=this.dateProfile;this.dateProfile=new s["default"](t.moment(e.start),e.end?t.moment(e.end):null,t)},e.prototype.applyManualStandardProps=function(e){var n=t.prototype.applyManualStandardProps.call(this,e),i=s["default"].parse(e,this.source);return!!i&&(this.dateProfile=i,null!=e.date&&(this.miscProps.date=e.date),n)},e}(r["default"]);e["default"]=a,a.defineStandardProps({start:!1,date:!1,end:!1,allDay:!1})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.mixInto=function(t){var e=this;Object.getOwnPropertyNames(this.prototype).forEach(function(n){t.prototype[n]||(t.prototype[n]=e.prototype[n])})},t.mixOver=function(t){var e=this;Object.getOwnPropertyNames(this.prototype).forEach(function(n){t.prototype[n]=e.prototype[n]})},t}();e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.view=t._getView(),this.component=t}return t.prototype.opt=function(t){return this.view.opt(t)},t.prototype.end=function(){},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.version="3.9.0",e.internalApiVersion=12;var i=n(4);e.applyAll=i.applyAll,e.debounce=i.debounce,e.isInt=i.isInt,e.htmlEscape=i.htmlEscape,e.cssToStr=i.cssToStr,e.proxy=i.proxy,e.capitaliseFirstLetter=i.capitaliseFirstLetter,e.getOuterRect=i.getOuterRect,e.getClientRect=i.getClientRect,e.getContentRect=i.getContentRect,e.getScrollbarWidths=i.getScrollbarWidths,e.preventDefault=i.preventDefault,e.parseFieldSpecs=i.parseFieldSpecs,e.compareByFieldSpecs=i.compareByFieldSpecs,e.compareByFieldSpec=i.compareByFieldSpec,e.flexibleCompare=i.flexibleCompare,e.computeGreatestUnit=i.computeGreatestUnit,e.divideRangeByDuration=i.divideRangeByDuration,e.divideDurationByDuration=i.divideDurationByDuration,e.multiplyDuration=i.multiplyDuration,e.durationHasTime=i.durationHasTime,e.log=i.log,e.warn=i.warn,e.removeExact=i.removeExact,e.intersectRects=i.intersectRects;var r=n(47);e.formatDate=r.formatDate,e.formatRange=r.formatRange,e.queryMostGranularFormatUnit=r.queryMostGranularFormatUnit;var o=n(31);e.datepickerLocale=o.datepickerLocale,e.locale=o.locale;var s=n(10);e.moment=s["default"];var a=n(11);e.EmitterMixin=a["default"];var l=n(7);e.ListenerMixin=l["default"];var u=n(48);e.Model=u["default"];var c=n(207);e.Constraints=c["default"];var d=n(5);e.UnzonedRange=d["default"];var h=n(12);e.ComponentFootprint=h["default"];var f=n(212);e.BusinessHourGenerator=f["default"];var p=n(34);e.EventDef=p["default"];var m=n(37);e.EventDefMutation=m["default"];var g=n(38);e.EventSourceParser=g["default"];var v=n(6);e.EventSource=v["default"];var y=n(51);e.defineThemeSystem=y.defineThemeSystem;var b=n(18);e.EventInstanceGroup=b["default"];var w=n(52);e.ArrayEventSource=w["default"];var x=n(215);e.FuncEventSource=x["default"];var C=n(216);e.JsonFeedEventSource=C["default"];var S=n(36);e.EventFootprint=S["default"];var _=n(33);e.Class=_["default"];var E=n(14);e.Mixin=E["default"];var T=n(53);e.CoordCache=T["default"];var k=n(54);e.DragListener=k["default"];var D=n(20);e.Promise=D["default"];var M=n(217);e.TaskQueue=M["default"];var A=n(218);e.RenderQueue=A["default"];var P=n(39);e.Scroller=P["default"];var O=n(19);e.Theme=O["default"];var R=n(219);e.DateComponent=R["default"];var N=n(40);e.InteractiveDateComponent=N["default"];var I=n(220);e.Calendar=I["default"];var L=n(41);e.View=L["default"];var B=n(22);e.defineView=B.defineView,e.getViewConfig=B.getViewConfig;var H=n(55);e.DayTableMixin=H["default"];var z=n(56);e.BusinessHourRenderer=z["default"];var F=n(42);e.EventRenderer=F["default"];var j=n(57);e.FillRenderer=j["default"];var q=n(58);e.HelperRenderer=q["default"];var W=n(222);e.ExternalDropping=W["default"];var V=n(223);e.EventResizing=V["default"];var U=n(59);e.EventPointing=U["default"];var $=n(224);e.EventDragging=$["default"];var Y=n(225);e.DateSelecting=Y["default"];var G=n(60);e.StandardInteractionsMixin=G["default"];var X=n(226);e.AgendaView=X["default"];var K=n(227);e.TimeGrid=K["default"];var Q=n(61);e.DayGrid=Q["default"];var Z=n(62);e.BasicView=Z["default"];var J=n(229);e.MonthView=J["default"];var tt=n(230);e.ListView=tt["default"]},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=function(){function t(t,e,n){this.start=t,this.end=e||null,this.unzonedRange=this.buildUnzonedRange(n)}return t.parse=function(e,n){var i=e.start||e.date,r=e.end;if(!i)return!1;var o=n.calendar,s=o.moment(i),a=r?o.moment(r):null,l=e.allDay,u=o.opt("forceEventDuration");return!!s.isValid()&&(!a||a.isValid()&&a.isAfter(s)||(a=null),null==l&&null==(l=n.allDayDefault)&&(l=o.opt("allDayDefault")),!0===l?(s.stripTime(),a&&a.stripTime()):!1===l&&(s.hasTime()||s.time(0),a&&!a.hasTime()&&a.time(0)),!a&&u&&(a=o.getDefaultEventEnd(!s.hasTime(),s)),new t(s,a,o))},t.isStandardProp=function(t){return"start"===t||"date"===t||"end"===t||"allDay"===t},t.prototype.isAllDay=function(){return!(this.start.hasTime()||this.end&&this.end.hasTime())},t.prototype.buildUnzonedRange=function(t){var e=this.start.clone().stripZone().valueOf(),n=this.getEnd(t).stripZone().valueOf();return new i["default"](e,n)},t.prototype.getEnd=function(t){return this.end?this.end.clone():t.getDefaultEventEnd(this.isAllDay(),this.start)},t}();e["default"]=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=n(35),o=n(211),s=function(){function t(t){this.eventInstances=t||[]}return t.prototype.getAllEventRanges=function(t){return t?this.sliceNormalRenderRanges(t):this.eventInstances.map(r.eventInstanceToEventRange)},t.prototype.sliceRenderRanges=function(t){return this.isInverse()?this.sliceInverseRenderRanges(t):this.sliceNormalRenderRanges(t)},t.prototype.sliceNormalRenderRanges=function(t){var e,n,i,r=this.eventInstances,s=[];for(e=0;e<r.length;e++)(i=(n=r[e]).dateProfile.unzonedRange.intersect(t))&&s.push(new o["default"](i,n.def,n));return s},t.prototype.sliceInverseRenderRanges=function(t){var e=this.eventInstances.map(r.eventInstanceToUnzonedRange),n=this.getEventDef();return(e=i["default"].invertRanges(e,t)).map(function(t){return new o["default"](t,n)})},t.prototype.isInverse=function(){return this.getEventDef().hasInverseRendering()},t.prototype.getEventDef=function(){return this.explicitEventDef||this.eventInstances[0].def},t}();e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=function(){function t(t){this.optionsManager=t,this.processIconOverride()}return t.prototype.processIconOverride=function(){this.iconOverrideOption&&this.setIconOverride(this.optionsManager.get(this.iconOverrideOption))},t.prototype.setIconOverride=function(t){var e,n;if(i.isPlainObject(t)){for(n in e=i.extend({},this.iconClasses),t)e[n]=this.applyIconOverridePrefix(t[n]);this.iconClasses=e}else!1===t&&(this.iconClasses={})},t.prototype.applyIconOverridePrefix=function(t){var e=this.iconOverridePrefix;return e&&0!==t.indexOf(e)&&(t=e+t),t},t.prototype.getClass=function(t){return this.classes[t]||""},t.prototype.getIconClass=function(t){var e=this.iconClasses[t];return e?this.baseIconClass+" "+e:""},t.prototype.getCustomButtonIconClass=function(t){var e;return this.iconOverrideCustomButtonOption&&(e=t[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(e):""},t}();e["default"]=r,r.prototype.classes={},r.prototype.iconClasses={},r.prototype.baseIconClass="",r.prototype.iconOverridePrefix=""},function(t,e,n){function i(t,e){t.then=function(n){return"function"==typeof n?s.resolve(n(e)):t}}function r(t){t.then=function(e,n){return"function"==typeof n&&n(),t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s={construct:function(t){var e=o.Deferred(),n=e.promise();return"function"==typeof t&&t(function(t){e.resolve(t),i(n,t)},function(){e.reject(),r(n)}),n},resolve:function(t){var e=o.Deferred().resolve(t).promise();return i(e,t),e},reject:function(){var t=o.Deferred().reject().promise();return r(t),t}};e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(16),o=n(11),s=n(7);r.touchMouseIgnoreWait=500;var a=null,l=0,u=function(){function t(){this.isTouching=!1,this.mouseIgnoreDepth=0}return t.get=function(){return a||(a=new t).bind(),a},t.needed=function(){t.get(),l++},t.unneeded=function(){--l||(a.unbind(),a=null)},t.prototype.bind=function(){var t=this;this.listenTo(i(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu}),window.addEventListener("touchmove",this.handleTouchMoveProxy=function(e){t.handleTouchMove(i.Event(e))},{passive:!1}),window.addEventListener("scroll",this.handleScrollProxy=function(e){t.handleScroll(i.Event(e))},!0)},t.prototype.unbind=function(){this.stopListeningTo(i(document)),window.removeEventListener("touchmove",this.handleTouchMoveProxy),window.removeEventListener("scroll",this.handleScrollProxy,!0)},t.prototype.handleTouchStart=function(t){this.stopTouch(t,!0),this.isTouching=!0,this.trigger("touchstart",t)},t.prototype.handleTouchMove=function(t){this.isTouching&&this.trigger("touchmove",t)},t.prototype.handleTouchCancel=function(t){this.isTouching&&(this.trigger("touchcancel",t),this.stopTouch(t))},t.prototype.handleTouchEnd=function(t){this.stopTouch(t)},t.prototype.handleMouseDown=function(t){this.shouldIgnoreMouse()||this.trigger("mousedown",t)},t.prototype.handleMouseMove=function(t){this.shouldIgnoreMouse()||this.trigger("mousemove",t)},t.prototype.handleMouseUp=function(t){this.shouldIgnoreMouse()||this.trigger("mouseup",t)},t.prototype.handleClick=function(t){this.shouldIgnoreMouse()||this.trigger("click",t)},t.prototype.handleSelectStart=function(t){this.trigger("selectstart",t)},t.prototype.handleContextMenu=function(t){this.trigger("contextmenu",t)},t.prototype.handleScroll=function(t){this.trigger("scroll",t)},t.prototype.stopTouch=function(t,e){void 0===e&&(e=!1),this.isTouching&&(this.isTouching=!1,this.trigger("touchend",t),e||this.startTouchMouseIgnore())},t.prototype.startTouchMouseIgnore=function(){var t=this,e=r.touchMouseIgnoreWait;e&&(this.mouseIgnoreDepth++,setTimeout(function(){t.mouseIgnoreDepth--},e))},t.prototype.shouldIgnoreMouse=function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)},t}();e["default"]=u,s["default"].mixInto(u),o["default"].mixInto(u)},function(t,e,n){function i(t,n){e.viewHash[t]=n}function r(t){return e.viewHash[t]}Object.defineProperty(e,"__esModule",{value:!0});var o=n(16);e.viewHash={},o.views=e.viewHash,e.defineView=i,e.getViewConfig=r},function(t,e,n){function i(t,e){return!t&&!e||!(!t||!e)&&(t.component===e.component&&r(t,e)&&r(e,t))}function r(t,e){for(var n in t)if(!/^(component|left|right|top|bottom)$/.test(n)&&t[n]!==e[n])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(4),a=function(t){function e(e,n){var i=t.call(this,n)||this;return i.component=e,i}return o.__extends(e,t),e.prototype.handleInteractionStart=function(e){var n,i,r,o=this.subjectEl;this.component.hitsNeeded(),this.computeScrollBounds(),e?(r=i={left:s.getEvX(e),top:s.getEvY(e)},o&&(n=s.getOuterRect(o),r=s.constrainPoint(r,n)),this.origHit=this.queryHit(r.left,r.top),o&&this.options.subjectCenter&&(this.origHit&&(n=s.intersectRects(this.origHit,n)||n),r=s.getRectCenter(n)),this.coordAdjust=s.diffPoints(r,i)):(this.origHit=null,this.coordAdjust=null),t.prototype.handleInteractionStart.call(this,e)},e.prototype.handleDragStart=function(e){var n;t.prototype.handleDragStart.call(this,e),(n=this.queryHit(s.getEvX(e),s.getEvY(e)))&&this.handleHitOver(n)},e.prototype.handleDrag=function(e,n,r){var o;t.prototype.handleDrag.call(this,e,n,r),i(o=this.queryHit(s.getEvX(r),s.getEvY(r)),this.hit)||(this.hit&&this.handleHitOut(),o&&this.handleHitOver(o))},e.prototype.handleDragEnd=function(e){this.handleHitDone(),t.prototype.handleDragEnd.call(this,e)},e.prototype.handleHitOver=function(t){var e=i(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},e.prototype.handleHitOut=function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},e.prototype.handleHitDone=function(){this.hit&&this.trigger("hitDone",this.hit)},e.prototype.handleInteractionEnd=function(e,n){t.prototype.handleInteractionEnd.call(this,e,n),this.origHit=null,this.hit=null,this.component.hitsNotNeeded()},e.prototype.handleScrollEnd=function(){t.prototype.handleScrollEnd.call(this),this.isDragging&&(this.component.releaseHits(),this.component.prepareHits())},e.prototype.queryHit=function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)},e}(n(54)["default"]);e["default"]=a},,,,,,,,function(t,e,n){function i(t){a.each(p,function(e,n){null==t[e]&&(t[e]=n(t))})}function r(t,n,i){var r=e.localeOptionHash[t]||(e.localeOptionHash[t]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,a.each(h,function(t,e){r[t]=e(i)});var o=a.datepicker;o&&(o.regional[n]=o.regional[t]=i,o.regional.en=o.regional[""],o.setDefaults(i))}function o(t,n){var i,r;i=e.localeOptionHash[t]||(e.localeOptionHash[t]={}),n&&(i=e.localeOptionHash[t]=c.mergeOptions([i,n])),r=s(t),a.each(f,function(t,e){null==i[t]&&(i[t]=e(r,i))}),c.globalDefaults.locale=t}function s(t){return l.localeData(t)||l.localeData("en")}Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),l=n(0),u=n(16),c=n(32),d=n(4);e.localeOptionHash={},u.locales=e.localeOptionHash;var h={buttonText:function(t){return{prev:d.stripHtmlEntities(t.prevText),next:d.stripHtmlEntities(t.nextText),today:d.stripHtmlEntities(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},f={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},p={
smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};e.populateInstanceComputableOptions=i,e.datepickerLocale=r,e.locale=o,e.getMomentLocaleData=s,o("en",c.englishDefaults)},function(t,e,n){function i(t){return r.mergeProps(t,o)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);e.globalDefaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",columnHeader:!0,defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,locale:null,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},allDayText:"all-day",agendaEventMinHeight:0,theme:!1,dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},e.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},e.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var o=["header","footer","buttonText","buttonIcons","themeButtonIcons"];e.mergeOptions=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=function(){function t(){}return t.extend=function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(this);return r.copyOwnProps(t,e.prototype),e},t.mixin=function(t){r.copyOwnProps(t,this.prototype)},t}();e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(208),o=function(){function t(t){this.source=t,this.className=[],this.miscProps={}}return t.parse=function(t,e){var n=new this(e);return!!n.applyProps(t)&&n},t.normalizeId=function(t){return String(t)},t.generateId=function(){return"_fc"+t.uuid++},t.prototype.clone=function(){var e=new this.constructor(this.source);return e.id=this.id,e.rawId=this.rawId,e.uid=this.uid,t.copyVerbatimStandardProps(this,e),e.className=this.className.slice(),e.miscProps=i.extend({},this.miscProps),e},t.prototype.hasInverseRendering=function(){return"inverse-background"===this.getRendering()},t.prototype.hasBgRendering=function(){var t=this.getRendering();return"inverse-background"===t||"background"===t},t.prototype.getRendering=function(){return null!=this.rendering?this.rendering:this.source.rendering},t.prototype.getConstraint=function(){return null!=this.constraint?this.constraint:null!=this.source.constraint?this.source.constraint:this.source.calendar.opt("eventConstraint")},t.prototype.getOverlap=function(){return null!=this.overlap?this.overlap:null!=this.source.overlap?this.source.overlap:this.source.calendar.opt("eventOverlap")},t.prototype.isStartExplicitlyEditable=function(){return null!=this.startEditable?this.startEditable:this.source.startEditable},t.prototype.isDurationExplicitlyEditable=function(){return null!=this.durationEditable?this.durationEditable:this.source.durationEditable},t.prototype.isExplicitlyEditable=function(){return null!=this.editable?this.editable:this.source.editable},t.prototype.toLegacy=function(){var e=i.extend({},this.miscProps);return e._id=this.uid,e.source=this.source,e.className=this.className.slice(),e.allDay=this.isAllDay(),null!=this.rawId&&(e.id=this.rawId),t.copyVerbatimStandardProps(this,e),e},t.prototype.applyManualStandardProps=function(e){return null!=e.id?this.id=t.normalizeId(this.rawId=e.id):this.id=t.generateId(),null!=e._id?this.uid=String(e._id):this.uid=t.generateId(),i.isArray(e.className)&&(this.className=e.className),"string"==typeof e.className&&(this.className=e.className.split(/\s+/)),!0},t.prototype.applyMiscProps=function(t){i.extend(this.miscProps,t)},t.uuid=0,t.defineStandardProps=r["default"].defineStandardProps,t.copyVerbatimStandardProps=r["default"].copyVerbatimStandardProps,t}();e["default"]=o,r["default"].mixInto(o),o.defineStandardProps({_id:!1,id:!1,className:!1,source:!1,title:!0,url:!0,rendering:!0,constraint:!0,overlap:!0,editable:!0,startEditable:!0,durationEditable:!0,color:!0,backgroundColor:!0,borderColor:!0,textColor:!0})},function(t,e,n){function i(t,e){var n,i=[];for(n=0;n<t.length;n++)i.push.apply(i,t[n].buildInstances(e));return i}function r(t){return new l["default"](t.dateProfile.unzonedRange,t.def,t)}function o(t){return new u["default"](new c["default"](t.unzonedRange,t.eventDef.isAllDay()),t.eventDef,t.eventInstance)}function s(t){return t.dateProfile.unzonedRange}function a(t){return t.componentFootprint}Object.defineProperty(e,"__esModule",{value:!0});var l=n(211),u=n(36),c=n(12);e.eventDefsToEventInstances=i,e.eventInstanceToEventRange=r,e.eventRangeToEventFootprint=o,e.eventInstanceToUnzonedRange=s,e.eventFootprintToComponentFootprint=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.componentFootprint=t,this.eventDef=e,n&&(this.eventInstance=n)}return t.prototype.getEventLegacy=function(){return(this.eventInstance||this.eventDef).toLegacy()},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(17),o=n(34),s=n(50),a=n(13),l=function(){function t(){}return t.createFromRawProps=function(e,n,a){var l,u,c,d,h=e.def,f={},p={},m={},g={},v=null,y=null;for(l in n)r["default"].isStandardProp(l)?f[l]=n[l]:h.isStandardProp(l)?p[l]=n[l]:h.miscProps[l]!==n[l]&&(m[l]=n[l]);return(u=r["default"].parse(f,h.source))&&(c=s["default"].createFromDiff(e.dateProfile,u,a)),p.id!==h.id&&(v=p.id),i.isArraysEqual(p.className,h.className)||(y=p.className),o["default"].copyVerbatimStandardProps(p,g),(d=new t).eventDefId=v,d.className=y,d.verbatimStandardProps=g,d.miscProps=m,c&&(d.dateMutation=c),d},t.prototype.mutateSingle=function(t){var e;return this.dateMutation&&(e=t.dateProfile,t.dateProfile=this.dateMutation.buildNewDateProfile(e,t.source.calendar)),null!=this.eventDefId&&(t.id=o["default"].normalizeId(t.rawId=this.eventDefId)),this.className&&(t.className=this.className),this.verbatimStandardProps&&a["default"].copyVerbatimStandardProps(this.verbatimStandardProps,t),this.miscProps&&t.applyMiscProps(this.miscProps),e?function(){t.dateProfile=e}:function(){}},t.prototype.setDateMutation=function(t){t&&!t.isEmpty()?this.dateMutation=t:this.dateMutation=null},t.prototype.isEmpty=function(){return!this.dateMutation},t}();e["default"]=l},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={sourceClasses:[],registerClass:function(t){this.sourceClasses.unshift(t)},parse:function(t,e){var n,i,r=this.sourceClasses;for(n=0;n<r.length;n++)if(i=r[n].parse(t,e))return i}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=function(t){function e(e){var n=t.call(this)||this;return e=e||{},n.overflowX=e.overflowX||e.overflow||"auto",n.overflowY=e.overflowY||e.overflow||"auto",n}return i.__extends(e,t),e.prototype.render=function(){this.el=this.renderEl(),this.applyOverflow()},e.prototype.renderEl=function(){return this.scrollEl=r('<div class="fc-scroller"></div>')},e.prototype.clear=function(){this.setHeight("auto"),this.applyOverflow()},e.prototype.destroy=function(){this.el.remove()},e.prototype.applyOverflow=function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},e.prototype.lockOverflow=function(t){var e=this.overflowX,n=this.overflowY;t=t||this.getScrollbarWidths(),"auto"===e&&(e=t.top||t.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=t.left||t.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":e,"overflow-y":n})},e.prototype.setHeight=function(t){this.scrollEl.height(t)},e.prototype.getScrollTop=function(){return this.scrollEl.scrollTop()},e.prototype.setScrollTop=function(t){this.scrollEl.scrollTop(t)},e.prototype.getClientWidth=function(){return this.scrollEl[0].clientWidth},e.prototype.getClientHeight=function(){return this.scrollEl[0].clientHeight},e.prototype.getScrollbarWidths=function(){return o.getScrollbarWidths(this.scrollEl)},e}(n(33)["default"]);e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(219),a=n(21),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.segSelector=".fc-event-container > *",i.dateSelectingClass&&(i.dateClicking=new i.dateClickingClass(i)),i.dateSelectingClass&&(i.dateSelecting=new i.dateSelectingClass(i)),i.eventPointingClass&&(i.eventPointing=new i.eventPointingClass(i)),i.eventDraggingClass&&i.eventPointing&&(i.eventDragging=new i.eventDraggingClass(i,i.eventPointing)),i.eventResizingClass&&i.eventPointing&&(i.eventResizing=new i.eventResizingClass(i,i.eventPointing)),i.externalDroppingClass&&(i.externalDropping=new i.externalDroppingClass(i)),i}return i.__extends(e,t),e.prototype.setElement=function(e){t.prototype.setElement.call(this,e),this.dateClicking&&this.dateClicking.bindToEl(e),this.dateSelecting&&this.dateSelecting.bindToEl(e),this.bindAllSegHandlersToEl(e)},e.prototype.removeElement=function(){this.endInteractions(),t.prototype.removeElement.call(this)},e.prototype.executeEventUnrender=function(){this.endInteractions(),t.prototype.executeEventUnrender.call(this)},e.prototype.bindGlobalHandlers=function(){t.prototype.bindGlobalHandlers.call(this),this.externalDropping&&this.externalDropping.bindToDocument()},e.prototype.unbindGlobalHandlers=function(){t.prototype.unbindGlobalHandlers.call(this),this.externalDropping&&this.externalDropping.unbindFromDocument()},e.prototype.bindDateHandlerToEl=function(t,e,n){var i=this;this.el.on(e,function(t){if(!r(t.target).is(i.segSelector+":not(.fc-helper),"+i.segSelector+":not(.fc-helper) *,.fc-more,a[data-goto]"))return n.call(i,t)})},e.prototype.bindAllSegHandlersToEl=function(t){[this.eventPointing,this.eventDragging,this.eventResizing].forEach(function(e){e&&e.bindToEl(t)})},e.prototype.bindSegHandlerToEl=function(t,e,n){var i=this;t.on(e,this.segSelector,function(t){var e=r(t.currentTarget);if(!e.is(".fc-helper")){var o=e.data("fc-seg");if(o&&!i.shouldIgnoreEventPointing())return n.call(i,o,t)}})},e.prototype.shouldIgnoreMouse=function(){return a["default"].get().shouldIgnoreMouse()},e.prototype.shouldIgnoreTouch=function(){var t=this._getView();return t.isSelected||t.selectedEvent},e.prototype.shouldIgnoreEventPointing=function(){return this.eventDragging&&this.eventDragging.isDragging||this.eventResizing&&this.eventResizing.isResizing},e.prototype.canStartSelection=function(t,e){return o.getEvIsTouch(e)&&!this.canStartResize(t,e)&&(this.isEventDefDraggable(t.footprint.eventDef)||this.isEventDefResizable(t.footprint.eventDef))},e.prototype.canStartDrag=function(t,e){return!this.canStartResize(t,e)&&this.isEventDefDraggable(t.footprint.eventDef)},e.prototype.canStartResize=function(t,e){var n=this._getView(),i=t.footprint.eventDef;return(!o.getEvIsTouch(e)||n.isEventDefSelected(i))&&this.isEventDefResizable(i)&&r(e.target).is(".fc-resizer")},e.prototype.endInteractions=function(){[this.dateClicking,this.dateSelecting,this.eventPointing,this.eventDragging,this.eventResizing].forEach(function(t){t&&t.end()})},e.prototype.isEventDefDraggable=function(t){return this.isEventDefStartEditable(t)},e.prototype.isEventDefStartEditable=function(t){var e=t.isStartExplicitlyEditable();return null==e&&null==(e=this.opt("eventStartEditable"))&&(e=this.isEventDefGenerallyEditable(t)),e},e.prototype.isEventDefGenerallyEditable=function(t){var e=t.isExplicitlyEditable();return null==e&&(e=this.opt("editable")),e},e.prototype.isEventDefResizableFromStart=function(t){return this.opt("eventResizableFromStart")&&this.isEventDefResizable(t)},e.prototype.isEventDefResizableFromEnd=function(t){return this.isEventDefResizable(t)},e.prototype.isEventDefResizable=function(t){var e=t.isDurationExplicitlyEditable();return null==e&&null==(e=this.opt("eventDurationEditable"))&&(e=this.isEventDefGenerallyEditable(t)),e},e.prototype.diffDates=function(t,e){return this.largeUnit?o.diffByUnit(t,e,this.largeUnit):o.diffDayTime(t,e)},e.prototype.isEventInstanceGroupAllowed=function(t){var e,n=this._getView(),i=this.dateProfile,r=this.eventRangesToEventFootprints(t.getAllEventRanges());for(e=0;e<r.length;e++)if(!i.validUnzonedRange.containsRange(r[e].componentFootprint.unzonedRange))return!1;return n.calendar.constraints.isEventInstanceGroupAllowed(t)},e.prototype.isExternalInstanceGroupAllowed=function(t){var e,n=this._getView(),i=this.dateProfile,r=this.eventRangesToEventFootprints(t.getAllEventRanges());for(e=0;e<r.length;e++)if(!i.validUnzonedRange.containsRange(r[e].componentFootprint.unzonedRange))return!1;for(e=0;e<r.length;e++)if(!n.calendar.constraints.isSelectionFootprintAllowed(r[e].componentFootprint))return!1;return!0},e}(s["default"]);e["default"]=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(0),s=n(4),a=n(218),l=n(221),u=n(40),c=n(21),d=n(5),h=function(t){function e(e,n){var i=t.call(this,null,n.options)||this;return i.batchRenderDepth=0,i.isSelected=!1,i.calendar=e,i.viewSpec=n,i.type=n.type,i.name=i.type,i.initRenderQueue(),i.initHiddenDays(),i.dateProfileGenerator=new i.dateProfileGeneratorClass(i),i.bindBaseRenderHandlers(),i.eventOrderSpecs=s.parseFieldSpecs(i.opt("eventOrder")),i.initialize&&i.initialize(),i}return i.__extends(e,t),e.prototype._getView=function(){return this},e.prototype.opt=function(t){return this.options[t]},e.prototype.initRenderQueue=function(){this.renderQueue=new a["default"]({event:this.opt("eventRenderWait")}),this.renderQueue.on("start",this.onRenderQueueStart.bind(this)),this.renderQueue.on("stop",this.onRenderQueueStop.bind(this)),this.on("before:change",this.startBatchRender),this.on("change",this.stopBatchRender)},e.prototype.onRenderQueueStart=function(){this.calendar.freezeContentHeight(),this.addScroll(this.queryScroll())},e.prototype.onRenderQueueStop=function(){this.calendar.updateViewSize()&&this.popScroll(),this.calendar.thawContentHeight()},e.prototype.startBatchRender=function(){this.batchRenderDepth++||this.renderQueue.pause()},e.prototype.stopBatchRender=function(){--this.batchRenderDepth||this.renderQueue.resume()},e.prototype.requestRender=function(t,e,n){this.renderQueue.queue(t,e,n)},e.prototype.whenSizeUpdated=function(t){this.renderQueue.isRunning?this.renderQueue.one("stop",t.bind(this)):t.call(this)},e.prototype.computeTitle=function(t){var e;return e=/^(year|month)$/.test(t.currentRangeUnit)?t.currentUnzonedRange:t.activeUnzonedRange,this.formatRange({start:this.calendar.msToMoment(e.startMs,t.isRangeAllDay),end:this.calendar.msToMoment(e.endMs,t.isRangeAllDay)},t.isRangeAllDay,this.opt("titleFormat")||this.computeTitleFormat(t),this.opt("titleRangeSeparator"))},e.prototype.computeTitleFormat=function(t){var e=t.currentRangeUnit;return"year"===e?"YYYY":"month"===e?this.opt("monthYearFormat"):t.currentUnzonedRange.as("days")>1?"ll":"LL"},e.prototype.setDate=function(t){var e=this.get("dateProfile"),n=this.dateProfileGenerator.build(t,undefined,!0);e&&e.activeUnzonedRange.equals(n.activeUnzonedRange)||this.set("dateProfile",n)},e.prototype.unsetDate=function(){this.unset("dateProfile")},e.prototype.fetchInitialEvents=function(t){var e=this.calendar,n=t.isRangeAllDay&&!this.usesMinMaxTime;return e.requestEvents(e.msToMoment(t.activeUnzonedRange.startMs,n),e.msToMoment(t.activeUnzonedRange.endMs,n))},e.prototype.bindEventChanges=function(){this.listenTo(this.calendar,"eventsReset",this.resetEvents)},e.prototype.unbindEventChanges=function(){this.stopListeningTo(this.calendar,"eventsReset")},e.prototype.setEvents=function(t){this.set("currentEvents",t),this.set("hasEvents",!0)},e.prototype.unsetEvents=function(){this.unset("currentEvents"),this.unset("hasEvents")},e.prototype.resetEvents=function(t){this.startBatchRender(),this.unsetEvents(),this.setEvents(t),this.stopBatchRender()},e.prototype.requestDateRender=function(t){var e=this;this.requestRender(function(){e.executeDateRender(t)},"date","init")},e.prototype.requestDateUnrender=function(){var t=this;this.requestRender(function(){t.executeDateUnrender()},"date","destroy")},e.prototype.executeDateRender=function(e){t.prototype.executeDateRender.call(this,e),this.render&&this.render(),this.trigger("datesRendered"),this.addScroll({isDateInit:!0}),this.startNowIndicator()},e.prototype.executeDateUnrender=function(){this.unselect(),this.stopNowIndicator(),this.trigger("before:datesUnrendered"),this.destroy&&this.destroy(),t.prototype.executeDateUnrender.call(this)},e.prototype.bindBaseRenderHandlers=function(){var t=this;this.on("datesRendered",function(){t.whenSizeUpdated(t.triggerViewRender)}),this.on("before:datesUnrendered",function(){t.triggerViewDestroy()})},e.prototype.triggerViewRender=function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},e.prototype.triggerViewDestroy=function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},e.prototype.requestEventsRender=function(t){var e=this;this.requestRender(function(){e.executeEventRender(t),e.whenSizeUpdated(e.triggerAfterEventsRendered)},"event","init")},e.prototype.requestEventsUnrender=function(){var t=this;this.requestRender(function(){t.triggerBeforeEventsDestroyed(),t.executeEventUnrender()},"event","destroy")},e.prototype.requestBusinessHoursRender=function(t){var e=this;this.requestRender(function(){e.renderBusinessHours(t)},"businessHours","init")},e.prototype.requestBusinessHoursUnrender=function(){var t=this;this.requestRender(function(){t.unrenderBusinessHours()},"businessHours","destroy")},e.prototype.bindGlobalHandlers=function(){t.prototype.bindGlobalHandlers.call(this),this.listenTo(c["default"].get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},e.prototype.unbindGlobalHandlers=function(){t.prototype.unbindGlobalHandlers.call(this),this.stopListeningTo(c["default"].get())},e.prototype.startNowIndicator=function(){var t,e,n,i=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit())&&(e=s.proxy(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=(new Date).valueOf(),n=this.initialNowDate.clone().startOf(t).add(1,t).valueOf()-this.initialNowDate.valueOf(),this.nowIndicatorTimeoutID=setTimeout(function(){i.nowIndicatorTimeoutID=null,e(),n=+o.duration(1,t),n=Math.max(100,n),i.nowIndicatorIntervalID=setInterval(e,n)},n))},e.prototype.updateNowIndicator=function(){this.isDatesRendered&&this.initialNowDate&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add((new Date).valueOf()-this.initialNowQueriedMs)),this.isNowIndicatorRendered=!0)},e.prototype.stopNowIndicator=function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearInterval(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},e.prototype.updateSize=function(e,n,i){this.setHeight?this.setHeight(e,n):t.prototype.updateSize.call(this,e,n,i),this.updateNowIndicator()},e.prototype.addScroll=function(t){var e=this.queuedScroll||(this.queuedScroll={});r.extend(e,t)},e.prototype.popScroll=function(){this.applyQueuedScroll(),this.queuedScroll=null},e.prototype.applyQueuedScroll=function(){this.queuedScroll&&this.applyScroll(this.queuedScroll)},e.prototype.queryScroll=function(){var t={};return this.isDatesRendered&&r.extend(t,this.queryDateScroll()),t},e.prototype.applyScroll=function(t){t.isDateInit&&this.isDatesRendered&&r.extend(t,this.computeInitialDateScroll()),this.isDatesRendered&&this.applyDateScroll(t)},e.prototype.computeInitialDateScroll=function(){return{}},e.prototype.queryDateScroll=function(){return{}},e.prototype.applyDateScroll=function(){},e.prototype.reportEventDrop=function(t,e,n,i){var r=this.calendar.eventManager.mutateEventsWithId(t.def.id,e),s=e.dateMutation;s&&(t.dateProfile=s.buildNewDateProfile(t.dateProfile,this.calendar)),this.triggerEventDrop(t,s&&s.dateDelta||o.duration(),r,n,i)},e.prototype.triggerEventDrop=function(t,e,n,i,r){this.publiclyTrigger("eventDrop",{context:i[0],args:[t.toLegacy(),e,n,r,{},this]})},e.prototype.reportExternalDrop=function(t,e,n,i,r,o){e&&this.calendar.eventManager.addEventDef(t,n),this.triggerExternalDrop(t,e,i,r,o)},e.prototype.triggerExternalDrop=function(t,e,n,i,r){this.publiclyTrigger("drop",{context:n[0],args:[t.dateProfile.start.clone(),i,r,this]}),e&&this.publiclyTrigger("eventReceive",{context:this,args:[t.buildInstance().toLegacy(),this]})},e.prototype.reportEventResize=function(t,e,n,i){var r=this.calendar.eventManager.mutateEventsWithId(t.def.id,e);t.dateProfile=e.dateMutation.buildNewDateProfile(t.dateProfile,this.calendar),this.triggerEventResize(t,e.dateMutation.endDelta,r,n,i)},e.prototype.triggerEventResize=function(t,e,n,i,r){this.publiclyTrigger("eventResize",{context:i[0],args:[t.toLegacy(),e,n,r,{},this]})},e.prototype.select=function(t,e){this.unselect(e),this.renderSelectionFootprint(t),this.reportSelection(t,e)},e.prototype.renderSelectionFootprint=function(e){this.renderSelection?this.renderSelection(e.toLegacy(this.calendar)):t.prototype.renderSelectionFootprint.call(this,e)},e.prototype.reportSelection=function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},e.prototype.triggerSelect=function(t,e){var n=this.calendar.footprintToDateProfile(t);this.publiclyTrigger("select",{context:this,args:[n.start,n.end,e,this]})},e.prototype.unselect=function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.publiclyTrigger("unselect",{context:this,args:[t,this]}))},e.prototype.selectEventInstance=function(t){this.selectedEventInstance&&this.selectedEventInstance===t||(this.unselectEventInstance(),this.getEventSegs().forEach(function(e){e.footprint.eventInstance===t&&e.el&&e.el.addClass("fc-selected")}),this.selectedEventInstance=t)},e.prototype.unselectEventInstance=function(){this.selectedEventInstance&&(this.getEventSegs().forEach(function(t){t.el&&t.el.removeClass("fc-selected")}),this.selectedEventInstance=null)},e.prototype.isEventDefSelected=function(t){return this.selectedEventInstance&&this.selectedEventInstance.def.id===t.id},e.prototype.handleDocumentMousedown=function(t){s.isPrimaryMouseButton(t)&&this.processUnselect(t)},e.prototype.processUnselect=function(t){this.processRangeUnselect(t),this.processEventUnselect(t)},e.prototype.processRangeUnselect=function(t){var e;this.isSelected&&this.opt("unselectAuto")&&((e=this.opt("unselectCancel"))&&r(t.target).closest(e).length||this.unselect(t))},e.prototype.processEventUnselect=function(t){this.selectedEventInstance&&(r(t.target).closest(".fc-selected").length||this.unselectEventInstance())},e.prototype.triggerBaseRendered=function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},e.prototype.triggerBaseUnrendered=function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},e.prototype.triggerDayClick=function(t,e,n){var i=this.calendar.footprintToDateProfile(t);this.publiclyTrigger("dayClick",{context:e,args:[i.start,n,this]})},e.prototype.isDateInOtherMonth=function(){return!1},e.prototype.getUnzonedRangeOption=function(t){var e=this.opt(t);if("function"==typeof e&&(e=e.apply(null,Array.prototype.slice.call(arguments,1))),e)return this.calendar.parseUnzonedRange(e)},e.prototype.initHiddenDays=function(){var t,e=this.opt("hiddenDays")||[],n=[],i=0;for(!1===this.opt("weekends")&&e.push(0,6),t=0;t<7;t++)(n[t]=-1!==r.inArray(t,e))||i++;if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},e.prototype.trimHiddenDays=function(t){var e=t.getStart(),n=t.getEnd();return e&&(e=this.skipHiddenDays(e)),n&&(n=this.skipHiddenDays(n,-1,!0)),null===e||null===n||e<n?new d["default"](e,n):null},e.prototype.isHiddenDay=function(t){return o.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},e.prototype.skipHiddenDays=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var i=t.clone();this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},e}(u["default"]);e["default"]=h,h.prototype.usesMinMaxTime=!1,h.prototype.dateProfileGeneratorClass=l["default"],h.watch("displayingDates",["isInDom","dateProfile"],function(t){this.requestDateRender(t.dateProfile)},function(){this.requestDateUnrender()}),h.watch("displayingBusinessHours",["displayingDates","businessHourGenerator"],function(t){this.requestBusinessHoursRender(t.businessHourGenerator)},function(){this.requestBusinessHoursUnrender()}),h.watch("initialEvents",["dateProfile"],function(t){return this.fetchInitialEvents(t.dateProfile)}),h.watch("bindingEvents",["initialEvents"],function(t){this.setEvents(t.initialEvents),this.bindEventChanges()},function(){this.unbindEventChanges(),this.unsetEvents()}),h.watch("displayingEvents",["displayingDates","hasEvents"],function(){this.requestEventsRender(this.get("currentEvents"))},function(){this.requestEventsUnrender()}),h.watch("title",["dateProfile"],function(t){return this.title=this.computeTitle(t.dateProfile)}),h.watch("legacyDateProps",["dateProfile"],function(t){var e=this.calendar,n=t.dateProfile;this.start=e.msToMoment(n.activeUnzonedRange.startMs,n.isRangeAllDay),this.end=e.msToMoment(n.activeUnzonedRange.endMs,n.isRangeAllDay),this.intervalStart=e.msToMoment(n.currentUnzonedRange.startMs,n.isRangeAllDay),this.intervalEnd=e.msToMoment(n.currentUnzonedRange.endMs,n.isRangeAllDay)})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=function(){function t(t,e){this.view=t._getView(),this.component=t,this.fillRenderer=e}return t.prototype.opt=function(t){return this.view.opt(t)},t.prototype.rangeUpdated=function(){var t,e;this.eventTimeFormat=this.opt("eventTimeFormat")||this.opt("timeFormat")||this.computeEventTimeFormat(),null==(t=this.opt("displayEventTime"))&&(t=this.computeDisplayEventTime()),null==(e=this.opt("displayEventEnd"))&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},t.prototype.render=function(t){var e,n,i,r=this.component._getDateProfile(),o=[],s=[];for(e in t)i=(n=t[e]).sliceRenderRanges(r.activeUnzonedRange),n.getEventDef().hasBgRendering()?o.push.apply(o,i):s.push.apply(s,i);this.renderBgRanges(o),this.renderFgRanges(s)},t.prototype.unrender=function(){this.unrenderBgRanges(),this.unrenderFgRanges()},t.prototype.renderFgRanges=function(t){var e=this.component.eventRangesToEventFootprints(t),n=this.component.eventFootprintsToSegs(e);n=this.renderFgSegEls(n),!1!==this.renderFgSegs(n)&&(this.fgSegs=n)},t.prototype.unrenderFgRanges=function(){this.unrenderFgSegs(this.fgSegs||[]),this.fgSegs=null},t.prototype.renderBgRanges=function(t){var e=this.component.eventRangesToEventFootprints(t),n=this.component.eventFootprintsToSegs(e);!1!==this.renderBgSegs(n)&&(this.bgSegs=n)},t.prototype.unrenderBgRanges=function(){this.unrenderBgSegs(),this.bgSegs=null},t.prototype.getSegs=function(){return(this.bgSegs||[]).concat(this.fgSegs||[])},t.prototype.renderFgSegs=function(){return!1},t.prototype.unrenderFgSegs=function(){},t.prototype.renderBgSegs=function(t){var e=this;if(!this.fillRenderer)return!1;this.fillRenderer.renderSegs("bgEvent",t,{getClasses:function(t){return e.getBgClasses(t.footprint.eventDef)},getCss:function(t){return{"background-color":e.getBgColor(t.footprint.eventDef)}},filterEl:function(t,n){return e.filterEventRenderEl(t.footprint,n)}})},t.prototype.unrenderBgSegs=function(){this.fillRenderer&&this.fillRenderer.unrender("bgEvent")},t.prototype.renderFgSegEls=function(t,e){var n=this;void 0===e&&(e=!1);var r,o=this.view.hasPublicHandlers("eventRender"),s="",a=[];if(t.length){for(r=0;r<t.length;r++)this.beforeFgSegHtml(t[r]),s+=this.fgSegHtml(t[r],e);i(s).each(function(e,r){var s=t[e],l=i(r);o&&(l=n.filterEventRenderEl(s.footprint,l)),l&&(l.data("fc-seg",s),s.el=l,a.push(s))})}return a},t.prototype.beforeFgSegHtml=function(){},t.prototype.fgSegHtml=function(){},t.prototype.getSegClasses=function(t,e,n){var i=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(this.getClasses(t.footprint.eventDef));return e&&i.push("fc-draggable"),n&&i.push("fc-resizable"),this.view.isEventDefSelected(t.footprint.eventDef)&&i.push("fc-selected"),i},t.prototype.filterEventRenderEl=function(t,e){var n=t.getEventLegacy(),r=this.view.publiclyTrigger("eventRender",{context:n,args:[n,e,this.view]});return!1===r?e=null:r&&!0!==r&&(e=i(r)),e},t.prototype.getTimeText=function(t,e,n){return this._getTimeText(t.eventInstance.dateProfile.start,t.eventInstance.dateProfile.end,t.componentFootprint.isAllDay,e,n)},t.prototype._getTimeText=function(t,e,n,i,r){return null==i&&(i=this.eventTimeFormat),null==r&&(r=this.displayEventEnd),this.displayEventTime&&!n?r&&e?this.view.formatRange({start:t,end:e},!1,i):t.format(i):""},t.prototype.computeEventTimeFormat=function(){return this.opt("smallTimeFormat")},t.prototype.computeDisplayEventTime=function(){return!0},t.prototype.computeDisplayEventEnd=function(){return!0},t.prototype.getBgClasses=function(t){var e=this.getClasses(t);return e.push("fc-bgevent"),e},t.prototype.getClasses=function(t){var e,n=this.getStylingObjs(t),i=[];for(e=0;e<n.length;e++)i.push.apply(i,n[e].eventClassName||n[e].className||[]);return i},t.prototype.getSkinCss=function(t){return{"background-color":this.getBgColor(t),"border-color":this.getBorderColor(t),color:this.getTextColor(t)}},t.prototype.getBgColor=function(t){var e,n,i=this.getStylingObjs(t);for(e=0;e<i.length&&!n;e++)n=i[e].eventBackgroundColor||i[e].eventColor||i[e].backgroundColor||i[e].color;return n||(n=this.opt("eventBackgroundColor")||this.opt("eventColor")),n},t.prototype.getBorderColor=function(t){var e,n,i=this.getStylingObjs(t);for(e=0;e<i.length&&!n;e++)n=i[e].eventBorderColor||i[e].eventColor||i[e].borderColor||i[e].color;return n||(n=this.opt("eventBorderColor")||this.opt("eventColor")),n},t.prototype.getTextColor=function(t){var e,n,i=this.getStylingObjs(t);for(e=0;e<i.length&&!n;e++)n=i[e].eventTextColor||i[e].textColor;return n||(n=this.opt("eventTextColor")),n},t.prototype.getStylingObjs=function(t){var e=this.getFallbackStylingObjs(t);return e.unshift(t),e},t.prototype.getFallbackStylingObjs=function(t){return[t.source]},t.prototype.sortEventSegs=function(t){t.sort(r.proxy(this,"compareEventSegs"))},t.prototype.compareEventSegs=function(t,e){var n=t.footprint,i=e.footprint,o=n.componentFootprint,s=i.componentFootprint,a=o.unzonedRange,l=s.unzonedRange;return a.startMs-l.startMs||l.endMs-l.startMs-(a.endMs-a.startMs)||s.isAllDay-o.isAllDay||r.compareByFieldSpecs(n.eventDef,i.eventDef,this.view.eventOrderSpecs,n.eventDef.miscProps,i.eventDef.miscProps)},t}();e["default"]=o},,,,,function(t,e,n){function i(t){return"en"!==t.locale()?t.clone().locale("en"):t}function r(t,e){return f(a(e).fakeFormatString,t)}function o(t,e,n,i,r){return t=v["default"].parseZone(t),e=v["default"].parseZone(e),s(a(n=t.localeData().longDateFormat(n)||n),t,e,i||" - ",r)}function s(t,e,n,i,r){var o,s,a,l=t.sameUnits,u=e.clone().stripZone(),c=n.clone().stripZone(),d=p(t.fakeFormatString,e),h=p(t.fakeFormatString,n),f="",g="",v="",y="",b="";for(o=0;o<l.length&&(!l[o]||u.isSame(c,l[o]));o++)f+=d[o];for(s=l.length-1;s>o&&(!l[s]||u.isSame(c,l[s]))&&(s-1!==o||"."!==d[s]);s--)g=d[s]+g;for(a=o;a<=s;a++)v+=d[a],y+=h[a];return(v||y)&&(b=r?y+i+v:v+i+y),m(f+b+g)}function a(t){return _[t]||(_[t]=l(t))}function l(t){var e=u(t);return{fakeFormatString:d(e),sameUnits:h(e)}}function u(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push.apply(n,c(e[1])):e[2]?n.push({maybe:u(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push.apply(n,c(e[5]));return n}function c(t){return". "===t?["."," "]:[t]}function d(t){var e,n,i=[]
;for(e=0;e<t.length;e++)"string"==typeof(n=t[e])?i.push("["+n+"]"):n.token?n.token in C?i.push(b+"["+n.token+"]"):i.push(n.token):n.maybe&&i.push(w+d(n.maybe)+w);return i.join(y)}function h(t){var e,n,i,r=[];for(e=0;e<t.length;e++)(n=t[e]).token?(i=S[n.token.charAt(0)],r.push(i?i.unit:"second")):n.maybe?r.push.apply(r,h(n.maybe)):r.push(null);return r}function f(t,e){return m(p(t,e).join(""))}function p(t,e){var n,i,r=[],o=v.oldMomentFormat(e,t).split(y);for(n=0;n<o.length;n++)(i=o[n]).charAt(0)===b?r.push(C[i.substring(1)](e)):r.push(i);return r}function m(t){return t.replace(x,function(t,e){return e.match(/[1-9]/)?e:""})}function g(t){var e,n,i,r,o=u(t);for(e=0;e<o.length;e++)(n=o[e]).token&&(i=S[n.token.charAt(0)])&&(!r||i.value>r.value)&&(r=i);return r?r.unit:null}Object.defineProperty(e,"__esModule",{value:!0});var v=n(10);v.newMomentProto.format=function(){return this._fullCalendar&&arguments[0]?r(this,arguments[0]):this._ambigTime?v.oldMomentFormat(i(this),"YYYY-MM-DD"):this._ambigZone?v.oldMomentFormat(i(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?v.oldMomentFormat(i(this)):v.oldMomentProto.format.apply(this,arguments)},v.newMomentProto.toISOString=function(){return this._ambigTime?v.oldMomentFormat(i(this),"YYYY-MM-DD"):this._ambigZone?v.oldMomentFormat(i(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?v.oldMomentProto.toISOString.apply(i(this),arguments):v.oldMomentProto.toISOString.apply(this,arguments)};var y="\x0B",b="\x1f",w="\x1e",x=new RegExp(w+"([^"+w+"]*)"+w,"g"),C={t:function(t){return v.oldMomentFormat(t,"a").charAt(0)},T:function(t){return v.oldMomentFormat(t,"A").charAt(0)}},S={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};e.formatDate=r,e.formatRange=o;var _={};e.queryMostGranularFormatUnit=g},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(33),o=n(11),s=n(7),a=function(t){function e(){var e=t.call(this)||this;return e._watchers={},e._props={},e.applyGlobalWatchers(),e.constructed(),e}return i.__extends(e,t),e.watch=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.prototype.hasOwnProperty("_globalWatchArgs")||(this.prototype._globalWatchArgs=Object.create(this.prototype._globalWatchArgs)),this.prototype._globalWatchArgs[t]=e},e.prototype.constructed=function(){},e.prototype.applyGlobalWatchers=function(){var t,e=this._globalWatchArgs;for(t in e)this.watch.apply(this,[t].concat(e[t]))},e.prototype.has=function(t){return t in this._props},e.prototype.get=function(t){return t===undefined?this._props:this._props[t]},e.prototype.set=function(t,e){var n;"string"==typeof t?(n={})[t]=e===undefined?null:e:n=t,this.setProps(n)},e.prototype.reset=function(t){var e,n=this._props,i={};for(e in n)i[e]=undefined;for(e in t)i[e]=t[e];this.setProps(i)},e.prototype.unset=function(t){var e,n,i={};for(e="string"==typeof t?[t]:t,n=0;n<e.length;n++)i[e[n]]=undefined;this.setProps(i)},e.prototype.setProps=function(t){var e,n,i={},r=0;for(e in t)"object"!=typeof(n=t[e])&&n===this._props[e]||(i[e]=n,r++);if(r){for(e in this.trigger("before:batchChange",i),i)n=i[e],this.trigger("before:change",e,n),this.trigger("before:change:"+e,n);for(e in i)(n=i[e])===undefined?delete this._props[e]:this._props[e]=n,this.trigger("change:"+e,n),this.trigger("change",e,n);this.trigger("batchChange",i)}},e.prototype.watch=function(t,e,n,i){var r=this;this.unwatch(t),this._watchers[t]=this._watchDeps(e,function(e){var i=n.call(r,e);i&&i.then?(r.unset(t),i.then(function(e){r.set(t,e)})):r.set(t,i)},function(e){r.unset(t),i&&i.call(r,e)})},e.prototype.unwatch=function(t){var e=this._watchers[t];e&&(delete this._watchers[t],e.teardown())},e.prototype._watchDeps=function(t,e,n){var i=this,r=0,o=t.length,s=0,a={},l=[],u=!1,c=function(){1===++r&&s===o&&(u=!0,n(a),u=!1)},d=function(t,n,i){n===undefined?(i||a[t]===undefined||s--,delete a[t]):(i||a[t]!==undefined||s++,a[t]=n),--r||s===o&&(u||e(a))},h=function(t,e){i.on(t,e),l.push([t,e])};return t.forEach(function(t){var e=!1;"?"===t.charAt(0)&&(t=t.substring(1),e=!0),h("before:change:"+t,function(n){c(t,n,e)}),h("change:"+t,function(n){d(t,n,e)})}),t.forEach(function(t){var e=!1;"?"===t.charAt(0)&&(t=t.substring(1),e=!0),i.has(t)?(a[t]=i.get(t),s++):e&&s++}),s===o&&e(a),{teardown:function(){for(var t=0;t<l.length;t++)i.off(l[t][0],l[t][1]);l=null,s===o&&n()},flash:function(){s===o&&(n(),e(a))}}},e.prototype.flash=function(t){var e=this._watchers[t];e&&e.flash()},e}(r["default"]);e["default"]=a,a.prototype._globalWatchArgs={},o["default"].mixInto(a),s["default"].mixInto(a)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(13),s=n(210);e["default"]={parse:function(t,e){return r.isTimeString(t.start)||i.isDuration(t.start)||r.isTimeString(t.end)||i.isDuration(t.end)?s["default"].parse(t,e):o["default"].parse(t,e)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(17),o=function(){function t(){this.clearEnd=!1,this.forceTimed=!1,this.forceAllDay=!1}return t.createFromDiff=function(e,n,r){function o(t,e){return r?i.diffByUnit(t,e,r):n.isAllDay()?i.diffDay(t,e):i.diffDayTime(t,e)}var s,a,l,u=e.end&&!n.end,c=e.isAllDay()&&!n.isAllDay(),d=!e.isAllDay()&&n.isAllDay();return s=o(n.start,e.start),n.end&&(a=o(n.unzonedRange.getEnd(),e.unzonedRange.getEnd()).subtract(s)),(l=new t).clearEnd=u,l.forceTimed=c,l.forceAllDay=d,l.setDateDelta(s),l.setEndDelta(a),l},t.prototype.buildNewDateProfile=function(t,e){var n=t.start.clone(),i=null,o=!1;return t.end&&!this.clearEnd?i=t.end.clone():this.endDelta&&!i&&(i=e.getDefaultEventEnd(t.isAllDay(),n)),this.forceTimed?(o=!0,n.hasTime()||n.time(0),i&&!i.hasTime()&&i.time(0)):this.forceAllDay&&(n.hasTime()&&n.stripTime(),i&&i.hasTime()&&i.stripTime()),this.dateDelta&&(o=!0,n.add(this.dateDelta),i&&i.add(this.dateDelta)),this.endDelta&&(o=!0,i.add(this.endDelta)),this.startDelta&&(o=!0,n.add(this.startDelta)),o&&(n=e.applyTimezone(n),i&&(i=e.applyTimezone(i))),!i&&e.opt("forceEventDuration")&&(i=e.getDefaultEventEnd(t.isAllDay(),n)),new r["default"](n,i,e)},t.prototype.setDateDelta=function(t){t&&t.valueOf()?this.dateDelta=t:this.dateDelta=null},t.prototype.setStartDelta=function(t){t&&t.valueOf()?this.startDelta=t:this.startDelta=null},t.prototype.setEndDelta=function(t){t&&t.valueOf()?this.endDelta=t:this.endDelta=null},t.prototype.isEmpty=function(){return!(this.clearEnd||this.forceTimed||this.forceAllDay||this.dateDelta||this.startDelta||this.endDelta)},t}();e["default"]=o},function(t,e,n){function i(t,e){a[t]=e}function r(t){return t?!0===t?s["default"]:a[t]:o["default"]}Object.defineProperty(e,"__esModule",{value:!0});var o=n(213),s=n(214),a={};e.defineThemeSystem=i,e.getThemeSystemClass=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(20),a=n(6),l=n(13),u=function(t){function e(e){var n=t.call(this,e)||this;return n.eventDefs=[],n}return i.__extends(e,t),e.parse=function(t,e){var n;return r.isArray(t.events)?n=t:r.isArray(t)&&(n={events:t}),!!n&&a["default"].parse.call(this,n,e)},e.prototype.setRawEventDefs=function(t){this.rawEventDefs=t,this.eventDefs=this.parseEventDefs(t)},e.prototype.fetch=function(t,e,n){var i,r=this.eventDefs;if(null!=this.currentTimezone&&this.currentTimezone!==n)for(i=0;i<r.length;i++)r[i]instanceof l["default"]&&r[i].rezone();return this.currentTimezone=n,s["default"].resolve(r)},e.prototype.addEventDef=function(t){this.eventDefs.push(t)},e.prototype.removeEventDefsById=function(t){return o.removeMatching(this.eventDefs,function(e){return e.id===t})},e.prototype.removeAllEventDefs=function(){this.eventDefs=[]},e.prototype.getPrimitive=function(){return this.rawEventDefs},e.prototype.applyManualStandardProps=function(e){var n=t.prototype.applyManualStandardProps.call(this,e);return this.setRawEventDefs(e.events),n},e}(a["default"]);e["default"]=u,u.defineStandardProps({events:!1})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=function(){function t(t){this.isHorizontal=!1,this.isVertical=!1,this.els=i(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?i(t.offsetParent):null}return t.prototype.build=function(){var t=this.forcedOffsetParentEl;!t&&this.els.length>0&&(t=this.els.eq(0).offsetParent()),this.origin=t?t.offset():null,this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},t.prototype.clear=function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},t.prototype.ensureBuilt=function(){this.origin||this.build()},t.prototype.buildElHorizontals=function(){var t=[],e=[];this.els.each(function(n,r){var o=i(r),s=o.offset().left,a=o.outerWidth();t.push(s),e.push(s+a)}),this.lefts=t,this.rights=e},t.prototype.buildElVerticals=function(){var t=[],e=[];this.els.each(function(n,r){var o=i(r),s=o.offset().top,a=o.outerHeight();t.push(s),e.push(s+a)}),this.tops=t,this.bottoms=e},t.prototype.getHorizontalIndex=function(t){this.ensureBuilt();var e,n=this.lefts,i=this.rights,r=n.length;for(e=0;e<r;e++)if(t>=n[e]&&t<i[e])return e},t.prototype.getVerticalIndex=function(t){this.ensureBuilt();var e,n=this.tops,i=this.bottoms,r=n.length;for(e=0;e<r;e++)if(t>=n[e]&&t<i[e])return e},t.prototype.getLeftOffset=function(t){return this.ensureBuilt(),this.lefts[t]},t.prototype.getLeftPosition=function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},t.prototype.getRightOffset=function(t){return this.ensureBuilt(),this.rights[t]},t.prototype.getRightPosition=function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},t.prototype.getWidth=function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},t.prototype.getTopOffset=function(t){return this.ensureBuilt(),this.tops[t]},t.prototype.getTopPosition=function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},t.prototype.getBottomOffset=function(t){return this.ensureBuilt(),this.bottoms[t]},t.prototype.getBottomPosition=function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},t.prototype.getHeight=function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]},t.prototype.queryBoundingRect=function(){var t;return this.els.length>0&&!(t=r.getScrollParent(this.els.eq(0))).is(document)?r.getClientRect(t):null},t.prototype.isPointInBounds=function(t,e){return this.isLeftInBounds(t)&&this.isTopInBounds(e)},t.prototype.isLeftInBounds=function(t){return!this.boundingRect||t>=this.boundingRect.left&&t<this.boundingRect.right},t.prototype.isTopInBounds=function(t){return!this.boundingRect||t>=this.boundingRect.top&&t<this.boundingRect.bottom},t}();e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(7),s=n(21),a=function(){function t(t){this.isInteracting=!1,this.isDistanceSurpassed=!1,this.isDelayEnded=!1,this.isDragging=!1,this.isTouch=!1,this.isGeneric=!1,this.shouldCancelTouchScroll=!0,this.scrollAlwaysKills=!1,this.isAutoScroll=!1,this.scrollSensitivity=30,this.scrollSpeed=200,this.scrollIntervalMs=50,this.options=t||{}}return t.prototype.startInteraction=function(t,e){if(void 0===e&&(e={}),"mousedown"===t.type){if(s["default"].get().shouldIgnoreMouse())return;if(!r.isPrimaryMouseButton(t))return;t.preventDefault()}this.isInteracting||(this.delay=r.firstDefined(e.delay,this.options.delay,0),this.minDistance=r.firstDefined(e.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,r.preventSelection(i("body")),this.isInteracting=!0,this.isTouch=r.getEvIsTouch(t),this.isGeneric="dragstart"===t.type,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=r.getEvX(t),this.originY=r.getEvY(t),this.scrollEl=r.getScrollParent(i(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},t.prototype.handleInteractionStart=function(t){this.trigger("interactionStart",t)},t.prototype.endInteraction=function(t,e){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,e),r.allowSelection(i("body")))},t.prototype.handleInteractionEnd=function(t,e){this.trigger("interactionEnd",t,e||!1)},t.prototype.bindHandlers=function(){var t=s["default"].get();this.isGeneric?this.listenTo(i(document),{drag:this.handleMove,dragstop:this.endInteraction}):this.isTouch?this.listenTo(t,{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll}):this.listenTo(t,{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(t,{selectstart:r.preventDefault,contextmenu:r.preventDefault})},t.prototype.unbindHandlers=function(){this.stopListeningTo(s["default"].get()),this.stopListeningTo(i(document))},t.prototype.startDrag=function(t,e){this.startInteraction(t,e),this.isDragging||(this.isDragging=!0,this.handleDragStart(t))},t.prototype.handleDragStart=function(t){this.trigger("dragStart",t)},t.prototype.handleMove=function(t){var e=r.getEvX(t)-this.originX,n=r.getEvY(t)-this.originY,i=this.minDistance;this.isDistanceSurpassed||e*e+n*n>=i*i&&this.handleDistanceSurpassed(t),this.isDragging&&this.handleDrag(e,n,t)},t.prototype.handleDrag=function(t,e,n){this.trigger("drag",t,e,n),this.updateAutoScroll(n)},t.prototype.endDrag=function(t){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(t))},t.prototype.handleDragEnd=function(t){this.trigger("dragEnd",t)},t.prototype.startDelay=function(t){var e=this;this.delay?this.delayTimeoutId=setTimeout(function(){e.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},t.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(t)},t.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(t)},t.prototype.handleTouchMove=function(t){this.isDragging&&this.shouldCancelTouchScroll&&t.preventDefault(),this.handleMove(t)},t.prototype.handleMouseMove=function(t){this.handleMove(t)},t.prototype.handleTouchScroll=function(t){this.isDragging&&!this.scrollAlwaysKills||this.endInteraction(t,!0)},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.options[t]&&this.options[t].apply(this,e),this["_"+t]&&this["_"+t].apply(this,e)},t.prototype.initAutoScroll=function(){var t=this.scrollEl;this.isAutoScroll=this.options.scroll&&t&&!t.is(window)&&!t.is(document),this.isAutoScroll&&this.listenTo(t,"scroll",r.debounce(this.handleDebouncedScroll,100))},t.prototype.destroyAutoScroll=function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},t.prototype.computeScrollBounds=function(){this.isAutoScroll&&(this.scrollBounds=r.getOuterRect(this.scrollEl))},t.prototype.updateAutoScroll=function(t){var e,n,i,o,s=this.scrollSensitivity,a=this.scrollBounds,l=0,u=0;a&&(e=(s-(r.getEvY(t)-a.top))/s,n=(s-(a.bottom-r.getEvY(t)))/s,i=(s-(r.getEvX(t)-a.left))/s,o=(s-(a.right-r.getEvX(t)))/s,e>=0&&e<=1?l=e*this.scrollSpeed*-1:n>=0&&n<=1&&(l=n*this.scrollSpeed),i>=0&&i<=1?u=i*this.scrollSpeed*-1:o>=0&&o<=1&&(u=o*this.scrollSpeed)),this.setScrollVel(l,u)},t.prototype.setScrollVel=function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(r.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},t.prototype.constrainScrollVel=function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},t.prototype.scrollIntervalFunc=function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},t.prototype.endAutoScroll=function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},t.prototype.handleDebouncedScroll=function(){this.scrollIntervalId||this.handleScrollEnd()},t.prototype.handleScrollEnd=function(){},t}();e["default"]=a,o["default"].mixInto(a)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.updateDayTable=function(){for(var t,e,n,i=this,r=i.view,o=r.calendar,s=o.msToUtcMoment(i.dateProfile.renderUnzonedRange.startMs,!0),a=o.msToUtcMoment(i.dateProfile.renderUnzonedRange.endMs,!0),l=-1,u=[],c=[];s.isBefore(a);)r.isHiddenDay(s)?u.push(l+.5):(l++,u.push(l),c.push(s.clone())),s.add(1,"days");if(this.breakOnWeeks){for(e=c[0].day(),t=1;t<c.length&&c[t].day()!==e;t++);n=Math.ceil(c.length/t)}else n=1,t=c.length;this.dayDates=c,this.dayIndices=u,this.daysPerRow=t,this.rowCnt=n,this.updateDayTableCols()},e.prototype.updateDayTableCols=function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.opt("columnHeaderFormat")||this.opt("columnFormat")||this.computeColHeadFormat()},e.prototype.computeColCnt=function(){return this.daysPerRow},e.prototype.getCellDate=function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},e.prototype.getCellRange=function(t,e){var n=this.getCellDate(t,e);return{start:n,end:n.clone().add(1,"days")}},e.prototype.getCellDayIndex=function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},e.prototype.getColDayIndex=function(t){return this.isRTL?this.colCnt-1-t:t},e.prototype.getDateDayIndex=function(t){var e=this.dayIndices,n=t.diff(this.dayDates[0],"days");return n<0?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},e.prototype.computeColHeadFormat=function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.opt("dayOfMonthFormat"):"dddd"},e.prototype.sliceRangeByRow=function(t){var e,n,i,r,o,s=this.daysPerRow,a=this.view.computeDayRange(t),l=this.getDateDayIndex(a.start),u=this.getDateDayIndex(a.end.clone().subtract(1,"days")),c=[];for(e=0;e<this.rowCnt;e++)i=(n=e*s)+s-1,r=Math.max(l,n),o=Math.min(u,i),(r=Math.ceil(r))<=(o=Math.floor(o))&&c.push({row:e,firstRowDayIndex:r-n,lastRowDayIndex:o-n,isStart:r===l,isEnd:o===u});return c},e.prototype.sliceRangeByDay=function(t){var e,n,i,r,o,s,a=this.daysPerRow,l=this.view.computeDayRange(t),u=this.getDateDayIndex(l.start),c=this.getDateDayIndex(l.end.clone().subtract(1,"days")),d=[];for(e=0;e<this.rowCnt;e++)for(i=(n=e*a)+a-1,r=n;r<=i;r++)o=Math.max(u,r),s=Math.min(c,r),(o=Math.ceil(o))<=(s=Math.floor(s))&&d.push({row:e,firstRowDayIndex:o-n,lastRowDayIndex:s-n,isStart:o===u,isEnd:s===c});return d},e.prototype.renderHeadHtml=function(){var t=this.view.calendar.theme;return'<div class="fc-row '+t.getClass("headerRow")+'"><table class="'+t.getClass("tableGrid")+'"><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},e.prototype.renderHeadIntroHtml=function(){return this.renderIntroHtml()},e.prototype.renderHeadTrHtml=function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},e.prototype.renderHeadDateCellsHtml=function(){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),n.push(this.renderHeadDateCellHtml(e));return n.join("")},e.prototype.renderHeadDateCellHtml=function(t,e,n){var i,o=this,s=o.view,a=o.dateProfile.activeUnzonedRange.containsDate(t),l=["fc-day-header",s.calendar.theme.getClass("widgetHeader")];return i="function"==typeof o.opt("columnHeaderHtml")?o.opt("columnHeaderHtml")(t):"function"==typeof o.opt("columnHeaderText")?r.htmlEscape(o.opt("columnHeaderText")(t)):r.htmlEscape(t.format(o.colHeadFormat)),1===o.rowCnt?l=l.concat(o.getDayClasses(t,!0)):l.push("fc-"+r.dayIDs[t.day()]),'<th class="'+l.join(" ")+'"'+(1===(a&&o.rowCnt)?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(n?" "+n:"")+">"+(a?s.buildGotoAnchorHtml({date:t,forceOff:o.rowCnt>1||1===o.colCnt},i):i)+"</th>"},e.prototype.renderBgTrHtml=function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},e.prototype.renderBgIntroHtml=function(){return this.renderIntroHtml()},e.prototype.renderBgCellsHtml=function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderBgCellHtml(n));return i.join("")},e.prototype.renderBgCellHtml=function(t,e){var n=this,i=n.view,r=n.dateProfile.activeUnzonedRange.containsDate(t),o=n.getDayClasses(t);return o.unshift("fc-day",i.calendar.theme.getClass("widgetContent")),'<td class="'+o.join(" ")+'"'+(r?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e?" "+e:"")+"></td>"},e.prototype.renderIntroHtml=function(){},e.prototype.bookendCells=function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))},e}(n(14)["default"]);e["default"]=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.component=t,this.fillRenderer=e}return t.prototype.render=function(t){var e=this.component,n=e._getDateProfile().activeUnzonedRange,i=t.buildEventInstanceGroup(e.hasAllDayBusinessHours,n),r=i?e.eventRangesToEventFootprints(i.sliceRenderRanges(n)):[];this.renderEventFootprints(r)},t.prototype.renderEventFootprints=function(t){var e=this.component.eventFootprintsToSegs(t);this.renderSegs(e),this.segs=e},t.prototype.renderSegs=function(t){this.fillRenderer&&this.fillRenderer.renderSegs("businessHours",t,{getClasses:function(){return["fc-nonbusiness","fc-bgevent"]}})},t.prototype.unrender=function(){this.fillRenderer&&this.fillRenderer.unrender("businessHours"),this.segs=null},t.prototype.getSegs=function(){return this.segs||[]},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=function(){function t(t){this.fillSegTag="div",this.component=t,this.elsByFill={}}return t.prototype.renderFootprint=function(t,e,n){this.renderSegs(t,this.component.componentFootprintToSegs(e),n)},t.prototype.renderSegs=function(t,e,n){var i;return e=this.buildSegEls(t,e,n),(i=this.attachSegEls(t,e))&&this.reportEls(t,i),e},t.prototype.unrender=function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},t.prototype.buildSegEls=function(t,e,n){var r,o=this,s="",a=[];if(e.length){for(r=0;r<e.length;r++)s+=this.buildSegHtml(t,e[r],n);i(s).each(function(t,r){var s=e[t],l=i(r);n.filterEl&&(l=n.filterEl(s,l)),l&&(l=i(l)).is(o.fillSegTag)&&(s.el=l,a.push(s))})}return a},t.prototype.buildSegHtml=function(t,e,n){var i=n.getClasses?n.getClasses(e):[],o=r.cssToStr(n.getCss?n.getCss(e):{});return"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},t.prototype.attachSegEls=function(){},t.prototype.reportEls=function(t,e){this.elsByFill[t]?this.elsByFill[t]=this.elsByFill[t].add(e):this.elsByFill[t]=i(e)},t}();e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),r=n(36),o=n(6),s=function(){function t(t,e){this.view=t._getView(),this.component=t,this.eventRenderer=e}return t.prototype.renderComponentFootprint=function(t){this.renderEventFootprints([this.fabricateEventFootprint(t)])},t.prototype.renderEventDraggingFootprints=function(t,e,n){this.renderEventFootprints(t,e,"fc-dragging",n?null:this.view.opt("dragOpacity"))},t.prototype.renderEventResizingFootprints=function(t,e){this.renderEventFootprints(t,e,"fc-resizing")},t.prototype.renderEventFootprints=function(t,e,n,i){var r,o=this.component.eventFootprintsToSegs(t),s="fc-helper "+(n||"");for(o=this.eventRenderer.renderFgSegEls(o),r=0;r<o.length;r++)o[r].el.addClass(s);if(null!=i)for(r=0;r<o.length;r++)o[r].el.css("opacity",i);this.helperEls=this.renderSegs(o,e)},t.prototype.renderSegs=function(){},t.prototype.unrender=function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},t.prototype.fabricateEventFootprint=function(t){var e,n=this.view.calendar,s=n.footprintToDateProfile(t),a=new i["default"](new o["default"](n));return a.dateProfile=s,e=a.buildInstance(),new r["default"](t,a,e)},t}();e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(21),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"click",this.handleClick.bind(this)),e.bindSegHandlerToEl(t,"mouseenter",this.handleMouseover.bind(this)),e.bindSegHandlerToEl(t,"mouseleave",this.handleMouseout.bind(this))},e.prototype.handleClick=function(t,e){!1===this.component.publiclyTrigger("eventClick",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,this.view]})&&e.preventDefault()},e.prototype.handleMouseover=function(t,e){r["default"].get().shouldIgnoreMouse()||this.mousedOverSeg||(this.mousedOverSeg=t,this.view.isEventDefResizable(t.footprint.eventDef)&&t.el.addClass("fc-allow-mouse-resize"),this.component.publiclyTrigger("eventMouseover",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,this.view]}))},e.prototype.handleMouseout=function(t,e){this.mousedOverSeg&&(this.mousedOverSeg=null,this.view.isEventDefResizable(t.footprint.eventDef)&&t.el.removeClass("fc-allow-mouse-resize"),this.component.publiclyTrigger("eventMouseout",{context:t.el[0],args:[t.footprint.getEventLegacy(),e||{},this.view]}))},e.prototype.end=function(){this.mousedOverSeg&&this.handleMouseout(this.mousedOverSeg)},e}(n(15)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(14),o=n(245),s=n(225),a=n(59),l=n(224),u=n(223),c=n(222),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(r["default"]);e["default"]=d,d.prototype.dateClickingClass=o["default"],d.prototype.dateSelectingClass=s["default"],d.prototype.eventPointingClass=a["default"],d.prototype.eventDraggingClass=l["default"],d.prototype.eventResizingClass=u["default"],d.prototype.externalDroppingClass=c["default"]},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(53),a=n(249),l=n(5),u=n(12),c=n(36),d=n(56),h=n(60),f=n(40),p=n(55),m=n(250),g=n(251),v=n(252),y=function(t){function e(e){var n=t.call(this,e)||this;return n.cellWeekNumbersVisible=!1,n.bottomCoordPadding=0,n.isRigid=!1,n.hasAllDayBusinessHours=!0,n}return i.__extends(e,t),e.prototype.componentFootprintToSegs=function(t){var e,n,i=this.sliceRangeByRow(t.unzonedRange);for(e=0;e<i.length;e++)n=i[e],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},e.prototype.renderDates=function(t){this.dateProfile=t,this.updateDayTable(),this.renderGrid()},e.prototype.unrenderDates=function(){this.removeSegPopover()},e.prototype.renderGrid=function(){var t,e,n=this.view,i=this.rowCnt,r=this.colCnt,o="";for(this.headContainerEl&&this.headContainerEl.html(this.renderHeadHtml()),t=0;t<i;t++)o+=this.renderDayRowHtml(t,this.isRigid);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day, .fc-disabled-day"),this.rowCoordCache=new s["default"]({els:this.rowEls,isVertical:!0}),this.colCoordCache=new s["default"]({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;t<i;t++)for(e=0;e<r;e++)this.publiclyTrigger("dayRender",{context:n,args:[this.getCellDate(t,e),this.getCellEl(t,e),n]})},e.prototype.renderDayRowHtml=function(t,e){var n=this.view.calendar.theme,i=["fc-row","fc-week",n.getClass("dayRow")];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table class="'+n.getClass("tableGrid")+'">'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},e.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.cellWeekNumbersVisible},e.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},e.prototype.renderNumberTrHtml=function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},e.prototype.renderNumberIntroHtml=function(){return this.renderIntroHtml()},e.prototype.renderNumberCellsHtml=function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderNumberCellHtml(n));return i.join("")},e.prototype.renderNumberCellHtml=function(t){var e,n,i=this.view,r="",o=this.dateProfile.activeUnzonedRange.containsDate(t),s=this.getIsDayNumbersVisible()&&o;return s||this.cellWeekNumbersVisible?((e=this.getDayClasses(t)).unshift("fc-day-top"),this.cellWeekNumbersVisible&&(n="ISO"===t._locale._fullCalendar_weekCalc?1:t._locale.firstDayOfWeek()),r+='<td class="'+e.join(" ")+'"'+(o?' data-date="'+t.format()+'"':"")+">",this.cellWeekNumbersVisible&&t.day()===n&&(r+=i.buildGotoAnchorHtml({date:t,type:"week"},{"class":"fc-week-number"},t.format("w"))),s&&(r+=i.buildGotoAnchorHtml(t,{"class":"fc-day-number"},t.format("D"))),r+="</td>"):"<td/>"},e.prototype.prepareHits=function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},e.prototype.releaseHits=function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},e.prototype.queryHit=function(t,e){if(this.colCoordCache.isLeftInBounds(t)&&this.rowCoordCache.isTopInBounds(e)){var n=this.colCoordCache.getHorizontalIndex(t),i=this.rowCoordCache.getVerticalIndex(e);if(null!=i&&null!=n)return this.getCellHit(i,n)}},e.prototype.getHitFootprint=function(t){var e=this.getCellRange(t.row,t.col);return new u["default"](new l["default"](e.start,e.end),!0)},e.prototype.getHitEl=function(t){return this.getCellEl(t.row,t.col)},e.prototype.getCellHit=function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},e.prototype.getCellEl=function(t,e){return this.cellEls.eq(t*this.colCnt+e)},e.prototype.executeEventUnrender=function(){this.removeSegPopover(),t.prototype.executeEventUnrender.call(this)},e.prototype.getOwnEventSegs=function(){return t.prototype.getOwnEventSegs.call(this).concat(this.popoverSegs||[])},e.prototype.renderDrag=function(t,e,n){var i;for(i=0;i<t.length;i++)this.renderHighlight(t[i].componentFootprint);if(t.length&&e&&e.component!==this)return this.helperRenderer.renderEventDraggingFootprints(t,e,n),!0},e.prototype.unrenderDrag=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.renderEventResize=function(t,e,n){var i;for(i=0;i<t.length;i++)this.renderHighlight(t[i].componentFootprint);this.helperRenderer.renderEventResizingFootprints(t,e,n)},e.prototype.unrenderEventResize=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},e.prototype.limitRows=function(t){var e,n,i=this.eventRenderer.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),!1!==(n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,n)},e.prototype.computeRowLevelLimit=function(t){function e(t,e){o=Math.max(o,r(e).outerHeight())}var n,i,o,s=this.rowEls.eq(t).height(),a=this.eventRenderer.rowStructs[t].tbodyEl.children();for(n=0;n<a.length;n++)if(i=a.eq(n).removeClass("fc-limited"),o=0,i.find("> td > :first-child").each(e),i.position().top+o>s)return n;return!1},e.prototype.limitRow=function(t,e){var n,i,o,s,a,l,u,c,d,h,f,p,m,g,v,y=this,b=this.eventRenderer.rowStructs[t],w=[],x=0,C=function(n){for(;x<n;)(l=y.getCellSegs(t,x,e)).length&&(d=i[e-1][x],v=y.renderMoreLink(t,x,l),g=r("<div/>").append(v),d.append(g),w.push(g[0])),x++};if(e&&e<b.segLevels.length){for(n=b.segLevels[e-1],i=b.cellMatrix,o=b.tbodyEl.children().slice(e).addClass("fc-limited").get(),s=0;s<n.length;s++){for(C((a=n[s]).leftCol),c=[],u=0;x<=a.rightCol;)l=this.getCellSegs(t,x,e),c.push(l),u+=l.length,x++;if(u){for(h=(d=i[e-1][a.leftCol]).attr("rowspan")||1,f=[],p=0;p<c.length;p++)m=r('<td class="fc-more-cell"/>').attr("rowspan",h),l=c[p],
v=this.renderMoreLink(t,a.leftCol+p,[a].concat(l)),g=r("<div/>").append(v),m.append(g),f.push(m[0]),w.push(m[0]);d.addClass("fc-limited").after(r(f)),o.push(d[0])}}C(this.colCnt),b.moreEls=r(w),b.limitedEls=r(o)}},e.prototype.unlimitRow=function(t){var e=this.eventRenderer.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},e.prototype.renderMoreLink=function(t,e,n){var i=this,o=this.view;return r('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(s){var a=i.opt("eventLimitClick"),l=i.getCellDate(t,e),u=r(s.currentTarget),c=i.getCellEl(t,e),d=i.getCellSegs(t,e),h=i.resliceDaySegs(d,l),f=i.resliceDaySegs(n,l);"function"==typeof a&&(a=i.publiclyTrigger("eventLimitClick",{context:o,args:[{date:l.clone(),dayEl:c,moreEl:u,segs:h,hiddenSegs:f},s,o]})),"popover"===a?i.showSegPopover(t,e,u,h):"string"==typeof a&&o.calendar.zoomTo(l,a)})},e.prototype.showSegPopover=function(t,e,n,i){var r,o,s=this,l=this.view,u=n.parent();r=1===this.rowCnt?l.el:this.rowEls.eq(t),o={className:"fc-more-popover "+l.calendar.theme.getClass("popover"),content:this.renderSegPopoverContent(t,e,i),parentEl:l.el,top:r.offset().top,autoHide:!0,viewportConstrain:this.opt("popoverViewportConstrain"),hide:function(){s.popoverSegs&&s.triggerBeforeEventSegsDestroyed(s.popoverSegs),s.segPopover.removeElement(),s.segPopover=null,s.popoverSegs=null}},this.isRTL?o.right=u.offset().left+u.outerWidth()+1:o.left=u.offset().left-1,this.segPopover=new a["default"](o),this.segPopover.show(),this.bindAllSegHandlersToEl(this.segPopover.el),this.triggerAfterEventSegsRendered(i)},e.prototype.renderSegPopoverContent=function(t,e,n){var i,s=this.view.calendar.theme,a=this.getCellDate(t,e).format(this.opt("dayPopoverFormat")),l=r('<div class="fc-header '+s.getClass("popoverHeader")+'"><span class="fc-close '+s.getIconClass("close")+'"></span><span class="fc-title">'+o.htmlEscape(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+s.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>'),u=l.find(".fc-event-container");for(n=this.eventRenderer.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;i<n.length;i++)this.hitsNeeded(),n[i].hit=this.getCellHit(t,e),this.hitsNotNeeded(),u.append(n[i].el);return l},e.prototype.resliceDaySegs=function(t,e){var n,i,o,s=e.clone(),a=s.clone().add(1,"days"),d=new l["default"](s,a),h=[];for(n=0;n<t.length;n++)(o=(i=t[n]).footprint.componentFootprint.unzonedRange.intersect(d))&&h.push(r.extend({},i,{footprint:new c["default"](new u["default"](o,i.footprint.componentFootprint.isAllDay),i.footprint.eventDef,i.footprint.eventInstance),isStart:i.isStart&&o.isStart,isEnd:i.isEnd&&o.isEnd}));return this.eventRenderer.sortEventSegs(h),h},e.prototype.getMoreLinkText=function(t){var e=this.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},e.prototype.getCellSegs=function(t,e,n){for(var i,r=this.eventRenderer.rowStructs[t].segMatrix,o=n||0,s=[];o<r.length;)(i=r[o][e])&&s.push(i),o++;return s},e}(f["default"]);e["default"]=y,y.prototype.eventRendererClass=m["default"],y.prototype.businessHourRendererClass=d["default"],y.prototype.helperRendererClass=g["default"],y.prototype.fillRendererClass=v["default"],h["default"].mixInto(y),p["default"].mixInto(y)},function(t,e,n){function i(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colWeekNumbersVisible=!1,e}return r.__extends(e,t),e.prototype.renderHeadIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<th class="fc-week-number '+t.calendar.theme.getClass("widgetHeader")+'" '+t.weekNumberStyleAttr()+"><span>"+s.htmlEscape(this.opt("weekNumberTitle"))+"</span></th>":""},e.prototype.renderNumberIntroHtml=function(t){var e=this.view,n=this.getCellDate(t,0);return this.colWeekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+">"+e.buildGotoAnchorHtml({date:n,type:"week",forceOff:1===this.colCnt},n.format("w"))+"</td>":""},e.prototype.renderBgIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<td class="fc-week-number '+t.calendar.theme.getClass("widgetContent")+'" '+t.weekNumberStyleAttr()+"></td>":""},e.prototype.renderIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""},e.prototype.getIsNumbersVisible=function(){return c["default"].prototype.getIsNumbersVisible.apply(this,arguments)||this.colWeekNumbersVisible},e}(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(3),s=n(4),a=n(39),l=n(41),u=n(228),c=n(61),d=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.dayGrid=i.instantiateDayGrid(),i.dayGrid.isRigid=i.hasRigidRows(),i.opt("weekNumbers")&&(i.opt("weekNumbersWithinDays")?(i.dayGrid.cellWeekNumbersVisible=!0,i.dayGrid.colWeekNumbersVisible=!1):(i.dayGrid.cellWeekNumbersVisible=!1,i.dayGrid.colWeekNumbersVisible=!0)),i.addChild(i.dayGrid),i.scroller=new a["default"]({overflowX:"hidden",overflowY:"auto"}),i}return r.__extends(e,t),e.prototype.instantiateDayGrid=function(){return new(i(this.dayGridClass))(this)},e.prototype.executeDateRender=function(e){this.dayGrid.breakOnWeeks=/year|month|week/.test(e.currentRangeUnit),t.prototype.executeDateRender.call(this,e)},e.prototype.renderSkeleton=function(){var t,e;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.scroller.render(),t=this.scroller.el.addClass("fc-day-grid-container"),e=o('<div class="fc-day-grid" />').appendTo(t),this.el.find(".fc-body > tr > td").append(t),this.dayGrid.headContainerEl=this.el.find(".fc-head-container"),this.dayGrid.setElement(e)},e.prototype.unrenderSkeleton=function(){this.dayGrid.removeElement(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var t=this.calendar.theme;return'<table class="'+t.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'"></td></tr></tbody></table>'},e.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},e.prototype.hasRigidRows=function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},e.prototype.updateSize=function(e,n,i){var r,o,a=this.opt("eventLimit"),l=this.dayGrid.headContainerEl.find(".fc-row");this.dayGrid.rowEls?(t.prototype.updateSize.call(this,e,n,i),this.dayGrid.colWeekNumbersVisible&&(this.weekNumberWidth=s.matchCellWidths(this.el.find(".fc-week-number"))),this.scroller.clear(),s.uncompensateScroll(l),this.dayGrid.removeSegPopover(),a&&"number"==typeof a&&this.dayGrid.limitRows(a),r=this.computeScrollerHeight(e),this.setGridHeight(r,n),a&&"number"!=typeof a&&this.dayGrid.limitRows(a),n||(this.scroller.setHeight(r),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(s.compensateScroll(l,o),r=this.computeScrollerHeight(e),this.scroller.setHeight(r)),this.scroller.lockOverflow(o))):n||(r=this.computeScrollerHeight(e),this.scroller.setHeight(r))},e.prototype.computeScrollerHeight=function(t){return t-s.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.setGridHeight=function(t,e){e?s.undistributeHeight(this.dayGrid.rowEls):s.distributeHeight(this.dayGrid.rowEls,t,!0)},e.prototype.computeInitialDateScroll=function(){return{top:0}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(t){t.top!==undefined&&this.scroller.setScrollTop(t.top)},e}(l["default"]);e["default"]=d,d.prototype.dateProfileGeneratorClass=u["default"],d.prototype.dayGridClass=c["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){function i(t,e,n){var i;for(i=0;i<t.length;i++)if(!e(t[i].eventInstance.toLegacy(),n?n.toLegacy():null))return!1;return!0}function r(t,e){var n,i,r,o=e.toLegacy();for(n=0;n<t.length;n++){if(!1===(r=(i=t[n].eventInstance).def.getOverlap()))return!1;if("function"==typeof r&&!r(i.toLegacy(),o))return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),s=n(12),a=n(49),l=n(6),u=n(35),c=function(){function t(t,e){this.eventManager=t,this._calendar=e}return t.prototype.opt=function(t){return this._calendar.opt(t)},t.prototype.isEventInstanceGroupAllowed=function(t){var e,n=t.getEventDef(),i=this.eventRangesToEventFootprints(t.getAllEventRanges()),r=this.getPeerEventInstances(n).map(u.eventInstanceToEventRange),o=this.eventRangesToEventFootprints(r),s=n.getConstraint(),a=n.getOverlap(),l=this.opt("eventAllow");for(e=0;e<i.length;e++)if(!this.isFootprintAllowed(i[e].componentFootprint,o,s,a,i[e].eventInstance))return!1;if(l)for(e=0;e<i.length;e++)if(!1===l(i[e].componentFootprint.toLegacy(this._calendar),i[e].getEventLegacy()))return!1;return!0},t.prototype.getPeerEventInstances=function(t){return this.eventManager.getEventInstancesWithoutId(t.id)},t.prototype.isSelectionFootprintAllowed=function(t){var e,n=this.eventManager.getEventInstances().map(u.eventInstanceToEventRange),i=this.eventRangesToEventFootprints(n);return!!this.isFootprintAllowed(t,i,this.opt("selectConstraint"),this.opt("selectOverlap"))&&(!(e=this.opt("selectAllow"))||!1!==e(t.toLegacy(this._calendar)))},t.prototype.isFootprintAllowed=function(t,e,n,o,s){var a,l;if(null!=n&&(a=this.constraintValToFootprints(n,t.isAllDay),!this.isFootprintWithinConstraints(t,a)))return!1;if(l=this.collectOverlapEventFootprints(e,t),!1===o){if(l.length)return!1}else if("function"==typeof o&&!i(l,o,s))return!1;return!(s&&!r(l,s))},t.prototype.isFootprintWithinConstraints=function(t,e){var n;for(n=0;n<e.length;n++)if(this.footprintContainsFootprint(e[n],t))return!0;return!1},t.prototype.constraintValToFootprints=function(t,e){var n;return"businessHours"===t?this.buildCurrentBusinessFootprints(e):"object"==typeof t?(n=this.parseEventDefToInstances(t))?this.eventInstancesToFootprints(n):this.parseFootprints(t):null!=t?(n=this.eventManager.getEventInstancesWithId(t),this.eventInstancesToFootprints(n)):void 0},t.prototype.buildCurrentBusinessFootprints=function(t){var e=this._calendar.view,n=e.get("businessHourGenerator"),i=e.dateProfile.activeUnzonedRange,r=n.buildEventInstanceGroup(t,i);return r?this.eventInstancesToFootprints(r.eventInstances):[]},t.prototype.eventInstancesToFootprints=function(t){var e=t.map(u.eventInstanceToEventRange);return this.eventRangesToEventFootprints(e).map(u.eventFootprintToComponentFootprint)},t.prototype.collectOverlapEventFootprints=function(t,e){var n,i=[];for(n=0;n<t.length;n++)this.footprintsIntersect(e,t[n].componentFootprint)&&i.push(t[n]);return i},t.prototype.parseEventDefToInstances=function(t){var e=this.eventManager,n=a["default"].parse(t,new l["default"](this._calendar));return!!n&&n.buildInstances(e.currentPeriod.unzonedRange)},t.prototype.eventRangesToEventFootprints=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.eventRangeToEventFootprints(t[e]));return n},t.prototype.eventRangeToEventFootprints=function(t){return[u.eventRangeToEventFootprint(t)]},t.prototype.parseFootprints=function(t){var e,n;return t.start&&((e=this._calendar.moment(t.start)).isValid()||(e=null)),t.end&&((n=this._calendar.moment(t.end)).isValid()||(n=null)),[new s["default"](new o["default"](e,n),e&&!e.hasTime()||n&&!n.hasTime())]},t.prototype.footprintContainsFootprint=function(t,e){return t.unzonedRange.containsRange(e.unzonedRange)},t.prototype.footprintsIntersect=function(t,e){return t.unzonedRange.intersectsWith(e.unzonedRange)},t}();e["default"]=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.defineStandardProps=function(t){var e=this.prototype;e.hasOwnProperty("standardPropMap")||(e.standardPropMap=Object.create(e.standardPropMap)),r.copyOwnProps(t,e.standardPropMap)},e.copyVerbatimStandardProps=function(t,e){var n,i=this.prototype.standardPropMap;for(n in i)null!=t[n]&&!0===i[n]&&(e[n]=t[n])},e.prototype.applyProps=function(t){var e,n=this.standardPropMap,i={},r={};for(e in t)!0===n[e]?this[e]=t[e]:!1===n[e]?i[e]=t[e]:r[e]=t[e];return this.applyMiscProps(r),this.applyManualStandardProps(i)},e.prototype.applyManualStandardProps=function(){return!0},e.prototype.applyMiscProps=function(){},e.prototype.isStandardProp=function(t){return t in this.standardPropMap},e}(n(14)["default"]);e["default"]=o,o.prototype.standardPropMap={}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.def=t,this.dateProfile=e}return t.prototype.toLegacy=function(){var t=this.dateProfile,e=this.def.toLegacy();return e.start=t.start.clone(),e.end=t.end?t.end.clone():null,e},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(0),s=n(34),a=n(209),l=n(17),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.isAllDay=function(){return!this.startTime&&!this.endTime},e.prototype.buildInstances=function(t){for(var e,n,i,r=this.source.calendar,o=t.getStart(),s=t.getEnd(),u=[];o.isBefore(s);)this.dowHash&&!this.dowHash[o.day()]||(n=(e=r.applyTimezone(o)).clone(),i=null,this.startTime?n.time(this.startTime):n.stripTime(),this.endTime&&(i=e.clone().time(this.endTime)),u.push(new a["default"](this,new l["default"](n,i,r)))),o.add(1,"days");return u},e.prototype.setDow=function(t){this.dowHash||(this.dowHash={});for(var e=0;e<t.length;e++)this.dowHash[t[e]]=!0},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.startTime&&(e.startTime=o.duration(this.startTime)),e.endTime&&(e.endTime=o.duration(this.endTime)),this.dowHash&&(e.dowHash=r.extend({},this.dowHash)),e},e}(s["default"]);e["default"]=u,u.prototype.applyProps=function(t){var e=s["default"].prototype.applyProps.call(this,t);return t.start&&(this.startTime=o.duration(t.start)),t.end&&(this.endTime=o.duration(t.end)),t.dow&&this.setDow(t.dow),e},u.defineStandardProps({start:!1,end:!1,dow:!1})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.unzonedRange=t,this.eventDef=e,n&&(this.eventInstance=n)}return t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(35),o=n(18),s=n(210),a=n(6),l={start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},u=function(){function t(t,e){this.rawComplexDef=t,this.calendar=e}return t.prototype.buildEventInstanceGroup=function(t,e){var n,i=this.buildEventDefs(t);if(i.length)return(n=new o["default"](r.eventDefsToEventInstances(i,e))).explicitEventDef=i[0],n},t.prototype.buildEventDefs=function(t){var e,n=this.rawComplexDef,r=[],o=!1,s=[];for(!0===n?r=[{}]:i.isPlainObject(n)?r=[n]:i.isArray(n)&&(r=n,o=!0),e=0;e<r.length;e++)o&&!r[e].dow||s.push(this.buildEventDef(t,r[e]));return s},t.prototype.buildEventDef=function(t,e){var n=i.extend({},l,e);return t&&(n.start=null,n.end=null),s["default"].parse(n,new a["default"](this.calendar))},t}();e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(19)["default"]);e["default"]=r,r.prototype.classes={widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button",cornerLeft:"fc-corner-left",cornerRight:"fc-corner-right",stateDefault:"fc-state-default",stateActive:"fc-state-active",stateDisabled:"fc-state-disabled",stateHover:"fc-state-hover",stateDown:"fc-state-down",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},r.prototype.baseIconClass="fc-icon",r.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-left-single-arrow",next:"fc-icon-right-single-arrow",prevYear:"fc-icon-left-double-arrow",nextYear:"fc-icon-right-double-arrow"},r.prototype.iconOverrideOption="buttonIcons",r.prototype.iconOverrideCustomButtonOption="icon",r.prototype.iconOverridePrefix="fc-icon-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(19)["default"]);e["default"]=r,r.prototype.classes={widget:"ui-widget",widgetHeader:"ui-widget-header",widgetContent:"ui-widget-content",buttonGroup:"fc-button-group",button:"ui-button",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",stateDefault:"ui-state-default",stateActive:"ui-state-active",stateDisabled:"ui-state-disabled",stateHover:"ui-state-hover",stateDown:"ui-state-down",today:"ui-state-highlight",popoverHeader:"ui-widget-header",popoverContent:"ui-widget-content",headerRow:"ui-widget-header",dayRow:"ui-widget-content",listView:"ui-widget-content"},r.prototype.baseIconClass="ui-icon",r.prototype.iconClasses={close:"ui-icon-closethick",prev:"ui-icon-circle-triangle-w",next:"ui-icon-circle-triangle-e",prevYear:"ui-icon-seek-prev",nextYear:"ui-icon-seek-next"},r.prototype.iconOverrideOption="themeButtonIcons",r.prototype.iconOverrideCustomButtonOption="themeIcon",r.prototype.iconOverridePrefix="ui-icon-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(20),s=n(6),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.parse=function(t,e){var n;return r.isFunction(t.events)?n=t:r.isFunction(t)&&(n={events:t}),!!n&&s["default"].parse.call(this,n,e)},e.prototype.fetch=function(t,e,n){var i=this;return this.calendar.pushLoading(),o["default"].construct(function(r){i.func.call(i.calendar,t.clone(),e.clone(),n,function(t){i.calendar.popLoading(),r(i.parseEventDefs(t))})})},e.prototype.getPrimitive=function(){return this.func},e.prototype.applyManualStandardProps=function(e){var n=t.prototype.applyManualStandardProps.call(this,e);return this.func=e.events,n},e}(s["default"]);e["default"]=a,a.defineStandardProps({events:!1})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(20),a=n(6),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.parse=function(t,e){var n;return"string"==typeof t.url?n=t:"string"==typeof t&&(n={url:t}),!!n&&a["default"].parse.call(this,n,e)},e.prototype.fetch=function(t,n,i){var a=this,l=this.ajaxSettings,u=l.success,c=l.error,d=this.buildRequestParams(t,n,i);return this.calendar.pushLoading(),s["default"].construct(function(t,n){r.ajax(r.extend({},e.AJAX_DEFAULTS,l,{url:a.url,data:d,success:function(e,i,s){var l;a.calendar.popLoading(),e?(l=o.applyAll(u,a,[e,i,s]),r.isArray(l)&&(e=l),t(a.parseEventDefs(e))):n()},error:function(t,e,i){a.calendar.popLoading(),o.applyAll(c,a,[t,e,i]),n()}}))})},e.prototype.buildRequestParams=function(t,e,n){var i,o,s,a,l=this.calendar,u=this.ajaxSettings,c={};return null==(i=this.startParam)&&(i=l.opt("startParam")),null==(o=this.endParam)&&(o=l.opt("endParam")),null==(s=this.timezoneParam)&&(s=l.opt("timezoneParam")),a=r.isFunction(u.data)?u.data():u.data||{},r.extend(c,a),c[i]=t.format(),c[o]=e.format(),n&&"local"!==n&&(c[s]=n),c},e.prototype.getPrimitive=function(){return this.url},e.prototype.applyMiscProps=function(t){this.ajaxSettings=t},e.AJAX_DEFAULTS={dataType:"json",cache:!1},e}(a["default"]);e["default"]=l,l.defineStandardProps({url:!0,startParam:!0,endParam:!0,timezoneParam:!0})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(11),r=function(){function t(){this.q=[],this.isPaused=!1,this.isRunning=!1}return t.prototype.queue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.q.push.apply(this.q,t),this.tryStart()},t.prototype.pause=function(){this.isPaused=!0},t.prototype.resume=function(){this.isPaused=!1,this.tryStart()},t.prototype.getIsIdle=function(){return!this.isRunning&&!this.isPaused},t.prototype.tryStart=function(){!this.isRunning&&this.canRunNext()&&(this.isRunning=!0,this.trigger("start"),this.runRemaining())},t.prototype.canRunNext=function(){return!this.isPaused&&this.q.length},t.prototype.runRemaining=function(){var t,e,n=this;do{if(t=this.q.shift(),(e=this.runTask(t))&&e.then)return void e.then(function(){n.canRunNext()&&n.runRemaining()})}while(this.canRunNext());this.trigger("stop"),this.isRunning=!1,this.tryStart()},t.prototype.runTask=function(t){return t()},t}();e["default"]=r,i["default"].mixInto(r)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(e){var n=t.call(this)||this;return n.waitsByNamespace=e||{},n}return i.__extends(e,t),e.prototype.queue=function(t,e,n){var i,r={func:t,namespace:e,type:n};e&&(i=this.waitsByNamespace[e]),this.waitNamespace&&(e===this.waitNamespace&&null!=i?this.delayWait(i):(this.clearWait(),this.tryStart())),this.compoundTask(r)&&(this.waitNamespace||null==i?this.tryStart():this.startWait(e,i))},e.prototype.startWait=function(t,e){this.waitNamespace=t,this.spawnWait(e)},e.prototype.delayWait=function(t){clearTimeout(this.waitId),this.spawnWait(t)},e.prototype.spawnWait=function(t){var e=this;this.waitId=setTimeout(function(){e.waitNamespace=null,e.tryStart()},t)},e.prototype.clearWait=function(){this.waitNamespace&&(clearTimeout(this.waitId),this.waitId=null,this.waitNamespace=null)},e.prototype.canRunNext=function(){if(!t.prototype.canRunNext.call(this))return!1;if(this.waitNamespace){for(var e=this.q,n=0;n<e.length;n++)if(e[n].namespace!==this.waitNamespace)return!0;return!1}return!0},e.prototype.runTask=function(t){t.func()},e.prototype.compoundTask=function(t){var e,n=this.q,i=!0;if(t.namespace&&"destroy"===t.type)for(e=n.length-1;e>=0;e--)switch(n[e].type){case"init":i=!1;case"add":case"remove":n.splice(e,1)}return i&&n.push(t),i},e}(n(217)["default"]);e["default"]=r},function(t,e,n){function i(t){var e,n,i,r=[];for(e in t)for(n=t[e].eventInstances,i=0;i<n.length;i++)r.push(n[i].toLegacy());return r}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(3),s=n(0),a=n(4),l=n(10),u=n(47),c=n(237),d=n(35),h=function(t){function e(n,i){var r=t.call(this)||this;return r.isRTL=!1,r.hitsNeededDepth=0,r.hasAllDayBusinessHours=!1,r.isDatesRendered=!1,n&&(r.view=n),i&&(r.options=i),r.uid=String(e.guid++),r.childrenByUid={},r.nextDayThreshold=s.duration(r.opt("nextDayThreshold")),r.isRTL=r.opt("isRTL"),r.fillRendererClass&&(r.fillRenderer=new r.fillRendererClass(r)),r.eventRendererClass&&(r.eventRenderer=new r.eventRendererClass(r,r.fillRenderer)),r.helperRendererClass&&r.eventRenderer&&(r.helperRenderer=new r.helperRendererClass(r,r.eventRenderer)),r.businessHourRendererClass&&r.fillRenderer&&(r.businessHourRenderer=new r.businessHourRendererClass(r,r.fillRenderer)),r}return r.__extends(e,t),e.prototype.addChild=function(t){return!this.childrenByUid[t.uid]&&(this.childrenByUid[t.uid]=t,!0)},e.prototype.removeChild=function(t){return!!this.childrenByUid[t.uid]&&(delete this.childrenByUid[t.uid],!0)},e.prototype.updateSize=function(){this.callChildren("updateSize",arguments)},e.prototype.opt=function(t){return this._getView().opt(t)},e.prototype.publiclyTrigger=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getCalendar();return n.publiclyTrigger.apply(n,t)},e.prototype.hasPublicHandlers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getCalendar();return n.hasPublicHandlers.apply(n,t)},e.prototype.executeDateRender=function(t){this.dateProfile=t,this.renderDates(t),this.isDatesRendered=!0,this.callChildren("executeDateRender",arguments)},e.prototype.executeDateUnrender=function(){this.callChildren("executeDateUnrender",arguments),this.dateProfile=null,this.unrenderDates(),this.isDatesRendered=!1},e.prototype.renderDates=function(){},e.prototype.unrenderDates=function(){},e.prototype.getNowIndicatorUnit=function(){},e.prototype.renderNowIndicator=function(){this.callChildren("renderNowIndicator",arguments)},e.prototype.unrenderNowIndicator=function(){this.callChildren("unrenderNowIndicator",arguments)},e.prototype.renderBusinessHours=function(t){this.businessHourRenderer&&this.businessHourRenderer.render(t),this.callChildren("renderBusinessHours",arguments)},e.prototype.unrenderBusinessHours=function(){this.callChildren("unrenderBusinessHours",arguments),this.businessHourRenderer&&this.businessHourRenderer.unrender()},e.prototype.executeEventRender=function(t){this.eventRenderer?(this.eventRenderer.rangeUpdated(),this.eventRenderer.render(t)):this.renderEvents&&this.renderEvents(i(t)),this.callChildren("executeEventRender",arguments)},e.prototype.executeEventUnrender=function(){this.callChildren("executeEventUnrender",arguments),this.eventRenderer?this.eventRenderer.unrender():this.destroyEvents&&this.destroyEvents()},e.prototype.getBusinessHourSegs=function(){var t=this.getOwnBusinessHourSegs();return this.iterChildren(function(e){t.push.apply(t,e.getBusinessHourSegs())}),t},e.prototype.getOwnBusinessHourSegs=function(){return this.businessHourRenderer?this.businessHourRenderer.getSegs():[]},e.prototype.getEventSegs=function(){var t=this.getOwnEventSegs();return this.iterChildren(function(e){t.push.apply(t,e.getEventSegs())}),t},e.prototype.getOwnEventSegs=function(){return this.eventRenderer?this.eventRenderer.getSegs():[]},e.prototype.triggerAfterEventsRendered=function(){this.triggerAfterEventSegsRendered(this.getEventSegs()),this.publiclyTrigger("eventAfterAllRender",{context:this,args:[this]})},e.prototype.triggerAfterEventSegsRendered=function(t){var e=this;this.hasPublicHandlers("eventAfterRender")&&t.forEach(function(t){var n;t.el&&(n=t.footprint.getEventLegacy(),e.publiclyTrigger("eventAfterRender",{context:n,args:[n,t.el,e]}))})},e.prototype.triggerBeforeEventsDestroyed=function(){this.triggerBeforeEventSegsDestroyed(this.getEventSegs())},e.prototype.triggerBeforeEventSegsDestroyed=function(t){var e=this;this.hasPublicHandlers("eventDestroy")&&t.forEach(function(t){var n;t.el&&(n=t.footprint.getEventLegacy(),e.publiclyTrigger("eventDestroy",{context:n,args:[n,t.el,e]}))})},e.prototype.showEventsWithId=function(t){this.getEventSegs().forEach(function(e){e.footprint.eventDef.id===t&&e.el&&e.el.css("visibility","")}),this.callChildren("showEventsWithId",arguments)},e.prototype.hideEventsWithId=function(t){this.getEventSegs().forEach(function(e){e.footprint.eventDef.id===t&&e.el&&e.el.css("visibility","hidden")}),this.callChildren("hideEventsWithId",arguments)},e.prototype.renderDrag=function(t,e,n){var i=!1;return this.iterChildren(function(r){r.renderDrag(t,e,n)&&(i=!0)}),i},e.prototype.unrenderDrag=function(){this.callChildren("unrenderDrag",arguments)},e.prototype.renderEventResize=function(){this.callChildren("renderEventResize",arguments)},e.prototype.unrenderEventResize=function(){this.callChildren("unrenderEventResize",arguments)},e.prototype.renderSelectionFootprint=function(t){this.renderHighlight(t),this.callChildren("renderSelectionFootprint",arguments)},e.prototype.unrenderSelection=function(){this.unrenderHighlight(),this.callChildren("unrenderSelection",arguments)},e.prototype.renderHighlight=function(t){this.fillRenderer&&this.fillRenderer.renderFootprint("highlight",t,{getClasses:function(){return["fc-highlight"]}}),this.callChildren("renderHighlight",arguments)},e.prototype.unrenderHighlight=function(){this.fillRenderer&&this.fillRenderer.unrender("highlight"),this.callChildren("unrenderHighlight",arguments)},e.prototype.hitsNeeded=function(){this.hitsNeededDepth++||this.prepareHits(),this.callChildren("hitsNeeded",arguments)},e.prototype.hitsNotNeeded=function(){this.hitsNeededDepth&&!--this.hitsNeededDepth&&this.releaseHits(),this.callChildren("hitsNotNeeded",arguments)},e.prototype.prepareHits=function(){},e.prototype.releaseHits=function(){},e.prototype.queryHit=function(t,e){var n,i,r=this.childrenByUid;for(n in r)if(i=r[n].queryHit(t,e))break;return i},e.prototype.getSafeHitFootprint=function(t){var e=this.getHitFootprint(t);return this.dateProfile.activeUnzonedRange.containsRange(e.unzonedRange)?e:null},e.prototype.getHitFootprint=function(){},e.prototype.getHitEl=function(){},e.prototype.eventRangesToEventFootprints=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.eventRangeToEventFootprints(t[e]));return n},e.prototype.eventRangeToEventFootprints=function(t){return[d.eventRangeToEventFootprint(t)]},e.prototype.eventFootprintsToSegs=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.eventFootprintToSegs(t[e]));return n},e.prototype.eventFootprintToSegs=function(t){var e,n,i,r=t.componentFootprint.unzonedRange;for(e=this.componentFootprintToSegs(t.componentFootprint),n=0;n<e.length;n++)i=e[n],r.isStart||(i.isStart=!1),r.isEnd||(i.isEnd=!1),i.footprint=t;return e},e.prototype.componentFootprintToSegs=function(){return[]},e.prototype.callChildren=function(t,e){this.iterChildren(function(n){n[t].apply(n,e)})},e.prototype.iterChildren=function(t){var e,n=this.childrenByUid;for(e in n)t(n[e])},e.prototype._getCalendar=function(){var t=this;return t.calendar||t.view.calendar},e.prototype._getView=function(){return this.view},e.prototype._getDateProfile=function(){return this._getView().get("dateProfile")},e.prototype.buildGotoAnchorHtml=function(t,e,n){var i,r,s,u;return o.isPlainObject(t)?(i=t.date,r=t.type,s=t.forceOff):i=t,u={date:(i=l["default"](i)).format("YYYY-MM-DD"),type:r||"day"},"string"==typeof e&&(n=e,e=null),e=e?" "+a.attrsToStr(e):"",n=n||"",!s&&this.opt("navLinks")?"<a"+e+' data-goto="'+a.htmlEscape(JSON.stringify(u))+'">'+n+"</a>":"<span"+e+">"+n+"</span>"},e.prototype.getAllDayHtml=function(){return this.opt("allDayHtml")||a.htmlEscape(this.opt("allDayText"))},e.prototype.getDayClasses=function(t,e){var n,i=this._getView(),r=[];return this.dateProfile.activeUnzonedRange.containsDate(t)?(r.push("fc-"+a.dayIDs[t.day()]),i.isDateInOtherMonth(t,this.dateProfile)&&r.push("fc-other-month"),n=i.calendar.getNow(),t.isSame(n,"day")?(r.push("fc-today"),!0!==e&&r.push(i.calendar.theme.getClass("today"))):t<n?r.push("fc-past"):r.push("fc-future")):r.push("fc-disabled-day"),r},e.prototype.formatRange=function(t,e,n,i){var r=t.end;return e&&(r=r.clone().subtract(1)),u.formatRange(t.start,r,n,i,this.isRTL)},e.prototype.currentRangeAs=function(t){return this._getDateProfile().currentUnzonedRange.as(t)},e.prototype.computeDayRange=function(t){var e=this._getCalendar(),n=e.msToUtcMoment(t.startMs,!0),i=e.msToUtcMoment(t.endMs),r=+i.time(),o=i.clone().stripTime();return r&&r>=this.nextDayThreshold&&o.add(1,"days"),o<=n&&(o=n.clone().add(1,"days")),{start:n,end:o}},e.prototype.isMultiDayRange=function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1},e.guid=0,e}(c["default"]);e["default"]=h},function(t,e,n){function i(t,e){return null==e?t:r.isFunction(e)?t.filter(e):(e+="",t.filter(function(t){return t.id==e||t._id===e}))}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(0),s=n(4),a=n(32),l=n(238),u=n(21),c=n(11),d=n(7),h=n(239),f=n(240),p=n(241),m=n(207),g=n(31),v=n(10),y=n(5),b=n(12),w=n(17),x=n(242),C=n(212),S=n(38),_=n(49),E=n(13),T=n(37),k=n(6),D=n(51),M=function(){function t(t,e){this.loadingLevel=0,this.ignoreUpdateViewSize=0,this.freezeContentHeightDepth=0,u["default"].needed(),this.el=t,this.viewsByType={},this.optionsManager=new f["default"](this,e),this.viewSpecManager=new p["default"](this.optionsManager,this),this.initMomentInternals(),this.initCurrentDate(),this.initEventManager(),this.constraints=new m["default"](this.eventManager,this),this.constructed()}return t.prototype.constructed=function(){},t.prototype.getView=function(){return this.view},t.prototype.publiclyTrigger=function(t,e){var n,i,o=this.opt(t);if(r.isPlainObject(e)?(n=e.context,i=e.args):r.isArray(e)&&(i=e),null==n&&(n=this.el[0]),i||(i=[]),this.triggerWith(t,n,i),o)return o.apply(n,i)},t.prototype.hasPublicHandlers=function(t){return this.hasHandlers(t)||this.opt(t)},t.prototype.option=function(t,e){var n;if("string"==typeof t){if(e===undefined)return this.optionsManager.get(t);(n={})[t]=e,this.optionsManager.add(n)}else"object"==typeof t&&this.optionsManager.add(t)},t.prototype.opt=function(t){return this.optionsManager.get(t)},t.prototype.instantiateView=function(t){var e=this.viewSpecManager.getViewSpec(t);if(!e)throw new Error('View type "'+t+'" is not valid');return new e["class"](this,e)},t.prototype.isValidViewType=function(t){
return Boolean(this.viewSpecManager.getViewSpec(t))},t.prototype.changeView=function(t,e){e&&(e.start&&e.end?this.optionsManager.recordOverrides({visibleRange:e}):this.currentDate=this.moment(e).stripZone()),this.renderView(t)},t.prototype.zoomTo=function(t,e){var n;e=e||"day",n=this.viewSpecManager.getViewSpec(e)||this.viewSpecManager.getUnitViewSpec(e),this.currentDate=t.clone(),this.renderView(n?n.type:null)},t.prototype.initCurrentDate=function(){var t=this.opt("defaultDate");this.currentDate=null!=t?this.moment(t).stripZone():this.getNow()},t.prototype.prev=function(){var t=this.view,e=t.dateProfileGenerator.buildPrev(t.get("dateProfile"));e.isValid&&(this.currentDate=e.date,this.renderView())},t.prototype.next=function(){var t=this.view,e=t.dateProfileGenerator.buildNext(t.get("dateProfile"));e.isValid&&(this.currentDate=e.date,this.renderView())},t.prototype.prevYear=function(){this.currentDate.add(-1,"years"),this.renderView()},t.prototype.nextYear=function(){this.currentDate.add(1,"years"),this.renderView()},t.prototype.today=function(){this.currentDate=this.getNow(),this.renderView()},t.prototype.gotoDate=function(t){this.currentDate=this.moment(t).stripZone(),this.renderView()},t.prototype.incrementDate=function(t){this.currentDate.add(o.duration(t)),this.renderView()},t.prototype.getDate=function(){return this.applyTimezone(this.currentDate)},t.prototype.pushLoading=function(){this.loadingLevel++||this.publiclyTrigger("loading",[!0,this.view])},t.prototype.popLoading=function(){--this.loadingLevel||this.publiclyTrigger("loading",[!1,this.view])},t.prototype.render=function(){this.contentEl?this.elementVisible()&&(this.calcSize(),this.updateViewSize()):this.initialRender()},t.prototype.initialRender=function(){var t=this,e=this.el;e.addClass("fc"),e.on("click.fc","a[data-goto]",function(e){var n=r(e.currentTarget).data("goto"),i=t.moment(n.date),o=n.type,a=t.view.opt("navLink"+s.capitaliseFirstLetter(o)+"Click");"function"==typeof a?a(i,e):("string"==typeof a&&(o=a),t.zoomTo(i,o))}),this.optionsManager.watch("settingTheme",["?theme","?themeSystem"],function(n){var i=new(D.getThemeSystemClass(n.themeSystem||n.theme))(t.optionsManager),r=i.getClass("widget");t.theme=i,r&&e.addClass(r)},function(){var n=t.theme.getClass("widget");t.theme=null,n&&e.removeClass(n)}),this.optionsManager.watch("settingBusinessHourGenerator",["?businessHours"],function(e){t.businessHourGenerator=new C["default"](e.businessHours,t),t.view&&t.view.set("businessHourGenerator",t.businessHourGenerator)},function(){t.businessHourGenerator=null}),this.optionsManager.watch("applyingDirClasses",["?isRTL","?locale"],function(t){e.toggleClass("fc-ltr",!t.isRTL),e.toggleClass("fc-rtl",t.isRTL)}),this.contentEl=r("<div class='fc-view-container'/>").prependTo(e),this.initToolbars(),this.renderHeader(),this.renderFooter(),this.renderView(this.opt("defaultView")),this.opt("handleWindowResize")&&r(window).resize(this.windowResizeProxy=s.debounce(this.windowResize.bind(this),this.opt("windowResizeDelay")))},t.prototype.destroy=function(){this.view&&this.clearView(),this.toolbarsManager.proxyCall("removeElement"),this.contentEl.remove(),this.el.removeClass("fc fc-ltr fc-rtl"),this.optionsManager.unwatch("settingTheme"),this.optionsManager.unwatch("settingBusinessHourGenerator"),this.el.off(".fc"),this.windowResizeProxy&&(r(window).unbind("resize",this.windowResizeProxy),this.windowResizeProxy=null),u["default"].unneeded()},t.prototype.elementVisible=function(){return this.el.is(":visible")},t.prototype.bindViewHandlers=function(t){var e=this;t.watch("titleForCalendar",["title"],function(n){t===e.view&&e.setToolbarsTitle(n.title)}),t.watch("dateProfileForCalendar",["dateProfile"],function(n){t===e.view&&(e.currentDate=n.dateProfile.date,e.updateToolbarButtons(n.dateProfile))})},t.prototype.unbindViewHandlers=function(t){t.unwatch("titleForCalendar"),t.unwatch("dateProfileForCalendar")},t.prototype.renderView=function(t){var e,n=this.view;this.freezeContentHeight(),n&&t&&n.type!==t&&this.clearView(),!this.view&&t&&(e=this.view=this.viewsByType[t]||(this.viewsByType[t]=this.instantiateView(t)),this.bindViewHandlers(e),e.startBatchRender(),e.setElement(r("<div class='fc-view fc-"+t+"-view' />").appendTo(this.contentEl)),this.toolbarsManager.proxyCall("activateButton",t)),this.view&&(this.view.get("businessHourGenerator")!==this.businessHourGenerator&&this.view.set("businessHourGenerator",this.businessHourGenerator),this.view.setDate(this.currentDate),e&&e.stopBatchRender()),this.thawContentHeight()},t.prototype.clearView=function(){var t=this.view;this.toolbarsManager.proxyCall("deactivateButton",t.type),this.unbindViewHandlers(t),t.removeElement(),t.unsetDate(),this.view=null},t.prototype.reinitView=function(){var t=this.view,e=t.queryScroll();this.freezeContentHeight(),this.clearView(),this.calcSize(),this.renderView(t.type),this.view.applyScroll(e),this.thawContentHeight()},t.prototype.getSuggestedViewHeight=function(){return null==this.suggestedViewHeight&&this.calcSize(),this.suggestedViewHeight},t.prototype.isHeightAuto=function(){return"auto"===this.opt("contentHeight")||"auto"===this.opt("height")},t.prototype.updateViewSize=function(t){void 0===t&&(t=!1);var e,n=this.view;if(!this.ignoreUpdateViewSize&&n)return t&&(this.calcSize(),e=n.queryScroll()),this.ignoreUpdateViewSize++,n.updateSize(this.getSuggestedViewHeight(),this.isHeightAuto(),t),this.ignoreUpdateViewSize--,t&&n.applyScroll(e),!0},t.prototype.calcSize=function(){this.elementVisible()&&this._calcSize()},t.prototype._calcSize=function(){var t=this.opt("contentHeight"),e=this.opt("height");this.suggestedViewHeight="number"==typeof t?t:"function"==typeof t?t():"number"==typeof e?e-this.queryToolbarsHeight():"function"==typeof e?e()-this.queryToolbarsHeight():"parent"===e?this.el.parent().height()-this.queryToolbarsHeight():Math.round(this.contentEl.width()/Math.max(this.opt("aspectRatio"),.5))},t.prototype.windowResize=function(t){t.target===window&&this.view&&this.view.isDatesRendered&&this.updateViewSize(!0)&&this.publiclyTrigger("windowResize",[this.view])},t.prototype.freezeContentHeight=function(){this.freezeContentHeightDepth++||this.forceFreezeContentHeight()},t.prototype.forceFreezeContentHeight=function(){this.contentEl.css({width:"100%",height:this.contentEl.height(),overflow:"hidden"})},t.prototype.thawContentHeight=function(){this.freezeContentHeightDepth--,this.contentEl.css({width:"",height:"",overflow:""}),this.freezeContentHeightDepth&&this.forceFreezeContentHeight()},t.prototype.initToolbars=function(){this.header=new h["default"](this,this.computeHeaderOptions()),this.footer=new h["default"](this,this.computeFooterOptions()),this.toolbarsManager=new l["default"]([this.header,this.footer])},t.prototype.computeHeaderOptions=function(){return{extraClasses:"fc-header-toolbar",layout:this.opt("header")}},t.prototype.computeFooterOptions=function(){return{extraClasses:"fc-footer-toolbar",layout:this.opt("footer")}},t.prototype.renderHeader=function(){var t=this.header;t.setToolbarOptions(this.computeHeaderOptions()),t.render(),t.el&&this.el.prepend(t.el)},t.prototype.renderFooter=function(){var t=this.footer;t.setToolbarOptions(this.computeFooterOptions()),t.render(),t.el&&this.el.append(t.el)},t.prototype.setToolbarsTitle=function(t){this.toolbarsManager.proxyCall("updateTitle",t)},t.prototype.updateToolbarButtons=function(t){var e=this.getNow(),n=this.view,i=n.dateProfileGenerator.build(e),r=n.dateProfileGenerator.buildPrev(n.get("dateProfile")),o=n.dateProfileGenerator.buildNext(n.get("dateProfile"));this.toolbarsManager.proxyCall(i.isValid&&!t.currentUnzonedRange.containsDate(e)?"enableButton":"disableButton","today"),this.toolbarsManager.proxyCall(r.isValid?"enableButton":"disableButton","prev"),this.toolbarsManager.proxyCall(o.isValid?"enableButton":"disableButton","next")},t.prototype.queryToolbarsHeight=function(){return this.toolbarsManager.items.reduce(function(t,e){return t+(e.el?e.el.outerHeight(!0):0)},0)},t.prototype.select=function(){this.view.select(this.buildSelectFootprint.apply(this,arguments))},t.prototype.unselect=function(){this.view&&this.view.unselect()},t.prototype.buildSelectFootprint=function(t,e){var n,i=this.moment(t).stripZone();return n=e?this.moment(e).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),new b["default"](new y["default"](i,n),!i.hasTime())},t.prototype.initMomentInternals=function(){var t=this;this.defaultAllDayEventDuration=o.duration(this.opt("defaultAllDayEventDuration")),this.defaultTimedEventDuration=o.duration(this.opt("defaultTimedEventDuration")),this.optionsManager.watch("buildingMomentLocale",["?locale","?monthNames","?monthNamesShort","?dayNames","?dayNamesShort","?firstDay","?weekNumberCalculation"],function(e){var n,i=e.weekNumberCalculation,r=e.firstDay;"iso"===i&&(i="ISO");var o=Object.create(g.getMomentLocaleData(e.locale));e.monthNames&&(o._months=e.monthNames),e.monthNamesShort&&(o._monthsShort=e.monthNamesShort),e.dayNames&&(o._weekdays=e.dayNames),e.dayNamesShort&&(o._weekdaysShort=e.dayNamesShort),null==r&&"ISO"===i&&(r=1),null!=r&&((n=Object.create(o._week)).dow=r,o._week=n),"ISO"!==i&&"local"!==i&&"function"!=typeof i||(o._fullCalendar_weekCalc=i),t.localeData=o,t.currentDate&&t.localizeMoment(t.currentDate)})},t.prototype.moment=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"local"===this.opt("timezone")?(t=v["default"].apply(null,e)).hasTime()&&t.local():t="UTC"===this.opt("timezone")?v["default"].utc.apply(null,e):v["default"].parseZone.apply(null,e),this.localizeMoment(t),t},t.prototype.msToMoment=function(t,e){var n=v["default"].utc(t);return e?n.stripTime():n=this.applyTimezone(n),this.localizeMoment(n),n},t.prototype.msToUtcMoment=function(t,e){var n=v["default"].utc(t);return e&&n.stripTime(),this.localizeMoment(n),n},t.prototype.localizeMoment=function(t){t._locale=this.localeData},t.prototype.getIsAmbigTimezone=function(){return"local"!==this.opt("timezone")&&"UTC"!==this.opt("timezone")},t.prototype.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,n=this.moment(t.toArray()),i=t.time().asMilliseconds()-n.time().asMilliseconds();return i&&(e=n.clone().add(i),t.time().asMilliseconds()-e.time().asMilliseconds()==0&&(n=e)),n},t.prototype.footprintToDateProfile=function(t,e){void 0===e&&(e=!1);var n,i=v["default"].utc(t.unzonedRange.startMs);return e||(n=v["default"].utc(t.unzonedRange.endMs)),t.isAllDay?(i.stripTime(),n&&n.stripTime()):(i=this.applyTimezone(i),n&&(n=this.applyTimezone(n))),new w["default"](i,n,this)},t.prototype.getNow=function(){var t=this.opt("now");return"function"==typeof t&&(t=t()),this.moment(t).stripZone()},t.prototype.humanizeDuration=function(t){return t.locale(this.opt("locale")).humanize()},t.prototype.parseUnzonedRange=function(t){var e=null,n=null;return t.start&&(e=this.moment(t.start).stripZone()),t.end&&(n=this.moment(t.end).stripZone()),e||n?e&&n&&n.isBefore(e)?null:new y["default"](e,n):null},t.prototype.initEventManager=function(){var t=this,e=new x["default"](this),n=this.opt("eventSources")||[],i=this.opt("events");this.eventManager=e,i&&n.unshift(i),e.on("release",function(e){t.trigger("eventsReset",e)}),e.freeze(),n.forEach(function(n){var i=S["default"].parse(n,t);i&&e.addSource(i)}),e.thaw()},t.prototype.requestEvents=function(t,e){return this.eventManager.requestEvents(t,e,this.opt("timezone"),!this.opt("lazyFetching"))},t.prototype.getEventEnd=function(t){return t.end?t.end.clone():this.getDefaultEventEnd(t.allDay,t.start)},t.prototype.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(this.defaultAllDayEventDuration):n.add(this.defaultTimedEventDuration),this.getIsAmbigTimezone()&&n.stripZone(),n},t.prototype.rerenderEvents=function(){this.view.flash("displayingEvents")},t.prototype.refetchEvents=function(){this.eventManager.refetchAllSources()},t.prototype.renderEvents=function(t,e){this.eventManager.freeze();for(var n=0;n<t.length;n++)this.renderEvent(t[n],e);this.eventManager.thaw()},t.prototype.renderEvent=function(t,e){void 0===e&&(e=!1);var n=this.eventManager,i=_["default"].parse(t,t.source||n.stickySource);i&&n.addEventDef(i,e)},t.prototype.removeEvents=function(t){var e,n=this.eventManager,r=[],o={};if(null==t)n.removeAllEventDefs();else{for(n.getEventInstances().forEach(function(t){r.push(t.toLegacy())}),r=i(r,t),e=0;e<r.length;e++)o[this.eventManager.getEventDefByUid(r[e]._id).id]=!0;for(e in n.freeze(),o)n.removeEventDefsById(e);n.thaw()}},t.prototype.clientEvents=function(t){var e=[];return this.eventManager.getEventInstances().forEach(function(t){e.push(t.toLegacy())}),i(e,t)},t.prototype.updateEvents=function(t){this.eventManager.freeze();for(var e=0;e<t.length;e++)this.updateEvent(t[e]);this.eventManager.thaw()},t.prototype.updateEvent=function(t){var e,n,i=this.eventManager.getEventDefByUid(t._id);i instanceof E["default"]&&(e=i.buildInstance(),n=T["default"].createFromRawProps(e,t,null),this.eventManager.mutateEventsWithId(i.id,n))},t.prototype.getEventSources=function(){return this.eventManager.otherSources.slice()},t.prototype.getEventSourceById=function(t){return this.eventManager.getSourceById(k["default"].normalizeId(t))},t.prototype.addEventSource=function(t){var e=S["default"].parse(t,this);e&&this.eventManager.addSource(e)},t.prototype.removeEventSources=function(t){var e,n,i=this.eventManager;if(null==t)this.eventManager.removeAllSources();else{for(e=i.multiQuerySources(t),i.freeze(),n=0;n<e.length;n++)i.removeSource(e[n]);i.thaw()}},t.prototype.removeEventSource=function(t){var e,n=this.eventManager,i=n.querySources(t);for(n.freeze(),e=0;e<i.length;e++)n.removeSource(i[e]);n.thaw()},t.prototype.refetchEventSources=function(t){var e,n=this.eventManager,i=n.multiQuerySources(t);for(n.freeze(),e=0;e<i.length;e++)n.refetchSource(i[e]);n.thaw()},t.defaults=a.globalDefaults,t.englishDefaults=a.englishDefaults,t.rtlDefaults=a.rtlDefaults,t}();e["default"]=M,c["default"].mixInto(M),d["default"].mixInto(M)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(5),s=function(){function t(t){this._view=t}return t.prototype.opt=function(t){return this._view.opt(t)},t.prototype.trimHiddenDays=function(t){return this._view.trimHiddenDays(t)},t.prototype.msToUtcMoment=function(t,e){return this._view.calendar.msToUtcMoment(t,e)},t.prototype.buildPrev=function(t){var e=t.date.clone().startOf(t.currentRangeUnit).subtract(t.dateIncrement);return this.build(e,-1)},t.prototype.buildNext=function(t){var e=t.date.clone().startOf(t.currentRangeUnit).add(t.dateIncrement);return this.build(e,1)},t.prototype.build=function(t,e,n){void 0===n&&(n=!1);var r,o,s,a,l,u,c=!t.hasTime(),d=null,h=null;return r=this.buildValidRange(),r=this.trimHiddenDays(r),n&&(t=this.msToUtcMoment(r.constrainDate(t),c)),o=this.buildCurrentRangeInfo(t,e),s=/^(year|month|week|day)$/.test(o.unit),a=this.buildRenderRange(this.trimHiddenDays(o.unzonedRange),o.unit,s),l=(a=this.trimHiddenDays(a)).clone(),this.opt("showNonCurrentDates")||(l=l.intersect(o.unzonedRange)),d=i.duration(this.opt("minTime")),h=i.duration(this.opt("maxTime")),(l=(l=this.adjustActiveRange(l,d,h)).intersect(r))&&(t=this.msToUtcMoment(l.constrainDate(t),c)),u=o.unzonedRange.intersectsWith(r),{validUnzonedRange:r,currentUnzonedRange:o.unzonedRange,currentRangeUnit:o.unit,isRangeAllDay:s,activeUnzonedRange:l,renderUnzonedRange:a,minTime:d,maxTime:h,isValid:u,date:t,dateIncrement:this.buildDateIncrement(o.duration)}},t.prototype.buildValidRange=function(){return this._view.getUnzonedRangeOption("validRange",this._view.calendar.getNow())||new o["default"]},t.prototype.buildCurrentRangeInfo=function(t,e){var n,i=this._view.viewSpec,o=null,s=null,a=null;return i.duration?(o=i.duration,s=i.durationUnit,a=this.buildRangeFromDuration(t,e,o,s)):(n=this.opt("dayCount"))?(s="day",a=this.buildRangeFromDayCount(t,e,n)):(a=this.buildCustomVisibleRange(t))?s=r.computeGreatestUnit(a.getStart(),a.getEnd()):(o=this.getFallbackDuration(),s=r.computeGreatestUnit(o),a=this.buildRangeFromDuration(t,e,o,s)),{duration:o,unit:s,unzonedRange:a}},t.prototype.getFallbackDuration=function(){return i.duration({days:1})},t.prototype.adjustActiveRange=function(t,e,n){var i=t.getStart(),r=t.getEnd();return this._view.usesMinMaxTime&&(e<0&&i.time(0).add(e),n>864e5&&r.time(n-864e5)),new o["default"](i,r)},t.prototype.buildRangeFromDuration=function(t,e,n,s){function a(){c=t.clone().startOf(f),d=c.clone().add(n),h=new o["default"](c,d)}var l,u,c,d,h,f=this.opt("dateAlignment");return f||((l=this.opt("dateIncrement"))?(u=i.duration(l),f=u<n?r.computeDurationGreatestUnit(u,l):s):f=s),n.as("days")<=1&&this._view.isHiddenDay(c)&&(c=this._view.skipHiddenDays(c,e)).startOf("day"),a(),this.trimHiddenDays(h)||(t=this._view.skipHiddenDays(t,e),a()),h},t.prototype.buildRangeFromDayCount=function(t,e,n){var i,r=this.opt("dateAlignment"),s=0,a=t.clone();r&&a.startOf(r),a.startOf("day"),i=(a=this._view.skipHiddenDays(a,e)).clone();do{i.add(1,"day"),this._view.isHiddenDay(i)||s++}while(s<n);return new o["default"](a,i)},t.prototype.buildCustomVisibleRange=function(t){var e=this._view.getUnzonedRangeOption("visibleRange",this._view.calendar.applyTimezone(t));return!e||null!=e.startMs&&null!=e.endMs?e:null},t.prototype.buildRenderRange=function(t){return t.clone()},t.prototype.buildDateIncrement=function(t){var e,n=this.opt("dateIncrement");return n?i.duration(n):(e=this.opt("dateAlignment"))?i.duration(1,e):t||i.duration({days:1})},t}();e["default"]=s},function(t,e,n){function i(t){var e,n,i,r,l=a.dataAttrPrefix;return l&&(l+="-"),(e=t.data(l+"event")||null)&&(null==(n=(e="object"==typeof e?o.extend({},e):{}).start)&&(n=e.time),i=e.duration,r=e.stick,delete e.start,delete e.time,delete e.duration,delete e.stick),null==n&&(n=t.data(l+"start")),null==n&&(n=t.data(l+"time")),null==i&&(i=t.data(l+"duration")),null==r&&(r=t.data(l+"stick")),{eventProps:e,startTime:n=null!=n?s.duration(n):null,duration:i=null!=i?s.duration(i):null,stick:r=Boolean(r)}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(3),s=n(0),a=n(16),l=n(4),u=n(10),c=n(7),d=n(23),h=n(13),f=n(18),p=n(6),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return r.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.bindToDocument=function(){this.listenTo(o(document),{dragstart:this.handleDragStart,sortstart:this.handleDragStart})},e.prototype.unbindFromDocument=function(){this.stopListeningTo(o(document))},e.prototype.handleDragStart=function(t,e){var n,i;this.opt("droppable")&&(n=o((e?e.item:null)||t.target),i=this.opt("dropAccept"),(o.isFunction(i)?i.call(n[0],n):n.is(i))&&(this.isDragging||this.listenToExternalDrag(n,t,e)))},e.prototype.listenToExternalDrag=function(t,e,n){var r,o=this,s=this.component,a=this.view,u=i(t);(this.dragListener=new d["default"](s,{interactionStart:function(){o.isDragging=!0},hitOver:function(t){var e,n=!0,i=t.component.getSafeHitFootprint(t);i&&(r=o.computeExternalDrop(i,u))?(e=new f["default"](r.buildInstances()),n=u.eventProps?s.isEventInstanceGroupAllowed(e):s.isExternalInstanceGroupAllowed(e)):n=!1,n||(r=null,l.disableCursor()),r&&s.renderDrag(s.eventRangesToEventFootprints(e.sliceRenderRanges(s.dateProfile.renderUnzonedRange,a.calendar)))},hitOut:function(){r=null},hitDone:function(){l.enableCursor(),s.unrenderDrag()},interactionEnd:function(e){r&&a.reportExternalDrop(r,Boolean(u.eventProps),Boolean(u.stick),t,e,n),o.isDragging=!1,o.dragListener=null}})).startDrag(e)},e.prototype.computeExternalDrop=function(t,e){var n,i=this.view.calendar,r=u["default"].utc(t.unzonedRange.startMs).stripZone();return t.isAllDay&&(e.startTime?r.time(e.startTime):r.stripTime()),e.duration&&(n=r.clone().add(e.duration)),r=i.applyTimezone(r),n&&(n=i.applyTimezone(n)),h["default"].parse(o.extend({},e.eventProps,{start:r,end:n}),new p["default"](i))},e}(n(15)["default"]);e["default"]=m,c["default"].mixInto(m),a.dataAttrPrefix=""},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(37),a=n(50),l=n(23),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.isResizing=!1,i.eventPointing=n,i}return i.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"mousedown",this.handleMouseDown.bind(this)),e.bindSegHandlerToEl(t,"touchstart",this.handleTouchStart.bind(this))},e.prototype.handleMouseDown=function(t,e){this.component.canStartResize(t,e)&&this.buildDragListener(t,r(e.target).is(".fc-start-resizer")).startInteraction(e,{distance:5})},e.prototype.handleTouchStart=function(t,e){this.component.canStartResize(t,e)&&this.buildDragListener(t,r(e.target).is(".fc-start-resizer")).startInteraction(e)},e.prototype.buildDragListener=function(t,e){var n,i,r=this,s=this.component,a=this.view,u=a.calendar,c=u.eventManager,d=t.el,h=t.footprint.eventDef,f=t.footprint.eventInstance;return this.dragListener=new l["default"](s,{scroll:this.opt("dragScroll"),subjectEl:d,interactionStart:function(){n=!1},dragStart:function(e){n=!0,r.eventPointing.handleMouseout(t,e),r.segResizeStart(t,e)},hitOver:function(n,l,d){var f,p=!0,m=s.getSafeHitFootprint(d),g=s.getSafeHitFootprint(n);m&&g&&(i=e?r.computeEventStartResizeMutation(m,g,t.footprint):r.computeEventEndResizeMutation(m,g,t.footprint))?(f=c.buildMutatedEventInstanceGroup(h.id,i),p=s.isEventInstanceGroupAllowed(f)):p=!1,p?i.isEmpty()&&(i=null):(i=null,o.disableCursor()),i&&(a.hideEventsWithId(t.footprint.eventDef.id),a.renderEventResize(s.eventRangesToEventFootprints(f.sliceRenderRanges(s.dateProfile.renderUnzonedRange,u)),t))},hitOut:function(){i=null},hitDone:function(){a.unrenderEventResize(t),a.showEventsWithId(t.footprint.eventDef.id),o.enableCursor()},interactionEnd:function(e){n&&r.segResizeStop(t,e),i&&a.reportEventResize(f,i,d,e),r.dragListener=null}})},e.prototype.segResizeStart=function(t,e){this.isResizing=!0,this.component.publiclyTrigger("eventResizeStart",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.segResizeStop=function(t,e){this.isResizing=!1,this.component.publiclyTrigger("eventResizeStop",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.computeEventStartResizeMutation=function(t,e,n){var i,r,o=n.componentFootprint.unzonedRange,l=this.component.diffDates(e.unzonedRange.getStart(),t.unzonedRange.getStart());return o.getStart().add(l)<o.getEnd()&&((i=new a["default"]).setStartDelta(l),(r=new s["default"]).setDateMutation(i),r)},e.prototype.computeEventEndResizeMutation=function(t,e,n){var i,r,o=n.componentFootprint.unzonedRange,l=this.component.diffDates(e.unzonedRange.getEnd(),t.unzonedRange.getEnd());return o.getEnd().add(l)>o.getStart()&&((i=new a["default"]).setEndDelta(l),(r=new s["default"]).setDateMutation(i),r)},e}(n(15)["default"]);e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=n(37),s=n(50),a=n(54),l=n(23),u=n(244),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.isDragging=!1,i.eventPointing=n,i}return i.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.getSelectionDelay=function(){var t=this.opt("eventLongPressDelay");return null==t&&(t=this.opt("longPressDelay")),t},e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"mousedown",this.handleMousedown.bind(this)),e.bindSegHandlerToEl(t,"touchstart",this.handleTouchStart.bind(this))},e.prototype.handleMousedown=function(t,e){!this.component.shouldIgnoreMouse()&&this.component.canStartDrag(t,e)&&this.buildDragListener(t).startInteraction(e,{distance:5})},e.prototype.handleTouchStart=function(t,e){var n=this.component,i={delay:this.view.isEventDefSelected(t.footprint.eventDef)?0:this.getSelectionDelay()};n.canStartDrag(t,e)?this.buildDragListener(t).startInteraction(e,i):n.canStartSelection(t,e)&&this.buildSelectListener(t).startInteraction(e,i)},e.prototype.buildSelectListener=function(t){var e=this,n=this.view,i=t.footprint.eventDef,r=t.footprint.eventInstance;if(this.dragListener)return this.dragListener;var o=this.dragListener=new a["default"]({dragStart:function(){o.isTouch&&!n.isEventDefSelected(i)&&r&&n.selectEventInstance(r)},interactionEnd:function(){e.dragListener=null}});return o},e.prototype.buildDragListener=function(t){var e,n,i,o=this,s=this.component,a=this.view,c=a.calendar,d=c.eventManager,h=t.el,f=t.footprint.eventDef,p=t.footprint.eventInstance;if(this.dragListener)return this.dragListener;var m=this.dragListener=new l["default"](a,{scroll:this.opt("dragScroll"),subjectEl:h,subjectCenter:!0,interactionStart:function(i){t.component=s,e=!1,(n=new u["default"](t.el,{additionalClass:"fc-dragging",parentEl:a.el,opacity:m.isTouch?null:o.opt("dragOpacity"),revertDuration:o.opt("dragRevertDuration"),zIndex:2})).hide(),n.start(i)},dragStart:function(n){m.isTouch&&!a.isEventDefSelected(f)&&p&&a.selectEventInstance(p),e=!0,o.eventPointing.handleMouseout(t,n),o.segDragStart(t,n),a.hideEventsWithId(t.footprint.eventDef.id)},hitOver:function(e,l,u){var h,p,g,v=!0;t.hit&&(u=t.hit),h=u.component.getSafeHitFootprint(u),p=e.component.getSafeHitFootprint(e),h&&p&&(i=o.computeEventDropMutation(h,p,f))?(g=d.buildMutatedEventInstanceGroup(f.id,i),v=s.isEventInstanceGroupAllowed(g)):v=!1,v||(i=null,r.disableCursor()),i&&a.renderDrag(s.eventRangesToEventFootprints(g.sliceRenderRanges(s.dateProfile.renderUnzonedRange,c)),t,m.isTouch)?n.hide():n.show(),l&&(i=null)},hitOut:function(){a.unrenderDrag(t),n.show(),i=null},hitDone:function(){r.enableCursor()},interactionEnd:function(r){delete t.component,n.stop(!i,function(){e&&(a.unrenderDrag(t),o.segDragStop(t,r)),a.showEventsWithId(t.footprint.eventDef.id),i&&a.reportEventDrop(p,i,h,r)}),o.dragListener=null}});return m},e.prototype.segDragStart=function(t,e){this.isDragging=!0,this.component.publiclyTrigger("eventDragStart",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.segDragStop=function(t,e){this.isDragging=!1,this.component.publiclyTrigger("eventDragStop",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.computeEventDropMutation=function(t,e){var n=new o["default"];return n.setDateMutation(this.computeEventDateMutation(t,e)),n},e.prototype.computeEventDateMutation=function(t,e){var n,i,r=t.unzonedRange.getStart(),o=e.unzonedRange.getStart(),a=!1,l=!1,u=!1;return t.isAllDay!==e.isAllDay&&(a=!0,e.isAllDay?(u=!0,r.stripTime()):l=!0),n=this.component.diffDates(o,r),(i=new s["default"]).clearEnd=a,i.forceTimed=l,i.forceAllDay=u,i.setDateDelta(n),i},e}(n(15)["default"]);e["default"]=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=n(23),s=n(12),a=n(5),l=function(t){function e(e){var n=t.call(this,e)||this;return n.dragListener=n.buildDragListener(),n}return i.__extends(e,t),e.prototype.end=function(){this.dragListener.endInteraction()},e.prototype.getDelay=function(){var t=this.opt("selectLongPressDelay");return null==t&&(t=this.opt("longPressDelay")),t},e.prototype.bindToEl=function(t){var e=this,n=this.component,i=this.dragListener;n.bindDateHandlerToEl(t,"mousedown",function(t){e.opt("selectable")&&!n.shouldIgnoreMouse()&&i.startInteraction(t,{distance:e.opt("selectMinDistance")})}),n.bindDateHandlerToEl(t,"touchstart",function(t){e.opt("selectable")&&!n.shouldIgnoreTouch()&&i.startInteraction(t,{delay:e.getDelay()})}),r.preventSelection(t)},e.prototype.buildDragListener=function(){var t,e=this,n=this.component;return new o["default"](n,{scroll:this.opt("dragScroll"),interactionStart:function(){t=null},dragStart:function(t){e.view.unselect(t)},hitOver:function(i,o,s){var a,l;s&&(a=n.getSafeHitFootprint(s),l=n.getSafeHitFootprint(i),(t=a&&l?e.computeSelection(a,l):null)?n.renderSelectionFootprint(t):!1===t&&r.disableCursor())},hitOut:function(){t=null,n.unrenderSelection()},hitDone:function(){r.enableCursor()},interactionEnd:function(n,i){!i&&t&&e.view.reportSelection(t,n)}})},e.prototype.computeSelection=function(t,e){var n=this.computeSelectionFootprint(t,e);return!(n&&!this.isSelectionFootprintAllowed(n))&&n},e.prototype.computeSelectionFootprint=function(t,e){var n=[t.unzonedRange.startMs,t.unzonedRange.endMs,e.unzonedRange.startMs,e.unzonedRange.endMs];return n.sort(r.compareNumbers),new s["default"](new a["default"](n[0],n[3]),t.isAllDay)},e.prototype.isSelectionFootprintAllowed=function(t){return this.component.dateProfile.validUnzonedRange.containsRange(t.unzonedRange)&&this.view.calendar.constraints.isSelectionFootprintAllowed(t)},e}(n(15)["default"]);e["default"]=l},function(t,e,n){function i(t){var e,n=[],i=[];for(e=0;e<t.length;e++)t[e].componentFootprint.isAllDay?n.push(t[e]):i.push(t[e]);return{allDay:n,timed:i}}Object.defineProperty(e,"__esModule",{value:!0});var r,o,s=n(2),a=n(0),l=n(3),u=n(4),c=n(39),d=n(41),h=n(227),f=n(61),p=5,m=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.usesMinMaxTime=!0,i.timeGrid=i.instantiateTimeGrid(),i.addChild(i.timeGrid),i.opt("allDaySlot")&&(i.dayGrid=i.instantiateDayGrid(),i.addChild(i.dayGrid)),i.scroller=new c["default"]({overflowX:"hidden",overflowY:"auto"}),i}return s.__extends(e,t),e.prototype.instantiateTimeGrid=function(){var t=new this.timeGridClass(this);return u.copyOwnProps(r,t),t},e.prototype.instantiateDayGrid=function(){var t=new this.dayGridClass(this);return u.copyOwnProps(o,t),t},e.prototype.renderSkeleton=function(){var t,e;this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.scroller.render(),t=this.scroller.el.addClass("fc-time-grid-container"),e=l('<div class="fc-time-grid" />').appendTo(t),this.el.find(".fc-body > tr > td").append(t),this.timeGrid.headContainerEl=this.el.find(".fc-head-container"),this.timeGrid.setElement(e),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight())},e.prototype.unrenderSkeleton=function(){this.timeGrid.removeElement(),this.dayGrid&&this.dayGrid.removeElement(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var t=this.calendar.theme;return'<table class="'+t.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+t.getClass("widgetHeader")+'"/>':"")+"</td></tr></tbody></table>"},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.updateSize=function(e,n,i){var r,o,s;if(t.prototype.updateSize.call(this,e,n,i),this.axisWidth=u.matchCellWidths(this.el.find(".fc-axis")),this.timeGrid.colEls){var a=this.el.find(".fc-row:not(.fc-scroller *)");this.timeGrid.bottomRuleEl.hide(),this.scroller.clear(),u.uncompensateScroll(a),this.dayGrid&&(this.dayGrid.removeSegPopover(),(r=this.opt("eventLimit"))&&"number"!=typeof r&&(r=p),r&&this.dayGrid.limitRows(r)),n||(o=this.computeScrollerHeight(e),this.scroller.setHeight(o),((s=this.scroller.getScrollbarWidths()).left||s.right)&&(u.compensateScroll(a,s),o=this.computeScrollerHeight(e),this.scroller.setHeight(o)),this.scroller.lockOverflow(s),this.timeGrid.getTotalSlatHeight()<o&&this.timeGrid.bottomRuleEl.show())}else n||(o=this.computeScrollerHeight(e),this.scroller.setHeight(o))},e.prototype.computeScrollerHeight=function(t){return t-u.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.computeInitialDateScroll=function(){var t=a.duration(this.opt("scrollTime")),e=this.timeGrid.computeTimeTop(t);return(e=Math.ceil(e))&&e++,{top:e}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(t){t.top!==undefined&&this.scroller.setScrollTop(t.top)},e.prototype.getHitFootprint=function(t){return t.component.getHitFootprint(t)},e.prototype.getHitEl=function(t){return t.component.getHitEl(t)},e.prototype.executeEventRender=function(t){var e,n,i={},r={};for(e in t)(n=t[e]).getEventDef().isAllDay()?i[e]=n:r[e]=n;this.timeGrid.executeEventRender(r),this.dayGrid&&this.dayGrid.executeEventRender(i)},e.prototype.renderDrag=function(t,e,n){var r=i(t),o=!1;return o=this.timeGrid.renderDrag(r.timed,e,n),
this.dayGrid&&(o=this.dayGrid.renderDrag(r.allDay,e,n)||o),o},e.prototype.renderEventResize=function(t,e,n){var r=i(t);this.timeGrid.renderEventResize(r.timed,e,n),this.dayGrid&&this.dayGrid.renderEventResize(r.allDay,e,n)},e.prototype.renderSelectionFootprint=function(t){t.isAllDay?this.dayGrid&&this.dayGrid.renderSelectionFootprint(t):this.timeGrid.renderSelectionFootprint(t)},e}(d["default"]);e["default"]=m,m.prototype.timeGridClass=h["default"],m.prototype.dayGridClass=f["default"],r={renderHeadIntroHtml:function(){var t,e=this.view,n=e.calendar,i=n.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs,!0);return this.opt("weekNumbers")?(t=i.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+n.theme.getClass("widgetHeader")+'" '+e.axisStyleAttr()+">"+e.buildGotoAnchorHtml({date:i,type:"week",forceOff:this.colCnt>1},u.htmlEscape(t))+"</th>"):'<th class="fc-axis '+n.theme.getClass("widgetHeader")+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.calendar.theme.getClass("widgetContent")+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},o={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.calendar.theme.getClass("widgetContent")+'" '+t.axisStyleAttr()+"><span>"+t.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(0),s=n(4),a=n(40),l=n(56),u=n(60),c=n(55),d=n(53),h=n(5),f=n(12),p=n(246),m=n(247),g=n(248),v=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],y=function(t){function e(e){var n=t.call(this,e)||this;return n.processOptions(),n}return i.__extends(e,t),e.prototype.componentFootprintToSegs=function(t){var e,n=this.sliceRangeByTimes(t.unzonedRange);for(e=0;e<n.length;e++)this.isRTL?n[e].col=this.daysPerRow-1-n[e].dayIndex:n[e].col=n[e].dayIndex;return n},e.prototype.sliceRangeByTimes=function(t){var e,n,i=[];for(n=0;n<this.daysPerRow;n++)(e=t.intersect(this.dayRanges[n]))&&i.push({startMs:e.startMs,endMs:e.endMs,isStart:e.isStart,isEnd:e.isEnd,dayIndex:n});return i},e.prototype.processOptions=function(){var t,e=this.opt("slotDuration"),n=this.opt("snapDuration");e=o.duration(e),n=n?o.duration(n):e,this.slotDuration=e,this.snapDuration=n,this.snapsPerSlot=e/n,t=this.opt("slotLabelFormat"),r.isArray(t)&&(t=t[t.length-1]),this.labelFormat=t||this.opt("smallTimeFormat"),t=this.opt("slotLabelInterval"),this.labelInterval=t?o.duration(t):this.computeLabelInterval(e)},e.prototype.computeLabelInterval=function(t){var e,n,i;for(e=v.length-1;e>=0;e--)if(n=o.duration(v[e]),i=s.divideDurationByDuration(n,t),s.isInt(i)&&i>1)return n;return o.duration(t)},e.prototype.renderDates=function(t){this.dateProfile=t,this.updateDayTable(),this.renderSlats(),this.renderColumns()},e.prototype.unrenderDates=function(){this.unrenderColumns()},e.prototype.renderSkeleton=function(){var t=this.view.calendar.theme;this.el.html('<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+t.getClass("widgetHeader")+'" style="display:none" />'),this.bottomRuleEl=this.el.find("hr")},e.prototype.renderSlats=function(){var t=this.view.calendar.theme;this.slatContainerEl=this.el.find("> .fc-slats").html('<table class="'+t.getClass("tableGrid")+'">'+this.renderSlatRowHtml()+"</table>"),this.slatEls=this.slatContainerEl.find("tr"),this.slatCoordCache=new d["default"]({els:this.slatEls,isVertical:!0})},e.prototype.renderSlatRowHtml=function(){for(var t,e,n,i=this.view,r=i.calendar,a=r.theme,l=this.isRTL,u=this.dateProfile,c="",d=o.duration(+u.minTime),h=o.duration(0);d<u.maxTime;)t=r.msToUtcMoment(u.renderUnzonedRange.startMs).time(d),e=s.isInt(s.divideDurationByDuration(h,this.labelInterval)),n='<td class="fc-axis fc-time '+a.getClass("widgetContent")+'" '+i.axisStyleAttr()+">"+(e?"<span>"+s.htmlEscape(t.format(this.labelFormat))+"</span>":"")+"</td>",c+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(e?"":' class="fc-minor"')+">"+(l?"":n)+'<td class="'+a.getClass("widgetContent")+'"/>'+(l?n:"")+"</tr>",d.add(this.slotDuration),h.add(this.slotDuration);return c},e.prototype.renderColumns=function(){var t=this.dateProfile,e=this.view.calendar.theme;this.dayRanges=this.dayDates.map(function(e){return new h["default"](e.clone().add(t.minTime),e.clone().add(t.maxTime))}),this.headContainerEl&&this.headContainerEl.html(this.renderHeadHtml()),this.el.find("> .fc-bg").html('<table class="'+e.getClass("tableGrid")+'">'+this.renderBgTrHtml(0)+"</table>"),this.colEls=this.el.find(".fc-day, .fc-disabled-day"),this.colCoordCache=new d["default"]({els:this.colEls,isHorizontal:!0}),this.renderContentSkeleton()},e.prototype.unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var t,e,n="";for(t=0;t<this.colCnt;t++)n+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';e=this.contentSkeletonEl=r('<div class="fc-content-skeleton"><table><tr>'+n+"</tr></table></div>"),this.colContainerEls=e.find(".fc-content-col"),this.helperContainerEls=e.find(".fc-helper-container"),this.fgContainerEls=e.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=e.find(".fc-bgevent-container"),this.highlightContainerEls=e.find(".fc-highlight-container"),this.businessContainerEls=e.find(".fc-business-container"),this.bookendCells(e.find("tr")),this.el.append(e)},e.prototype.unrenderContentSkeleton=function(){this.contentSkeletonEl&&(this.contentSkeletonEl.remove(),this.contentSkeletonEl=null,this.colContainerEls=null,this.helperContainerEls=null,this.fgContainerEls=null,this.bgContainerEls=null,this.highlightContainerEls=null,this.businessContainerEls=null)},e.prototype.groupSegsByCol=function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},e.prototype.attachSegsByCol=function(t,e){var n,i,r;for(n=0;n<this.colCnt;n++)for(i=t[n],r=0;r<i.length;r++)e.eq(n).append(i[r].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(t){if(this.colContainerEls){var e,n=this.componentFootprintToSegs(new f["default"](new h["default"](t,t.valueOf()+1),!1)),i=this.computeDateTop(t,t),o=[];for(e=0;e<n.length;e++)o.push(r('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",i).appendTo(this.colContainerEls.eq(n[e].col))[0]);n.length>0&&o.push(r('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",i).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=r(o)}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},e.prototype.updateSize=function(e,n,i){t.prototype.updateSize.call(this,e,n,i),this.slatCoordCache.build(),i&&this.updateSegVerticals([].concat(this.eventRenderer.getSegs(),this.businessSegs||[]))},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.outerHeight()},e.prototype.computeDateTop=function(t,e){return this.computeTimeTop(o.duration(t-e.clone().stripTime()))},e.prototype.computeTimeTop=function(t){var e,n,i=this.slatEls.length,r=(t-this.dateProfile.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(i,r),e=Math.floor(r),n=r-(e=Math.min(e,i-1)),this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*n},e.prototype.updateSegVerticals=function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},e.prototype.computeSegVerticals=function(t){var e,n,i,r=this.opt("agendaEventMinHeight");for(e=0;e<t.length;e++)n=t[e],i=this.dayDates[n.dayIndex],n.top=this.computeDateTop(n.startMs,i),n.bottom=Math.max(n.top+r,this.computeDateTop(n.endMs,i))},e.prototype.assignSegVerticals=function(t){var e,n;for(e=0;e<t.length;e++)(n=t[e]).el.css(this.generateSegVerticalCss(n))},e.prototype.generateSegVerticalCss=function(t){return{top:t.top,bottom:-t.bottom}},e.prototype.prepareHits=function(){this.colCoordCache.build(),this.slatCoordCache.build()},e.prototype.releaseHits=function(){this.colCoordCache.clear()},e.prototype.queryHit=function(t,e){var n=this.snapsPerSlot,i=this.colCoordCache,r=this.slatCoordCache;if(i.isLeftInBounds(t)&&r.isTopInBounds(e)){var o=i.getHorizontalIndex(t),s=r.getVerticalIndex(e);if(null!=o&&null!=s){var a=r.getTopOffset(s),l=r.getHeight(s),u=(e-a)/l,c=Math.floor(u*n),d=a+c/n*l,h=a+(c+1)/n*l;return{col:o,snap:s*n+c,component:this,left:i.getLeftOffset(o),right:i.getRightOffset(o),top:d,bottom:h}}}},e.prototype.getHitFootprint=function(t){var e,n=this.getCellDate(0,t.col),i=this.computeSnapTime(t.snap);return n.time(i),e=n.clone().add(this.snapDuration),new f["default"](new h["default"](n,e),!1)},e.prototype.computeSnapTime=function(t){return o.duration(this.dateProfile.minTime+this.snapDuration*t)},e.prototype.getHitEl=function(t){return this.colEls.eq(t.col)},e.prototype.renderDrag=function(t,e,n){var i;if(e){if(t.length)return this.helperRenderer.renderEventDraggingFootprints(t,e,n),!0}else for(i=0;i<t.length;i++)this.renderHighlight(t[i].componentFootprint)},e.prototype.unrenderDrag=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.renderEventResize=function(t,e,n){this.helperRenderer.renderEventResizingFootprints(t,e,n)},e.prototype.unrenderEventResize=function(){this.helperRenderer.unrender()},e.prototype.renderSelectionFootprint=function(t){this.opt("selectHelper")?this.helperRenderer.renderComponentFootprint(t):this.renderHighlight(t)},e.prototype.unrenderSelection=function(){this.helperRenderer.unrender(),this.unrenderHighlight()},e}(a["default"]);e["default"]=y,y.prototype.eventRendererClass=p["default"],y.prototype.businessHourRendererClass=l["default"],y.prototype.helperRendererClass=m["default"],y.prototype.fillRendererClass=g["default"],u["default"].mixInto(y),c["default"].mixInto(y)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(5),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.buildRenderRange=function(e,n,i){var o=t.prototype.buildRenderRange.call(this,e,n,i),s=this.msToUtcMoment(o.startMs,i),a=this.msToUtcMoment(o.endMs,i);return/^(year|month)$/.test(n)&&(s.startOf("week"),a.weekday()&&a.add(1,"week").startOf("week")),new r["default"](s,a)},e}(n(221)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(0),o=n(4),s=n(62),a=n(253),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.setGridHeight=function(t,e){e&&(t*=this.dayGrid.rowCnt/6),o.distributeHeight(this.dayGrid.rowEls,t,!e)},e.prototype.isDateInOtherMonth=function(t,e){return t.month()!==r.utc(e.currentUnzonedRange.startMs).month()},e}(s["default"]);e["default"]=l,l.prototype.dateProfileGeneratorClass=a["default"]},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(5),a=n(41),l=n(39),u=n(254),c=n(255),d=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.segSelector=".fc-list-item",i.scroller=new l["default"]({overflowX:"hidden",overflowY:"auto"}),i}return i.__extends(e,t),e.prototype.renderSkeleton=function(){this.el.addClass("fc-list-view "+this.calendar.theme.getClass("listView")),this.scroller.render(),this.scroller.el.appendTo(this.el),this.contentEl=this.scroller.scrollEl},e.prototype.unrenderSkeleton=function(){this.scroller.destroy()},e.prototype.updateSize=function(e,n,i){t.prototype.updateSize.call(this,e,n,i),this.scroller.clear(),n||this.scroller.setHeight(this.computeScrollerHeight(e))},e.prototype.computeScrollerHeight=function(t){return t-o.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.renderDates=function(t){for(var e=this.calendar,n=e.msToUtcMoment(t.renderUnzonedRange.startMs,!0),i=e.msToUtcMoment(t.renderUnzonedRange.endMs,!0),r=[],o=[];n<i;)r.push(n.clone()),o.push(new s["default"](n,n.clone().add(1,"day"))),n.add(1,"day");this.dayDates=r,this.dayRanges=o},e.prototype.componentFootprintToSegs=function(t){var e,n,i,r=this.dayRanges,o=[];for(e=0;e<r.length;e++)if((n=t.unzonedRange.intersect(r[e]))&&(i={startMs:n.startMs,endMs:n.endMs,isStart:n.isStart,isEnd:n.isEnd,dayIndex:e},o.push(i),!i.isEnd&&!t.isAllDay&&e+1<r.length&&t.unzonedRange.endMs<r[e+1].startMs+this.nextDayThreshold)){i.endMs=t.unzonedRange.endMs,i.isEnd=!0;break}return o},e.prototype.renderEmptyMessage=function(){this.contentEl.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+o.htmlEscape(this.opt("noEventsMessage"))+"</div></div></div>")},e.prototype.renderSegList=function(t){var e,n,i,o=this.groupSegsByDay(t),s=r('<table class="fc-list-table '+this.calendar.theme.getClass("tableList")+'"><tbody/></table>'),a=s.find("tbody");for(e=0;e<o.length;e++)if(n=o[e])for(a.append(this.dayHeaderHtml(this.dayDates[e])),this.eventRenderer.sortEventSegs(n),i=0;i<n.length;i++)a.append(n[i].el);this.contentEl.empty().append(s)},e.prototype.groupSegsByDay=function(t){var e,n,i=[];for(e=0;e<t.length;e++)(i[(n=t[e]).dayIndex]||(i[n.dayIndex]=[])).push(n);return i},e.prototype.dayHeaderHtml=function(t){var e=this.opt("listDayFormat"),n=this.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+t.format("YYYY-MM-DD")+'"><td class="'+(this.calendar.theme.getClass("tableListHeading")||this.calendar.theme.getClass("widgetHeader"))+'" colspan="3">'+(e?this.buildGotoAnchorHtml(t,{"class":"fc-list-heading-main"},o.htmlEscape(t.format(e))):"")+(n?this.buildGotoAnchorHtml(t,{"class":"fc-list-heading-alt"},o.htmlEscape(t.format(n))):"")+"</td></tr>"},e}(a["default"]);e["default"]=d,d.prototype.eventRendererClass=u["default"],d.prototype.eventPointingClass=c["default"]},,,,,,function(t,e,n){var i=n(3),r=n(16),o=n(4),s=n(220);n(10),n(47),n(256),n(257),n(260),n(261),n(262),n(263),i.fullCalendar=r,i.fn.fullCalendar=function(t){var e=Array.prototype.slice.call(arguments,1),n=this;return this.each(function(r,a){var l,u=i(a),c=u.data("fullCalendar");"string"==typeof t?"getCalendar"===t?r||(n=c):"destroy"===t?c&&(c.destroy(),u.removeData("fullCalendar")):c?i.isFunction(c[t])?(l=c[t].apply(c,e),r||(n=l),"destroy"===t&&u.removeData("fullCalendar")):o.warn("'"+t+"' is an unknown FullCalendar method."):o.warn("Attempting to call a FullCalendar method on an element with no calendar."):c||(c=new s["default"](u,t),u.data("fullCalendar",c),c.render())}),n},t.exports=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.setElement=function(t){this.el=t,this.bindGlobalHandlers(),this.renderSkeleton(),this.set("isInDom",!0)},e.prototype.removeElement=function(){this.unset("isInDom"),this.unrenderSkeleton(),this.unbindGlobalHandlers(),this.el.remove()},e.prototype.bindGlobalHandlers=function(){},e.prototype.unbindGlobalHandlers=function(){},e.prototype.renderSkeleton=function(){},e.prototype.unrenderSkeleton=function(){},e}(n(48)["default"]);e["default"]=r},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.items=t||[]}return t.prototype.proxyCall=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=[];return this.items.forEach(function(n){i.push(n[t].apply(n,e))}),i},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=function(){function t(t,e){this.el=null,this.viewsWithButtons=[],this.calendar=t,this.toolbarOptions=e}return t.prototype.setToolbarOptions=function(t){this.toolbarOptions=t},t.prototype.render=function(){var t=this.toolbarOptions.layout,e=this.el;t?(e?e.empty():e=this.el=i("<div class='fc-toolbar "+this.toolbarOptions.extraClasses+"'/>"),e.append(this.renderSection("left")).append(this.renderSection("right")).append(this.renderSection("center")).append('<div class="fc-clear"/>')):this.removeElement()},t.prototype.removeElement=function(){this.el&&(this.el.remove(),this.el=null)},t.prototype.renderSection=function(t){var e=this,n=this.calendar,o=n.theme,s=n.optionsManager,a=n.viewSpecManager,l=i('<div class="fc-'+t+'"/>'),u=this.toolbarOptions.layout[t],c=s.get("customButtons")||{},d=s.overrides.buttonText||{},h=s.get("buttonText")||{};return u&&i.each(u.split(" "),function(t,s){var u,f=i(),p=!0;i.each(s.split(","),function(t,s){var l,u,m,g,v,y,b,w,x;"title"===s?(f=f.add(i("<h2>&nbsp;</h2>")),p=!1):((l=c[s])?(m=function(t){l.click&&l.click.call(w[0],t)},(g=o.getCustomButtonIconClass(l))||(g=o.getIconClass(s))||(v=l.text)):(u=a.getViewSpec(s))?(e.viewsWithButtons.push(s),m=function(){n.changeView(s)},(v=u.buttonTextOverride)||(g=o.getIconClass(s))||(v=u.buttonTextDefault)):n[s]&&(m=function(){n[s]()},(v=d[s])||(g=o.getIconClass(s))||(v=h[s])),m&&(b=["fc-"+s+"-button",o.getClass("button"),o.getClass("stateDefault")],v?(y=r.htmlEscape(v),x=""):g&&(y="<span class='"+g+"'></span>",x=' aria-label="'+s+'"'),w=i('<button type="button" class="'+b.join(" ")+'"'+x+">"+y+"</button>").click(function(t){w.hasClass(o.getClass("stateDisabled"))||(m(t),(w.hasClass(o.getClass("stateActive"))||w.hasClass(o.getClass("stateDisabled")))&&w.removeClass(o.getClass("stateHover")))}).mousedown(function(){w.not("."+o.getClass("stateActive")).not("."+o.getClass("stateDisabled")).addClass(o.getClass("stateDown"))}).mouseup(function(){w.removeClass(o.getClass("stateDown"))}).hover(function(){w.not("."+o.getClass("stateActive")).not("."+o.getClass("stateDisabled")).addClass(o.getClass("stateHover"))},function(){w.removeClass(o.getClass("stateHover")).removeClass(o.getClass("stateDown"))}),f=f.add(w)))}),p&&f.first().addClass(o.getClass("cornerLeft")).end().last().addClass(o.getClass("cornerRight")).end(),f.length>1?(u=i("<div/>"),p&&u.addClass(o.getClass("buttonGroup")),u.append(f),l.append(u)):l.append(f)}),l},t.prototype.updateTitle=function(t){this.el&&this.el.find("h2").text(t)},t.prototype.activateButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").addClass(this.calendar.theme.getClass("stateActive"))},t.prototype.deactivateButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").removeClass(this.calendar.theme.getClass("stateActive"))},t.prototype.disableButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").prop("disabled",!0).addClass(this.calendar.theme.getClass("stateDisabled"))},t.prototype.enableButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").prop("disabled",!1).removeClass(this.calendar.theme.getClass("stateDisabled"))},t.prototype.getViewsWithButtons=function(){return this.viewsWithButtons},t}();e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(32),a=n(31),l=function(t){function e(e,n){var i=t.call(this)||this;return i._calendar=e,i.overrides=r.extend({},n),i.dynamicOverrides={},i.compute(),i}return i.__extends(e,t),e.prototype.add=function(t){var e,n=0;for(e in this.recordOverrides(t),t)n++;if(1===n){if("height"===e||"contentHeight"===e||"aspectRatio"===e)return void this._calendar.updateViewSize(!0);if("defaultDate"===e)return;if("businessHours"===e)return;if(/^(event|select)(Overlap|Constraint|Allow)$/.test(e))return;if("timezone"===e)return void this._calendar.view.flash("initialEvents")}this._calendar.renderHeader(),this._calendar.renderFooter(),this._calendar.viewsByType={},this._calendar.reinitView()},e.prototype.compute=function(){var t,e,n,i;t=o.firstDefined(this.dynamicOverrides.locale,this.overrides.locale),(e=a.localeOptionHash[t])||(t=s.globalDefaults.locale,e=a.localeOptionHash[t]||{}),n=o.firstDefined(this.dynamicOverrides.isRTL,this.overrides.isRTL,e.isRTL,s.globalDefaults.isRTL)?s.rtlDefaults:{},this.dirDefaults=n,this.localeDefaults=e,i=s.mergeOptions([s.globalDefaults,n,e,this.overrides,this.dynamicOverrides]),a.populateInstanceComputableOptions(i),this.reset(i)},e.prototype.recordOverrides=function(t){var e;for(e in t)this.dynamicOverrides[e]=t[e];this._calendar.viewSpecManager.clearCache(),this.compute()},e}(n(48)["default"]);e["default"]=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(3),o=n(22),s=n(4),a=n(32),l=n(31),u=function(){function t(t,e){this.optionsManager=t,this._calendar=e,this.clearCache()}return t.prototype.clearCache=function(){this.viewSpecCache={}},t.prototype.getViewSpec=function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},t.prototype.getUnitViewSpec=function(t){var e,n,i;if(-1!==r.inArray(t,s.unitsDesc))for(e=this._calendar.header.getViewsWithButtons(),r.each(o.viewHash,function(t){e.push(t)}),n=0;n<e.length;n++)if((i=this.getViewSpec(e[n]))&&i.singleUnit===t)return i},t.prototype.buildViewSpec=function(t){for(var e,n,r,l,u,c=this.optionsManager.overrides.views||{},d=[],h=[],f=[],p=t;p;)e=o.viewHash[p],n=c[p],p=null,"function"==typeof e&&(e={"class":e}),e&&(d.unshift(e),h.unshift(e.defaults||{}),r=r||e.duration,p=p||e.type),n&&(f.unshift(n),r=r||n.duration,p=p||n.type);return(e=s.mergeProps(d)).type=t,!!e["class"]&&((r=r||this.optionsManager.dynamicOverrides.duration||this.optionsManager.overrides.duration)&&(l=i.duration(r)).valueOf()&&(u=s.computeDurationGreatestUnit(l,r),e.duration=l,e.durationUnit=u,1===l.as(u)&&(e.singleUnit=u,f.unshift(c[u]||{}))),e.defaults=a.mergeOptions(h),e.overrides=a.mergeOptions(f),this.buildViewSpecOptions(e),this.buildViewSpecButtonText(e,t),e)},t.prototype.buildViewSpecOptions=function(t){var e=this.optionsManager;t.options=a.mergeOptions([a.globalDefaults,t.defaults,e.dirDefaults,e.localeDefaults,e.overrides,t.overrides,e.dynamicOverrides]),l.populateInstanceComputableOptions(t.options)},t.prototype.buildViewSpecButtonText=function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.buttonTextKey?i[t.buttonTextKey]:null)||(t.singleUnit?i[t.singleUnit]:null)}var i=this.optionsManager;t.buttonTextOverride=n(i.dynamicOverrides)||n(i.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(i.localeDefaults)||n(i.dirDefaults)||t.defaults.buttonText||n(a.globalDefaults)||(t.duration?this._calendar.humanizeDuration(t.duration):null)||e},t}();e["default"]=u},function(t,e,n){function i(t,e){return t.getPrimitive()===e.getPrimitive()}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(4),s=n(243),a=n(52),l=n(6),u=n(38),c=n(13),d=n(18),h=n(11),f=n(7),p=function(){function t(t){this.calendar=t,this.stickySource=new a["default"](t),this.otherSources=[]}return t.prototype.requestEvents=function(t,e,n,i){return!i&&this.currentPeriod&&this.currentPeriod.isWithinRange(t,e)&&n===this.currentPeriod.timezone||this.setPeriod(new s["default"](t,e,n)),this.currentPeriod.whenReleased()},t.prototype.addSource=function(t){this.otherSources.push(t),this.currentPeriod&&this.currentPeriod.requestSource(t)},t.prototype.removeSource=function(t){o.removeExact(this.otherSources,t),this.currentPeriod&&this.currentPeriod.purgeSource(t)},t.prototype.removeAllSources=function(){this.otherSources=[],this.currentPeriod&&this.currentPeriod.purgeAllSources()},t.prototype.refetchSource=function(t){var e=this.currentPeriod;e&&(e.freeze(),e.purgeSource(t),e.requestSource(t),e.thaw())},t.prototype.refetchAllSources=function(){var t=this.currentPeriod;t&&(t.freeze(),t.purgeAllSources(),t.requestSources(this.getSources()),t.thaw())},t.prototype.getSources=function(){return[this.stickySource].concat(this.otherSources)},t.prototype.multiQuerySources=function(t){t?r.isArray(t)||(t=[t]):t=[];var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.querySources(t[e]));return n},t.prototype.querySources=function(t){var e,n,o=this.otherSources;for(e=0;e<o.length;e++)if((n=o[e])===t)return[n];return(n=this.getSourceById(l["default"].normalizeId(t)))?[n]:(t=u["default"].parse(t,this.calendar))?r.grep(o,function(e){return i(t,e)}):void 0},t.prototype.getSourceById=function(t){return r.grep(this.otherSources,function(e){return e.id&&e.id===t})[0]},t.prototype.setPeriod=function(t){this.currentPeriod&&(this.unbindPeriod(this.currentPeriod),this.currentPeriod=null),this.currentPeriod=t,this.bindPeriod(t),t.requestSources(this.getSources())},t.prototype.bindPeriod=function(t){this.listenTo(t,"release",function(t){this.trigger("release",t)})},t.prototype.unbindPeriod=function(t){this.stopListeningTo(t)},t.prototype.getEventDefByUid=function(t){if(this.currentPeriod)return this.currentPeriod.getEventDefByUid(t)},t.prototype.addEventDef=function(t,e){e&&this.stickySource.addEventDef(t),this.currentPeriod&&this.currentPeriod.addEventDef(t)},t.prototype.removeEventDefsById=function(t){this.getSources().forEach(function(e){e.removeEventDefsById(t)}),this.currentPeriod&&this.currentPeriod.removeEventDefsById(t)},t.prototype.removeAllEventDefs=function(){this.getSources().forEach(function(t){t.removeAllEventDefs()}),this.currentPeriod&&this.currentPeriod.removeAllEventDefs()},t.prototype.mutateEventsWithId=function(t,e){var n,i=this.currentPeriod,r=[];return i?(i.freeze(),(n=i.getEventDefsById(t)).forEach(function(t){i.removeEventDef(t),r.push(e.mutateSingle(t)),i.addEventDef(t)}),i.thaw(),function(){i.freeze();for(var t=0;t<n.length;t++)i.removeEventDef(n[t]),r[t](),i.addEventDef(n[t]);i.thaw()}):function(){}},t.prototype.buildMutatedEventInstanceGroup=function(t,e){var n,i,r=this.getEventDefsById(t),o=[];for(n=0;n<r.length;n++)(i=r[n].clone())instanceof c["default"]&&(e.mutateSingle(i),o.push.apply(o,i.buildInstances()));return new d["default"](o)},t.prototype.freeze=function(){this.currentPeriod&&this.currentPeriod.freeze()},t.prototype.thaw=function(){this.currentPeriod&&this.currentPeriod.thaw()},t.prototype.getEventDefsById=function(t){return this.currentPeriod.getEventDefsById(t)},t.prototype.getEventInstances=function(){return this.currentPeriod.getEventInstances()},t.prototype.getEventInstancesWithId=function(t){return this.currentPeriod.getEventInstancesWithId(t)},t.prototype.getEventInstancesWithoutId=function(t){return this.currentPeriod.getEventInstancesWithoutId(t)},t}();e["default"]=p,h["default"].mixInto(p),f["default"].mixInto(p)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(20),s=n(11),a=n(5),l=n(18),u=function(){function t(t,e,n){this.pendingCnt=0,this.freezeDepth=0,this.stuntedReleaseCnt=0,this.releaseCnt=0,this.start=t,this.end=e,this.timezone=n,this.unzonedRange=new a["default"](t.clone().stripZone(),e.clone().stripZone()),this.requestsByUid={},this.eventDefsByUid={},this.eventDefsById={},this.eventInstanceGroupsById={}}return t.prototype.isWithinRange=function(t,e){return!t.isBefore(this.start)&&!e.isAfter(this.end)},t.prototype.requestSources=function(t){this.freeze();for(var e=0;e<t.length;e++)this.requestSource(t[e]);this.thaw()},t.prototype.requestSource=function(t){var e=this,n={source:t,status:"pending",eventDefs:null};this.requestsByUid[t.uid]=n,this.pendingCnt+=1,t.fetch(this.start,this.end,this.timezone).then(function(t){"cancelled"!==n.status&&(n.status="completed",n.eventDefs=t,e.addEventDefs(t),e.pendingCnt--,e.tryRelease())},function(){"cancelled"!==n.status&&(n.status="failed",e.pendingCnt--,e.tryRelease())})},t.prototype.purgeSource=function(t){var e=this.requestsByUid[t.uid];e&&(delete this.requestsByUid[t.uid],"pending"===e.status?(e.status="cancelled",this.pendingCnt--,this.tryRelease()):"completed"===e.status&&e.eventDefs.forEach(this.removeEventDef.bind(this)))},t.prototype.purgeAllSources=function(){var t,e,n=this.requestsByUid,i=0;for(t in n)"pending"===(e=n[t]).status?e.status="cancelled":"completed"===e.status&&i++;this.requestsByUid={},this.pendingCnt=0,i&&this.removeAllEventDefs()},t.prototype.getEventDefByUid=function(t){return this.eventDefsByUid[t]},t.prototype.getEventDefsById=function(t){var e=this.eventDefsById[t];return e?e.slice():[]},t.prototype.addEventDefs=function(t){for(var e=0;e<t.length;e++)this.addEventDef(t[e])},t.prototype.addEventDef=function(t){var e,n=this.eventDefsById,i=t.id,r=n[i]||(n[i]=[]),o=t.buildInstances(this.unzonedRange);for(r.push(t),this.eventDefsByUid[t.uid]=t,e=0;e<o.length;e++)this.addEventInstance(o[e],i)},t.prototype.removeEventDefsById=function(t){var e=this;this.getEventDefsById(t).forEach(function(t){e.removeEventDef(t)})},t.prototype.removeAllEventDefs=function(){var t=i.isEmptyObject(this.eventDefsByUid);this.eventDefsByUid={},this.eventDefsById={},this.eventInstanceGroupsById={},t||this.tryRelease()},t.prototype.removeEventDef=function(t){var e=this.eventDefsById,n=e[t.id];delete this.eventDefsByUid[t.uid],n&&(r.removeExact(n,t),n.length||delete e[t.id],this.removeEventInstancesForDef(t))},t.prototype.getEventInstances=function(){var t,e=this.eventInstanceGroupsById,n=[];for(t in e)n.push.apply(n,e[t].eventInstances);return n},t.prototype.getEventInstancesWithId=function(t){var e=this.eventInstanceGroupsById[t];return e?e.eventInstances.slice():[]},t.prototype.getEventInstancesWithoutId=function(t){var e,n=this.eventInstanceGroupsById,i=[];for(e in n)e!==t&&i.push.apply(i,n[e].eventInstances);return i},t.prototype.addEventInstance=function(t,e){var n=this.eventInstanceGroupsById;(n[e]||(n[e]=new l["default"])).eventInstances.push(t),this.tryRelease()},t.prototype.removeEventInstancesForDef=function(t){var e,n=this.eventInstanceGroupsById,i=n[t.id];i&&(e=r.removeMatching(i.eventInstances,function(e){return e.def===t}),i.eventInstances.length||delete n[t.id],e&&this.tryRelease())},t.prototype.tryRelease=function(){this.pendingCnt||(this.freezeDepth?this.stuntedReleaseCnt++:this.release())},t.prototype.release=function(){this.releaseCnt++,this.trigger("release",this.eventInstanceGroupsById)},t.prototype.whenReleased=function(){var t=this;return this.releaseCnt?o["default"].resolve(this.eventInstanceGroupsById):o["default"].construct(function(e){t.one("release",e)})},t.prototype.freeze=function(){this.freezeDepth++||(this.stuntedReleaseCnt=0)},t.prototype.thaw=function(){--this.freezeDepth||!this.stuntedReleaseCnt||this.pendingCnt||this.release()},t}();e["default"]=u,s["default"].mixInto(u)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(7),s=function(){function t(t,e){this.isFollowing=!1,this.isHidden=!1,this.isAnimating=!1,this.options=e=e||{},this.sourceEl=t,this.parentEl=e.parentEl?i(e.parentEl):t.parent()}return t.prototype.start=function(t){this.isFollowing||(this.isFollowing=!0,this.y0=r.getEvY(t),this.x0=r.getEvX(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),r.getEvIsTouch(t)?this.listenTo(i(document),"touchmove",this.handleMove):this.listenTo(i(document),"mousemove",this.handleMove))},t.prototype.stop=function(t,e){var n=this,r=this.options.revertDuration,o=function(){n.isAnimating=!1,n.removeElement(),n.top0=n.left0=null,e&&e()};this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(i(document)),t&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:o})):o())},t.prototype.getEl=function(){var t=this.el;return t||((t=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex})).addClass("fc-unselectable"),t.appendTo(this.parentEl)),t},t.prototype.removeElement=function(){this.el&&(this.el.remove(),this.el=null)},t.prototype.updatePosition=function(){var t,e;this.getEl(),null==this.top0&&(t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},t.prototype.handleMove=function(t){this.topDelta=r.getEvY(t)-this.y0,this.leftDelta=r.getEvX(t)-this.x0,this.isHidden||this.updatePosition()},t.prototype.hide=function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},t.prototype.show=function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())},t}();e["default"]=s,o["default"].mixInto(s)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(23),o=function(t){function e(e){var n=t.call(this,e)||this;return n.dragListener=n.buildDragListener(),n}return i.__extends(e,t),e.prototype.end=function(){this.dragListener.endInteraction()},e.prototype.bindToEl=function(t){
var e=this.component,n=this.dragListener;e.bindDateHandlerToEl(t,"mousedown",function(t){e.shouldIgnoreMouse()||n.startInteraction(t)}),e.bindDateHandlerToEl(t,"touchstart",function(t){e.shouldIgnoreTouch()||n.startInteraction(t)})},e.prototype.buildDragListener=function(){var t,e=this,n=this.component,i=new r["default"](n,{scroll:this.opt("dragScroll"),interactionStart:function(){t=i.origHit},hitOver:function(e,n){n||(t=null)},hitOut:function(){t=null},interactionEnd:function(i,r){var o;!r&&t&&(o=n.getSafeHitFootprint(t))&&e.view.triggerDayClick(o,n.getHitEl(t),i)}});return i.shouldCancelTouchScroll=!1,i.scrollAlwaysKills=!0,i},e}(n(15)["default"]);e["default"]=o},function(t,e,n){function i(t){var e,n,i,r=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&s(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function r(t){var e,n,i,r,o;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for((r=n[i]).forwardSegs=[],o=e+1;o<t.length;o++)s(r,t[o],r.forwardSegs)}function o(t){var e,n,i=t.forwardSegs,r=0;if(t.forwardPressure===undefined){for(e=0;e<i.length;e++)o(n=i[e]),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function s(t,e,n){void 0===n&&(n=[]);for(var i=0;i<e.length;i++)a(t,e[i])&&n.push(e[i]);return n}function a(t,e){return t.bottom>e.top&&t.top<e.bottom}Object.defineProperty(e,"__esModule",{value:!0});var l=n(2),u=n(4),c=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.timeGrid=e,i}return l.__extends(e,t),e.prototype.renderFgSegs=function(t){this.renderFgSegsIntoContainers(t,this.timeGrid.fgContainerEls)},e.prototype.renderFgSegsIntoContainers=function(t,e){var n,i;for(n=this.timeGrid.groupSegsByCol(t),i=0;i<this.timeGrid.colCnt;i++)this.updateFgSegCoords(n[i]);this.timeGrid.attachSegsByCol(n,e)},e.prototype.unrenderFgSegs=function(){this.fgSegs&&this.fgSegs.forEach(function(t){t.el.remove()})},e.prototype.computeEventTimeFormat=function(){return this.opt("noMeridiemTimeFormat")},e.prototype.computeDisplayEventEnd=function(){return!0},e.prototype.fgSegHtml=function(t,e){var n,i,r,o=this.view,s=o.calendar,a=t.footprint.componentFootprint,l=a.isAllDay,c=t.footprint.eventDef,d=o.isEventDefDraggable(c),h=!e&&t.isStart&&o.isEventDefResizableFromStart(c),f=!e&&t.isEnd&&o.isEventDefResizableFromEnd(c),p=this.getSegClasses(t,d,h||f),m=u.cssToStr(this.getSkinCss(c));if(p.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayRange(a.unzonedRange)){if(t.isStart||t.isEnd){var g=s.msToMoment(t.startMs),v=s.msToMoment(t.endMs);n=this._getTimeText(g,v,l),i=this._getTimeText(g,v,l,"LT"),r=this._getTimeText(g,v,l,null,!1)}}else n=this.getTimeText(t.footprint),i=this.getTimeText(t.footprint,"LT"),r=this.getTimeText(t.footprint,null,!1);return'<a class="'+p.join(" ")+'"'+(c.url?' href="'+u.htmlEscape(c.url)+'"':"")+(m?' style="'+m+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+u.htmlEscape(r)+'" data-full="'+u.htmlEscape(i)+'"><span>'+u.htmlEscape(n)+"</span></div>":"")+(c.title?'<div class="fc-title">'+u.htmlEscape(c.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(f?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},e.prototype.updateFgSegCoords=function(t){this.timeGrid.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.timeGrid.assignSegVerticals(t),this.assignFgSegHorizontals(t)},e.prototype.computeFgSegHorizontals=function(t){var e,n,s;if(this.sortEventSegs(t),r(e=i(t)),n=e[0]){for(s=0;s<n.length;s++)o(n[s]);for(s=0;s<n.length;s++)this.computeFgSegForwardBack(n[s],0,0)}},e.prototype.computeFgSegForwardBack=function(t,e,n){var i,r=t.forwardSegs;if(t.forwardCoord===undefined)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<r.length;i++)this.computeFgSegForwardBack(r[i],0,t.forwardCoord)},e.prototype.sortForwardSegs=function(t){t.sort(u.proxy(this,"compareForwardSegs"))},e.prototype.compareForwardSegs=function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},e.prototype.assignFgSegHorizontals=function(t){var e,n;for(e=0;e<t.length;e++)(n=t[e]).el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},e.prototype.generateFgSegHorizontalCss=function(t){var e,n,i=this.opt("slotEventOverlap"),r=t.backwardCoord,o=t.forwardCoord,s=this.timeGrid.generateSegVerticalCss(t),a=this.timeGrid.isRTL;return i&&(o=Math.min(1,r+2*(o-r))),a?(e=1-o,n=r):(e=r,n=1-o),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*n+"%",i&&t.forwardPressure&&(s[a?"marginLeft":"marginRight"]=20),s},e}(n(42)["default"]);e["default"]=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.renderSegs=function(t,e){var n,i,o,s=[];for(this.eventRenderer.renderFgSegsIntoContainers(t,this.component.helperContainerEls),n=0;n<t.length;n++)i=t[n],e&&e.col===i.col&&(o=e.el,i.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")})),s.push(i.el[0]);return r(s)},e}(n(58)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.attachSegEls=function(t,e){var n,i=this.component;return"bgEvent"===t?n=i.bgContainerEls:"businessHours"===t?n=i.businessContainerEls:"highlight"===t&&(n=i.highlightContainerEls),i.updateSegVerticals(e),i.attachSegsByCol(i.groupSegsByCol(e),n),e.map(function(t){return t.el[0]})},e}(n(57)["default"]);e["default"]=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(7),s=function(){function t(t){this.isHidden=!0,this.margin=10,this.options=t||{}}return t.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},t.prototype.hide=function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},t.prototype.render=function(){var t=this,e=this.options;this.el=i('<div class="fc-popover"/>').addClass(e.className||"").css({top:0,left:0}).append(e.content).appendTo(e.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),e.autoHide&&this.listenTo(i(document),"mousedown",this.documentMousedown)},t.prototype.documentMousedown=function(t){this.el&&!i(t.target).closest(this.el).length&&this.hide()},t.prototype.removeElement=function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(i(document),"mousedown")},t.prototype.position=function(){var t,e,n,o,s,a=this.options,l=this.el.offsetParent().offset(),u=this.el.outerWidth(),c=this.el.outerHeight(),d=i(window),h=r.getScrollParent(this.el);o=a.top||0,s=a.left!==undefined?a.left:a.right!==undefined?a.right-u:0,h.is(window)||h.is(document)?(h=d,t=0,e=0):(t=(n=h.offset()).top,e=n.left),t+=d.scrollTop(),e+=d.scrollLeft(),!1!==a.viewportConstrain&&(o=Math.min(o,t+h.outerHeight()-c-this.margin),o=Math.max(o,t+this.margin),s=Math.min(s,e+h.outerWidth()-u-this.margin),s=Math.max(s,e+this.margin)),this.el.css({top:o-l.top,left:s-l.left})},t.prototype.trigger=function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},t}();e["default"]=s,o["default"].mixInto(s)},function(t,e,n){function i(t,e){var n,i;for(n=0;n<e.length;n++)if((i=e[n]).leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function r(t,e){return t.leftCol-e.leftCol}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(3),a=n(4),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.dayGrid=e,i}return o.__extends(e,t),e.prototype.renderBgRanges=function(e){e=s.grep(e,function(t){return t.eventDef.isAllDay()}),t.prototype.renderBgRanges.call(this,e)},e.prototype.renderFgSegs=function(t){var e=this.rowStructs=this.renderSegRows(t);this.dayGrid.rowEls.each(function(t,n){s(n).find(".fc-content-skeleton > table").append(e[t].tbodyEl)})},e.prototype.unrenderFgSegs=function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},e.prototype.renderSegRows=function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)i.push(this.renderSegRow(n,e[n]));return i},e.prototype.renderSegRow=function(t,e){function n(t){for(;o<t;)(c=(v[i-1]||[])[o])?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=s("<td/>"),a.append(c)),g[i][o]=c,v[i][o]=c,o++}var i,r,o,a,l,u,c,d=this.dayGrid.colCnt,h=this.buildSegLevels(e),f=Math.max(1,h.length),p=s("<tbody/>"),m=[],g=[],v=[];for(i=0;i<f;i++){if(r=h[i],o=0,a=s("<tr/>"),m.push([]),g.push([]),v.push([]),r)for(l=0;l<r.length;l++){for(n((u=r[l]).leftCol),c=s('<td class="fc-event-container"/>').append(u.el),u.leftCol!==u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):v[i][o]=c;o<=u.rightCol;)g[i][o]=c,m[i][o]=u,o++;a.append(c)}n(d),this.dayGrid.bookendCells(a),p.append(a)}return{row:t,tbodyEl:p,cellMatrix:g,segMatrix:m,segLevels:h,segs:e}},e.prototype.buildSegLevels=function(t){var e,n,o,s=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(n=t[e],o=0;o<s.length&&i(n,s[o]);o++);n.level=o,(s[o]||(s[o]=[])).push(n)}for(o=0;o<s.length;o++)s[o].sort(r);return s},e.prototype.groupSegRows=function(t){var e,n=[];for(e=0;e<this.dayGrid.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n},e.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},e.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},e.prototype.fgSegHtml=function(t,e){var n,i,r=this.view,o=t.footprint.eventDef,s=t.footprint.componentFootprint.isAllDay,l=r.isEventDefDraggable(o),u=!e&&s&&t.isStart&&r.isEventDefResizableFromStart(o),c=!e&&s&&t.isEnd&&r.isEventDefResizableFromEnd(o),d=this.getSegClasses(t,l,u||c),h=a.cssToStr(this.getSkinCss(o)),f="";return d.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getTimeText(t.footprint))&&(f='<span class="fc-time">'+a.htmlEscape(n)+"</span>"),i='<span class="fc-title">'+(a.htmlEscape(o.title||"")||"&nbsp;")+"</span>",'<a class="'+d.join(" ")+'"'+(o.url?' href="'+a.htmlEscape(o.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(this.dayGrid.isRTL?i+" "+f:f+" "+i)+"</div>"+(u?'<div class="fc-resizer fc-start-resizer" />':"")+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},e}(n(42)["default"]);e["default"]=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.renderSegs=function(t,e){var n,i=[];return n=this.eventRenderer.renderSegRows(t),this.component.rowEls.each(function(t,o){var s,a,l=r(o),u=r('<div class="fc-helper-skeleton"><table/></div>');e&&e.row===t?a=e.el.position().top:((s=l.find(".fc-content-skeleton tbody")).length||(s=l.find(".fc-content-skeleton table")),a=s.position().top),u.css("top",a).find("table").append(n[t].tbodyEl),l.append(u),i.push(u[0])}),r(i)},e}(n(58)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fillSegTag="td",e}return i.__extends(e,t),e.prototype.attachSegEls=function(t,e){var n,i,r,o=[];for(n=0;n<e.length;n++)i=e[n],r=this.renderFillRow(t,i),this.component.rowEls.eq(i.row).append(r),o.push(r[0]);return o},e.prototype.renderFillRow=function(t,e){var n,i,o,s=this.component.colCnt,a=e.leftCol,l=e.rightCol+1;return n="businessHours"===t?"bgevent":t.toLowerCase(),o=(i=r('<div class="fc-'+n+'-skeleton"><table><tr/></table></div>')).find("tr"),a>0&&o.append('<td colspan="'+a+'"/>'),o.append(e.el.attr("colspan",l-a)),l<s&&o.append('<td colspan="'+(s-l)+'"/>'),this.component.bookendCells(o),i},e}(n(57)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(228),o=n(5),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.buildRenderRange=function(e,n,i){var r,s=t.prototype.buildRenderRange.call(this,e,n,i),a=this.msToUtcMoment(s.startMs,i),l=this.msToUtcMoment(s.endMs,i);return this.opt("fixedWeekCount")&&(r=Math.ceil(l.diff(a,"weeks",!0)),l.add(6-r,"weeks")),new o["default"](a,l)},e}(r["default"]);e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.renderFgSegs=function(t){t.length?this.component.renderSegList(t):this.component.renderEmptyMessage()},e.prototype.fgSegHtml=function(t){var e,n=this.view,i=n.calendar,o=i.theme,s=t.footprint,a=s.eventDef,l=s.componentFootprint,u=a.url,c=["fc-list-item"].concat(this.getClasses(a)),d=this.getBgColor(a);return e=l.isAllDay?n.getAllDayHtml():n.isMultiDayRange(l.unzonedRange)?t.isStart||t.isEnd?r.htmlEscape(this._getTimeText(i.msToMoment(t.startMs),i.msToMoment(t.endMs),l.isAllDay)):n.getAllDayHtml():r.htmlEscape(this.getTimeText(s)),u&&c.push("fc-has-url"),'<tr class="'+c.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+o.getClass("widgetContent")+'">'+(e||"")+"</td>":"")+'<td class="fc-list-item-marker '+o.getClass("widgetContent")+'"><span class="fc-event-dot"'+(d?' style="background-color:'+d+'"':"")+'></span></td><td class="fc-list-item-title '+o.getClass("widgetContent")+'"><a'+(u?' href="'+r.htmlEscape(u)+'"':"")+">"+r.htmlEscape(a.title||"")+"</a></td></tr>"},e.prototype.computeEventTimeFormat=function(){return this.opt("mediumTimeFormat")},e}(n(42)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.handleClick=function(e,n){var i;t.prototype.handleClick.call(this,e,n),r(n.target).closest("a[href]").length||(i=e.footprint.eventDef.url)&&!n.isDefaultPrevented()&&(window.location.href=i)},e}(n(59)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(38),r=n(52),o=n(215),s=n(216);i["default"].registerClass(r["default"]),i["default"].registerClass(o["default"]),i["default"].registerClass(s["default"])},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(51),r=n(213),o=n(214),s=n(258),a=n(259);i.defineThemeSystem("standard",r["default"]),i.defineThemeSystem("jquery-ui",o["default"]),i.defineThemeSystem("bootstrap3",s["default"]),i.defineThemeSystem("bootstrap4",a["default"])},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(19)["default"]);e["default"]=r,r.prototype.classes={widget:"fc-bootstrap3",tableGrid:"table-bordered",tableList:"table",tableListHeading:"active",buttonGroup:"btn-group",button:"btn btn-default",stateActive:"active",stateDisabled:"disabled",today:"alert alert-info",popover:"panel panel-default",popoverHeader:"panel-heading",popoverContent:"panel-body",headerRow:"panel-default",dayRow:"panel-default",listView:"panel panel-default"},r.prototype.baseIconClass="glyphicon",r.prototype.iconClasses={close:"glyphicon-remove",prev:"glyphicon-chevron-left",next:"glyphicon-chevron-right",prevYear:"glyphicon-backward",nextYear:"glyphicon-forward"},r.prototype.iconOverrideOption="bootstrapGlyphicons",r.prototype.iconOverrideCustomButtonOption="bootstrapGlyphicon",r.prototype.iconOverridePrefix="glyphicon-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(19)["default"]);e["default"]=r,r.prototype.classes={widget:"fc-bootstrap4",tableGrid:"table-bordered",tableList:"table",tableListHeading:"table-active",buttonGroup:"btn-group",button:"btn btn-primary",stateActive:"active",stateDisabled:"disabled",today:"alert alert-info",popover:"card card-primary",popoverHeader:"card-header",popoverContent:"card-body",headerRow:"table-bordered",dayRow:"table-bordered",listView:"card card-primary"},r.prototype.baseIconClass="fa",r.prototype.iconClasses={close:"fa-times",prev:"fa-chevron-left",next:"fa-chevron-right",prevYear:"fa-angle-double-left",nextYear:"fa-angle-double-right"},r.prototype.iconOverrideOption="bootstrapFontAwesome",r.prototype.iconOverrideCustomButtonOption="bootstrapFontAwesome",r.prototype.iconOverridePrefix="fa-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),r=n(62),o=n(229);i.defineView("basic",{"class":r["default"]}),i.defineView("basicDay",{type:"basic",duration:{days:1}}),i.defineView("basicWeek",{type:"basic",duration:{weeks:1}}),i.defineView("month",{"class":o["default"],duration:{months:1},defaults:{fixedWeekCount:!0}})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),r=n(226);i.defineView("agenda",{"class":r["default"],defaults:{allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0}}),i.defineView("agendaDay",{type:"agenda",duration:{days:1}}),i.defineView("agendaWeek",{type:"agenda",duration:{weeks:1}})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),r=n(230);i.defineView("list",{"class":r["default"],buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}}),i.defineView("listDay",{type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}}),i.defineView("listWeek",{type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}}),i.defineView("listMonth",{type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}}),i.defineView("listYear",{type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}])}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment"),require("fullcalendar")):"function"==typeof define&&define.amd?define(["moment","fullcalendar"],e):"object"==typeof exports?e(require("moment"),require("fullcalendar")):e(t.moment,t.FullCalendar)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=113)}({0:function(e){e.exports=t},1:function(t){t.exports=e},113:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n(114);var i=n(1);i.datepickerLocale("es","es",{closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""}),i.locale("es",{buttonText:{month:"Mes",week:"Semana",day:"D\xeda",list:"Agenda"},allDayHtml:"Todo<br/>el d\xeda",eventLimitText:"m\xe1s",noEventsMessage:"No hay eventos para mostrar"})},114:function(t,e,n){!function(t,e){e(n(0))}(0,function(t){var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})})}})}),function(t){var e=0,n=function(){return(new Date).getTime()+e++},i=function(t){return"["+t+"]$1"},r=function(t){return"_"+t+"_$1"},o=function(e,n,i){return e?"function"==typeof e?(n&&console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."),e(i)):"string"==typeof e?n?i[n](e):"this"==e?i:t(e):void 0:i.parent()};t(document).on("click",".add_fields",function(e){e.preventDefault();var s=t(this),a=s.data("association"),l=s.data("associations"),u=s.data("association-insertion-template"),c=s.data("association-insertion-method")||s.data("association-insertion-position")||"before",d=s.data("association-insertion-node"),h=s.data("association-insertion-traversal"),f=parseInt(s.data("count"),10),p=new RegExp("\\[new_"+a+"\\](.*?\\s)","g"),m=new RegExp("_new_"+a+"_(\\w*)","g"),g=n(),v=u.replace(p,i(g)),y=[],b=e;for(v==u&&(p=new RegExp("\\[new_"+l+"\\](.*?\\s)","g"),m=new RegExp("_new_"+l+"_(\\w*)","g"),v=u.replace(p,i(g))),y=[v=v.replace(m,r(g))],f=isNaN(f)?1:Math.max(f,1),f-=1;f;)g=n(),v=(v=u.replace(p,i(g))).replace(m,r(g)),y.push(v),f-=1;var w=o(d,h,s);w&&0!=w.length||console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."),t.each(y,function(e,n){var i=t(n),r=jQuery.Event("cocoon:before-insert");if(w.trigger(r,[i,b]),!r.isDefaultPrevented()){w[c](i);w.trigger("cocoon:after-insert",[i,b])}})}),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var n=t(this),i=n.data("wrapper-class")||"nested-fields",r=n.closest("."+i),o=r.parent(),s=e;e.preventDefault(),e.stopPropagation();var a=jQuery.Event("cocoon:before-remove");if(o.trigger(a,[r,s]),!a.isDefaultPrevented()){var l=o.data("remove-timeout")||0;setTimeout(function(){n.hasClass("dynamic")?r.detach():(n.prev("input[type=hidden]").val("1"),r.hide()),o.trigger("cocoon:after-remove",[r,s])},l)}}),t(document).on("ready page:load turbolinks:load",function(){t(".remove_fields.existing.destroyed").each(function(){var e=t(this),n=e.data("wrapper-class")||"nested-fields";e.closest("."+n).hide()})})}(jQuery),
/*!
 * jQuery Raty - A Star Rating Plugin
 *
 * The MIT License
 *
 * author:  Washington Botelho
 * github:  wbotelhos/raty
 * version: 2.8.0
 *
 */
function(t){"use strict";var e={init:function(n){return this.each(function(){this.self=t(this),e.destroy.call(this.self),this.opt=t.extend(!0,{},t.fn.raty.defaults,n,this.self.data()),e._adjustCallback.call(this),e._adjustNumber.call(this),e._adjustHints.call(this),this.opt.score=e._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&e._adjustStarType.call(this),e._adjustPath.call(this),e._createStars.call(this),this.opt.cancel&&e._createCancel.call(this),this.opt.precision&&e._adjustPrecision.call(this),e._createScore.call(this),e._apply.call(this,this.opt.score),e._setTitle.call(this,this.opt.score),e._target.call(this,this.opt.score),this.opt.readOnly?e._lock.call(this):(this.style.cursor="pointer",e._binds.call(this))})},_adjustCallback:function(){for(var t=["number","readOnly","score","scoreName","target","path"],e=0;e<t.length;e++)"function"==typeof this.opt[t[e]]&&(this.opt[t[e]]=this.opt[t[e]].call(this))},_adjustedScore:function(t){return t?e._between(t,0,this.opt.number):t},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var t=this.opt.precision?10:2,e=0;e<this.opt.number;e++){var n=this.opt.hints[e];"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),this.opt.hints[e]=[];for(var i=0;i<t;i++){var r=n[i],o=n[n.length-1];o===undefined&&(o=null),this.opt.hints[e][i]=r===undefined?o:r}}},_adjustNumber:function(){this.opt.number=e._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var t=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var e=0;e<t.length;e++)this.opt[t[e]]=this.opt[t[e]].replace(".","-")},_apply:function(t){e._fill.call(this,t),t&&(t>0&&this.score.val(t),e._roundStars.call(this,t))},_between:function(t,e,n){return Math.min(Math.max(parseFloat(t),e),n)},_binds:function(){this.cancel&&(e._bindOverCancel.call(this),e._bindClickCancel.call(this),e._bindOutCancel.call(this)),e._bindOver.call(this),e._bindClick.call(this),e._bindOut.call(this)},_bindClick:function(){var n=this;n.stars.on("click.raty",function(i){var r=!0,o=n.opt.half||n.opt.precision?n.self.data("score"):this.alt||t(this).data("alt");n.opt.click&&(r=n.opt.click.call(n,+o,i)),(r||r===undefined)&&(n.opt.half&&!n.opt.precision&&(o=e._roundHalfScore.call(n,o)),e._apply.call(n,o))})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var t=this;t.self.on("mouseleave.raty",function(n){var i=+t.score.val()||undefined;e._apply.call(t,i),e._target.call(t,i,n),e._resetTitle.call(t),t.opt.mouseout&&t.opt.mouseout.call(t,i,n)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(n){var i=t.opt.cancelOff;if("img"!==t.opt.starType&&(i=t.opt.cancelClass+" "+i),e._setIcon.call(t,this,i),t.opt.mouseout){var r=+t.score.val()||undefined;t.opt.mouseout.call(t,r,n)}})},_bindOver:function(){var t=this,n=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(n,function(n){var i=e._getScoreByPosition.call(t,n,this);e._fill.call(t,i),t.opt.half&&(e._roundStars.call(t,i,n),e._setTitle.call(t,i,n),t.self.data("score",i)),e._target.call(t,i,n),t.opt.mouseover&&t.opt.mouseover.call(t,i,n)})},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",function(n){var i=t.opt.path+t.opt.starOff,r=t.opt.cancelOn;"img"===t.opt.starType?t.stars.attr("src",i):(r=t.opt.cancelClass+" "+r,t.stars.attr("class",i)),e._setIcon.call(t,this,r),e._target.call(t,null,n),t.opt.mouseover&&t.opt.mouseover.call(t,null)})},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,n=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":this.opt.cancelClass});"img"===this.opt.starType?n.attr({src:e,alt:"x"}):n.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(n):this.self.append("&#160;").append(n),this.cancel=n},_createScore:function(){var n=t(this.opt.targetScore);this.score=n.length?n:e._buildScoreField.call(this)},_createStars:function(){for(var n=1;n<=this.opt.number;n++){var i=e._nameForIndex.call(this,n),r={alt:n,src:this.opt.path+this.opt[i]};"img"!==this.opt.starType&&(r={"data-alt":n,"class":r.src}),r.title=e._getHint.call(this,n),t("<"+this.opt.starType+" />",r).appendTo(this),this.opt.space&&this.self.append(n<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(e){t(this).text(e),t.error(e)},_fill:function(t){for(var n=0,i=1;i<=this.stars.length;i++){var r,o=this.stars[i-1],s=e._turnOn.call(this,i,t);if(this.opt.iconRange&&this.opt.iconRange.length>n){var a=this.opt.iconRange[n];r=e._getRangeIcon.call(this,a,s),i<=a.range&&e._setIcon.call(this,o,r),i===a.range&&n++}else r=this.opt[s?"starOn":"starOff"],e._setIcon.call(this,o,r)}},_getFirstDecimal:function(t){var e=t.toString().split(".")[1],n=0;return e&&(n=parseInt(e.charAt(0),10),"9999"===e.slice(1,5)&&n++),n},_getRangeIcon:function(t,e){return e?t.on||this.opt.starOn:t.off||this.opt.starOff},_getScoreByPosition:function(n,i){var r=parseInt(i.alt||i.getAttribute("data-alt"),10);if(this.opt.half){var o=e._getWidth.call(this);r=r-1+parseFloat((n.pageX-t(i).offset().left)/o)}return r},_getHint:function(t,n){if(0!==t&&!t)return this.opt.noRatedMsg;var i=e._getFirstDecimal.call(this,t),r=Math.ceil(t),o=this.opt.hints[(r||1)-1],s=o,a=!n||this.move;return this.opt.precision?(a&&(i=0===i?9:i-1),s=o[i]):(this.opt.halfShow||this.opt.half)&&(s=o[i=a&&0===i?1:i>5?1:0]),""===s?"":s||t},_getWidth:function(){var t=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return t||e._error.call(this,"Could not get the icon width!"),t},_lock:function(){var t=e._getHint.call(this,this.score.val());this.style.cursor="",this.title=t,this.score.prop("readonly",!0),this.stars.prop("title",t),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(t){return this.opt.score&&this.opt.score>=t?"starOn":"starOff"},_resetTitle:function(){for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1)},_roundHalfScore:function(t){var n=parseInt(t,10),i=e._getFirstDecimal.call(this,t);return 0!==i&&(i=i>5?1:.5),n+i},_roundStars:function(t,n){var i,r=(t%1).toFixed(2);if(n||this.move?i=r>.5?"starOn":"starHalf":r>this.opt.round.down&&(i="starOn",this.opt.halfShow&&r<this.opt.round.up?i="starHalf":r<this.opt.round.full&&(i="starOff")),i){var o=this.opt[i],s=this.stars[Math.ceil(t)-1];e._setIcon.call(this,s,o)}},_setIcon:function(t,e){t["img"===this.opt.starType?"src":"className"]=this.opt.path+e},_setTarget:function(t,e){e&&(e=this.opt.targetFormat.toString().replace("{score}",e)),t.is(":input")?t.val(e):t.html(e)},_setTitle:function(t,n){if(t){var i=parseInt(Math.ceil(t),10);this.stars[i-1].title=e._getHint.call(this,t,n)}},_target:function(n,i){if(this.opt.target){var r=t(this.opt.target);r.length||e._error.call(this,"Target selector invalid or missing!");var o=i&&"mouseover"===i.type;if(n===undefined)n=this.opt.targetText;else if(null===n)n=o?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?n=e._getHint.call(this,n,i):this.opt.precision&&(n=parseFloat(n).toFixed(1));var s=i&&"mousemove"===i.type;o||s||this.opt.targetKeep||(n=this.opt.targetText)}e._setTarget.call(this,r,n)}},_turnOn:function(t,e){return this.opt.single?t===e:t<=e},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1);this.cancel&&this.cancel.css("display","")},cancel:function(n){return this.each(function(){var i=t(this);!0!==i.data("readonly")&&(e[n?"click":"score"].call(i,null),this.score.removeAttr("value"))})},click:function(n){return this.each(function(){!0!==t(this).data("readonly")&&(n=e._adjustedScore.call(this,n),e._apply.call(this,n),this.opt.click&&this.opt.click.call(this,n,t.Event("click")),e._target.call(this,n))})},destroy:function(){return this.each(function(){var e=t(this),n=e.data("raw");n?e.off(".raty").empty().css({cursor:n.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var t,e=[];return this.each(function(){t=this.score.val(),e.push(t?+t:undefined)}),e.length>1?e:e[0]},move:function(n){return this.each(function(){var i=parseInt(n,10),r=e._getFirstDecimal.call(this,n);i>=this.opt.number&&(i=this.opt.number-1,r=10);var o=e._getWidth.call(this)/10,s=t(this.stars[i]),a=s.offset().left+o*r,l=t.Event("mousemove",{pageX:a});this.move=!0,s.trigger(l),this.move=!1})},readOnly:function(n){return this.each(function(){var i=t(this);i.data("readonly")!==n&&(n?(i.off(".raty").children(this.opt.starType).off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),i.data("readonly",n))})},reload:function(){return e.set.call(this,{})},score:function(){var n=t(this);return arguments.length?e.setScore.apply(n,arguments):e.getScore.call(n)},set:function(e){return this.each(function(){t(this).raty(t.extend({},this.opt,e))})},setScore:function(n){return this.each(function(){!0!==t(this).data("readonly")&&(n=e._adjustedScore.call(this,n),e._apply.call(this,n),e._target.call(this,n))})}};t.fn.raty=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist!"):e.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:undefined,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:undefined,mouseout:undefined,mouseover:undefined,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:undefined,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:undefined,scoreName:"score",single:!1,space:!0,starHalf:"/star-half.png",starOff:"/assets/star-off-69f6605e6959a7d1c6bc1b125aca882594da46d61d33169269dcc4d9d91c1e78.png",starOn:"/assets/star-on-90841e4556ae6d018adb2e2457b344c09c4791442eca6665af8e3e33bd023956.png",starType:"img",target:undefined,targetFormat:"{score}",targetKeep:!1,targetScore:undefined,targetText:"",targetType:"hint"}}(jQuery),function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return!!(i=n.call(null,r,t,e))&&void 0}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return!(i=n.call(null,r,t,e))&&void 0}),!!i):i},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,u=e-(l-s);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,u)),o}},noop:function(){}}}(),n="0.10.4",i=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function n(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function i(t){return function(){var n=[].slice.call(arguments,0);return function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key]),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix))}function n(){return(new Date).getTime()}function i(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(t){return JSON.parse(t)}var o,s;try{(o=window.localStorage).setItem("~~~","!"),o.removeItem("~~~")}catch(a){o=null}return s=o&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),r(o.getItem(this._prefix(t)))},set:function(t,r,s){return e.isNumber(s)?o.setItem(this._ttlKey(t),i(n()+s)):o.removeItem(this._ttlKey(t)),o.setItem(this._prefix(t),i(r))},remove:function(t){return o.removeItem(this._ttlKey(t)),o.removeItem(this._prefix(t)),this},clear:function(){var t,e,n=[],i=o.length;for(t=0;i>t;t++)(e=o.key(t)).match(this.keyMatcher)&&n.push(e.replace(this.keyMatcher,""));for(t=n.length;t--;)this.remove(n[t]);return this},isExpired:function(t){var i=r(o.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&n()>i)}}:{get:e.noop,set:e.noop,remove:e.noop,clear:e.noop,isExpired:e.noop},e.mixin(t.prototype,s),t}(),s=function(){"use strict";function n(e){e=e||{},this.cancelled=!1,this.lastUrl=null,this._send=e.transport?i(e.transport):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get,this._cache=!1===e.cache?new r(0):l}function i(n){return function(i,r){function o(t){e.defer(function(){a.resolve(t)})}function s(t){e.defer(function(){a.reject(t)})}var a=t.Deferred();return n(i,r,o,s),a}}var o=0,s={},a=6,l=new r(10);return n.setMaxPendingRequests=function(t){a=t},n.resetCache=function(){l.reset()},e.mixin(n.prototype,{_get:function(t,e,n){function i(e){n&&n(null,e),c._cache.set(t,e)}function r(){n&&n(!0)}function l(){o--,delete s[t],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var u,c=this;this.cancelled||t!==this.lastUrl||((u=s[t])?u.done(i).fail(r):a>o?(o++,s[t]=this._send(t,e).done(i).fail(r).always(l)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,n,i){var r;return e.isFunction(n)&&(i=n,n={}),this.cancelled=!1,this.lastUrl=t,(r=this._cache.get(t))?e.defer(function(){i&&i(null,r)}):this._get(t,n,i),!!r},cancel:function(){this.cancelled=!0}}),n}(),a=function(){"use strict";function n(e){(e=e||{}).datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),e.map(t,function(t){return t.toLowerCase()})}function r(){return{ids:[],children:{}}}function o(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){function n(t,e){return t-e}var i=0,r=0,o=[];t=t.sort(n),e=e.sort(n);for(var s=t.length,a=e.length;s>i&&a>r;)t[i]<e[r]?i++:t[i]>e[r]?r++:(o.push(t[i]),i++,r++);return o}return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,s;o=n.datums.push(t)-1,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)(e=e.children[s]||(e.children[s]=r())).ids.push(o)})})},get:function(t){var n,r,a=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=a.trie,n=t.split("");e&&(i=n.shift());)e=e.children[i];return e&&0===n.length?(o=e.ids.slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?e.map(o(r),function(t){return a.datums[t]}):[]},reset:function(){this.datums=[],this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function i(t){return t.local||null}function r(i){var r,o;return o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=i.prefetch||null)&&(r=e.isString(r)?{url:r}:r,(r=e.mixin(o,r)).thumbprint=n+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",!r.url&&t.error("prefetch requires url to be set")),r}function o(n){function i(t){return function(n){return e.debounce(n,t)}}function r(t){return function(n){return e.throttle(n,t)}}var o,s;return s={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(o=n.remote||null)&&(o=e.isString(o)?{url:o}:o,(o=e.mixin(s,o)).rateLimiter=/^throttle$/i.test(o.rateLimitBy)?r(o.rateLimitWait):i(o.rateLimitWait),o.ajax.type=o.ajax.type||"GET",o.ajax.dataType=o.ajax.dataType||"json",delete o.rateLimitBy,delete o.rateLimitWait,!o.url&&t.error("remote requires url to be set")),o}return{local:i,prefetch:r,remote:o}}();!function(n){"use strict";function r(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=u(e.sorter),this.dupDetector=e.dupDetector||c,this.local=l.local(e),this.prefetch=l.prefetch(e),this.remote=l.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new a({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new o(this.cacheKey):null}function u(t){function n(e){return e.sort(t)}function i(t){return t}return e.isFunction(t)?n:i}function c(){return!1}var d,h;d=n.Bloodhound,h={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=r,r.noConflict=function(){return n.Bloodhound=d,r},r.tokenizers=i,e.mixin(r.prototype,{_loadPrefetch:function(e){function n(t){o.clear(),o.add(e.filter?e.filter(t):t),o._saveToStorage(o.index.serialize(),e.thumbprint,e.ttl)}var i,r,o=this;return(i=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(i),r=t.Deferred().resolve()):r=t.ajax(e.url,e.ajax).done(n),r},_getFromRemote:function(t,e){function n(t,n){e(t?[]:o.remote.filter?o.remote.filter(n):n)}var i,r,o=this;if(this.transport)return t=t||"",r=encodeURIComponent(t),i=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(i,this.remote.ajax,n)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(t,e,n){this.storage&&(this.storage.set(h.data,t,n),this.storage.set(h.protocol,location.protocol,n),this.storage.set(h.thumbprint,e,n))},_readFromStorage:function(t){var e,n={};return this.storage&&(n.data=this.storage.get(h.data),n.protocol=this.storage.get(h.protocol),n.thumbprint=this.storage.get(h.thumbprint)),e=n.thumbprint!==t||n.protocol!==location.protocol,n.data&&!e?n.data:null},_initialize:function(){function n(){r.add(e.isFunction(o)?o():o)}var i,r=this,o=this.local;return i=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),o&&i.done(n),this.transport=this.remote?new s(this.remote):null,this.initPromise=i.promise()},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){this.index.add(t)},get:function(t,n){function i(t){var i=o.slice(0);e.each(t,function(t){return!e.some(i,function(e){return r.dupDetector(t,e)})&&i.push(t),i.length<r.limit}),n&&n(r.sorter(i))}var r=this,o=[],s=!1;o=this.index.get(t),(o=this.sorter(o).slice(0,this.limit)).length<this.limit?s=this._getFromRemote(t,i):this._cancelLastRemoteRequest(),s||(o.length>0||!this.transport)&&n&&n(o)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&s.resetCache()},ttAdapter:function(){return e.bind(this.get,this)}})}(this);var u={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},c=function(){"use strict";var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(t.input,{marginTop:"-1px"}),t}(),d=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i="typeahead:";return e.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),n}(),h=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(l),n=i?a(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,s;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=o(n.sync,this,[e].concat(i)),s=o(n.async,this,[e].concat(i)),r()&&u(s);return this}function o(t,e,n){function i(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=!1===t[r].apply(e,n);return!i}return i}function s(){return window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,u=s();return{onSync:n,onAsync:e,off:i,trigger:r}}(),f=function(t){"use strict";function n(t,n,i){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(e.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(e){var n,i,o;return(n=a.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),(i=e.splitText(n.index)).splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}function s(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)(n=t.childNodes[r]).nodeType===i?r+=e(n)?1:0:s(n,e)}var a;(r=e.mixin({},i,r)).node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],a=n(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,o))}}(window.document),p=function(){"use strict";function n(n){var r,o,a,l,u=this;(n=n||{}).input||t.error("input is missing"),r=e.bind(this._onBlur,this),o=e.bind(this._onFocus,this),a=e.bind(this._onKeydown,this),l=e.bind(this._onInput,this),this.$hint=t(n.hint),this.$input=t(n.input).on("blur.tt",r).on("focus.tt",o).on("keydown.tt",a),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||e.defer(e.bind(u._onInput,u,t))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,h,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,r;switch(t){case"tab":i=this.getHint(),r=this.getInputValue(),n=i&&i!==r&&!o(e);break;case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,n;n=!!(e=r(t=this.getInputValue(),this.query))&&this.query.length!==t.length,this.query=t,e?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),m=function(){"use strict";function n(n){(n=n||{}).templates=n.templates||{},n.source||t.error("missing source"),n.name&&!o(n.name)&&t.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||e.getUniqueId(),this.source=n.source,this.displayFn=i(n.display||n.displayKey),this.templates=r(n.templates,this.displayFn),this.$el=t(u.dataset.replace("%CLASS%",this.name))}function i(t){function n(e){return e[t]}return t=t||"value",e.isFunction(t)?t:n}function r(t,n){function i(t){return"<p>"+n(t)+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||i}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var s="ttDataset",a="ttValue",l="ttDatum";return n.extractDatasetName=function(e){return t(e).data(s)},n.extractValue=function(e){return t(e).data(a)},n.extractDatum=function(e){return t(e).data(l)},e.mixin(n.prototype,h,{_render:function(n,i){function r(){return m.templates.empty({query:n,isEmpty:!0})}function o(){function r(e){var n;return(n=t(u.suggestion).append(m.templates.suggestion(e)).data(s,m.name).data(a,m.displayFn(e)).data(l,e)).children().each(function(){t(this).css(c.suggestionChild)}),n}var o,d;return o=t(u.suggestions).css(c.suggestions),d=e.map(i,r),o.append.apply(o,d),m.highlight&&f({className:"tt-highlight",node:o[0],pattern:n}),o}function d(){return m.templates.header({query:n,isEmpty:!p})}function h(){return m.templates.footer({query:n,isEmpty:!p})}if(this.$el){var p,m=this;this.$el.empty(),!(p=i&&i.length)&&this.templates.empty?this.$el.html(r()).prepend(m.templates.header?d():null).append(m.templates.footer?h():null):p&&this.$el.html(o()).prepend(m.templates.header?d():null).append(m.templates.footer?h():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){n.canceled||t!==n.query||n._render(t,e)}var n=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),n}(),g=function(){"use strict";function n(n){var r,o,s,a=this;(n=n||{}).menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(n.datasets,i),r=e.bind(this._onSuggestionClick,this),o=e.bind(this._onSuggestionMouseEnter,this),s=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(n.menu).on("click.tt",".tt-suggestion",r).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",s),e.each(this.datasets,function(t){a.$menu.append(t.getRoot()),t.onSync("rendered",a._onRendered,a)})}function i(t){return new m(t)}return e.mixin(n.prototype,h,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n,i,r;if(this.isOpen){if(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1===(i=((i=e.index(n)+t)+1)%(e.length+1)-1))return void this.trigger("cursorRemoved");-1>i&&(i=e.length-1),this._setCursor(r=e.eq(i)),this._ensureVisible(r)}},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(i+e):n>r&&this.$menu.scrollTop(i+(n-r))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?c.ltr:c.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:m.extractDatum(t),value:m.extractValue(t),datasetName:m.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function n(e){e.update(t)}e.each(this.datasets,n)},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},
destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),n}(),v=function(){"use strict";function n(n){var r,o,s;(n=n||{}).input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.$node=i(n.input,n.withHint),r=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),s=this.$node.find(".tt-hint"),o.on("blur.tt",function(t){var n,i,s;n=document.activeElement,i=r.is(n),s=r.has(n).length>0,e.isMsie()&&(i||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=n.eventBus||new d({el:o}),this.dropdown=new g({menu:r,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new p({input:o,hint:s}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(e,n){var i,o,a,l;i=t(e),o=t(u.wrapper).css(c.wrapper),a=t(u.dropdown).css(c.dropdown),(l=i.clone().css(c.hint).css(r(i))).val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(s,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?c.input:c.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(d){}return i.wrap(o).parent().prepend(n?l:null).append(a)}function r(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function o(t){var n=t.find(".tt-input");e.each(n.data(s),function(t,i){e.isUndefined(t)?n.removeAttr(i):n.attr(i,t)}),n.detach().removeData(s).removeClass("tt-input").insertAfter(t),t.remove()}var s="ttAttrs";return e.mixin(n.prototype,{_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,n,i,r,o;(t=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=p.normalizeQuery(n),r=e.escapeRegExChars(i),(o=new RegExp("^(?:"+r+")(.+$)","i").exec(t.value))?this.input.setHint(n+o[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n,i,r;e=this.input.getHint(),n=this.input.getQuery(),i=t||this.input.isCursorAtEnd(),e&&n!==e&&i&&((r=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=e.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node),this.$node=null}}),n}();!function(){"use strict";var n,i,r;n=t.fn.typeahead,i="ttTypeahead",r={initialize:function(n,r){function o(){var o,s=t(this);e.each(r,function(t){t.highlight=!!n.highlight}),o=new v({input:s,eventBus:new d({el:s}),withHint:!!e.isUndefined(n.hint)||!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:r}),s.data(i,o)}return r=e.isArray(r)?r:[].slice.call(arguments,1),n=n||{},this.each(o)},open:function(){function e(){var e;(e=t(this).data(i))&&e.open()}return this.each(e)},close:function(){function e(){var e;(e=t(this).data(i))&&e.close()}return this.each(e)},val:function(e){function n(){var n;(n=t(this).data(i))&&n.setVal(e)}function r(t){var e,n;return(e=t.data(i))&&(n=e.getVal()),n}return arguments.length?this.each(n):r(this.first())},destroy:function(){function e(){var e,n=t(this);(e=n.data(i))&&(e.destroy(),n.removeData(i))}return this.each(e)}},t.fn.typeahead=function(e){var n;return r[e]&&"initialize"!==e?(n=this.filter(function(){return!!t(this).data(i)}),r[e].apply(n,[].slice.call(arguments,1))):r.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this}}()}(window.jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?e(require("jquery")):(e(t.jquery),t.bootstrapSwitch={})}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){return[t.state?"on":"off",t.size,t.disabled?"disabled":void 0,t.readonly?"readonly":void 0,t.indeterminate?"indeterminate":void 0,t.inverse?"inverse":void 0,e?"id-"+e:void 0].filter(function(t){return null==t})}function i(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}function r(){var t=this,e=this.$on.add(this.$off).add(this.$label).css("width",""),n="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return e.width(n),this.$label.width(function(e,i){return"auto"===t.options.labelWidth?i<n?n:i:t.options.labelWidth}),this.privateHandleWidth=this.$on.outerWidth(),this.privateLabelWidth=this.$label.outerWidth(),this.$container.width(2*this.privateHandleWidth+this.privateLabelWidth),this.$wrapper.width(this.privateHandleWidth+this.privateLabelWidth)}function o(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.ope;this.$container.css("margin-left",function(){var n=[0,"-"+t.privateHandleWidth+"px"];return t.options.indeterminate?"-"+t.privateHandleWidth/2+"px":e?t.options.inverse?n[1]:n[0]:t.options.inverse?n[0]:n[1]})}function s(t){return this.options.baseClass+"-"+t}function a(){var t=this,e=function(){t.setPrevOptions(),r.call(t),o.call(t),setTimeout(function(){return t.options.animate&&t.$wrapper.addClass(s.call(t,"animate"))},50)};if(this.$wrapper.is(":visible"))e();else var n=window.setInterval(function(){return t.$wrapper.is(":visible")&&(e()||!0)&&window.clearInterval(n)},50)}function l(){var t=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":function(){return t.setPrevOptions()},"previousState.bootstrapSwitch":function(){t.options=t.prevOptions,t.options.indeterminate&&t.$wrapper.addClass(s.call(t,"indeterminate")),t.$element.prop("checked",t.options.state).trigger("change.bootstrapSwitch",!0)},"change.bootstrapSwitch":function(e,n){e.preventDefault(),e.stopImmediatePropagation();var i=t.$element.is(":checked");o.call(t,i),i===t.options.state||(t.options.state=i,t.$wrapper.toggleClass(s.call(t,"off")).toggleClass(s.call(t,"on")),!n&&(t.$element.is(":radio")&&y('[name="'+t.$element.attr("name")+'"]').not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[i])))},"focus.bootstrapSwitch":function(e){e.preventDefault(),t.$wrapper.addClass(s.call(t,"focused"))},"blur.bootstrapSwitch":function(e){e.preventDefault(),t.$wrapper.removeClass(s.call(t,"focused"))},"keydown.bootstrapSwitch":function(e){!e.which||t.options.disabled||t.options.readonly||(37===e.which||39===e.which)&&(e.preventDefault(),e.stopImmediatePropagation(),t.state(39===e.which))}})}function u(){var t=this;return this.$on.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")})}function c(){var t=this,e=void 0,n=void 0;this.$label.on({click:function(t){t.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(n){e||t.options.disabled||t.options.readonly||(n.preventDefault(),n.stopPropagation(),e=(n.pageX||n.originalEvent.touches[0].pageX)-parseInt(t.$container.css("margin-left"),10),t.options.animate&&t.$wrapper.removeClass(s.call(t,"animate")),t.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(i){if(null!=e){var r=(i.pageX||i.originalEvent.touches[0].pageX)-e;i.preventDefault(),r<-t.privateHandleWidth||0<r||(n=r,t.$container.css("margin-left",n+"px"))}},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(i){if(e){if(i.preventDefault(),t.options.animate&&t.$wrapper.addClass(s.call(t,"animate")),n){var r=n>-t.privateHandleWidth/2;n=!1,t.state(t.options.inverse?!r:r)}else t.state(!t.options.state);e=!1}},"mouseleave.bootstrapSwitch":function(){t.$label.trigger("mouseup.bootstrapSwitch")}})}function d(){var t=this,e=this.$element.closest("label");e.on("click",function(n){n.preventDefault(),n.stopImmediatePropagation(),n.target===e[0]&&t.toggleState()})}function h(){function t(){return y(this).data("bootstrap-switch")}function e(){return y(this).bootstrapSwitch("state",this.checked)}var n=this.$element.closest("form");n.data("bootstrap-switch")||n.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){n.find("input").filter(t).each(e)},1)}).data("bootstrap-switch",!0)}function f(t){var e=this;return y.isArray(t)?t.map(function(t){return s.call(e,t)}):[s.call(this,t)]}var p,m=(p=t)&&p.__esModule?p:{"default":p},g=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},v=function(){function t(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y=m["default"]||window.jQuery||window.$,b=function(){function t(r){var o=this,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e(this,t),this.$element=y(r),this.options=y.extend({},y.fn.bootstrapSwitch.defaults,i.call(this),p),this.prevOptions={},this.$wrapper=y("<div>",{"class":function(){return n(o.options,o.$element.attr("id")).map(function(t){return s.call(o,t)}).concat([o.options.baseClass],f.call(o,o.options.wrapperClass)).join(" ")}}),this.$container=y("<div>",{"class":s.call(this,"container")}),this.$on=y("<span>",{html:this.options.onText,"class":s.call(this,"handle-on")+" "+s.call(this,this.options.onColor)}),this.$off=y("<span>",{html:this.options.offText,"class":s.call(this,"handle-off")+" "+s.call(this,this.options.offColor)}),this.$label=y("<span>",{html:this.options.labelText,"class":s.call(this,"label")}),this.$element.on("init.bootstrapSwitch",function(){return o.options.onInit(r)}),this.$element.on("switchChange.bootstrapSwitch",function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];!1===o.options.onSwitchChange.apply(r,e)&&(o.$element.is(":radio")?y('[name="'+o.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",!0):o.$element.trigger("previousState.bootstrapSwitch",!0))}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),a.call(this),l.call(this),u.call(this),c.call(this),h.call(this),d.call(this),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return v(t,[{key:"setPrevOptions",value:function(){this.prevOptions=g({},this.options)}},{key:"state",value:function(t,e){return void 0===t?this.options.state:this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.$element.is(":radio")?y('[name="'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",!!t).trigger("change.bootstrapSwitch",e),this.$element)}},{key:"toggleState",value:function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)}},{key:"size",value:function(t){return void 0===t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(s.call(this,this.options.size)),t&&this.$wrapper.addClass(s.call(this,t)),r.call(this),o.call(this),this.options.size=t,this.$element)}},{key:"animate",value:function(t){return void 0===t?this.options.animate:this.options.animate===!!t?this.$element:this.toggleAnimate()}},{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(s.call(this,"animate")),this.$element}},{key:"disabled",value:function(t){return void 0===t?this.options.disabled:this.options.disabled===!!t?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(s.call(this,"disabled")),this.$element}},{key:"readonly",value:function(t){return void 0===t?this.options.readonly:this.options.readonly===!!t?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(s.call(this,"readonly")),this.$element}},{key:"indeterminate",value:function(t){return void 0===t?this.options.indeterminate:this.options.indeterminate===!!t?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(s.call(this,"indeterminate")),o.call(this),this.$element}},{key:"inverse",value:function(t){return void 0===t?this.options.inverse:this.options.inverse===!!t?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(s.call(this,"inverse"));var t=this.$on.clone(!0),e=this.$off.clone(!0);return this.$on.replaceWith(e),this.$off.replaceWith(t),this.$on=e,this.$off=t,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(t){return void 0===t?this.options.onColor:(this.options.onColor&&this.$on.removeClass(s.call(this,this.options.onColor)),this.$on.addClass(s.call(this,t)),this.options.onColor=t,this.$element)}},{key:"offColor",value:function(t){return void 0===t?this.options.offColor:(this.options.offColor&&this.$off.removeClass(s.call(this,this.options.offColor)),this.$off.addClass(s.call(this,t)),this.options.offColor=t,this.$element)}},{key:"onText",value:function(t){return void 0===t?this.options.onText:(this.$on.html(t),r.call(this),o.call(this),this.options.onText=t,this.$element)}},{key:"offText",value:function(t){return void 0===t?this.options.offText:(this.$off.html(t),r.call(this),o.call(this),this.options.offText=t,this.$element)}},{key:"labelText",value:function(t){return void 0===t?this.options.labelText:(this.$label.html(t),r.call(this),this.options.labelText=t,this.$element)}},{key:"handleWidth",value:function(t){return void 0===t?this.options.handleWidth:(this.options.handleWidth=t,r.call(this),o.call(this),this.$element)}},{key:"labelWidth",value:function(t){return void 0===t?this.options.labelWidth:(this.options.labelWidth=t,r.call(this),o.call(this),this.$element)}},{key:"baseClass",value:function(){return this.options.baseClass}},{key:"wrapperClass",value:function(t){if(void 0===t)return this.options.wrapperClass;var e=t||y.fn.bootstrapSwitch.defaults.wrapperClass;return this.$wrapper.removeClass(f.call(this,this.options.wrapperClass).join(" ")),this.$wrapper.addClass(f.call(this,e).join(" ")),this.options.wrapperClass=e,this.$element}},{key:"radioAllOff",value:function(t){if(void 0===t)return this.options.radioAllOff;var e=!!t;return this.options.radioAllOff===e?this.$element:(this.options.radioAllOff=e,this.$element)}},{key:"onInit",value:function(t){return void 0===t?this.options.onInit:(this.options.onInit=t||y.fn.bootstrapSwitch.defaults.onInit,this.$element)}},{key:"onSwitchChange",value:function(t){return void 0===t?this.options.onSwitchChange:(this.options.onSwitchChange=t||y.fn.bootstrapSwitch.defaults.onSwitchChange,this.$element)}},{key:"destroy",value:function(){var t=this.$element.closest("form");return t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}}]),t}();y.fn.bootstrapSwitch=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Array.prototype.reduce.call(this,function(e,i){var r=y(i),o=r.data("bootstrap-switch"),s=o||new b(i,t);return o||r.data("bootstrap-switch",s),"string"==typeof t?s[t].apply(s,n):e},this)},y.fn.bootstrapSwitch.Constructor=b,y.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}),function(){var t=this;(function(){(function(){var t=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var n;return null==t&&(t=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new e.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e,n;if(e=1<=arguments.length?t.call(arguments,0):[],this.debugging)return e.push(Date.now()),(n=this.logger).log.apply(n,["[ActionCable]"].concat(t.call(e)))}}}).call(this)}).call(t);var e=t.ActionCable;(function(){(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ConnectionMonitor=function(){function n(e){this.connection=e,this.visibilityDidChange=t(this.visibilityDidChange,this),this.reconnectAttempts=0}var i,r,o;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){if(!this.isRunning())return this.startedAt=r(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},n.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=r(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor stopped")},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=r()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,e.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=r(),e.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},n.prototype.getPollInterval=function(){var t,e,n,r;return n=(r=this.constructor.pollInterval).min,e=r.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*i(t,n,e))},n.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return e.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+o(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?e.log("ConnectionMonitor skipping reopening recent disconnect"):(e.log("ConnectionMonitor reopening"),this.connection.reopen())},n.prototype.connectionIsStale=function(){var t;return o(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&o(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return e.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},r=function(){return(new Date).getTime()},o=function(t){return(r()-t)/1e3},i=function(t,e,n){return Math.max(e,Math.min(n,t))},n}()}).call(this),function(){var t,n,i,r,o,s=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r=e.INTERNAL,n=r.message_types,i=r.protocols,o=2<=i.length?s.call(i,0,t=i.length-1):(t=0,[]),i[t++],e.Connection=function(){function t(t){this.consumer=t,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new e.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(e.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(e.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+i),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new e.WebSocket(this.consumer.url,i),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(e.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return t=n,e.log("Failed to reopen WebSocket",t)}finally{e.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),l.call(o,t)>=0},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?s.call(arguments,0):[],t=this.getState(),l.call(e,t)>=0},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,i,r;if(this.isProtocolSupported())switch(e=(r=JSON.parse(t.data)).identifier,i=r.message,r.type){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(e,"connected");case n.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",i)}},open:function(){if(e.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return e.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(e.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return e.log("WebSocket onerror event")}},t}()}.call(this),function(){var t=[].slice;e.Subscriptions=function(){function n(t){this.consumer=t,this.subscriptions=[]}return n.prototype.create=function(t,n){var i,r,o;return r="object"==typeof(i=t)?i:{channel:i},o=new e.Subscription(this.consumer,r,n),this.add(o)},n.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},n.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},n.prototype.reject=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.findAll(t)).length;e<n;e++)o=i[e],this.forget(o),this.notify(o,"rejected"),r.push(o);return r},n.prototype.forget=function(t){var e;return this.subscriptions=function(){var n,i,r,o;for(o=[],n=0,i=(r=this.subscriptions).length;n<i;n++)(e=r[n])!==t&&o.push(e);return o}.call(this),t},n.prototype.findAll=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.subscriptions).length;e<n;e++)(o=i[e]).identifier===t&&r.push(o);return r},n.prototype.reload=function(){var t,e,n,i,r;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)r=n[t],i.push(this.sendCommand(r,"subscribe"));return i},n.prototype.notifyAll=function(){var e,n,i,r,o,s,a;for(n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],s=[],i=0,r=(o=this.subscriptions).length;i<r;i++)a=o[i],s.push(this.notify.apply(this,[a,n].concat(t.call(e))));return s},n.prototype.notify=function(){var e,n,i,r,o,s,a;for(s=arguments[0],n=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],o=[],i=0,r=(a="string"==typeof s?this.findAll(s):[s]).length;i<r;i++)s=a[i],o.push("function"==typeof s[n]?s[n].apply(s,e):void 0);return o},n.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},n}()}.call(this),function(){e.Subscription=function(){function t(t,n,i){this.consumer=t,null==n&&(n={}),this.identifier=JSON.stringify(n),e(this,i)}var e;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e=function(t,e){var n,i;if(null!=e)for(n in e)i=e[n],t[n]=i;return t},t}()}.call(this),function(){e.Consumer=function(){function t(t){this.url=t,this.subscriptions=new e.Subscriptions(this),this.connection=new e.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){App.admin_notification=App.cable.subscriptions.create("AdminNotificationChannel",{connected:function(){},disconnected:function(){},received:function(t){var e;e={icon:"/favicon-120x120.png",body:"Mensaje desde sistema"},"Notification"in window?"granted"===Notification.permission?new Notification(t,e):"denied"!==Notification.permission&&Notification.requestPermission(function(n){"granted"===n&&new Notification(t,e)}):console.log("This browser does not support desktop notification")}})}.call(this),App.notifications=App.cable.subscriptions.create("NotificationsChannel",{connected:function(){},disconnected:function(){},received:function(t){$("#badge_count").html();if(t.alert_class!=undefined?alert_class=t.alert_class:alert_class="alert-info",t.html&&$("main .notifications").html('<div class="alert '+alert_class+' alert-dismissible" role="alert"><button class="close" data-dismiss="alert"><span aria-hidden="true">\xd7</span><span class="sr-only">Close</span></button>'+t.html+"</div>"),t.popup&&notifyMe(t.popup),t.confetti&&showConfetti(),t.csv_file)return blob=new Blob(["\ufeff",t.csv_file.content]),csv_download_link=document.createElement("a"),csv_download_link.href=window.URL.createObjectURL(blob),
csv_download_link.download=t.csv_file.file_name,void csv_download_link.click()}}),function(){App.room=App.cable.subscriptions.create("SenceNotificationsChannel",{connected:function(){},disconnected:function(){},received:function(t){var e;e={icon:"/favicon-120x120.png",body:t},"Notification"in window?"granted"===Notification.permission?new Notification("Cierre su sesi\xf3n SENCE",e):"denied"!==Notification.permission&&Notification.requestPermission(function(t){"granted"===t&&new Notification("Cierre su sesi\xf3n SENCE",e)}):console.log("This browser does not support desktop notification")}})}.call(this),function(){var t;t=function(){$('[data-toggle="tooltip"]').tooltip()},$(document).ready(t),$(document).on("turbolinks:load",t),$(document).on("turbolinks:load",function(){var t,e,n,i,r;return(n=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.value)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,remote:{url:$("#autocomplete-input").data("url")+"?q=%QUERY",filter:function(t){return $.map(t,function(t){return{value:t.highlight,cleanValue:t.content,url:t.url,type:t.type}})}}})).initialize(),r="fa-archive",e="fa-file",i=t="fa-folder",$("#autocomplete-input").typeahead({minLength:3,highlight:!0},{displayKey:"cleanValue",source:n.ttAdapter(),templates:{empty:['<div class="empty-message">',"No se encontraron resultados para esta b\xfasqueda","</div>"].join("\n"),suggestion:function(n){return"Section"===n.type?i=r:"Activity"===n.type?i=t:"Item"===n.type&&(i=e),'<p><strong><i class="fa '+i+'" aria-hidden="true"></i>  </strong> - '+n.value+"</p>"}}}).bind("typeahead:selected",function(t,e){return window.location=e.url})})}.call(this),document.addEventListener("turbolinks:before-cache",function(){$("#user_photo").filestyle("destroy"),$("#user_accept_emails").bootstrapSwitch("destroy"),$("#user_job_offer").bootstrapSwitch("destroy"),$(".switch_approved").bootstrapSwitch("destroy"),$("#user-rating").raty("destroy")}),document.addEventListener("turbolinks:load",function(){$(".switch, .switch").bootstrapSwitch({onText:"SI",offText:"NO"}),$(".switch_approved, .switch").bootstrapSwitch({onText:"SI",offText:"NO"}),$("input.approved").on("change",function(){$.post("/cohorts/"+$(this).data("cohort-id")+"/update_students_approved",{user_id:$(this).data("user-id"),approved:this.checked}).then(()=>{this.checked?($(`#student_${$(this).data("user-id")}`).removeClass("bg-danger"),$(`#student_${$(this).data("user-id")}`).addClass("bg-success")):($(`#student_${$(this).data("user-id")}`).removeClass("bg-success"),$(`#student_${$(this).data("user-id")}`).addClass("bg-danger"))})})}),$(document).on("turbolinks:load",function(){$("#loader_div").hide(),$("#search_by").hide(),$("#results_search").hide(),$("button.btn-workable").click(function(){$("button.btn-workable").removeClass("active-workable"),$("#search_by").show(),$(this).addClass("active-workable"),$("#search").attr("placeholder","Buscar "+$(this).text()+"...");var t=$(this).data("workable"),e=$(this).parent().data("url"),n=$("#search").val();$("#loader_div").show(),$("#results_search").hide(),$.ajax({type:"GET",dataType:"script",url:e,data:{workable:t,query:n},success:function(){$("#loader_div").hide()}})}),$("#search").keyup(function(){var t=$(".active-workable").parent(),e=$(".active-workable").data("workable"),n=t.data("url"),i=$(this).val();$("#loader_div").show(),$("#results_search").hide(),$.ajax({type:"GET",dataType:"script",url:n,data:{workable:e,query:i},success:function(){$("#loader_div").hide()}})})}),
/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
function(t,e,n,i){var r=t(e);t.fn.lazyload=function(n){function o(){var e=0;a.each(function(){var n=t(this);if(!l.skip_invisible||n.is(":visible"))if(t.abovethetop(this,l)||t.leftofbegin(this,l));else if(t.belowthefold(this,l)||t.rightoffold(this,l)){if(++e>l.failure_limit)return!1}else n.trigger("appear"),e=0})}var s,a=this,l={threshold:0,failure_limit:0,event:"scroll.lazyload",effect:"show",container:e,data_attribute:"original",data_srcset:"srcset",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs="};return n&&(i!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),i!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),t.extend(l,n)),s=l.container===i||l.container===e?r:t(l.container),0===l.event.indexOf("scroll")&&s.off(l.event).on(l.event,function(){return o()}),this.each(function(){var e=this,n=t(e);e.loaded=!1,n.attr("src")!==i&&!1!==n.attr("src")||n.is("img")&&n.attr("src",l.placeholder),n.one("appear",function(){if(!this.loaded){if(l.appear){var i=a.length;l.appear.call(e,i,l)}t("<img />").one("load",function(){var i=n.attr("data-"+l.data_attribute),r=n.attr("data-"+l.data_srcset);i!=n.attr("src")&&(n.hide(),n.is("img")&&(n.attr("src",i),null!=r&&n.attr("srcset",r)),n.is("video")?n.attr("poster",i):n.css("background-image","url('"+i+"')"),n[l.effect](l.effect_speed)),e.loaded=!0;var o=t.grep(a,function(t){return!t.loaded});if(a=t(o),l.load){var s=a.length;l.load.call(e,s,l)}}).attr({src:n.attr("data-"+l.data_attribute),srcset:n.attr("data-"+l.data_srcset)||""})}}),0!==l.event.indexOf("scroll")&&n.off(l.event).on(l.event,function(){e.loaded||n.trigger("appear")})}),r.off("resize.lazyload").bind("resize.lazyload",function(){o()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.on("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&a.each(function(){t(this).trigger("appear")})}),t(function(){o()}),this},t.belowthefold=function(n,o){return(o.container===i||o.container===e?(e.innerHeight?e.innerHeight:r.height())+r.scrollTop():t(o.container).offset().top+t(o.container).height())<=t(n).offset().top-o.threshold},t.rightoffold=function(n,o){return(o.container===i||o.container===e?r.width()+r.scrollLeft():t(o.container).offset().left+t(o.container).width())<=t(n).offset().left-o.threshold},t.abovethetop=function(n,o){return(o.container===i||o.container===e?r.scrollTop():t(o.container).offset().top)>=t(n).offset().top+o.threshold+t(n).height()},t.leftofbegin=function(n,o){return(o.container===i||o.container===e?r.scrollLeft():t(o.container).offset().left)>=t(n).offset().left+o.threshold+t(n).width()},t.inviewport=function(e,n){return!(t.rightoffold(e,n)||t.leftofbegin(e,n)||t.belowthefold(e,n)||t.abovethetop(e,n))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),$(document).on("turbolinks:load",function(){function t(t,e){var n=document.getElementById(e),i="#"+t;"password"===n.type?n.type="text":n.type="password",$(i+" .fa-eye").toggleClass("d-none"),$(i+" .fa-eye-slash").toggleClass("d-block","d-none"),$(i+" .fa-eye-slash").toggleClass("text-info")}$(".seePassword").click(function(){t("login-password","user_password")}),$(".seePasswordConfirmation").click(function(){t("confirmation-password","user_password_confirmation")}),hideRecover(),$("#btn-recover-account").click(function(){hideLoginAnimation(),showRecoverAnimation()}),$("#btn-login-account").click(function(){hideRecoverAnimation(),showLoginAnimation()})}),$(document).on("turbolinks:load",function(){check_capslock_form($(".password"))}),document.onkeydown=function(t){t=t||event,"undefined"==typeof window.lastpress&&(window.lastpress=t.timeStamp),"undefined"!=typeof window.capsLockEnabled&&(20==t.keyCode&&t.timeStamp>window.lastpress+50&&(window.capsLockEnabled=!window.capsLockEnabled,$(".capslockdiv").toggle(),$(".password").toggleClass("text-uppercase")),window.lastpress=t.timeStamp)},$(document).on("turbolinks:load",function(){function t(){e.value!=n.value?(n.setCustomValidity("Passwords Don't Match"),$(".validation").text("Contrase\xf1as no coinciden"),$(".password").addClass("text-danger"),$(".password").removeClass("text-success"),$(".fa-eye").addClass("text-danger"),$(".fa-eye-slash").addClass("text-danger"),$("#btn-actualizar").attr("disabled","disabled")):(n.setCustomValidity(""),$(".validation").text(""),$(".password").removeClass("text-danger"),$(".password").addClass("text-success"),$(".fa-eye").removeClass("text-danger"),$(".fa-eye-slash").removeClass("text-danger"),$("#btn-actualizar").removeAttr("disabled"))}var e=document.getElementById("user_password"),n=document.getElementById("user_password_confirmation");e&&n&&(e.onkeyup=t,n.onkeyup=t)}),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function n(n,o,a){function l(t,e,i){var r,o="$()."+n+'("'+e+'")';return t.each(function(t,l){var u=a.data(l,n);if(u){var c=u[e];if(c&&"_"!=e.charAt(0)){var d=c.apply(u,i);r=void 0===r?d:r}else s(o+" is not a valid method")}else s(n+" not initialized. Cannot call methods, i.e. "+o)}),void 0!==r?r:t}function u(t,e){t.each(function(t,i){var r=a.data(i,n);r?(r.option(e),r._init()):(r=new o(i,e),a.data(i,n,r))})}(a=a||e||t.jQuery)&&(o.prototype.option||(o.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[n]=function(t){return"string"==typeof t?l(this,t,r.call(arguments,1)):(u(this,t),this)},i(a))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var r=Array.prototype.slice,o=t.console,s=void 0===o?function(){}:function(t){o.error(t)};return i(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(t,o),delete i[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;u>e;e++){t[l[e]]=0}return t}function i(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function r(){if(!c){c=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var r=i(e);s=200==Math.round(t(r.width)),o.isBoxSizeOuter=s,n.removeChild(e)}}function o(e){if(r(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=i(e);if("none"==o.display)return n();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var c=a.isBorderBox="border-box"==o.boxSizing,d=0;u>d;d++){var h=l[d],f=o[h],p=parseFloat(f);a[h]=isNaN(p)?0:p}var m=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,v=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,b=a.borderLeftWidth+a.borderRightWidth,w=a.borderTopWidth+a.borderBottomWidth,x=c&&s,C=t(o.width);!1!==C&&(a.width=C+(x?0:m+b));var S=t(o.height);return!1!==S&&(a.height=S+(x?0:g+w)),a.innerWidth=a.width-(m+b),a.innerHeight=a.height-(g+w),a.outerWidth=a.width+v,a.outerHeight=a.height+y,a}}var s,a="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u=l.length,c=!1;return o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(e,n){return e[t](n)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},i=Array.prototype.slice;n.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?i.call(t):[t]},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var r=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!i)return void r.push(t);e(t,i)&&r.push(t);for(var n=t.querySelectorAll(i),o=0;o<n.length;o++)r.push(n[o])}}),r},n.debounceMethod=function(t,e,n){n=n||100;var i=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments,o=this;this[r]=setTimeout(function(){i.apply(o,e),delete o[r]},n)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var r=t.console;return n.htmlInit=function(e,i){n.docReady(function(){var o=n.toDashed(i),s="data-"+o,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+o),u=n.makeArray(a).concat(n.makeArray(l)),c=s+"-options",d=t.jQuery;u.forEach(function(t){var n,o=t.getAttribute(s)||t.getAttribute(c);try{n=o&&JSON.parse(o)}catch(a){return void(r&&r.error("Error parsing "+s+" on "+t.className+": "+a))}var l=new e(t,n);d&&d.data(t,i,l)})})},n}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function n(t){for(var e in t)return!1;return null,!0}function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function r(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var o=document.documentElement.style,s="string"==typeof o.transition?"transition":"WebkitTransition",a="string"==typeof o.transform?"transform":"WebkitTransform",l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],u={transform:a,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},c=i.prototype=Object.create(t.prototype);c.constructor=i,c._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},c.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},c.getSize=function(){this.size=e(this.element)},c.css=function(t){var e=this.element.style;for(var n in t){e[u[n]||n]=t[n]}},c.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],r=t[n?"top":"bottom"],o=parseFloat(i),s=parseFloat(r),a=this.layout.size;-1!=i.indexOf("%")&&(o=o/100*a.width),-1!=r.indexOf("%")&&(s=s/100*a.height),o=isNaN(o)?0:o,s=isNaN(s)?0:s,o-=e?a.paddingLeft:a.paddingRight,s-=n?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=s},c.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=n?"paddingLeft":"paddingRight",o=n?"left":"right",s=n?"right":"left",a=this.position.x+t[r];e[o]=this.getXValue(a),e[s]="";var l=i?"paddingTop":"paddingBottom",u=i?"top":"bottom",c=i?"bottom":"top",d=this.position.y+t[l];e[u]=this.getYValue(d),e[c]="",this.css(e),this.emitEvent("layout",[this])},c.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},c.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},c._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,r=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!r||this.isTransitioning){var o=t-n,s=e-i,a={};a.transform=this.getTranslate(o,s),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},c.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},c.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},c.moveTo=c._transitionTo,c.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},c._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},c.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var d="opacity,"+r(a);c.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:d,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(l,this,!1)}},c.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},c.onotransitionend=function(t){this.ontransitionend(t)};var h={"-webkit-transform":"transform"};c.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=h[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd)e.onEnd[i].call(this),delete e.onEnd[i];this.emitEvent("transitionEnd",[this])}},c.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},c._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return c.removeTransitionStyles=function(){this.css(f)},c.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},c.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},c.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},c.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},c.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},c.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},c.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},c.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},c.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,r,o){return e(t,n,i,r,o)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,n,i,r){"use strict";function o(t,e){var n=i.getQueryElement(t);if(n){this.element=n,u&&(this.$element=u(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var r=++d;this.element.outlayerGUID=r,h[r]=this,this._create(),this._getOption("initLayout")&&this.layout()}else l&&l.error("Bad element for "+this.constructor.namespace+": "+(n||t))}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];return n.length?(n=parseFloat(n))*(p[i]||1):0}var l=t.console,u=t.jQuery,c=function(){},d=0,h={};o.namespace="outlayer",o.Item=r,o.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=o.prototype;i.extend(f,e.prototype),f.option=function(t){i.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},o.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],r=0;r<e.length;r++){var o=new n(e[r],this);i.push(o)}return i},f._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=n(this.element)},f._getMeasurement=function(t,e){var i,r=this.options[t];r?("string"==typeof r?i=this.element.querySelector(r):r instanceof HTMLElement&&(i=r),this[t]=i?n(i)[e]:r):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach(function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null==t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},f._positionItem=function(t,e,n,i,r){i?t.goTo(e,n):(t.stagger(r*this.stagger),t.moveTo(e,n))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},f._getContainerSize=c,f._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){function n(){r.dispatchEvent(t+"Complete",null,[e])}function i(){++s==o&&n()}var r=this,o=e.length;if(e&&o){var s=0;e.forEach(function(e){e.once(t,i)})}else n()},f.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),u)if(this.$element=this.$element||u(this.element),e){var r=u.Event(e);r.type=t,this.$element.trigger(r,n)}else this.$element.trigger(t,n)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){i.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i.makeArray(t)):void 0},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=c,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,r=n(t);return{left:e.left-i.left-r.marginLeft,top:e.top-i.top-r.marginTop,right:i.right-e.right-r.marginRight,bottom:i.bottom-e.bottom-r.marginBottom}},f.handleEvent=i.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},i.debounceMethod(o,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},f.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach(function(t){var n=this.getItem(t);n&&e.push(n)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),i.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},o.data=function(t){var e=(t=i.getQueryElement(t))&&t.outlayerGUID;return e&&h[e]},o.create=function(t,e){var n=s(o);return n.defaults=i.extend({},o.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},o.compatOptions),n.namespace=t,n.data=o.data,n.Item=s(r),i.htmlInit(n,t),u&&u.bridget&&u.bridget(t,n),n};var p={ms:1,s:1e3};return o.Item=r,o}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,o=r/i,s=i-r%i;o=Math[s&&1>s?"round":"floor"](o),this.cols=Math.max(o,1)},i.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),r={x:this.columnWidth*i.col,y:i.y},o=i.y+t.size.outerHeight,s=n+i.col,a=i.col;s>a;a++)this.colYs[a]=o;return r},i._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},i._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;n>i;i++)e[i]=this._getColGroupY(i,t);return e},i._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;n=t>1&&n+t>this.cols?0:n;var i=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=i?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},i._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),r=this._getOption("originLeft")?i.left:i.right,o=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,u=s;a>=u;u++)this.colYs[u]=Math.max(l,this.colYs[u])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(t,o),delete i[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function n(t,e){for(var n in e)t[n]=e[n];return t}function i(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?u.call(t):[t]}function r(t,e,o){if(!(this instanceof r))return new r(t,e,o);var s=t;return"string"==typeof t&&(s=document.querySelectorAll(t)),s?(this.elements=i(s),this.options=n({},this.options),"function"==typeof e?o=e:n(this.options,e),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(s||t))}function o(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,l=t.console,u=Array.prototype.slice;r.prototype=Object.create(e.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var s=o[i];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var r=i&&i[2];r&&this.addBackground(r,t),i=n.exec(e.backgroundImage)}},r.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var n=new s(t,e);this.images.push(n)},r.prototype.check=function(){function t(t,n,i){setTimeout(function(){e.progress(t,n,i)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},r.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){
return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(o.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((a=e).fn.imagesLoaded=function(t,e){return new r(this,t,e).jqDeferred.promise(a(this))})},r.makeJQueryPlugin(),r}),$(function(){const t="#modal-holder",e=".modal";$(document).on("click","a[data-modal]",function(){const n=$(this).attr("href");return $.get(n,n=>{$(t).html(n).find(e).modal()}),!1}),$(document).on("ajax:success","form[data-modal]",function(n){const[i,r,o]=n.detail,s=o.getResponseHeader("Location");if(s)window.location=s;else{$(".modal-backdrop").remove();const n=$(i).find("body").html();$(t).html(n).find(e).modal()}return!1})}),
/**
 * Bootstrap Multiselect (http://davidstutz.de/bootstrap-multiselect/)
 *
 * Apache License, Version 2.0:
 * Copyright (c) 2012 - 2021 David Stutz
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a
 * copy of the License at http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 *
 * BSD 3-Clause License:
 * Copyright (c) 2012 - 2021 David Stutz
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *    - Redistributions of source code must retain the above copyright notice,
 *      this list of conditions and the following disclaimer.
 *    - Redistributions in binary form must reproduce the above copyright notice,
 *      this list of conditions and the following disclaimer in the documentation
 *      and/or other materials provided with the distribution.
 *    - Neither the name of David Stutz nor the names of its contributors may be
 *      used to endorse or promote products derived from this software without
 *      specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
function(t,e){"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified("knockout")?define(["jquery","knockout"],e):e(t.jQuery,t.ko)}(this,function(t,e){"use strict";function n(t,e){for(var n=0;n<t.length;++n)e(t[n],n)}function i(e,n){this.$select=t(e),this.options=this.mergeOptions(t.extend({},n,this.$select.data())),this.$select.attr("data-placeholder")&&(this.options.nonSelectedText=this.$select.data("placeholder")),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=t.proxy(this.options.onChange,this),this.options.onSelectAll=t.proxy(this.options.onSelectAll,this),this.options.onDeselectAll=t.proxy(this.options.onDeselectAll,this),this.options.onDropdownShow=t.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=t.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=t.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=t.proxy(this.options.onDropdownHidden,this),this.options.onInitialized=t.proxy(this.options.onInitialized,this),this.options.onFiltering=t.proxy(this.options.onFiltering,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildReset(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.wasDisabled=this.$select.prop("disabled"),this.options.disableIfEmpty&&t("option",this.$select).length<=0&&this.disable(),this.$select.wrap('<span class="multiselect-native-select" />').after(this.$container),"never"!==this.options.widthSynchronizationMode&&this.synchronizeButtonAndPopupWidth(),this.options.onInitialized(this.$select,this.$container)}void 0!==e&&e.bindingHandlers&&!e.bindingHandlers.multiselect&&(e.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(n,i,r){var o=t(n),s=e.toJS(i());if(o.multiselect(s),r.has("options")){var a=r.get("options");e.isObservable(a)&&e.computed({read:function(){a(),setTimeout(function(){var t=o.data("multiselect");t&&t.updateOriginalOptions(),o.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:n})}if(r.has("value")){var l=r.get("value");e.isObservable(l)&&e.computed({read:function(){l(),setTimeout(function(){o.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(r.has("selectedOptions")){var u=r.get("selectedOptions");e.isObservable(u)&&e.computed({read:function(){u(),setTimeout(function(){o.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var c=function(t){setTimeout(function(){t?o.multiselect("enable"):o.multiselect("disable")})};if(r.has("enable")){var d=r.get("enable");e.isObservable(d)?e.computed({read:function(){c(d())},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0}):c(d)}if(r.has("disable")){var h=r.get("disable");e.isObservable(h)?e.computed({read:function(){c(!h())},disposeWhenNodeIsRemoved:n}).extend({rateLimit:100,notifyWhenChangesStop:!0}):c(!h)}e.utils.domNodeDisposal.addDisposeCallback(n,function(){o.multiselect("destroy")})},update:function(n,i){var r=t(n),o=e.toJS(i());r.multiselect("setOptions",o),r.multiselect("rebuild")}}),i.prototype={defaults:{buttonText:function(e,n){if(this.disabledText.length>0&&n.prop("disabled"))return this.disabledText;if(0===e.length)return this.nonSelectedText;if(this.allSelectedText&&e.length===t("option",t(n)).length&&1!==t("option",t(n)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+e.length+")":this.allSelectedText;if(0!=this.numberDisplayed&&e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText;var i="",r=this.delimiterText;return e.each(function(){var e=t(this).attr("label")!==undefined?t(this).attr("label"):t(this).text();i+=e+r}),i.substr(0,i.length-this.delimiterText.length)},buttonTitle:function(e){if(0===e.length)return this.nonSelectedText;var n="",i=this.delimiterText;return e.each(function(){var e=t(this).attr("label")!==undefined?t(this).attr("label"):t(this).text();n+=e+i}),n.substr(0,n.length-this.delimiterText.length)},checkboxName:function(){return!1},optionLabel:function(e){return t(e).attr("label")||t(e).text()},optionClass:function(e){return t(e).attr("class")||""},onChange:function(){},onDropdownShow:function(){},onDropdownHide:function(){},onDropdownShown:function(){},onDropdownHidden:function(){},onSelectAll:function(){},onDeselectAll:function(){},onInitialized:function(){},onFiltering:function(){},enableHTML:!1,buttonClass:"custom-select",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibleOptGroups:!1,collapseOptGroupsByDefault:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,disabledText:"",delimiterText:", ",includeResetOption:!1,includeResetDivider:!1,resetText:"Reset",indentGroupOptions:!0,widthSynchronizationMode:"never",buttonTextAlignment:"center",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span></button>',popupContainer:'<div class="multiselect-container dropdown-menu"></div>',filter:'<div class="multiselect-filter d-flex align-items-center"><i class="fas fa-sm fa-search text-muted"></i><input type="search" class="multiselect-search form-control" /></div>',option:'<button type="button" class="multiselect-option dropdown-item"></button>',divider:'<div class="dropdown-divider"></div>',optionGroup:'<button type="button" class="multiselect-group dropdown-item"></button>',resetButton:'<div class="multiselect-reset text-center p-2"><button type="button" class="btn btn-sm btn-block btn-outline-secondary"></button></div>'}},constructor:i,buildContainer:function(){this.$container=t(this.options.buttonContainer),"never"!==this.options.widthSynchronizationMode?this.$container.on("show.bs.dropdown",t.proxy(function(){this.synchronizeButtonAndPopupWidth(),this.options.onDropdownShow()},this)):this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){if(this.$button=t(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:"100%"}),this.$container.css({width:this.options.buttonWidth})),this.options.buttonTextAlignment)switch(this.options.buttonTextAlignment){case"left":this.$button.addClass("text-left");break;case"center":this.$button.addClass("text-center");break;case"right":this.$button.addClass("text-right")}var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){this.$popupContainer=t(this.options.templates.popupContainer),this.options.dropRight?this.$container.addClass("dropright"):this.options.dropUp&&this.$container.addClass("dropup"),this.options.maxHeight&&this.$popupContainer.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),"never"!==this.options.widthSynchronizationMode&&this.$popupContainer.css("overflow-x","hidden"),this.$popupContainer.on("touchstart click",function(t){t.stopPropagation()}),this.$container.append(this.$popupContainer)},synchronizeButtonAndPopupWidth:function(){if(this.$popupContainer&&"never"!==this.options.widthSynchronizationMode){var t=this.$button.outerWidth();switch(this.options.widthSynchronizationMode){case"always":this.$popupContainer.css("min-width",t),this.$popupContainer.css("max-width",t);break;case"ifPopupIsSmaller":this.$popupContainer.css("min-width",t);break;case"ifPopupIsWider":this.$popupContainer.css("max-width",t)}}},buildDropdownOptions:function(){this.$select.children().each(t.proxy(function(e,n){var i=t(n),r=i.prop("tagName").toLowerCase();i.prop("value")!==this.options.selectAllValue&&("optgroup"===r?this.createOptgroup(n):"option"===r&&("divider"===i.data("role")?this.createDivider():this.createOptionValue(n,!1)))},this)),t(this.$popupContainer).off("change",'> *:not(.multiselect-group) input[type="checkbox"], > *:not(.multiselect-group) input[type="radio"]'),t(this.$popupContainer).on("change",'> *:not(.multiselect-group) input[type="checkbox"], > *:not(.multiselect-group) input[type="radio"]',t.proxy(function(e){var n=t(e.target),i=n.prop("checked")||!1,r=n.val()===this.options.selectAllValue;this.options.selectedClass&&(i?n.closest(".multiselect-option").addClass(this.options.selectedClass):n.closest(".multiselect-option").removeClass(this.options.selectedClass));var o=n.val(),s=this.getOptionByValue(o),a=t("option",this.$select).not(s),l=t("input",this.$container).not(n);if(r?i?this.selectAll(this.options.selectAllJustVisible,!0):this.deselectAll(this.options.selectAllJustVisible,!0):(i?(s.prop("selected",!0),this.options.multiple?s.prop("selected",!0):(this.options.selectedClass&&t(l).closest(".dropdown-item").removeClass(this.options.selectedClass),t(l).prop("checked",!1),a.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&a.closest(".dropdown-item").css("outline","")):s.prop("selected",!1),this.options.onChange(s,i),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()),this.$select.change(),this.updateButtonText(),this.options.preventInputChangeEvent)return!1},this)),t(".multiselect-option",this.$popupContainer).off("mousedown"),t(".multiselect-option",this.$popupContainer).on("mousedown",function(t){if(t.shiftKey)return!1}),t(this.$popupContainer).off("touchstart click",".multiselect-option, .multiselect-all, .multiselect-group"),t(this.$popupContainer).on("touchstart click",".multiselect-option, .multiselect-all, .multiselect-group",t.proxy(function(e){e.stopPropagation();var n=t(e.target);if(e.shiftKey&&this.options.multiple){n.is("input")||(e.preventDefault(),(n=n.closest(".multiselect-option").find("input")).prop("checked",!n.prop("checked")));var i=n.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==n){var r=this.$popupContainer.find(".multiselect-option:visible").index(n.closest(".multiselect-option")),o=this.$popupContainer.find(".multiselect-option:visible").index(this.lastToggledInput.closest(".multiselect-option"));if(r>o){var s=o;o=r,r=s}++o;var a=this.$popupContainer.find(".multiselect-option:not(.multiselect-filter-hidden)").slice(r,o).find("input");a.prop("checked",i),this.options.selectedClass&&a.closest(".multiselect-option").toggleClass(this.options.selectedClass,i);for(var l=0,u=a.length;l<u;l++){var c=t(a[l]);this.getOptionByValue(c.val()).prop("selected",i)}}n.trigger("change")}else if(!n.is("input")){if((c=n.closest(".multiselect-option, .multiselect-all").find(".form-check-input")).length>0)c.prop("checked",!c.prop("checked")),c.change();else if(this.options.enableClickableOptGroups&&this.options.multiple&&!n.hasClass("caret-container")){var d=n;d.hasClass("multiselect-group")||(d=n.closest(".multiselect-group")),(c=d.find(".form-check-input")).length>0&&(c.prop("checked",!c.prop("checked")),c.change())}e.preventDefault()}n.closest(".multiselect-option").find("input[type='checkbox'], input[type='radio']").length>0?this.lastToggledInput=n:this.lastToggledInput=null,n.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",t.proxy(function(e){if(!t("input.multiselect-search",this.$container).is(":focus"))if(9===e.keyCode&&this.$container.hasClass("show"))this.$button.click();else{var n=t(this.$container).find(".multiselect-option:not(.disabled), .multiselect-group:not(.disabled), .multiselect-all").filter(":visible");if(!n.length)return;var i=n.index(n.filter(":focus")),r=n.eq(i);if(32===e.keyCode){var o=r.find("input");o.prop("checked",!o.prop("checked")),o.change(),e.preventDefault()}13===e.keyCode&&setTimeout(function(){r.focus()},0)}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&(t(".multiselect-group input",this.$popupContainer).off("change"),t(".multiselect-group input",this.$popupContainer).on("change",t.proxy(function(e){e.stopPropagation();var n=t(e.target).prop("checked")||!1,i=t(e.target).closest(".dropdown-item"),r=i.nextUntil(".multiselect-group").not(".multiselect-filter-hidden").not(".disabled").find("input"),o=[];this.options.selectedClass&&(n?i.addClass(this.options.selectedClass):i.removeClass(this.options.selectedClass)),t.each(r,t.proxy(function(e,i){var r=t(i),s=r.val(),a=this.getOptionByValue(s);n?(r.prop("checked",!0),r.closest(".dropdown-item").addClass(this.options.selectedClass),a.prop("selected",!0)):(r.prop("checked",!1),r.closest(".dropdown-item").removeClass(this.options.selectedClass),a.prop("selected",!1)),o.push(this.getOptionByValue(s))},this)),this.options.onChange(o,n),this.$select.change(),this.updateButtonText(),this.updateSelectAll()},this))),this.options.enableCollapsibleOptGroups&&this.options.multiple&&(t(".multiselect-group .caret-container",this.$popupContainer).off("click"),t(".multiselect-group .caret-container",this.$popupContainer).on("click",t.proxy(function(e){var n=t(e.target).closest(".multiselect-group").nextUntil(".multiselect-group").not(".multiselect-filter-hidden"),i=!0;n.each(function(){i=i&&!t(this).hasClass("multiselect-collapsible-hidden")}),i?n.hide().addClass("multiselect-collapsible-hidden"):n.show().removeClass("multiselect-collapsible-hidden")},this)))},createCheckbox:function(e,n,i,r,o,s){var a=t("<span />");if(a.addClass("form-check"),this.options.enableHTML&&t(n).length>0)a.append(t(n));else{var l=t('<label class="form-check-label" />');l.text(n),a.append(l)}var u=t('<input class="form-check-input"/>').attr("type",s);return u.val(r),a.prepend(u),i&&u.attr("name",i),e.prepend(a),e.attr("title",o||n),u},createOptionValue:function(e,n){var i=t(e);i.is(":selected")&&i.prop("selected",!0);var r=this.options.optionLabel(e),o=this.options.optionClass(e),s=i.val(),a=this.options.multiple?"checkbox":"radio",l=i.attr("title"),u=t(this.options.templates.option);u.addClass(o),n&&this.options.indentGroupOptions&&u.addClass("multiselect-group-option-indented"),this.options.collapseOptGroupsByDefault&&"optgroup"===t(e).parent().prop("tagName").toLowerCase()&&(u.addClass("multiselect-collapsible-hidden"),u.hide());var c=this.options.checkboxName(i),d=this.createCheckbox(u,r,c,s,l,a),h=i.prop("selected")||!1;s===this.options.selectAllValue&&(u.addClass("multiselect-all"),u.removeClass("multiselect-option"),d.parent().parent().addClass("multiselect-all")),this.$popupContainer.append(u),i.is(":disabled")&&d.attr("disabled","disabled").prop("disabled",!0).closest(".dropdown-item").addClass("disabled"),d.prop("checked",h),h&&this.options.selectedClass&&d.closest(".dropdown-item").addClass(this.options.selectedClass)},createDivider:function(){var e=t(this.options.templates.divider);this.$popupContainer.append(e)},createOptgroup:function(e){var n=t(e),i=n.attr("label"),r=n.attr("value"),o=n.attr("title"),s=t("<span class='multiselect-group dropdown-item-text'></span>");if(this.options.enableClickableOptGroups&&this.options.multiple){s=t(this.options.templates.optionGroup);this.createCheckbox(s,i,null,r,o,"checkbox")}else this.options.enableHTML?s.html(" "+i):s.text(" "+i);var a=this.options.optionClass(e);s.addClass(a),this.options.enableCollapsibleOptGroups&&this.options.multiple&&(s.find(".form-check").addClass("d-inline-block"),s.append('<span class="caret-container dropdown-toggle pl-1"></span>')),n.is(":disabled")&&s.addClass("disabled"),this.$popupContainer.append(s),t("option",e).each(t.proxy(function(t,e){this.createOptionValue(e,!0)},this))},buildReset:function(){if(this.options.includeResetOption){if(this.options.includeResetDivider){var e=t(this.options.templates.divider);e.addClass("mt-0"),this.$popupContainer.prepend(e)}var n=t(this.options.templates.resetButton);this.options.enableHTML?t("button",n).html(this.options.resetText):t("button",n).text(this.options.resetText),t("button",n).click(t.proxy(function(){this.clearSelection()},this)),this.$popupContainer.prepend(n)}},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&t("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$popupContainer.prepend(t(this.options.templates.divider));var e=t(this.options.templates.li||this.options.templates.option),n=this.createCheckbox(e,this.options.selectAllText,this.options.selectAllName,this.options.selectAllValue,this.options.selectAllText,"checkbox");e.addClass("multiselect-all"),e.removeClass("multiselect-option"),e.find(".form-check-label").addClass("font-weight-bold"),this.$popupContainer.prepend(e),n.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);this.$select.find("option").length>=e&&(this.$filter=t(this.options.templates.filter),t("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn?(this.isFirefox()&&0===this.$filter.find(".multiselect-clear-filter").length&&this.$filter.append("<i class='fas fa-times text-muted multiselect-clear-filter multiselect-moz-clear-filter'></i>"),this.$filter.find(".multiselect-clear-filter").on("click",t.proxy(function(){clearTimeout(this.searchTimeout),this.query="",this.$filter.find(".multiselect-search").val(""),t(".dropdown-item",this.$popupContainer).show().removeClass("multiselect-filter-hidden"),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},this))):(this.$filter.find(".multiselect-search").attr("type","text"),this.$filter.find(".multiselect-clear-filter").remove()),this.$popupContainer.prepend(this.$filter),this.$filter.val(this.query).on("click",function(t){t.stopPropagation()}).on("input keydown",t.proxy(function(e){13===e.which&&e.preventDefault(),this.isFirefox()&&this.options.includeFilterClearBtn&&(e.target.value?this.$filter.find(".multiselect-moz-clear-filter").show():this.$filter.find(".multiselect-moz-clear-filter").hide()),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(t.proxy(function(){var n,i;this.query!==e.target.value&&(this.query=e.target.value,t.each(t(".multiselect-option, .multiselect-group",this.$popupContainer),t.proxy(function(e,r){var o=t("input",r).length>0?t("input",r).val():"",s=t(".form-check-label",r).text(),a="";if("text"===this.options.filterBehavior?a=s:"value"===this.options.filterBehavior?a=o:"both"===this.options.filterBehavior&&(a=s+"\n"+o),o!==this.options.selectAllValue&&s){var l=!1;if(this.options.enableCaseInsensitiveFiltering&&(a=a.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior){var u=a.trim().substring(0,this.query.length);this.query.indexOf(u)>-1&&(l=!0)}else a.indexOf(this.query)>-1&&(l=!0);l||(t(r).css("display","none"),t(r).addClass("multiselect-filter-hidden")),l&&(t(r).css("display","block"),t(r).removeClass("multiselect-filter-hidden")),t(r).hasClass("multiselect-group")?(n=r,i=l):(l&&t(n).show().removeClass("multiselect-filter-hidden"),!l&&i&&t(r).show().removeClass("multiselect-filter-hidden"))}},this)));this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.onFiltering(e.target)},this),300,this)},this)))}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.prop("disabled",this.options.wasDisabled),this.$select.data("multiselect",null)},refresh:function(){var e={};t(".multiselect-option input",this.$popupContainer).each(function(){e[t(this).val()]=t(this)}),t("option",this.$select).each(t.proxy(function(n,i){var r=t(i),o=e[t(i).val()];r.is(":selected")?(o.prop("checked",!0),this.options.selectedClass&&o.closest(".multiselect-option").addClass(this.options.selectedClass)):(o.prop("checked",!1),this.options.selectedClass&&o.closest(".multiselect-option").removeClass(this.options.selectedClass)),r.is(":disabled")?o.attr("disabled","disabled").prop("disabled",!0).closest(".multiselect-option").addClass("disabled"):o.prop("disabled",!1).closest(".multiselect-option").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},select:function(e,n){t.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];if(null!==r&&r!==undefined){var o=this.getOptionByValue(r),s=this.getInputByValue(r);o!==undefined&&s!==undefined&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&s.closest(".dropdown-item").addClass(this.options.selectedClass),s.prop("checked",!0),o.prop("selected",!0),n&&this.options.onChange(o,!0))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},deselect:function(e,n){t.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];if(null!==r&&r!==undefined){var o=this.getOptionByValue(r),s=this.getInputByValue(r);o!==undefined&&s!==undefined&&(this.options.selectedClass&&s.closest(".dropdown-item").removeClass(this.options.selectedClass),s.prop("checked",!1),o.prop("selected",!1),n&&this.options.onChange(o,!1))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},selectAll:function(e,n){if(e=void 0===e||e){var i=t(".multiselect-option:not(.disabled):not(.multiselect-filter-hidden)",this.$popupContainer);t("input:enabled",i).prop("checked",!0),i.addClass(this.options.selectedClass),t("input:enabled",i).each(t.proxy(function(e,n){var i=t(n).val(),r=this.getOptionByValue(i);t(r).prop("selected",!0)},this))}else{var r=t(".multiselect-option:not(.disabled)",this.$popupContainer);t("input:enabled",r).prop("checked",!0),r.addClass(this.options.selectedClass),t("input:enabled",r).each(t.proxy(function(e,n){var i=t(n).val(),r=this.getOptionByValue(i);t(r).prop("selected",!0)},this))}t('.multiselect-option input[value="'+this.options.selectAllValue+'"]',this.$popupContainer).prop("checked",!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.updateButtonText(),this.updateSelectAll(),n&&this.options.onSelectAll()},deselectAll:function(e,n){if(e=void 0===e||e){var i=t(".multiselect-option:not(.disabled):not(.multiselect-filter-hidden)",this.$popupContainer);t('input[type="checkbox"]:enabled',i).prop("checked",!1),i.removeClass(this.options.selectedClass),t('input[type="checkbox"]:enabled',i).each(t.proxy(function(e,n){var i=t(n).val(),r=this.getOptionByValue(i);t(r).prop("selected",!1)},this))}else{var r=t(".multiselect-option:not(.disabled):not(.multiselect-group)",this.$popupContainer);t('input[type="checkbox"]:enabled',r).prop("checked",!1),r.removeClass(this.options.selectedClass),t('input[type="checkbox"]:enabled',r).each(t.proxy(function(e,n){var i=t(n).val(),r=this.getOptionByValue(i);t(r).prop("selected",!1)},this))}t('.multiselect-all input[value="'+this.options.selectAllValue+'"]',this.$popupContainer).prop("checked",!1),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.updateButtonText(),this.updateSelectAll(),n&&this.options.onDeselectAll()},rebuild:function(){this.$popupContainer.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.disableIfEmpty&&t("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight?this.$container.addClass("dropright"):this.options.dropUp&&this.$container.addClass("dropup"),"never"!==this.options.widthSynchronizationMode&&this.synchronizeButtonAndPopupWidth()},dataprovider:function(e){var i=0,r=this.$select.empty();t.each(e,function(e,o){var s;if(t.isArray(o.children))i++,s=t("<optgroup/>").attr({label:o.label||"Group "+i,disabled:!!o.disabled,value:o.value}),n(o.children,function(e){var n={value:e.value,label:e.label||e.value,title:e.title,selected:!!e.selected,disabled:!!e.disabled};for(var i in e.attributes)n["data-"+i]=e.attributes[i];s.append(t("<option/>").attr(n))});else{var a={value:o.value,label:o.label||o.value,title:o.title,"class":o["class"],selected:!!o.selected,disabled:!!o.disabled};for(var l in o.attributes)a["data-"+l]=o.attributes[l];(s=t("<option/>").attr(a)).text(o.label||o.value)}r.append(s)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled"),this.updateButtonText()},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled"),this.updateButtonText()},setOptions:function(t){this.options=this.mergeOptions(t)},mergeOptions:function(e){return t.extend(!0,{},this.defaults,this.options,e)},hasSelectAll:function(){return t(".multiselect-all",this.$popupContainer).length>0},updateOptGroups:function(){var e=t(".multiselect-group",this.$popupContainer),n=this.options.selectedClass;e.each(function(){var e=t(this).nextUntil(".multiselect-group").not(".multiselect-filter-hidden").not(".disabled"),i=!0;e.each(function(){t("input",this).prop("checked")||(i=!1)}),n&&(i?t(this).addClass(n):t(this).removeClass(n)),t("input",this).prop("checked",i)})},updateSelectAll:function(){if(this.hasSelectAll()){var e=t(".multiselect-option:not(.multiselect-filter-hidden):not(.multiselect-group):not(.disabled) input:enabled",this.$popupContainer),n=e.length,i=e.filter(":checked").length,r=t(".multiselect-all",this.$popupContainer),o=r.find("input");i>0&&i===n?(o.prop("checked",!0),r.addClass(this.options.selectedClass)):(o.prop("checked",!1),r.removeClass(this.options.selectedClass))}},updateButtonText:function(){var e=this.getSelected();this.options.enableHTML?t(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(e,this.$select)):t(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(e,this.$select)),t(".multiselect",this.$container).attr("title",this.options.buttonTitle(e,this.$select)),this.$button.trigger("change")},getSelected:function(){return t("option",this.$select).filter(":selected")},getOptionByValue:function(e){for(var n=t("option",this.$select),i=e.toString(),r=0;r<n.length;r+=1){var o=n[r];if(o.value===i)return t(o)}},getInputByValue:function(e){for(var n=t(".multiselect-option input:not(.multiselect-search)",this.$popupContainer),i=e.toString(),r=0;r<n.length;r+=1){var o=n[r];if(o.value===i)return t(o)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(t,e,n){var i=Array.prototype.slice.call(arguments,3);return setTimeout(function(){t.apply(n||window,i)},e)},setAllSelectedText:function(t){this.options.allSelectedText=t,this.updateButtonText()},isFirefox:function(){var t="firefox",e=-1;return!(!navigator||!navigator.userAgent)&&navigator.userAgent.toLocaleLowerCase().indexOf(t)>e}},t.fn.multiselect=function(e,n,r){return this.each(function(){var o=t(this).data("multiselect");o||(o=new i(this,"object"==typeof e&&e),t(this).data("multiselect",o)),"string"==typeof e&&(o[e](n,r),"destroy"===e&&t(this).data("multiselect",!1))})},t.fn.multiselect.Constructor=i,t(function(){t("select[data-role=multiselect]").multiselect()})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Chartkick=e()}(this,function(){"use strict";function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function e(t){return t instanceof Function}function n(t){return"[object Object]"===Object.prototype.toString.call(t)&&!e(t)&&t instanceof Object}function i(e,r){var o;for(o in r)"__proto__"!==o&&(n(r[o])||t(r[o])?(n(r[o])&&!n(e[o])&&(e[o]={}),t(r[o])&&!t(e[o])&&(e[o]=[]),i(e[o],r[o])):r[o]!==undefined&&(e[o]=r[o]))}function r(t,e){var n={};return i(n,t),i(n,e),n}function o(t){var e,n,i,r,o,s,a,l,u,c,d;return"[object Date]"===(c=Object.prototype.toString.call(t))?t:"[object String]"===c&&(i=t.match(Q))?(d=parseInt(i[1],10),s=parseInt(i[3],10)-1,e=parseInt(i[5],10),n=parseInt(i[7],10),o=i[9]?parseInt(i[9],10):0,u=i[11]?parseInt(i[11],10):0,r=i[12]?1e3*parseFloat(Z+i[12].slice(1)):0,l=Date.UTC(d,s,e,n,o,u,r),i[13]&&i[14]&&(a=60*i[15],i[17]&&(a+=parseInt(i[17],10)),l-=60*(a*="-"===i[14]?-1:1)*1e3),new Date(l)):void 0}function s(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(i[n][1]<0)return!0;return!1}function a(t){return""+t}function l(t){return parseFloat(t)}function u(t){var e,n,i,r;if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{if(e=(t=a(t)).match(K))return n=parseInt(e[1],10),i=parseInt(e[3],10)-1,r=parseInt(e[5],10),new Date(n,i,r);t=o(t.replace(/ /,"T").replace(" ","").replace("UTC","Z"))||new Date(t)}return t}function c(e){if(!t(e)){var n,i=[];for(n in e)e.hasOwnProperty(n)&&i.push([n,e[n]]);e=i}return e}function d(t,e,n,i,o,a,l,u){return function(c,d,h){var f=c.data,p=r({},t);return p=r(p,h||{}),(c.hideLegend||"legend"in d)&&e(p,d.legend,c.hideLegend),d.title&&n(p,d.title),"min"in d?i(p,d.min):s(f)||i(p,0),d.max&&o(p,d.max),"stacked"in d&&a(p,d.stacked),d.colors&&(p.colors=d.colors),d.xtitle&&l(p,d.xtitle),d.ytitle&&u(p,d.ytitle),p=r(p,d.library||{})}}function h(t,e){return t[0].getTime()-e[0].getTime()}function f(t,e){return t[0]-e[0]}function p(t,e){return t-e}function m(t){return 0===t.getMilliseconds()&&0===t.getSeconds()}function g(t){return m(t)&&0===t.getMinutes()}function v(t){return g(t)&&0===t.getHours()}function y(t,e){return v(t)&&t.getDay()===e}function b(t){return v(t)&&1===t.getDate()}function w(t){return b(t)&&0===t.getMonth()}function x(t){return!isNaN(u(t))&&a(t).length>=6}function C(t){return"number"==typeof t}function S(t,e,n,i){t=t||"",n.prefix&&(e<0&&(e*=-1,t+="-"),t+=n.prefix);var r=n.suffix||"",o=n.precision,s=n.round;if(n.byteScale){var l=i?n.byteScale:e;l>=1099511627776?(e/=1099511627776,r=" TB"):l>=1073741824?(e/=1073741824,r=" GB"):l>=1048576?(e/=1048576,r=" MB"):l>=1024?(e/=1024,r=" KB"):r=" bytes",o===undefined&&s===undefined&&(o=3)}if(o!==undefined&&s!==undefined)throw Error("Use either round or precision, not both");if(!i&&(o!==undefined&&(e=e.toPrecision(o),n.zeros||(e=parseFloat(e))),s!==undefined))if(s<0){var u=Math.pow(10,-1*s);e=parseInt((1*e/u).toFixed(0))*u}else e=e.toFixed(s),n.zeros||(e=parseFloat(e));if(n.thousands||n.decimal){var c=(e=a(e)).split(".");e=c[0],n.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,n.thousands)),c.length>1&&(e+=(n.decimal||".")+c[1])}return t+e+r}function _(t,e,n){return n in e?e[n]:n in t.options?t.options[n]:null}function E(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(0!=i[n][1])return!1;return!0}function T(t,e,n){Bt.push([t,e,n]),k()}function k(){if(Ht<zt){var t=Bt.shift();t&&(Ht++,M(t[0],t[1],t[2]),k())}}function D(){Ht--,k()}function M(t,e,n){A(t,e,function(t,e,i){var r="string"==typeof i?i:i.message;n(r)})}function A(t,e,n){var i=window.jQuery||window.Zepto||window.$;if(i&&i.ajax)i.ajax({
dataType:"json",url:t,success:e,error:n,complete:D});else{var r=new XMLHttpRequest;r.open("GET",t,!0),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){D(),200===r.status?e(JSON.parse(r.responseText),r.statusText,r):n(r,"error",r.statusText)},r.send()}}function P(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function O(t,e,n){n||(e="Error Loading Chart: "+e),P(t,e),t.style.color="#ff0000"}function R(t){try{t.__render()}catch(e){throw O(t.element,e.message),e}}function N(t,e){if("string"==typeof e)T(e,function(e){t.rawData=e,R(t)},function(e){O(t.element,e)});else if("function"==typeof e)try{e(function(e){t.rawData=e,R(t)},function(e){O(t.element,e,!0)})}catch(n){O(t.element,n,!0)}else t.rawData=e,R(t)}function I(t){var e=t.element,n=document.createElement("a"),i=t.options.download;!0===i?i={}:"string"==typeof i&&(i={filename:i}),n.download=i.filename||"chart.png",n.style.position="absolute",n.style.top="20px",n.style.right="20px",n.style.zIndex=1e3,n.style.lineHeight="20px",n.target="_blank";var r=document.createElement("img");r.alt="Download",r.style.border="none",r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",n.appendChild(r),e.style.position="relative",t.__downloadAttached=!0,t.__enterEvent=L(e,"mouseover",function(r){var o=r.relatedTarget;o&&(o===this||H(this,o))||!t.options.download||(n.href=t.toImage(i),e.appendChild(n))}),t.__leaveEvent=L(e,"mouseout",function(t){var e=t.relatedTarget;e&&(e===this||H(this,e))||n.parentNode&&n.parentNode.removeChild(n)})}function L(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1),n;var i=function(){return n.call(t,window.event)};return t.attachEvent("on"+e,i),i}function B(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function H(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}function z(t){if(t){if("Highcharts"===t.product)return St;if(t.charts)return Lt;if(e(t))return vt}throw new Error("Unknown adapter")}function F(t){var e=new(z(t))(t);-1===jt.indexOf(e)&&jt.push(e)}function j(){"Chart"in window&&F(window.Chart),"Highcharts"in window&&F(window.Highcharts),window.google&&window.google.charts&&F(window.google)}function q(t,e){if("PieChart"===e||"GeoChart"===e||"Timeline"===e)return 0===t.length;for(var n=0;n<t.length;n++)if(t[n].data.length>0)return!1;return!0}function W(t,e){e.options.messages&&e.options.messages.empty&&q(e.data,t)?P(e.element,e.options.messages.empty):(V(t,e),e.options.download&&!e.__downloadAttached&&"chartjs"===e.adapter&&I(e))}function V(t,n){var i,r,o,s;for(o="render"+t,s=n.options.adapter,j(),i=0;i<jt.length;i++)if(r=jt[i],(!s||s===r.name)&&e(r[o]))return n.adapter=r.name,n.__adapterObject=r,r[o](n);throw jt.length>0?new Error("No charting library found for "+t):new Error("No charting libraries found - be sure to include one before your charts")}function U(t,e){return $(t,C)?"number":!e&&$(t,x)?"datetime":"string"}function $(t,e){var n,i,r;for(n=0;n<t.length;n++)for(r=c(t[n].data),i=0;i<r.length;i++)if(!e(r[i][0]))return!1;return!0}function Y(t){var e,n,i=[];for(e=0;e<t.length;e++){var r={};for(n in t[e])t[e].hasOwnProperty(n)&&(r[n]=t[e][n]);i.push(r)}return i}function G(e,n,i){var r,o=e.options,s=e.rawData;for(!t(s)||"object"!=typeof s[0]||t(s[0])?(s=[{name:o.label,data:s}],e.hideLegend=!0):e.hideLegend=!1,e.xtype=n||(o.discrete?"string":U(s,i)),s=Y(s),r=0;r<s.length;r++)s[r].data=Wt(c(s[r].data),e.xtype);return s}function X(t){var e,n=c(t.rawData);for(e=0;e<n.length;e++)n[e]=[a(n[e][0]),l(n[e][1])];return n}var K=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i,Q=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([.,]\d+)?($|Z|([+-])(\d\d)(:)?(\d\d)?)/i,Z=String(1.5).charAt(1),J={maintainAspectRatio:!1,animation:!1,tooltips:{displayColors:!1,callbacks:{}},legend:{},title:{fontSize:20,fontColor:"#333"}},tt={scales:{yAxes:[{ticks:{maxTicksLimit:4},scaleLabel:{fontSize:16,fontColor:"#333"}}],xAxes:[{gridLines:{drawOnChartArea:!1},scaleLabel:{fontSize:16,fontColor:"#333"},time:{},ticks:{}}]}},et=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],nt=function(t,e,n){e!==undefined?(t.legend.display=!!e,e&&!0!==e&&(t.legend.position=e)):n&&(t.legend.display=!1)},it=function(t,e){t.title.display=!0,t.title.text=e},rt=function(t,e){null!==e&&(t.scales.yAxes[0].ticks.min=l(e))},ot=function(t,e){t.scales.yAxes[0].ticks.max=l(e)},st=function(t,e){null!==e&&(t.scales.xAxes[0].ticks.min=l(e))},at=function(t,e){t.scales.xAxes[0].ticks.max=l(e)},lt=function(t,e){t.scales.xAxes[0].stacked=!!e,t.scales.yAxes[0].stacked=!!e},ut=function(t,e){t.scales.xAxes[0].scaleLabel.display=!0,t.scales.xAxes[0].scaleLabel.labelString=e},ct=function(t,e){t.scales.yAxes[0].scaleLabel.display=!0,t.scales.yAxes[0].scaleLabel.labelString=e},dt=function(t,e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?"rgba("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+", "+e+")":t},ht=function(t){return null!=t},ft=function(t,e,n){var i=Math.ceil(t.element.offsetWidth/4/e.labels.length);i>25?i=25:i<10&&(i=10),n.scales.xAxes[0].ticks.callback||(n.scales.xAxes[0].ticks.callback=function(t){return(t=a(t)).length>i?t.substring(0,i-2)+"...":t})},pt=function(e,n,i){var r={prefix:e.options.prefix,suffix:e.options.suffix,thousands:e.options.thousands,decimal:e.options.decimal,precision:e.options.precision,round:e.options.round,zeros:e.options.zeros};if(e.options.bytes){var o=e.data;"pie"===i&&(o=[{data:o}]);for(var s=0,a=0;a<o.length;a++)for(var l=o[a],u=0;u<l.data.length;u++)l.data[u][1]>s&&(s=l.data[u][1]);for(var c=1;s>=1024;)c*=1024,s/=1024;r.byteScale=c}if("pie"!==i){var d=n.scales.yAxes;"bar"===i&&(d=n.scales.xAxes),r.byteScale&&(d[0].ticks.stepSize||(d[0].ticks.stepSize=r.byteScale/2),d[0].ticks.maxTicksLimit||(d[0].ticks.maxTicksLimit=4)),d[0].ticks.callback||(d[0].ticks.callback=function(t){return S("",t,r,!0)})}if(!n.tooltips.callbacks.label)if("scatter"===i)n.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+"("+t.xLabel+", "+t.yLabel+")"};else if("bubble"===i)n.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";n&&(n+=": ");var i=e.datasets[t.datasetIndex].data[t.index];return n+"("+t.xLabel+", "+t.yLabel+", "+i.v+")"};else if("pie"===i)n.tooltips.callbacks.label=function(e,n){var i=n.labels[e.index],o=": ";return t(i)?(i=i.slice())[0]+=o:i+=o,S(i,n.datasets[e.datasetIndex].data[e.index],r)};else{var h="bar"===i?"xLabel":"yLabel";n.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),S(n,t[h],r)}}},mt=d(r(J,tt),nt,it,rt,ot,lt,ut,ct),gt=function(t,e,n,i){var o,s=[],a=[],c=t.options.colors||et,d=!0,h=!0,f=!0,x=!0,C=!0,S=!0,E=t.data,T=0;if("bubble"===n)for(var k=0;k<E.length;k++)for(var D=E[k],M=0;M<D.data.length;M++)D.data[M][2]>T&&(T=D.data[M][2]);var A,P,O,R,N,I=[],L=[];if("bar"===n||"column"===n||"number"!==t.xtype&&"bubble"!==t.xtype){var B,H,z=[];for(A=0;A<E.length;A++)for(O=E[A],P=0;P<O.data.length;P++)R=O.data[P],I[N="datetime"==t.xtype?R[0].getTime():R[0]]||(I[N]=new Array(E.length)),I[N][A]=l(R[1]),-1===z.indexOf(N)&&z.push(N);for("datetime"!==t.xtype&&"number"!==t.xtype||z.sort(p),P=0;P<E.length;P++)L.push([]);for(H=0;H<z.length;H++)for(A=z[H],"datetime"===t.xtype?(B=new Date(l(A)),d=d&&v(B),o||(o=B.getDay()),h=h&&y(B,o),f=f&&b(B),x=x&&w(B),C=C&&g(B),S=S&&m(B)):B=A,a.push(B),P=0;P<E.length;P++)L[P].push(I[A][P]===undefined?null:I[A][P])}else for(var F=0;F<E.length;F++){for(var j=E[F],q=[],W=0;W<j.data.length;W++){var V={x:l(j.data[W][0]),y:l(j.data[W][1])};"bubble"===n&&(V.r=20*l(j.data[W][2])/T,V.v=j.data[W][2]),q.push(V)}L.push(q)}for(A=0;A<E.length;A++){var U=(O=E[A]).color||c[A],$="line"!==n?dt(U,.5):U,Y={label:O.name||"",data:L[A],fill:"area"===n,borderColor:U,backgroundColor:$,pointBackgroundColor:U,borderWidth:2,pointHoverBackgroundColor:U};O.stack&&(Y.stack=O.stack),!1===_(t,O,"curve")&&(Y.lineTension=0),!1===_(t,O,"points")&&(Y.pointRadius=0,Y.pointHitRadius=5),Y=r(Y=r(Y=r(Y,t.options.dataset||{}),O.library||{}),O.dataset||{}),s.push(Y)}var G=t.options.xmin,X=t.options.xmax;if("datetime"===t.xtype){var K="math"in i.helpers?"ticks":"time";ht(G)&&(e.scales.xAxes[0][K].min=u(G).getTime()),ht(X)&&(e.scales.xAxes[0][K].max=u(X).getTime())}else"number"===t.xtype&&(ht(G)&&(e.scales.xAxes[0].ticks.min=G),ht(X)&&(e.scales.xAxes[0].ticks.max=X));if("datetime"===t.xtype&&a.length>0){var Q=(ht(G)?u(G):a[0]).getTime(),Z=(ht(X)?u(X):a[0]).getTime();for(A=1;A<a.length;A++){var J=a[A].getTime();J<Q&&(Q=J),J>Z&&(Z=J)}var tt,nt=(Z-Q)/864e5;if(!e.scales.xAxes[0].time.unit)if(x||nt>3650?(e.scales.xAxes[0].time.unit="year",tt=365):f||nt>300?(e.scales.xAxes[0].time.unit="month",tt=30):d||nt>10?(e.scales.xAxes[0].time.unit="day",tt=1):C||nt>.5?(e.scales.xAxes[0].time.displayFormats={hour:"MMM D, h a"},e.scales.xAxes[0].time.unit="hour",tt=1/24):S&&(e.scales.xAxes[0].time.displayFormats={minute:"h:mm a"},e.scales.xAxes[0].time.unit="minute",tt=1/24/60),tt&&nt>0){var it=Math.ceil(nt/tt/(t.element.offsetWidth/100));h&&1===tt&&(it=7*Math.ceil(it/7)),e.scales.xAxes[0].time.unitStepSize=it}e.scales.xAxes[0].time.tooltipFormat||(d?e.scales.xAxes[0].time.tooltipFormat="ll":C?e.scales.xAxes[0].time.tooltipFormat="MMM D, h a":S&&(e.scales.xAxes[0].time.tooltipFormat="h:mm a"))}return{labels:a,datasets:s}},vt=function(t){this.name="chartjs",this.library=t};vt.prototype.renderLineChart=function(t,e){var n={};!t.options.max&&E(t.data)&&(n.max=1);var i=mt(t,r(n,t.options));pt(t,i,e);var o=gt(t,i,e||"line",this.library);"number"===t.xtype?(i.scales.xAxes[0].type="linear",i.scales.xAxes[0].position="bottom"):i.scales.xAxes[0].type="string"===t.xtype?"category":"time",this.drawChart(t,"line",o,i)},vt.prototype.renderPieChart=function(t){var e=r({},J);t.options.donut&&(e.cutoutPercentage=50),"legend"in t.options&&nt(e,t.options.legend),t.options.title&&it(e,t.options.title),e=r(e,t.options.library||{}),pt(t,e,"pie");for(var n=[],i=[],o=0;o<t.data.length;o++){var s=t.data[o];n.push(s[0]),i.push(s[1])}var a={data:i,backgroundColor:t.options.colors||et},l={labels:n,datasets:[a=r(a,t.options.dataset||{})]};this.drawChart(t,"pie",l,e)},vt.prototype.renderColumnChart=function(t,e){var n;if("bar"===e){var i=r(J,tt);delete i.scales.yAxes[0].ticks.maxTicksLimit,n=d(i,nt,it,st,at,lt,ut,ct)(t,t.options)}else n=mt(t,t.options);pt(t,n,e);var o=gt(t,n,"column",this.library);"bar"!==e&&ft(t,o,n),this.drawChart(t,"bar"===e?"horizontalBar":"bar",o,n)},vt.prototype.renderAreaChart=function(t){this.renderLineChart(t,"area")},vt.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},vt.prototype.renderScatterChart=function(t,e){e=e||"scatter";var n=mt(t,t.options);pt(t,n,e),"showLines"in n||(n.showLines=!1);var i=gt(t,n,e,this.library);n.scales.xAxes[0].type="linear",n.scales.xAxes[0].position="bottom",this.drawChart(t,e,i,n)},vt.prototype.renderBubbleChart=function(t){this.renderScatterChart(t,"bubble")},vt.prototype.destroy=function(t){t.chart&&t.chart.destroy()},vt.prototype.drawChart=function(t,e,n,i){this.destroy(t);var r={type:e,data:n,options:i};t.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(r)+");"),t.element.innerHTML="<canvas></canvas>";var o=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(o,r)};var yt={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}}},bt=function(t,e,n){e!==undefined?(t.legend.enabled=!!e,e&&!0!==e&&("top"===e||"bottom"===e?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):n&&(t.legend.enabled=!1)},wt=function(t,e){t.title.text=e},xt=d(yt,bt,wt,function(t,e){t.yAxis.min=e},function(t,e){t.yAxis.max=e},function(t,e){var n=e?!0===e?"normal":e:null;t.plotOptions.series.stacking=n,t.plotOptions.area.stacking=n,t.plotOptions.areaspline.stacking=n},function(t,e){t.xAxis.title.text=e},function(t,e){t.yAxis.title.text=e}),Ct=function(t,e,n){var i={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal,precision:t.options.precision,round:t.options.round,zeros:t.options.zeros};"pie"===n||e.yAxis.labels.formatter||(e.yAxis.labels.formatter=function(){return S("",this.value,i)}),e.tooltip.pointFormatter||(e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">\u25cf</span> '+S(this.series.name+": <b>",this.y,i)+"</b><br/>"})},St=function(t){this.name="highcharts",this.library=t};St.prototype.renderLineChart=function(t,e){var n={};"areaspline"===(e=e||"spline")&&(n={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),!1===t.options.curve&&("areaspline"===e?e="area":"spline"===e&&(e="line"));var i,r,o,s=xt(t,t.options,n);s.xAxis.type="string"===t.xtype?"category":"number"===t.xtype?"linear":"datetime",s.chart.type||(s.chart.type=e),Ct(t,s,e);var a=t.data;for(r=0;r<a.length;r++){if(a[r].name=a[r].name||"Value",i=a[r].data,"datetime"===t.xtype)for(o=0;o<i.length;o++)i[o][0]=i[o][0].getTime();a[r].marker={symbol:"circle"},!1===t.options.points&&(a[r].marker.enabled=!1)}this.drawChart(t,a,s)},St.prototype.renderScatterChart=function(t){var e=xt(t,t.options,{});e.chart.type="scatter",this.drawChart(t,t.data,e)},St.prototype.renderPieChart=function(t){var e=r(yt,{});t.options.colors&&(e.colors=t.options.colors),t.options.donut&&(e.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&bt(e,t.options.legend),t.options.title&&wt(e,t.options.title);var n=r(e,t.options.library||{});Ct(t,n,"pie");var i=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,i,n)},St.prototype.renderColumnChart=function(t,e){e=e||"column";var n,i,r,o,s=t.data,a=xt(t,t.options),l=[],u=[];for(a.chart.type=e,Ct(t,a,e),n=0;n<s.length;n++)for(r=s[n],i=0;i<r.data.length;i++)l[(o=r.data[i])[0]]||(l[o[0]]=new Array(s.length),u.push(o[0])),l[o[0]][n]=o[1];"number"===t.xtype&&u.sort(p),a.xAxis.categories=u;var c,d=[];for(n=0;n<s.length;n++){for(o=[],i=0;i<u.length;i++)o.push(l[u[i]][n]||0);c={name:s[n].name||"Value",data:o},s[n].stack&&(c.stack=s[n].stack),d.push(c)}this.drawChart(t,d,a)},St.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},St.prototype.renderAreaChart=function(t){this.renderLineChart(t,"areaspline")},St.prototype.destroy=function(t){t.chart&&t.chart.destroy()},St.prototype.drawChart=function(t,e,n){this.destroy(t),n.chart.renderTo=t.element.id,n.series=e,t.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(n)+");"),t.chart=new this.library.Chart(n)};var _t={},Et=[],Tt={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},kt=function(t,e,n){var i;e!==undefined?(i=e?!0===e?"right":e:"none",t.legend.position=i):n&&(t.legend.position="none")},Dt=function(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}},Mt=function(t,e){t.hAxis.viewWindow.min=e},At=function(t,e){t.hAxis.viewWindow.max=e},Pt=function(t,e){t.isStacked=e||!1},Ot=function(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1},Rt=function(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1},Nt=d(Tt,kt,Dt,function(t,e){t.vAxis.viewWindow.min=e},function(t,e){t.vAxis.viewWindow.max=e},Pt,Ot,Rt),It=function(t){window.attachEvent?window.attachEvent("onresize",t):window.addEventListener&&window.addEventListener("resize",t,!0),t()},Lt=function(t){this.name="google",this.library=t};Lt.prototype.renderLineChart=function(t){var e=this;this.waitForLoaded(t,function(){var n={};!1===t.options.curve&&(n.curveType="none"),!1===t.options.points&&(n.pointSize=0);var i=Nt(t,t.options,n),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"LineChart",r,i)})},Lt.prototype.renderPieChart=function(t){var e=this;this.waitForLoaded(t,function(){var n={chartArea:{top:"10%",height:"80%"},legend:{}};t.options.colors&&(n.colors=t.options.colors),t.options.donut&&(n.pieHole=.5),"legend"in t.options&&kt(n,t.options.legend),t.options.title&&Dt(n,t.options.title);var i=r(r(Tt,n),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn("string",""),o.addColumn("number","Value"),o.addRows(t.data),e.drawChart(t,"PieChart",o,i)})},Lt.prototype.renderColumnChart=function(t){var e=this;this.waitForLoaded(t,function(){var n=Nt(t,t.options),i=e.createDataTable(t.data,t.xtype);e.drawChart(t,"ColumnChart",i,n)})},Lt.prototype.renderBarChart=function(t){var e=this;this.waitForLoaded(t,function(){var n={hAxis:{gridlines:{color:"#ccc"}}},i=d(Tt,kt,Dt,Mt,At,Pt,Ot,Rt)(t,t.options,n),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"BarChart",r,i)})},Lt.prototype.renderAreaChart=function(t){var e=this;this.waitForLoaded(t,function(){var n={isStacked:!0,pointSize:0,areaOpacity:.5},i=Nt(t,t.options,n),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"AreaChart",r,i)})},Lt.prototype.renderGeoChart=function(t){var e=this;this.waitForLoaded(t,function(){var n={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},i=r(r(Tt,n),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn("string",""),o.addColumn("number",t.options.label||"Value"),o.addRows(t.data),e.drawChart(t,"GeoChart",o,i)})},Lt.prototype.renderScatterChart=function(t){var e=this;this.waitForLoaded(t,function(){var n,i,r,o,s={},a=Nt(t,t.options,s),l=t.data,u=[];for(n=0;n<l.length;n++)for(l[n].name=l[n].name||"Value",o=l[n].data,i=0;i<o.length;i++){var c=new Array(l.length+1);c[0]=o[i][0],c[n+1]=o[i][1],u.push(c)}for((r=new e.library.visualization.DataTable).addColumn("number",""),n=0;n<l.length;n++)r.addColumn("number",l[n].name);r.addRows(u),e.drawChart(t,"ScatterChart",r,a)})},Lt.prototype.renderTimeline=function(t){var e=this;this.waitForLoaded(t,"timeline",function(){var n={legend:"none"};t.options.colors&&(n.colors=t.options.colors);var i=r(r(Tt,n),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn({type:"string",id:"Name"}),o.addColumn({type:"date",id:"Start"}),o.addColumn({type:"date",id:"End"}),o.addRows(t.data),t.element.style.lineHeight="normal",e.drawChart(t,"Timeline",o,i)})},Lt.prototype.destroy=function(t){t.chart&&t.chart.clearChart()},Lt.prototype.drawChart=function(t,e,n,i){this.destroy(t),t.options.code&&window.console.log("var data = new google.visualization.DataTable("+n.toJSON()+");\nvar chart = new google.visualization."+e+"(element);\nchart.draw(data, "+JSON.stringify(i)+");"),t.chart=new this.library.visualization[e](t.element),It(function(){t.chart.draw(n,i)})},Lt.prototype.waitForLoaded=function(t,e,n){var i=this;if(n||(n=e,e="corechart"),Et.push({pack:e,callback:n}),_t[e])this.runCallbacks();else{_t[e]=!0;var r={packages:[e],callback:function(){i.runCallbacks()}},o=t.__config();o.language&&(r.language=o.language),"corechart"===e&&o.mapsApiKey&&(r.mapsApiKey=o.mapsApiKey),this.library.charts.load("current",r)}},Lt.prototype.runCallbacks=function(){for(var t,e=0;e<Et.length;e++)t=Et[e],this.library.visualization&&("corechart"===t.pack&&this.library.visualization.LineChart||"timeline"===t.pack&&this.library.visualization.Timeline)&&(t.callback(),Et.splice(e,1),e--)},Lt.prototype.createDataTable=function(t,e){var n,i,r,o,s,u=[],c=[];for(n=0;n<t.length;n++)for(r=t[n],t[n].name=t[n].name||"Value",i=0;i<r.data.length;i++)o=r.data[i],u[s="datetime"===e?o[0].getTime():o[0]]||(u[s]=new Array(t.length),c.push(s)),u[s][n]=l(o[1]);var d,p=[],m=!0;for(i=0;i<c.length;i++)n=c[i],"datetime"===e?(d=new Date(l(n)),m=m&&v(d)):d="number"===e?l(n):n,p.push([d].concat(u[n]));if("datetime"===e)p.sort(h);else if("number"===e){for(p.sort(f),n=0;n<p.length;n++)p[n][0]=a(p[n][0]);e="string"}var g=new this.library.visualization.DataTable;for(e="datetime"===e&&m?"date":e,g.addColumn(e,""),n=0;n<t.length;n++)g.addColumn("number",t[n].name);return g.addRows(p),g};var Bt=[],Ht=0,zt=4,Ft={},jt=[],qt=function(t,e){return t="number"===e?l(t):"datetime"===e?u(t):a(t)},Wt=function(t,e){var n,i,r=[];for(i=0;i<t.length;i++)"bubble"===e?r.push([l(t[i][0]),l(t[i][1]),l(t[i][2])]):(n=qt(t[i][0],e),r.push([n,l(t[i][1])]));return"datetime"===e?r.sort(h):"number"===e&&r.sort(f),r},Vt=function(t,e,n){var i;if("string"==typeof t&&(i=t,!(t=document.getElementById(t))))throw new Error("No element with id "+i);this.element=t,this.options=r(Ut.options,n||{}),this.dataSource=e,Ut.charts[t.id]=this,N(this,e),this.options.refresh&&this.startRefresh()};Vt.prototype.getElement=function(){return this.element},Vt.prototype.getDataSource=function(){return this.dataSource},Vt.prototype.getData=function(){return this.data},Vt.prototype.getOptions=function(){return this.options},Vt.prototype.getChartObject=function(){return this.chart},Vt.prototype.getAdapter=function(){return this.adapter},Vt.prototype.updateData=function(t,e){this.dataSource=t,e&&this.__updateOptions(e),N(this,t)},Vt.prototype.setOptions=function(t){this.__updateOptions(t),this.redraw()},Vt.prototype.redraw=function(){N(this,this.rawData)},Vt.prototype.refreshData=function(){if("string"==typeof this.dataSource){var t=-1===this.dataSource.indexOf("?")?"?":"&";N(this,this.dataSource+t+"_="+(new Date).getTime())}else"function"==typeof this.dataSource&&N(this,this.dataSource)},Vt.prototype.startRefresh=function(){var t=this,e=this.options.refresh;if(e&&"string"!=typeof this.dataSource&&"function"!=typeof this.dataSource)throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId){if(!e)throw new Error("No refresh interval");this.intervalId=setInterval(function(){t.refreshData()},1e3*e)}},Vt.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},Vt.prototype.toImage=function(t){if("chartjs"===this.adapter){if(t&&t.background&&"transparent"!==t.background){var e=this.chart.chart.canvas,n=this.chart.chart.ctx,i=document.createElement("canvas"),r=i.getContext("2d");return i.width=n.canvas.width,i.height=n.canvas.height,r.fillStyle=t.background,r.fillRect(0,0,i.width,i.height),r.drawImage(e,0,0),i.toDataURL("image/png")}return this.chart.toBase64Image()}return null},Vt.prototype.destroy=function(){this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&B(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&B(this.element,"mouseout",this.__leaveEvent)},Vt.prototype.__updateOptions=function(t){var e=t.refresh&&t.refresh!==this.options.refresh;this.options=r(Ut.options,t),e&&(this.stopRefresh(),this.startRefresh())},Vt.prototype.__render=function(){this.data=this.__processData(),W(this.__chartName(),this)},Vt.prototype.__config=function(){return Ft};var Ut={LineChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return G(this)},e.prototype.__chartName=function(){return"LineChart"},e}(Vt),PieChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return X(this)},e.prototype.__chartName=function(){return"PieChart"},e}(Vt),ColumnChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return G(this,null,!0)},e.prototype.__chartName=function(){return"ColumnChart"},e}(Vt),BarChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return G(this,null,!0)},e.prototype.__chartName=function(){return"BarChart"},e}(Vt),AreaChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return G(this)},e.prototype.__chartName=function(){return"AreaChart"},e}(Vt),GeoChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return X(this)},e.prototype.__chartName=function(){return"GeoChart"},e}(Vt),ScatterChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return G(this,"number")},e.prototype.__chartName=function(){return"ScatterChart"},e}(Vt),BubbleChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return G(this,"bubble")},e.prototype.__chartName=function(){return"BubbleChart"},e}(Vt),Timeline:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){var t,e=this.rawData;for(t=0;t<e.length;t++)e[t][1]=u(e[t][1]),e[t][2]=u(e[t][2]);return e},e.prototype.__chartName=function(){return"Timeline"},e}(Vt),charts:{},configure:function(t){for(var e in t)t.hasOwnProperty(e)&&(Ft[e]=t[e])},setDefaultOptions:function(t){Ut.options=t},eachChart:function(t){for(var e in Ut.charts)Ut.charts.hasOwnProperty(e)&&t(Ut.charts[e])},config:Ft,options:{},adapters:jt,addAdapter:F,use:function(t){return F(t),Ut}};return"undefined"==typeof window||window.Chartkick||(window.Chartkick=Ut),Ut["default"]=Ut,Ut}),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:"function"==typeof define&&define.amd?define(function(){return e(t)}):t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){var e,n,i,r,o,s,a,l,u=(e=void 0===t?window:t,n=e.document,i=e.navigator&&e.navigator.userAgent||"",r=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(i)&&!e.opera,s=-1!==i.indexOf("Firefox"),a=-1!==i.indexOf("Chrome"),l=s&&4>parseInt(i.split("Firefox/")[1],10),e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.2.0",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:o,isWebKit:-1!==i.indexOf("AppleWebKit"),isFirefox:s,isChrome:a,isSafari:!a&&-1!==i.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]});!function(t){t.timers=[];var e=t.charts,n=t.doc,i=t.win;t.error=function(e,n){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,n)throw Error(e);i.console&&console.log(e)},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&1>r)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?n[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(e,n,r){var o=this,s=o.options,a=function(t){return!a.stopped&&o.step(t)},l=i.requestAnimationFrame||function(t){setTimeout(t,13)},u=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(u)};e!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=n,this.unit=r,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===t.timers.push(a)&&l(u)):(delete s.curAnim[this.prop],s.complete&&0===t.keys(s.curAnim).length&&s.complete.call(this.elem))},step:function(e){var n,i=+new Date,r=this.options,o=this.elem,s=r.complete,a=r.duration,l=r.curAnim;return o.attr&&!o.element?e=!1:e||i>=a+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(n=!1)}),n&&s&&s.call(o),e=!1):(this.pos=r.easing((i-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,n,i){function r(t){var e,n;for(c=t.length;c--;)e="M"===t[c]||"L"===t[c],n=/[a-zA-Z]/.test(t[c+3]),e&&n&&t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var n=t.slice(0,p);[].splice.apply(t,[0,0].concat(n)),g&&(n=t.slice(t.length-p),[].splice.apply(t,[t.length,0].concat(n)),c--)}t[0]="M"}function s(t,e){for(var n=(l-t.length)/p;0<n&&n--;)(u=t.slice().splice(t.length/v-p,p*v))[0]=e[l-p-n*p],f&&(u[p-6]=u[p-2],u[p-5]=u[p-1]),[].splice.apply(t,[t.length/v,0].concat(u)),g&&n--}n=n||"";var a,l,u,c,d=e.startX,h=e.endX,f=-1<n.indexOf("C"),p=f?7:3;n=n.split(" "),i=i.slice();var m,g=e.isArea,v=g?2:1;if(f&&(r(n),r(i)),d&&h){for(c=0;c<d.length;c++){if(d[c]===h[0]){a=c;break}if(d[0]===h[h.length-d.length+c]){a=c,m=!0;break}}void 0===a&&(n=[])}return n.length&&t.isNumber(a)&&(l=i.length+a*v*p,m?(o(n,i),s(i,n)):(o(i,n),s(n,i))),[n,i]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var e,n,i=arguments,r={},o=function(e,n){return"object"!=typeof e&&(e={}),t.objectEach(n,function(i,r){!t.isObject(i,!0)||t.isClass(i)||t.isDOMElement(i)?e[r]=n[r]:e[r]=o(e[r]||{},i)}),e};for(!0===i[0]&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;e<n;e++)r=o(r,i[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,n){return!(!e||"object"!=typeof e||n&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var n=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!n||!n.name||"Object"===n.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&Infinity>t&&-Infinity<t},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return null!=t},t.attr=function(e,n,i){var r;return t.isString(n)?t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&((r=e.getAttribute(n))||"class"!==n||(r=e.getAttribute(n+"Name"))):t.defined(n)&&t.isObject(n)&&t.objectEach(n,function(t,n){e.setAttribute(n,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){if(e)return setTimeout(t,e,n);t.call(0,n)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(null!=(e=n[t]))return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,i,r,o,s){e=n.createElement(e);var a=t.css;return i&&t.extend(e,i),s&&a(e,{
padding:0,border:"none",margin:0}),r&&a(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||0)+t},t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){i.apply(r,arguments.length?arguments:e)},t.unshift(i),t=n.apply(this,t),r.proceed=null,t}},t.datePropsToTimestamps=function(e){t.objectEach(e,function(n,i){t.isObject(n)&&"function"==typeof n.getTime?e[i]=n.getTime():(t.isObject(n)||t.isArray(n))&&t.datePropsToTimestamps(n)})},t.formatSingle=function(e,n,i){var r=/\.([0-9])/,o=t.defaultOptions.lang;return/f$/.test(e)?(i=(i=e.match(r))?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,o.decimalPoint,-1<e.indexOf(",")?o.thousandsSep:""))):n=(i||t.time).dateFormat(e,n),n},t.format=function(e,n,i){for(var r,o,s,a,l,u="{",c=!1,d=[];e&&-1!==(u=e.indexOf(u));){if(r=e.slice(0,u),c){for(a=(o=(r=r.split(":")).shift().split(".")).length,l=n,s=0;s<a;s++)l&&(l=l[o[s]]);r.length&&(l=t.formatSingle(r.join(":"),l,i)),d.push(l)}else d.push(r);e=e.slice(u+1),u=(c=!c)?"}":"{"}return d.push(e),d.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,r,o){var s,a=e;for(s=e/(i=t.pick(i,1)),n||(n=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===i?n=t.grep(n,function(t){return 0==t%1}):.1>=i&&(n=[1/i]))),r=0;r<n.length&&(a=n[r],!(o&&a*i>=e||!o&&s<=(n[r]+(n[r+1]||n[r]))/2));r++);return t.correctFloat(a*i,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort(function(t,i){return 0===(n=e(t,i))?t.safeI-i.safeI:n}),i=0;i<r;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(e,n){t.objectEach(e,function(t,i){t&&t!==n&&t.destroy&&t.destroy(),delete e[i]})},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,r){e=+e||0,n=+n;var o,s,a=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,u=e.toString().split("e");return-1===n?n=Math.min(l,20):t.isNumber(n)?n&&u[1]&&0>u[1]&&(0<=(o=n+ +u[1])?(u[0]=(+u[0]).toExponential(o).split("e")[0],n=o):(u[0]=u[0].split(".")[0]||0,e=20>n?(u[0]*Math.pow(10,u[1])).toFixed(n):0,u[1]=0)):n=2,s=(Math.abs(u[1]?u[0]:e)+Math.pow(10,-Math.max(n,l)-1)).toFixed(n),o=3<(l=String(t.pInt(s))).length?l.length%3:0,i=t.pick(i,a.decimalPoint),r=t.pick(r,a.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+r:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(e+=i+s.slice(-n)),u[1]&&0!=+e&&(e+="e"+u[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n,r){return"width"===n?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===n?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(i.getComputedStyle||t.error(27,!0),(e=i.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(n),t.pick(r,"opacity"!==n)&&(e=t.pInt(e))),e)},t.inArray=function(e,n,i){return(t.indexOfPolyfill||Array.prototype.indexOf).call(n,e,i)},t.grep=function(e,n){return(t.filterPolyfill||Array.prototype.filter).call(e,n)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,i=t.length;for(n=0;n<i;n++)if(e(t[n],n))return t[n]},t.some=function(e,n,i){return(t.somePolyfill||Array.prototype.some).call(e,n,i)},t.map=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,n,i){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[n,i]:[n])},t.offset=function(t){var e=n.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,n){for(var i=t.timers.length;i--;)t.timers[i].elem!==e||n&&n!==t.timers[i].prop||(t.timers[i].stopped=!0)},t.each=function(e,n,i){return(t.forEachPolyfill||Array.prototype.forEach).call(e,n,i)},t.objectEach=function(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.call(n||t[i],t[i],i,t)},t.addEvent=function(e,n,i,r){var o,s=e.addEventListener||t.addEventListenerPolyfill;return o="function"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),s&&s.call(e,n,i,!1),o[n]||(o[n]=[]),o[n].push(i),r&&t.isNumber(r.order)&&(i.order=r.order,o[n].sort(function(t,e){return t.order-e.order})),function(){t.removeEvent(e,n,i)}},t.removeEvent=function(e,n,i){function r(n,i){var r=e.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(e,n,i,!1)}function o(i){var o,s;e.nodeName&&(n?(o={})[n]=!0:o=i,t.objectEach(o,function(t,e){if(i[e])for(s=i[e].length;s--;)r(e,i[e][s])}))}var s,a;t.each(["protoEvents","hcEvents"],function(l){var u=e[l];u&&(n?(s=u[n]||[],i?(-1<(a=t.inArray(i,s))&&(s.splice(a,1),u[n]=s),r(n,i)):(o(u),u[n]=[])):(o(u),e[l]={}))})},t.fireEvent=function(e,i,r,o){var s,a,l,u,c;r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent)?((s=n.createEvent("Events")).initEvent(i,!0,!0),t.extend(s,r),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s)):t.each(["protoEvents","hcEvents"],function(n){if(e[n])for(a=e[n][i]||[],l=a.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),u=0;u<l;u++)(c=a[u])&&!1===c.call(e,r)&&r.preventDefault()}),o&&!r.defaultPrevented&&o.call(e,r)},t.animate=function(e,n,i){var r,o,s,a,l="";t.isObject(i)||(i={duration:(a=arguments)[2],easing:a[3],complete:a[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n),t.objectEach(n,function(a,u){t.stop(e,u),s=new t.Fx(e,i,u),o=null,"d"===u?(s.paths=s.initPath(e,e.d,n.d),s.toD=n.d,r=0,o=1):e.attr?r=e.attr(u):(r=parseFloat(t.getStyle(e,u))||0,"opacity"!==u&&(l="px")),o||(o=a),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,l)})},t.seriesType=function(e,n,i,r,o){var s=t.getOptions(),a=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[n],i),a[e]=t.extendClass(a[n]||function(){},r),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),i.jQuery&&(i.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(t[t.isString(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}(u),function(t){var e=t.each,n=t.isNumber,i=t.map,r=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var n,r,o,s;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=i(e.stops,function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(n=e.length,e=parseInt(e.substr(1),16),7===n?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===n&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)(n=(s=this.parsers[o]).regex.exec(e))&&(r=s.parse(n));this.rgba=r||[]},get:function(t){var i,o=this.input,s=this.rgba;return this.stops?((i=r(o)).stops=[].concat(i.stops),e(this.stops,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=s&&n(s[0])?"rgb"===t||!t&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===t?s[3]:"rgba("+s.join(",")+")":o,i},brighten:function(t){var i,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(n(t)&&0!==t)for(i=0;3>i;i++)r[i]+=o(255*t),0>r[i]&&(r[i]=0),255<r[i]&&(r[i]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n=this.rgba,i=t.rgba;return i.length&&n&&n.length?e=((t=1!==i[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(i[0]+(n[0]-i[0])*(1-e))+","+Math.round(i[1]+(n[1]-i[1])*(1-e))+","+Math.round(i[2]+(n[2]-i[2])*(1-e))+(t?","+(i[3]+(n[3]-i[3])*(1-e)):"")+")":e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(u),function(t){var e,n,i=t.addEvent,r=t.animate,o=t.attr,s=t.charts,a=t.color,l=t.css,u=t.createElement,c=t.defined,d=t.deg2rad,h=t.destroyObjectProperties,f=t.doc,p=t.each,m=t.extend,g=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,w=t.isArray,x=t.isFirefox,C=t.isMS,S=t.isObject,_=t.isString,E=t.isWebKit,T=t.merge,k=t.noop,D=t.objectEach,M=t.pick,A=t.pInt,P=t.removeEvent,O=t.stop,R=t.svg,N=t.SVG_NS,I=t.symbolSizes,L=t.win;e=t.SVGElement=function(){return this},m(e.prototype,{opacity:1,SVG_NS:N,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(t,e){this.element="span"===e?u(e):f.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,n,i){return 0!==(n=t.animObject(M(n,this.renderer.globalAnimation,!0))).duration?(i&&(n.complete=i),r(this,e,n)):(this.attr(e,null,i),n.step&&n.step.call(this)),this},complexColor:function(e,n,i){var r,o,s,a,l,u,d,h,f,m,g,v,y=this.renderer,b=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},function(){e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(s=e[o],l=y.gradients,d=e.stops,m=i.radialReference,w(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&m&&!c(s.gradientUnits)&&(a=s,s=T(s,y.getRadialAttr(m,a),{gradientUnits:"userSpaceOnUse"})),D(s,function(t,e){"id"!==e&&b.push(e,t)}),D(d,function(t){b.push(t)}),b=b.join(","),l[b]?g=l[b].attr("id"):(s.id=g=t.uniqueKey(),l[b]=u=y.createElement(o).attr(s).add(y.defs),u.radAttr=a,u.stops=[],p(d,function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),h=r.get("rgb"),f=r.get("a")):(h=e[1],f=1),e=y.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":f}).add(u),u.stops.push(e)})),v="url("+y.url+"#"+g+")",i.setAttribute(n,v),i.gradient=b,e.toString=function(){return v})})},applyTextOutline:function(e){var n,i,r,s,a,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),i=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,n){return 2*e+n}),a=e.length;a--;)"highcharts-text-outline"===(n=e[a]).getAttribute("class")&&g(e,l.removeChild(n));s=l.firstChild,p(e,function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{"class":"highcharts-text-outline",fill:i,stroke:i,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,s)})}},attr:function(t,e,n,i){var r,o,s,a,l=this.element,u=this;return"string"==typeof t&&void 0!==e&&(r=t,(t={})[r]=e),"string"==typeof t?u=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(D(t,function(e,n){s=!1,i||O(this,n),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n)&&(o||(this.symbolAttr(t),o=!0),s=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),s||((a=this[n+"Setter"]||this._defaultSetter).call(this,e,n,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,a))},this),this.afterSetters()),n&&n.call(this),u},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==b(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;p("x y r start end width height innerR anchorX anchorY".split(" "),function(n){e[n]=M(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n;return e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),c(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,n,i=this.styles,r={},s=this.element,a="",u=!i,c=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),i&&D(t,function(t,e){t!==i[e]&&(r[e]=t,u=!0)}),u&&(i&&(t=m(i,r)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===s.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=A(t.width))),this.styles=t,e&&!R&&this.renderer.forExport&&delete t.width,s.namespaceURI===this.SVG_NS?(n=function(t,e){return"-"+e.toLowerCase()},D(t,function(t,e){-1===b(e,c)&&(a+=e.replace(/([A-Z])/g,n)+":"+t+";")}),a&&o(s,"style",a)):l(s,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var n=this,i=n.element;return y&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===L.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.matrix,a=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],c(s)&&t.push("matrix("+s.join(",")+")"),r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+M(this.rotationOriginX,a.getAttribute("x"),0)+" "+M(this.rotationOriginY,a.getAttribute("y")||0)+")"),(c(n)||c(i))&&t.push("scale("+M(n,1)+" "+M(i,1)+")"),t.length&&a.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,s,a,l,u={};return o=(r=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||_(n))&&(this.alignTo=i=n||"renderer",g(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=M(n,r[i],r),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),"right"===i?a=1:"center"===i&&(a=2),a&&(o+=(n.width-(t.width||0))/a),u[e?"translateX":"x"]=Math.round(o),"bottom"===r?l=1:"middle"===r&&(l=2),l&&(s+=(n.height-(t.height||0))/l),u[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t,e){var n,i,r,o,s,a=this.renderer,l=this.element,u=this.styles,h=this.textStr,f=a.cache,g=a.cacheKeys,v=l.namespaceURI===this.SVG_NS;if(i=(e=M(e,this.rotation))*d,r=u&&u.fontSize,c(h)&&(-1===(s=h.toString()).indexOf("<")&&(s=s.replace(/[0-9]/g,"0")),s+=["",e||0,r,this.textWidth,u&&u.textOverflow].join()),s&&!t&&(n=f[s]),!n){if(v||a.forExport){try{(o=this.fakeTS&&function(t){p(l.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&o("none"),n=l.getBBox?m({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(y){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(a.isSVG&&(t=n.width,a=n.height,v&&(n.height=a={"11px,17":14,"13px,20":16}[u&&u.fontSize+","+Math.round(a)]||a),e&&(n.width=Math.abs(a*Math.sin(i))+Math.abs(t*Math.cos(i)),n.height=Math.abs(a*Math.cos(i))+Math.abs(t*Math.sin(i)))),s&&0<n.height){for(;250<g.length;)delete f[g.shift()];f[s]||g.push(s),f[s]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},n=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,i=e.ownerSVGElement,r=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,O(t),r&&i&&(p(i.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){var e=t.getAttribute("clip-path"),n=r.element.id;(-1<e.indexOf("(#"+n+")")||-1<e.indexOf('("#'+n+'")'))&&t.removeAttribute("clip-path")}),t.clipPath=r.destroy()),t.stops){for(i=0;i<t.stops.length;i++)t.stops[i]=t.stops[i].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();n&&n.div&&0===n.div.childNodes.length;)e=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=e;return t.alignTo&&g(t.renderer.alignedObjects,t),D(t,function(e,n){delete t[n]}),null},shadow:function(t,e,n){var i,r,s,a,l,u,c=[],d=this.element;if(t){if(!this.shadows){for(a=M(t.width,3),l=(t.opacity||.15)/a,u=this.parentInverted?"(-1,-1)":"("+M(t.offsetX,1)+", "+M(t.offsetY,1)+")",i=1;i<=a;i++)r=d.cloneNode(0),s=2*a+1-2*i,o(r,{stroke:t.color||"#000000","stroke-opacity":l*i,"stroke-width":s,transform:"translate"+u,fill:"none"}),r.setAttribute("class",(r.getAttribute("class")||"")+" highcharts-shadow"),n&&(o(r,"height",Math.max(o(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):d.parentNode&&d.parentNode.insertBefore(r,d),c.push(r);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){p(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=M(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=A(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(f.createTextNode(String(M(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var n,i,r,o,s=this.renderer,a=this.parentGroup,l=(a||s).element||s.box,u=this.element;s=l===s.box;if(n=this.added,c(t)?(u.setAttribute("data-z-index",t),t=+t,this[e]===t&&(n=!1)):c(this[e])&&u.removeAttribute("data-z-index"),this[e]=t,n){for((t=this.zIndex)&&a&&(a.handleZ=!0),o=(e=l.childNodes).length-1;0<=o&&!i;o--)n=(a=e[o]).getAttribute("data-z-index"),r=!c(n),a!==u&&(0>t&&r&&!s&&!o?(l.insertBefore(u,e[o]),i=!0):(A(n)<=t||r&&(!c(t)||0<=t))&&(l.insertBefore(u,e[o+1]||null),i=!0));i||(l.insertBefore(u,e[s?3:0]||null),i=!0)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,n,i){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},m(n.prototype,{Element:e,SVG_NS:N,init:function(t,e,n,r,s,a){var u,c;u=(r=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(r))).element,t.appendChild(u),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(u,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=u,this.boxWrapper=r,this.alignedObjects=[],this.url=(x||E)&&f.getElementsByTagName("base").length?L.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highcharts 6.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),x&&t.getBoundingClientRect&&((e=function(){l(t,{left:0,top:0}),c=t.getBoundingClientRect(),l(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})})(),this.unSubPixelFix=i(L,"resize",e))},getStyle:function(t){return this.style=m({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:k,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,n,i,r,o,s){var a,l,u,c=this,d=t.rotation,h=i?1:0,p=(n||i).length,m=p,g=[],v=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(f.createTextNode(t))},y=function(o,a){if(void 0===g[a=a||o])if(e.getSubStringLength)try{g[a]=r+e.getSubStringLength(0,i?a+1:a)}catch(l){}else c.getSpanWidth&&(v(s(n||i,o)),g[a]=r+c.getSpanWidth(t,e));return g[a]};if(t.rotation=0,l=y(e.textContent.length),u=r+l>o){for(;h<=p;)m=Math.ceil((h+p)/2),i&&(a=s(i,m)),l=y(m,a&&a.length-1),h===p?h=p+1:l>o?p=m-1:h=m;0===p?v(""):n&&p===n.length-1||v(a||s(n||i,m))}return i&&i.splice(0,m),t.actualWidth=l,t.rotation=d,u},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,n,i,r=t.element,s=this,a=s.forExport,u=M(t.textStr,"").toString(),c=-1!==u.indexOf("<"),d=r.childNodes,h=o(r,"x"),m=t.styles,g=t.textWidth,y=m&&m.lineHeight,w=m&&m.textOutline,x=m&&"ellipsis"===m.textOverflow,C=m&&"nowrap"===m.whiteSpace,S=m&&m.fontSize,_=d.length,E=(m=g&&!t.added&&this.box,function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:S||s.style.fontSize||12,y?A(y):s.fontMetrics(e,t.getAttribute("style")?t:r).h}),T=function(t,e){return D(s.escapes,function(n,i){e&&-1!==b(n,e)||(t=t.toString().replace(new RegExp(n,"g"),i))}),t},k=function(t,e){var n;if(n=t.indexOf("<"),-1!==(n=(t=t.substring(n,t.indexOf(">")-n)).indexOf(e+"="))&&(n=n+e.length+1,'"'===(e=t.charAt(n))||"'"===e))return(t=t.substring(n+1)).substring(0,t.indexOf(e))};if((n=[u,x,C,y,w,S,g].join())!==t.textCache){for(t.textCache=n;_--;)r.removeChild(d[_]);c||w||x||g||-1!==u.indexOf(" ")?(m&&m.appendChild(r),u=c?u.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[u],u=v(u,function(t){return""!==t}),p(u,function(n,u){var c,d=0,m=0;n=n.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),c=n.split("|||"),p(c,function(n){if(""!==n||1===c.length){var p,v,y={},b=f.createElementNS(s.SVG_NS,"tspan");if((p=k(n,"class"))&&o(b,"class",p),(p=k(n,"style"))&&(p=p.replace(/(;| |^)color([ :])/,"$1fill$2"),o(b,"style",p)),(v=k(n,"href"))&&!a&&(o(b,"onclick",'location.href="'+v+'"'),o(b,"class","highcharts-anchor"),l(b,{cursor:"pointer"}))," "!==(n=T(n.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(b.appendChild(f.createTextNode(n)),d?y.dx=0:u&&null!==h&&(y.x=h),o(b,y),r.appendChild(b),!d&&i&&(!R&&a&&l(b,{display:"block"}),o(b,"dy",E(b))),g){var w=n.replace(/([^\^])-/g,"$1- ").split(" ");y=!C&&(1<c.length||u||1<w.length);v=0;var _=E(b);if(x)e=s.truncate(t,b,n,void 0,0,Math.max(0,g-parseInt(S||12,10)),function(t,e){return t.substring(0,e)+"\u2026"});else if(y)for(;w.length;)w.length&&!C&&0<v&&(b=f.createElementNS(N,"tspan"),o(b,{dy:_,x:h}),p&&o(b,"style",p),b.appendChild(f.createTextNode(w.join(" ").replace(/- /g,"-"))),r.appendChild(b)),s.truncate(t,b,null,w,0===v?m:0,g,function(t,e){return w.slice(0,e).join(" ").replace(/- /g,"-")}),m=t.actualWidth,v++}d++}}}),i=i||r.childNodes.length}),x&&e&&t.attr("title",T(t.textStr,["&lt;","&gt;"])),m&&m.removeChild(r),w&&t.applyTextOutline&&t.applyTextOutline(w)):r.appendChild(f.createTextNode(T(u)))}},getContrast:function(t){return(t=a(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,s,a,l,u){var c,d,h,f,p=this.label(t,e,n,u,null,null,null,null,"button"),g=0;return p.attr(T({padding:8,r:2},o)),o=T({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),c=o.style,delete o.style,s=T(o,{fill:"#e6e6e6"},s),d=s.style,delete s.style,a=T(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),h=a.style,delete a.style,l=T(o,{style:{color:"#cccccc"}},l),f=l.style,delete l.style,i(p.element,C?"mouseover":"mouseenter",function(){3!==g&&p.setState(1)}),i(p.element,C?"mouseout":"mouseleave",function(){3!==g&&p.setState(g)}),p.setState=function(t){1!==t&&(p.state=g=t),p.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),p.attr([o,s,a,l][t||0]).css([c,d,h,f][t||0])},p.attr(o).css(m({cursor:"default"},c)),p.on("click",function(t){3!==g&&r.call(p,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return w(t)?e.d=t:S(t)&&m(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=S(t)?t:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,i,r,o){return S(t)?(e=(i=t).y,n=i.r,t=i.x):i={innerR:i,start:r,end:o},(t=this.symbol("arc",t,e,n,n,i)).r=n,t},rect:function(t,e,n,i,r,s){r=S(t)?t.r:r;var a=this.createElement("rect");return t=S(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},void 0!==s&&(t.strokeWidth=s,t=a.crisp(t)),t.fill="none",r&&(t.r=r),a.rSetter=function(t,e,n){o(n,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:M(n,!0)?void 0:0});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,n,r,o,s){var a,l={preserveAspectRatio:"none"},u=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},c=function(e){u(a.element,t),s.call(a,e)};return 1<arguments.length&&m(l,{x:e,y:n,width:r,height:o}),a=this.createElement("image").attr(l),s?(u(a.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new L.Image,i(l,"load",c),l.src=t,l.complete&&c({})):u(a.element,t),a},symbol:function(t,e,n,i,r,o){var a,d,h,g=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),w=b&&this.symbols[b],x=c(e)&&w&&w.call(this.symbols,Math.round(e),Math.round(n),i,r,o);return w?((a=this.path(x)).attr("fill","none"),m(a,{symbolName:b,x:e,y:n,width:i,height:r}),o&&m(a,o)):y&&(d=t.match(v)[1],(a=this.image(d)).imgwidth=M(I[d]&&I[d].width,o&&o.width),a.imgheight=M(I[d]&&I[d].height,o&&o.height),h=function(){a.attr({width:a.width,height:a.height})},p(["width","height"],function(t){a[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,c(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),c(e)&&a.attr({x:e,y:n}),a.isImg=!0,c(a.imgwidth)&&c(a.imgheight)?h():(a.attr({width:0,height:0}),u("img",{onload:function(){var t=s[g.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),I[d]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&h(),this.parentNode&&this.parentNode.removeChild(this),g.imgCount--,!g.imgCount&&t&&t.onload&&t.onload()},src:d}),this.imgCount++)),a},symbols:{circle:function(t,e,n,i){return this.arc(t+n/2,e+i/2,n/2,i/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,s=r.r||n,a=r.r||i||n,l=r.end-.001;n=r.innerR,i=M(r.open,.001>Math.abs(r.end-r.start-2*Math.PI));var u=Math.cos(o),d=Math.sin(o),h=Math.cos(l);l=Math.sin(l);return s=["M",t+s*u,e+a*d,"A",s,a,0,r=.001>r.end-o-Math.PI?0:1,1,t+s*h,e+a*l],c(n)&&s.push(i?"M":"L",t+n*h,e+n*l,"A",n,n,0,r,0,t+n*u,e+n*d),s.push(i?"":"Z"),s},callout:function(t,e,n,i,r){var o,s=Math.min(r&&r.r||0,n,i),a=s+6,l=r&&r.anchorX;return r=r&&r.anchorY,o=["M",t+s,e,"L",t+n-s,e,"C",t+n,e,t+n,e,t+n,e+s,"L",t+n,e+i-s,"C",t+n,e+i,t+n,e+i,t+n-s,e+i,"L",t+s,e+i,"C",t,e+i,t,e+i,t,e+i-s,"L",t,e+s,"C",t,e,t,e,t+s,e],
l&&l>n?r>e+a&&r<e+i-a?o.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-s):o.splice(13,3,"L",t+n,i/2,l,r,t+n,i/2,t+n,e+i-s):l&&0>l?r>e+a&&r<e+i-a?o.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+s):o.splice(33,3,"L",t,i/2,l,r,t,i/2,t,e+s):r&&r>i&&l>t+a&&l<t+n-a?o.splice(23,3,"L",l+6,e+i,l,e+i+6,l-6,e+i,t+s,e+i):r&&0>r&&l>t+a&&l<t+n-a&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,n-s,e),o}},clipRect:function(e,n,i,r){var o=t.uniqueKey(),s=this.createElement("clipPath").attr({id:o}).add(this.defs);return(e=this.rect(e,n,i,r,0).add(s)).id=o,e.clipPath=s,e.count=0,e},text:function(t,e,n,i){var r={};return!i||!this.allowHTML&&this.forExport?(r.x=Math.round(e||0),n&&(r.y=Math.round(n)),c(t)&&(r.text=t),t=this.createElement("text").attr(r),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)(i=o[r]).getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,{h:e=24>(t=/px/.test(t)?A(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12)?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*d),4)),{x:-t/3*Math.sin(e*d),y:i}},label:function(n,i,r,o,s,a,l,u,d){var h,f,g,v,y,b,w,x,C,S,_,E,k,D=this,M=D.g("button"!==d&&"label"),A=M.text=D.text("",0,0,l).attr({zIndex:1}),O=0,R=3,N=0,I={},L=/^url\((.*?)\)$/.test(o),B=L;d&&M.addClass("highcharts-"+d),B=L,S=function(){return(x||0)%2/2},_=function(){var t=A.element.style,e={};f=(void 0===g||void 0===v||w)&&c(A.textStr)&&A.getBBox(),M.width=(g||f.width||0)+2*R+N,M.height=(v||f.height||0)+2*R,C=R+D.fontMetrics(t&&t.fontSize,A).b,B&&(h||(M.box=h=D.symbols[o]||L?D.symbol(o):D.rect(),h.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),h.add(M),t=S(),e.x=t,e.y=(u?-C:0)+t),e.width=Math.round(M.width),e.height=Math.round(M.height),h.attr(m(e,I)),I={})},E=function(){var t,e=N+R;t=u?0:C,c(g)&&f&&("center"===w||"right"===w)&&(e+={center:.5,right:1}[w]*(g-f.width)),e===A.x&&t===A.y||(A.attr("x",e),A.hasBoxWidthChanged&&(f=A.getBBox(!0),_()),void 0!==t&&A.attr("y",t)),A.x=e,A.y=t},k=function(t,e){h?h.attr(t,e):I[t]=e},M.onAdd=function(){A.add(M),M.attr({text:n||0===n?n:"",x:i,y:r}),h&&c(s)&&M.attr({anchorX:s,anchorY:a})},M.widthSetter=function(e){g=t.isNumber(e)?e:null},M.heightSetter=function(t){v=t},M["text-alignSetter"]=function(t){w=t},M.paddingSetter=function(t){c(t)&&t!==R&&(R=M.padding=t,E())},M.paddingLeftSetter=function(t){c(t)&&t!==N&&(N=t,E())},M.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==O&&(O=t,f&&M.attr({x:y}))},M.textSetter=function(t){void 0!==t&&A.textSetter(t),_(),E()},M["stroke-widthSetter"]=function(t,e){t&&(B=!0),x=this["stroke-width"]=t,k(e,t)},M.strokeSetter=M.fillSetter=M.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(B=!0),M[e]=t),k(e,t)},M.anchorXSetter=function(t,e){s=M.anchorX=t,k(e,Math.round(t)-S()-y)},M.anchorYSetter=function(t,e){a=M.anchorY=t,k(e,t-b)},M.xSetter=function(t){M.x=t,O&&(t-=O*((g||f.width)+2*R),M["forceAnimate:x"]=!0),y=Math.round(t),M.attr("translateX",y)},M.ySetter=function(t){b=M.y=Math.round(t),M.attr("translateY",b)};var H=M.css;return m(M,{css:function(t){if(t){var e={};t=T(t),p(M.textProps,function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),A.css(e),"width"in e&&_()}return H.call(M,t)},getBBox:function(){return{width:f.width+2*R,height:f.height+2*R,x:f.x-R,y:f.y-R}},shadow:function(t){return t&&(_(),h&&h.shadow(t)),M},destroy:function(){P(M.element,"mouseenter"),P(M.element,"mouseleave"),A&&(A=A.destroy()),h&&(h=h.destroy()),e.prototype.destroy.call(M),M=D=_=E=k=null}})}}),t.Renderer=n}(u),function(t){var e=t.attr,n=t.createElement,i=t.css,r=t.defined,o=t.each,s=t.extend,a=t.isFirefox,l=t.isMS,u=t.isWebKit,c=t.pick,d=t.pInt,h=t.SVGRenderer,f=t.win,p=t.wrap;s(t.SVGElement.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,n=c(e&&t.width,void 0);return e&&(delete t.width,this.textWidth=n,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=s(this.styles,t),i(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,s=this.translateY||0,a=this.x||0,l=this.y||0,u=this.textAlign||"left",c={left:0,center:.5,right:1}[u],h=(p=this.styles)&&p.whiteSpace;if(i(e,{marginLeft:n,marginTop:s}),this.shadows&&o(this.shadows,function(t){i(t,{marginLeft:n+1,marginTop:s+1})}),this.inverted&&o(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var f,p=this.rotation,m=this.textWidth&&d(this.textWidth),g=[p,u,e.innerHTML,this.textWidth,this.textAlign].join();(f=m!==this.oldTextWidth)&&!(f=m>this.oldTextWidth)&&((f=this.textPxLength)||(i(e,{width:"",whiteSpace:h||"nowrap"}),f=e.offsetWidth),f=f>m),f&&/[ \-]/.test(e.textContent||e.innerText)?(i(e,{width:m+"px",display:"block",whiteSpace:h||"normal"}),this.oldTextWidth=m,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(h=t.fontMetrics(e.style.fontSize).b,!r(p)||p===(this.oldRotation||0)&&u===this.oldAlign||this.setSpanRotation(p,c,h),this.getSpanCorrection(!r(p)&&this.textPxLength||e.offsetWidth,h,c,p,u)),i(e,{left:a+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=p,this.oldAlign=u}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var r={},o=this.renderer.getTransformKey();r[o]=r.transform="rotate("+t+"deg)",r[o+(a?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),s(h.prototype,{getTransformKey:function(){return l&&!/Edge/.test(f.navigator.userAgent)?"-ms-transform":u?"-webkit-transform":a?"MozTransform":f.opera?"-o-transform":""},html:function(t,i,r){var a=this.createElement("span"),l=a.element,u=a.renderer,d=u.isSVG,h=function(t,e){o(["opacity","visibility"],function(n){p(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})}),t.addedSetters=!0};return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=c(t,""),a.doTransform=!0},d&&h(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.doTransform=!0},a.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},a.attr({text:t,x:Math.round(i),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,d&&(a.add=function(t){var i,r=u.box.parentNode,c=[];if(this.parentGroup=t){if(!(i=t.div)){for(;t;)c.push(t),t=t.parentGroup;o(c.reverse(),function(t){function o(e,n){t[n]=e,"translateX"===n?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,u=e(t.element,"class");u&&(u={className:u}),i=t.div=t.div||n("div",u,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||r),l=i.style,s(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(i),on:function(){return c[0].div&&a.on.apply({element:c[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),t.addedSetters||h(t,l)})}}else i=r;return i.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(u),function(t){var e=t.defined,n=t.each,i=t.extend,r=t.merge,o=t.pick,s=t.timeUnits,a=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(t){var e=o(t&&t.useUTC,!0),n=this;this.options=t=r(!0,this.options||{},t),this.Date=t.Date||a.Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),r=i-n.getTimezoneOffset(e);return e.setTime(r),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(t,e,i){var r;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==e.getTimezoneOffset()%60?e["set"+t](i):(r=n.getTimezoneOffset(e),r=e.getTime()-r,e.setTime(r),e["setUTC"+t](i),t=n.getTimezoneOffset(e),r=e.getTime()+t,e.setTime(r))}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,n){return e["setUTC"+t](n)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,n){return e["set"+t](n)})},makeTime:function(e,n,i,r,s,a){var l,u,c;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),l+=u=this.getTimezoneOffset(l),u!==(c=this.getTimezoneOffset(l))?l+=c-u:u-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,n,o(i,1),o(r,0),o(s,0),o(a,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,n=this.options,i=a.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(n.timezone){if(i)return function(t){return 6e4*-i.tz(t,n.timezone).utcOffset()};t.error(25)}return this.useUTC&&n.getTimezoneOffset?function(t){return 6e4*n.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=this,o=new this.Date(n),s=this.get("Hours",o),a=this.get("Day",o),l=this.get("Date",o),u=this.get("Month",o),c=this.get("FullYear",o),d=t.defaultOptions.lang,h=d.weekdays,f=d.shortWeekdays,p=t.pad;o=t.extend({a:f?f[a]:h[a].substr(0,3),A:h[a],d:p(l),e:p(l,2," "),w:a,b:d.shortMonths[u],B:d.months[u],m:p(u+1),o:u+1,y:c.toString().substr(2,2),Y:c,H:p(s),k:s,I:p(s%12||12),l:s%12||12,M:p(r.get("Minutes",o)),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:p(o.getSeconds()),L:p(Math.floor(n%1e3),3)},t.dateFormats);return t.objectEach(o,function(t,i){for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof t?t.call(r,n):t)}),i?e.substr(0,1).toUpperCase()+e.substr(1):e},resolveDTLFormat:function(e){return t.isObject(e,!0)?e:{main:(e=t.splat(e))[0],from:e[1],to:e[2]}},getTimeTicks:function(t,r,a,l){var u,c,d=this,h=[],f={};u=new d.Date(r);var p,m=t.unitRange,g=t.count||1;if(l=o(l,1),e(r)){d.set("Milliseconds",u,m>=s.second?0:g*Math.floor(d.get("Milliseconds",u)/g)),m>=s.second&&d.set("Seconds",u,m>=s.minute?0:g*Math.floor(d.get("Seconds",u)/g)),m>=s.minute&&d.set("Minutes",u,m>=s.hour?0:g*Math.floor(d.get("Minutes",u)/g)),m>=s.hour&&d.set("Hours",u,m>=s.day?0:g*Math.floor(d.get("Hours",u)/g)),m>=s.day&&d.set("Date",u,m>=s.month?1:g*Math.floor(d.get("Date",u)/g)),m>=s.month&&(d.set("Month",u,m>=s.year?0:g*Math.floor(d.get("Month",u)/g)),c=d.get("FullYear",u)),m>=s.year&&d.set("FullYear",u,c-c%g),m===s.week&&(c=d.get("Day",u),d.set("Date",u,d.get("Date",u)-c+l+(c<l?-7:0))),c=d.get("FullYear",u),l=d.get("Month",u);var v=d.get("Date",u),y=d.get("Hours",u);for(r=u.getTime(),d.variableTimezone&&(p=a-r>4*s.month||d.getTimezoneOffset(r)!==d.getTimezoneOffset(a)),r=u.getTime(),u=1;r<a;)h.push(r),r=m===s.year?d.makeTime(c+u*g,0):m===s.month?d.makeTime(c,l+u*g):!p||m!==s.day&&m!==s.week?p&&m===s.hour&&1<g?d.makeTime(c,l,v,y+u*g):r+m*g:d.makeTime(c,l,v+u*g*(m===s.day?1:7)),u++;h.push(r),m<=s.hour&&1e4>h.length&&n(h,function(t){0==t%18e5&&"000000000"===d.dateFormat("%H%M%S%L",t)&&(f[t]="day")})}return h.info=i(t,{higherRanks:f,totalRange:m*g}),h}}}(u),function(t){var e=t.color,n=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=n(!0,t.defaultOptions,e),t.time.update(n(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(n(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,i){return t.time.dateFormat(e,n,i)}}(u),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,r=t.fireEvent,o=t.isNumber,s=t.merge,a=t.pick,l=t.deg2rad;t.Tick=function(t,e,n,i,r){this.axis=t,this.pos=e,this.type=n||"",this.isNewLabel=this.isNew=!0,this.parameters=r||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var i,r,o,l,u=this,c=u.axis,d=c.options,h=c.chart,f=c.categories,p=c.names,m=u.pos,g=a(u.options&&u.options.labels,d.labels),v=m===(w=c.tickPositions)[0],y=m===w[w.length-1],b=(f=this.parameters.category||(f?a(f[m],p[m],m):m),u.label),w=w.info;c.isDatetimeAxis&&w&&(i=(r=h.time.resolveDTLFormat(d.dateTimeLabelFormats[!d.grid&&w.higherRanks[m]||w.unitName])).main),u.isFirst=v,u.isLast=y,u.formatCtx={axis:c,chart:h,isFirst:v,isLast:y,dateTimeLabelFormat:i,tickPositionInfo:w,value:c.isLog?e(c.lin2log(f)):f,pos:m},d=c.labelFormatter.call(u.formatCtx,this.formatCtx),(l=r&&r.list)&&(u.shortenLabel=function(){for(o=0;o<l.length;o++)if(b.attr({text:c.labelFormatter.call(t.extend(u.formatCtx,{dateTimeLabelFormat:l[o]}))}),b.getBBox().width<c.getSlotWidth(u)-2*a(g.padding,5))return;b.attr({text:""})}),n(b)?b&&b.textStr!==d&&(!b.textWidth||g.style&&g.style.width||b.styles.width||b.css({width:null}),b.attr({text:d})):((u.label=b=n(d)&&g.enabled?h.renderer.text(d,0,0,g.useHTML).css(s(g.style)).add(c.labelGroup):null)&&(b.textPxLength=b.getBBox().width),u.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=n.options.labels,r=t.x,o=n.chart.chartWidth,s=n.chart.spacing,u=a(n.labelLeft,Math.min(n.pos,s[3])),c=(s=a(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,o-s[1])),this.label),d=this.rotation,h={left:0,center:.5,right:1}[n.labelAlign||c.attr("align")],f=c.getBBox().width,p=n.getSlotWidth(this),m=p,g=1,v={};d||"justify"!==a(i.overflow,"justify")?0>d&&r-h*f<u?e=Math.round(r/Math.cos(d*l)-u):0<d&&r+h*f>s&&(e=Math.round((o-r)/Math.cos(d*l))):(o=r+(1-h)*f,r-h*f<u?m=t.x+m*(1-h)-u:o>s&&(m=s-t.x+m*h,g=-1),(m=Math.min(p,m))<p&&"center"===n.labelAlign&&(t.x+=g*(p-m-h*(p-Math.min(f,m)))),(f>m||n.autoRotation&&(c.styles||{}).width)&&(e=m)),e&&(this.shortenLabel?this.shortenLabel():(v.width=e,(i.style||{}).textOverflow||(v.textOverflow="ellipsis"),c.css(v)))},getPosition:function(e,n,i,o){var s=this.axis,a=s.chart,l=o&&a.oldChartHeight||a.chartHeight;return e={x:e?t.correctFloat(s.translate(n+i,null,null,o)+s.transB):s.left+s.offset+(s.opposite?(o&&a.oldChartWidth||a.chartWidth)-s.right-s.left:0),y:e?l-s.bottom+s.offset-(s.opposite?s.height:0):t.correctFloat(l-s.translate(n+i,null,null,o)-s.transB)},r(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,i,o,s,a,u,c){var d=this.axis,h=d.transA,f=d.reversed,p=d.staggerLines,m=d.tickRotCorr||{x:0,y:0},g=s.y,v=o||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),y={};return n(g)||(g=0===d.side?i.rotation?-8:-i.getBBox().height:2===d.side?m.y+8:Math.cos(i.rotation*l)*(m.y-i.getBBox(!1,0).height/2)),t=t+s.x+v+m.x-(a&&o?a*h*(f?-1:1):0),e=e+g-(a&&!o?a*h*(f?1:-1):0),p&&(i=u/(c||1)%p,d.opposite&&(i=p-i-1),e+=d.labelOffset/p*i),y.x=t,y.y=Math.round(e),r(this,"afterGetLabelPosition",{pos:y}),y},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},renderGridLine:function(t,e,n){var i=this.axis,r=i.options,o=this.gridLine,s={},l=this.pos,u=this.type,c=a(this.tickmarkOffset,i.tickmarkOffset),d=i.chart.renderer,h=u?u+"Grid":"grid",f=r[h+"LineWidth"],p=r[h+"LineColor"];r=r[h+"LineDashStyle"];o||(s.stroke=p,s["stroke-width"]=f,r&&(s.dashstyle=r),u||(s.zIndex=1),t&&(e=0),this.gridLine=o=d.path().attr(s).addClass("highcharts-"+(u?u+"-":"")+"grid-line").add(i.gridGroup)),o&&(n=i.getPlotLinePath(l+c,o.strokeWidth()*n,t,"pass"))&&o[t||this.isNew?"attr":"animate"]({d:n,opacity:e})},renderMark:function(t,e,n){var i=this.axis,r=i.options,o=i.chart.renderer,s=this.type,l=s?s+"Tick":"tick",u=i.tickSize(l),c=this.mark,d=!c,h=t.x;t=t.y;var f=a(r[l+"Width"],!s&&i.isXAxis?1:0);r=r[l+"Color"];u&&(i.opposite&&(u[0]=-u[0]),d&&(this.mark=c=o.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(i.axisGroup),c.attr({stroke:r,"stroke-width":f})),c[d?"attr":"animate"]({d:this.getMarkPath(h,t,u[0],c.strokeWidth()*n,i.horiz,o),opacity:e}))},renderLabel:function(t,e,n,i){var r=(d=this.axis).horiz,s=d.options,l=this.label,u=s.labels,c=u.step,d=a(this.tickmarkOffset,d.tickmarkOffset),h=!0,f=t.x;t=t.y,l&&o(f)&&(l.xy=t=this.getLabelPosition(f,t,l,r,u,d,i,c),this.isFirst&&!this.isLast&&!a(s.showFirstLabel,1)||this.isLast&&!this.isFirst&&!a(s.showLastLabel,1)?h=!1:!r||u.step||u.rotation||e||0===n||this.handleOverflow(t),c&&i%c&&(h=!1),h&&o(t.y)?(t.opacity=n,l[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(l.attr("y",-9999),this.isNewLabel=!0))},render:function(e,n,i){var r=(u=this.axis).horiz,o=this.pos,s=a(this.tickmarkOffset,u.tickmarkOffset),l=(s=(o=this.getPosition(r,o,s,n)).x,o.y),u=r&&s===u.pos+u.len||!r&&l===u.pos?-1:1;i=a(i,1),this.isActive=!0,this.renderGridLine(n,i,u),this.renderMark(o,i,u),this.renderLabel(o,n,i,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){i(this,this.axis)}}}(u);var c=function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.color,s=t.correctFloat,a=t.defaultOptions,l=t.defined,u=t.deg2rad,c=t.destroyObjectProperties,d=t.each,h=t.extend,f=t.fireEvent,p=t.format,m=t.getMagnitude,g=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,w=t.isString,x=t.merge,C=t.normalizeTickInterval,S=t.objectEach,_=t.pick,E=t.removeEvent,T=t.splat,k=t.syncTimeout,D=t.Tick,M=function(){this.init.apply(this,arguments)};return t.extend(M.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,n){var i=n.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!i:i,r.isXAxis=i,r.coll=r.coll||(i?"xAxis":"yAxis"),f(this,"init",{userOptions:n}),r.opposite=n.opposite,r.side=n.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(n);var o=this.options,s=o.type;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=n,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===s||!0===o.categories,r.categories=o.categories||r.hasNames,r.names||(r.names=[],r.names.keys={}),r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===s,r.isDatetimeAxis="datetime"===s,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=_(o.crosshair,T(t.options.tooltip.crosshairs)[i?0:1],!1),n=r.options.events,-1===v(r,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&i&&void 0===r.reversed&&(r.reversed=!0),S(n,function(t,n){e(r,n,t)}),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log),f(this,"afterInit")},setOptions:function(t){this.options=x(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],x(a[this.coll],t)),f(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,n=this.axis,i=this.value,r=n.chart.time,o=n.categories,s=this.dateTimeLabelFormat,l=(u=a.lang).numericSymbols,u=u.numericSymbolMagnitude||1e3,c=l&&l.length,d=n.options.labels.format;n=n.isLog?Math.abs(i):n.tickInterval;if(d)e=p(d,this,r);else if(o)e=i;else if(s)e=r.dateFormat(s,i);else if(c&&1e3<=n)for(;c--&&void 0===e;)n>=(r=Math.pow(u,c+1))&&0==10*i%r&&null!==l[c]&&0!==i&&(e=t.numberFormat(i/r,-1)+l[c]);return void 0===e&&(e=1e4<=Math.abs(i)?t.numberFormat(i,-1):t.numberFormat(i,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;f(this,"getSeriesExtremes",null,function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var o,s=n.options,a=s.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=a&&(a=null),t.isXAxis?(s=n.xData).length&&(n=r(s),o=i(s),b(n)||n instanceof Date||(s=g(s,b),n=r(s),o=i(s)),s.length&&(t.dataMin=Math.min(_(t.dataMin,s[0],n),n),t.dataMax=Math.max(_(t.dataMax,s[0],o),o))):(n.getExtremes(),o=n.dataMax,n=n.dataMin,l(n)&&l(o)&&(t.dataMin=Math.min(_(t.dataMin,n),n),t.dataMax=Math.max(_(t.dataMax,o),o)),l(a)&&(t.threshold=a),(!s.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})}),f(this,"afterGetSeriesExtremes")},translate:function(t,e,n,i,r,o){var s=this.linkedParent||this,a=1,l=0,u=i?s.oldTransA:s.transA;i=i?s.oldMin:s.min;var c=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,u||(u=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(l-=(a*=-1)*(s.sector||s.len)),e?(t=(t*a+l-c)/u+i,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),t=b(i)?a*(t-i)*u+l+a*c+(b(o)?u*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l=this.chart,u=this.left,c=this.top,d=n&&l.oldChartHeight||l.chartHeight,h=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var f=function(t,e,n){return("pass"!==i&&t<e||t>n)&&(i?t=Math.min(Math.max(e,t),n):a=!0),t};return r=_(r,this.translate(t,null,null,n)),r=Math.min(Math.max(-1e5,r),1e5),t=n=Math.round(r+o),o=s=Math.round(d-r-o),b(r)?this.horiz?(o=c,s=d-this.bottom,t=n=f(t,u,u+this.width)):(t=u,n=h-this.right,o=s=f(o,c,c+this.height)):(a=!0,i=!1),a&&!i?null:l.renderer.crispLine(["M",t,o,"L",n,s],e||1)},getLinearTickPositions:function(t,e,n){var i,r=s(Math.floor(e/t)*t);n=s(Math.ceil(n/t)*t);var o,a=[];if(s(r+t)===r&&(o=20),this.single)return[e];for(e=r;e<=n&&(a.push(e),(e=s(e+t,o))!==i);)i=e;return a},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?_(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,n=t.tickPositions,i=t.minorTickInterval,r=[],o=t.pointRangePadding||0,s=t.min-o,a=(o=t.max+o)-s;if(a&&a/i<t.len/3)if(t.isLog)d(this.paddedTicks,function(e,n,o){n&&r.push.apply(r,t.getLogTickPositions(i,o[n-1],o[n],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(i),s,o,e.startOfWeek));else for(e=s+(n[0]-s)%i;e<=o&&e!==r[0];e+=i)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,n,o,s,a,u,c=this.options,h=this.min,f=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(c.min)||l(c.max)?this.minRange=null:(d(this.series,function(t){for(a=t.xData,o=t.xIncrement?1:a.length-1;0<o;o--)s=a[o]-a[o-1],(void 0===n||s<n)&&(n=s)}),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),f-h<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,t=[h-(t=((u=this.minRange)-f+h)/2),_(c.min,h-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),f=[(h=i(t))+u,_(c.max,h+u)],e&&(f[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(f=r(f))-h<u&&(t[0]=f-u,t[1]=_(c.min,f-u),h=i(t))),this.min=h,this.max=f},getClosest:function(){var t;return this.categories?t=1:d(this.series,function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&i&&(t=l(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=y(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():n?v(t.name,i):_(i.keys[t.name],-1)),-1===r?n||(e=i.length):e=r,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,n=this.names;0<n.length&&(d(t.keys(n.keys),function(t){delete n.keys[t]}),n.length=0,this.minRange=this.userMinRange,d(this.series||[],function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),d(t.points,function(n,i){var r;n.options&&(void 0!==(r=e.nameToX(n))&&r!==n.x&&(n.x=r,t.xData[i]=r))})}))},setAxisTranslation:function(t){var e,n=this,i=n.max-n.min,r=n.axisPointRange||0,o=0,s=0,a=n.linkedParent,l=!!n.categories,u=n.transA,c=n.isXAxis;(c||l||r)&&(e=n.getClosest(),a?(o=a.minPointOffset,s=a.pointRangePadding):d(n.series,function(t){var i=l?1:c?_(t.options.pointRange,e,0):n.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,i),n.single||(o=Math.max(o,w(t)?0:i/2),s=Math.max(s,"on"===t?0:i))}),a=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=o*=a,n.pointRangePadding=s*=a,n.pointRange=Math.min(r,i),c&&(n.closestPointRange=e)),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.staticScale||n.len/(i+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*o,f(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,i,r,o,a=this,u=a.chart,c=a.options,h=a.isLog,p=a.isDatetimeAxis,g=a.isXAxis,v=a.isLinked,y=c.maxPadding,w=c.minPadding,x=c.tickInterval,S=c.tickPixelInterval,E=a.categories,T=b(a.threshold)?a.threshold:null,k=a.softThreshold;p||E||v||this.getTickAmount(),r=_(a.userMin,c.min),o=_(a.userMax,c.max),v?(a.linkedParent=u[a.coll][c.linkedTo],u=a.linkedParent.getExtremes(),a.min=_(u.min,u.dataMin),a.max=_(u.max,u.dataMax),c.type!==a.linkedParent.options.type&&t.error(11,1)):(!k&&l(T)&&(a.dataMin>=T?(n=T,w=0):a.dataMax<=T&&(i=T,y=0)),a.min=_(r,n,a.dataMin),a.max=_(o,i,a.dataMax)),h&&(a.positiveValuesOnly&&!e&&0>=Math.min(a.min,_(a.dataMin,a.min))&&t.error(10,1),a.min=s(a.log2lin(a.min),15),a.max=s(a.log2lin(a.max),15)),a.range&&l(a.max)&&(a.userMin=a.min=r=Math.max(a.dataMin,a.minFromRange()),a.userMax=o=a.max,a.range=null),f(a,"foundExtremes"),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),!(E||a.axisPointRange||a.usePercentage||v)&&l(a.min)&&l(a.max)&&(u=a.max-a.min)&&(!l(r)&&w&&(a.min-=u*w),!l(o)&&y&&(a.max+=u*y)),b(c.softMin)&&!b(a.userMin)&&(a.min=Math.min(a.min,c.softMin)),b(c.softMax)&&!b(a.userMax)&&(a.max=Math.max(a.max,c.softMax)),b(c.floor)&&(a.min=Math.max(a.min,c.floor)),b(c.ceiling)&&(a.max=Math.min(a.max,c.ceiling)),k&&l(a.dataMin)&&(T=T||0,!l(r)&&a.min<T&&a.dataMin>=T?a.min=T:!l(o)&&a.max>T&&a.dataMax<=T&&(a.max=T)),a.tickInterval=a.min===a.max||void 0===a.min||void 0===a.max?1:v&&!x&&S===a.linkedParent.options.tickPixelInterval?x=a.linkedParent.tickInterval:_(x,this.tickAmount?(a.max-a.min)/Math.max(this.tickAmount-1,1):void 0,E?1:(a.max-a.min)*S/Math.max(a.len,S)),g&&!e&&d(a.series,function(t){t.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),a.pointRange&&!x&&(a.tickInterval=Math.max(a.pointRange,a.tickInterval)),e=_(c.minTickInterval,a.isDatetimeAxis&&a.closestPointRange),!x&&a.tickInterval<e&&(a.tickInterval=e),p||h||x||(a.tickInterval=C(a.tickInterval,null,m(a.tickInterval),_(c.allowDecimals,!(.5<a.tickInterval&&5>a.tickInterval&&1e3<a.max&&9999>a.max)),!!this.tickAmount)),this.tickAmount||(a.tickInterval=a.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,n=this.options,i=n.tickPositions;e=this.getMinorTickInterval();var r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==n.allowDecimals),this.tickPositions=e=i&&i.slice(),!e&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],t.error(19)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&((e=[e[0],e.pop()])[0]===e[1]&&(e.length=1)),this.tickPositions=e,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=e=r),this.paddedTicks=e.slice(0),this.trimTicks(e,o,s),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),i||r||this.adjustTickAmount()),f(this,"afterSetTickPositions")},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){
if(e&&-Infinity!==i)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(i)&&!this.options.tickPositions&&t.push((r+i)/2)}},alignToOthers:function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.isLog||d(this.chart[this.coll],function(n){var i=n.options;i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join();n.series.length&&(e[i]?t=!0:e[i]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length,o=_(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(r<n){for(;e.length<n;)e.length%2||this.min===o?e.push(s(e[e.length-1]+t)):e.unshift(s(e[0]-t));this.transA*=(r-1)/(n-1),this.min=e[0],this.max=e[e.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(l(i)){for(t=n=e.length;t--;)(3===i&&1==t%2||2>=i&&0<t&&t<n-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,d(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),f(this,"afterSetScale")},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=_(n,!0),d(o.series,function(t){delete t.kdTree}),r=h(r,{min:t,max:e}),f(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,_(r.min,n));r=Math.max(i,_(r.max,i));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(n)&&(t<o&&(t=o),t>r&&(t=r)),l(i)&&(e<o&&(e=o),e>r&&(e=r))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,n=(a=this.options).offsets||[0,0,0,0],i=this.horiz,r=this.width=Math.round(t.relativeLength(_(a.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),o=this.height=Math.round(t.relativeLength(_(a.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),s=this.top=Math.round(t.relativeLength(_(a.top,e.plotTop+n[0]),e.plotHeight,e.plotTop)),a=this.left=Math.round(t.relativeLength(_(a.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-o-s,this.right=e.chartWidth-r-a,this.len=Math.max(i?r:o,0),this.pos=i?a:s},getExtremes:function(){var t=this.isLog;return{min:t?s(this.lin2log(this.min)):this.min,max:t?s(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(n=this.isLog)?this.lin2log(this.min):this.min,n=n?this.lin2log(this.max):this.max;return null===t||-Infinity===t?t=e:Infinity===t?t=n:e>t?t=e:n<t&&(t=n),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(_(t,0)-90*this.side+720)%360)&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=_(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,a=o,c=this.len/(((this.categories?1:0)+this.max-this.min)/o),h=i.rotation,f=this.labelMetrics(),p=Number.MAX_VALUE,m=function(t){return t=1<(t/=c||1)?Math.ceil(t):1,s(t*o)};return r?(n=!i.staggerLines&&!i.step&&(l(h)?[h]:c<_(i.autoRotationLimit,80)&&i.autoRotation))&&d(n,function(n){var i;(n===h||n&&-90<=n&&90>=n)&&((i=(e=m(Math.abs(f.h/Math.sin(u*n))))+Math.abs(n/360))<p&&(p=i,t=n,a=e))}):i.step||(a=m(f.h)),this.autoRotation=n,this.labelRotation=_(t,h),a},getSlotWidth:function(t){var e=this.chart,n=this.horiz,i=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];return t&&t.slotWidth||n&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/r||!n&&(i.style&&parseInt(i.style.width,10)||o&&o-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t,e,n,i=this.chart,r=i.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=a&&a.style||{},u=this.horiz,c=this.getSlotWidth(),h=Math.max(1,Math.round(c-2*(a.padding||5))),f={},p=this.labelMetrics(),m=a.style&&a.style.textOverflow,g=0;if(w(a.rotation)||(f.rotation=a.rotation||0),d(o,function(t){(t=s[t])&&t.label&&t.label.textPxLength>g&&(g=t.label.textPxLength)}),this.maxLabelLength=g,this.autoRotation)g>h&&g>p.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(t=h,!m))for(e="clip",h=o.length;!u&&h--;)n=o[h],(n=s[n].label)&&(n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):n.textPxLength>c&&n.css({width:c+"px"}),n.getBBox().height>this.len/o.length-(p.h-p.f)&&(n.specificTextOverflow="ellipsis"));f.rotation&&(t=g>.5*i.chartHeight?.33*i.chartHeight:g,m||(e="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(f.align=this.labelAlign),d(o,function(n){var i=(n=s[n])&&n.label,r=l.width,o={};i&&(i.attr(f),n.shortenLabel?n.shortenLabel():t&&!r&&"nowrap"!==l.whiteSpace&&(t<i.textPxLength||"SPAN"===i.element.tagName)?(o.width=t,m||(o.textOverflow=i.specificTextOverflow||e),i.css(o)):i.styles&&i.styles.width&&!o.width&&!r&&i.css({width:null}),delete i.specificTextOverflow,n.rotation=f.rotation)},this),this.tickRotCorr=r.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,n=this.chart.renderer,i=this.horiz,r=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(i?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=n.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(x(o.style)).add(this.axisGroup),this.axisTitle.isNew=!0),o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new D(this,t)},getOffset:function(){var t,e,n,i=this,r=(w=i.chart).renderer,o=i.options,s=i.tickPositions,a=i.ticks,u=i.horiz,c=i.side,h=w.inverted&&!i.isZAxis?[1,0,3,2][c]:c,p=0,m=0,g=o.title,v=o.labels,y=0,b=w.axisOffset,w=w.clipOffset,x=[-1,1,1,-1][c],C=o.className,E=i.axisParent;t=i.hasData(),i.showAxis=e=t||_(o.showEmpty,!0),i.staggerLines=i.horiz&&v.staggerLines,i.axisGroup||(i.gridGroup=r.g("grid").attr({zIndex:o.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(C||"")).add(E),i.axisGroup=r.g("axis").attr({zIndex:o.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(C||"")).add(E),i.labelGroup=r.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels "+(C||"")).add(E)),t||i.isLinked?(d(s,function(t,e){i.generateTick(t,e)}),i.renderUnsquish(),i.reserveSpaceDefault=0===c||2===c||{1:"left",3:"right"}[c]===i.labelAlign,_(v.reserveSpace,"center"===i.labelAlign||null,i.reserveSpaceDefault)&&d(s,function(t){y=Math.max(a[t].getLabelSize(),y)}),i.staggerLines&&(y*=i.staggerLines),i.labelOffset=y*(i.opposite?-1:1)):S(a,function(t,e){t.destroy(),delete a[e]}),g&&g.text&&!1!==g.enabled&&(i.addTitle(e),e&&!1!==g.reserveSpace&&(i.titleOffset=p=i.axisTitle.getBBox()[u?"height":"width"],n=g.offset,m=l(n)?0:_(g.margin,u?5:10))),i.renderLine(),i.offset=x*_(o.offset,b[c]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},r=0===c?-i.labelMetrics().h:2===c?i.tickRotCorr.y:0,m=Math.abs(y)+m,y&&(m=m-r+x*(u?_(v.y,i.tickRotCorr.y+8*x):v.x)),i.axisTitleMargin=_(n,m),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(a,s)),u=this.tickSize("tick"),b[c]=Math.max(b[c],i.axisTitleMargin+p+x*i.offset,m,t&&s.length&&u?u[0]+x*i.offset:0),o=o.offset?0:2*Math.floor(i.axisLine.strokeWidth()/2),w[h]=Math.max(w[h],o),f(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i;i=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,s=this.opposite,a=this.offset,l=r.x||0,u=r.y||0,c=this.axisTitle,d=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,c);c=Math.max(c.getBBox(null,0).height-d.h-1,0),i={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+[-c,c,d.f,-c][this.side];return{x:t?i+l:e+(s?this.width:0)+a+l,y:t?e+u-(s?this.height:0)+a:i+u}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new D(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,i=this.ticks,r=this.chart.hasRendered&&b(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(i[t]||(i[t]=new D(this,t)),r&&i[t].isNew&&i[t].render(e,!0,-1),i[t].render(e))},render:function(){var e,i,r=this,o=r.chart,s=r.options,a=r.isLog,l=r.isLinked,u=r.tickPositions,c=r.axisTitle,h=r.ticks,p=r.minorTicks,m=r.alternateBands,g=s.stackLabels,v=s.alternateGridColor,y=r.tickmarkOffset,w=r.axisLine,x=r.showAxis,C=n(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,d([h,p,m],function(t){S(t,function(t){t.isActive=!1})}),(r.hasData()||l)&&(r.minorTickInterval&&!r.categories&&d(r.getMinorTickPositions(),function(t){r.renderMinorTick(t)}),u.length&&(d(u,function(t,e){r.renderTick(t,e)}),y&&(0===r.min||r.single)&&(h[-1]||(h[-1]=new D(r,-1,null,!0)),h[-1].render(-1))),v&&d(u,function(n,s){i=void 0!==u[s+1]?u[s+1]+y:r.max-y,0==s%2&&n<r.max&&i<=r.max+(o.polar?-y:y)&&(m[n]||(m[n]=new t.PlotLineOrBand(r)),e=n+y,m[n].options={from:a?r.lin2log(e):e,to:a?r.lin2log(i):i,color:v},m[n].render(),m[n].isActive=!0)}),r._addedPlotLB||(d((s.plotLines||[]).concat(s.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),d([h,p,m],function(t){var e,n=[],i=C.duration;S(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))}),k(function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])},t!==m&&o.hasRendered&&i?i:0)}),w&&(w[w.isPlaced?"animate":"attr"]({d:this.getLinePath(w.strokeWidth())}),w.isPlaced=!0,w[x?"show":"hide"](!0)),c&&x&&(s=r.getTitlePosition(),b(s.y)?(c[c.isNew?"attr":"animate"](s),c.isNew=!1):(c.attr("y",-9999),c.isNew=!0)),g&&g.enabled&&r.renderStackTotals(),r.isDirty=!1,f(this,"afterRender")},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(t){t.render()})),d(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,n=this,i=n.stacks,r=n.plotLinesAndBands;if(f(this,"destroy",{keepEvents:t}),t||E(n),S(i,function(t,e){c(t),i[e]=null}),d([n.ticks,n.minorTicks,n.alternateBands],function(t){c(t)}),r)for(t=r.length;t--;)r[t].destroy();for(e in d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),function(t){n[t]&&(n[t]=n[t].destroy())}),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();S(n,function(t,e){-1===v(e,n.keepProps)&&delete n[e]})},drawCrosshair:function(t,e){var n,i,r=this.crosshair,s=_(r.snap,!0),a=this.cross;if(f(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!s)){if(s?l(e)&&(i=_(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:_(e.stackY,e.y)),null,null,null,i)||null),!l(n))return void this.hideCrosshair();s=this.categories&&!this.isRadial,a||(this.cross=a=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(s?"category ":"thin ")+r.className).attr({zIndex:_(r.zIndex,2)}).add(),a.attr({stroke:r.color||(s?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":_(r.width,1)}).css({"pointer-events":"none"}),r.dashStyle&&a.attr({dashstyle:r.dashStyle})),a.show().attr({d:n}),s&&!r.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();f(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=M}(u);return function(t){var e=t.Axis,n=t.getMagnitude,i=t.normalizeTickInterval,r=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var s,a=r[e[0]],l=e[1];for(s=0;s<o.length&&(e=o[s],a=r[e[0]],l=e[1],!(o[s+1]&&t<=(a*l[l.length-1]+r[o[s+1][0]])/2));s++);return a===r.year&&t<5*a&&(l=[1,2,5]),{unitRange:a,count:t=i(t/a,l,"year"===e[0]?Math.max(n(t/a),1):1),unitName:e[0]}}}(u),function(t){var e=t.Axis,n=t.getMagnitude,i=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,s,a){var l=this.options,u=this.len,c=[];if(a||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),c=this.getLinearTickPositions(t,e,s);else if(.08<=t){var d,h,f,p,m;for(u=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<s+1&&!m;u++)for(h=l.length,d=0;d<h&&!m;d++)(f=this.log2lin(this.lin2log(u)*l[d]))>e&&(!a||p<=s)&&void 0!==p&&c.push(p),p>s&&(m=!0),p=f}else e=this.lin2log(e),s=this.lin2log(s),t=a?this.getMinorTickInterval():l.tickInterval,t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(a?5:1)*(s-e)/((a?u/this.tickPositions.length:u)||1)),t=r(t,null,n(t)),c=i(this.getLinearTickPositions(t,e,s),this.log2lin),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),c},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(u),function(t,e){var n=t.arrayMax,i=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.erase,l=t.merge,u=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,"render");var e=this,n=e.axis,i=n.horiz,o=e.options,s=o.label,a=e.label,c=o.to,d=o.from,h=o.value,f=r(d)&&r(c),p=r(h),m=e.svgElem,g=!m,v=[],y=o.color,b=u(o.zIndex,0),w=o.events,x=(v={"class":"highcharts-plot-"+(f?"band ":"line ")+(o.className||"")},{}),C=n.chart.renderer,S=f?"bands":"lines";if(n.isLog&&(d=n.log2lin(d),c=n.log2lin(c),h=n.log2lin(h)),p?(v.stroke=y,v["stroke-width"]=o.width,o.dashStyle&&(v.dashstyle=o.dashStyle)):f&&(y&&(v.fill=y),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),x.zIndex=b,S+="-"+b,(y=n.plotLinesAndBandsGroups[S])||(n.plotLinesAndBandsGroups[S]=y=C.g("plot-"+S).attr(x).add()),g&&(e.svgElem=m=C.path().attr(v).add(y)),p)v=n.getPlotLinePath(h,m.strokeWidth());else{if(!f)return;v=n.getPlotBandPath(d,c,o)}return g&&v&&v.length?(m.attr({d:v}),w&&t.objectEach(w,function(t,n){m.on(n,function(t){w[n].apply(e,[t])})})):m&&(v?(m.show(),m.animate({d:v})):(m.hide(),a&&(e.label=a=a.destroy()))),s&&r(s.text)&&v&&v.length&&0<n.width&&0<n.height&&!v.isFlat?(s=l({align:i&&f&&"center",x:i?!f&&4:10,verticalAlign:!i&&f&&"middle",y:i?f?16:10:f?6:-4,rotation:i&&!f&&90},s),this.renderLabel(s,v,f,b)):a&&a.hide(),e},renderLabel:function(t,e,r,o){var s=this.label,a=this.axis.chart.renderer;s||((s={align:t.textAlign||t.align,rotation:t.rotation,"class":"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")}).zIndex=o,this.label=s=a.text(t.text,0,0,t.useHTML).attr(s).add(),s.css(t.style)),o=e.xBounds||[e[1],e[4],r?e[6]:e[1]],e=e.yBounds||[e[2],e[5],r?e[7]:e[2]],r=i(o),a=i(e),s.align(t,!1,{x:r,y:a,width:n(o)-r,height:n(e)-a}),s.show()},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var n,i=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),o=[],s=this.horiz,a=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,r&&i)for(t&&(n=r.toString()===i.toString(),a=0),t=0;t<r.length;t+=6)s&&i[t+1]===r[t+1]?(i[t+1]+=a,i[t+4]+=a):s||i[t+2]!==r[t+2]||(i[t+2]+=a,i[t+5]+=a),o.push("M",r[t+1],r[t+2],"L",r[t+4],r[t+5],i[t+4],i[t+5],i[t+1],i[t+2],"z"),o.isFlat=n;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();s([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&a(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(u,c),function(t){var e=t.doc,n=t.each,i=t.extend,r=t.format,o=t.isNumber,s=t.map,a=t.merge,l=t.pick,u=t.splat,c=t.syncTimeout,d=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){n(this.chart.series,function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var e,n=this.chart.renderer,i=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:i.style&&i.style.pointerEvents}),t.doc.body.appendChild(e),this.renderer=n=new t.Renderer(e,0,0)),this.split?this.label=n.g("tooltip"):(this.label=n.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:i.padding,r:i.borderRadius}),this.label.attr({fill:i.backgroundColor,"stroke-width":i.borderWidth}).css(i.style).shadow(i.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),a(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,n,r,o){var s=this,a=s.now,l=!1!==s.options.animation&&!s.isHidden&&(1<Math.abs(e-a.x)||1<Math.abs(n-a.y)),u=s.followPointer||1<s.len;i(a,{x:l?(2*a.x+e)/3:e,y:l?(a.y+n)/2:n,anchorX:u?void 0:l?(2*a.anchorX+r)/3:r,anchorY:u?void 0:l?(a.anchorY+o)/2:o}),s.getLabel().attr(a),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(e,n,r,o)},32))},hide:function(e){var n=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=c(function(){n.getLabel()[e?"fadeOut":"hide"](),n.isHidden=!0},e))},getAnchor:function(t,e){var i,r,o=this.chart,a=o.pointer,l=o.inverted,c=o.plotTop,d=o.plotLeft,h=0,f=0;return t=u(t),this.followPointer&&e?(void 0===e.chartX&&(e=a.normalize(e)),t=[e.chartX-o.plotLeft,e.chartY-c]):t[0].tooltipPos?t=t[0].tooltipPos:(n(t,function(t){i=t.series.yAxis,r=t.series.xAxis,h+=t.plotX+(!l&&r?r.left-d:0),f+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&i?i.top-c:0)}),h/=t.length,f/=t.length,t=[l?o.plotWidth-f:h,this.shared&&!l&&1<t.length&&e?e.chartY-c:l?o.plotHeight-h:f]),s(t,Math.round)},getPosition:function(t,n,i){var r,o=this.chart,s=this.distance,a={},u=o.inverted&&i.h||0,c=this.outside,d=c?e.documentElement.clientWidth-2*s:o.chartWidth,h=c?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):o.chartHeight,f=o.pointer.chartPosition,p=["y",h,n,(c?f.top-s:0)+i.plotY+o.plotTop,c?0:o.plotTop,c?h:o.plotTop+o.plotHeight],m=["x",d,t,(c?f.left-s:0)+i.plotX+o.plotLeft,c?0:o.plotLeft,c?d:o.plotLeft+o.plotWidth],g=!this.followPointer&&l(i.ttBelow,!o.inverted==!!i.negative),v=function(t,e,n,i,r,o){var l=n<i-s,c=i+s+n<e,d=i-s-n;if(i+=s,g&&c)a[t]=i;else if(!g&&l)a[t]=d;else if(l)a[t]=Math.min(o-n,0>d-u?d:d-u);else{if(!c)return!1;a[t]=Math.max(r,i+u+n>e?i:i+u)}},y=function(t,e,n,i){var r;return i<s||i>e-s?r=!1:a[t]=i<n/2?1:i>e-n/2?e-n-2:i-n/2,r},b=function(t){var e=p;p=m,m=e,r=t},w=function(){!1!==v.apply(0,p)?!1!==y.apply(0,m)||r||(b(!0),w()):r?a.x=a.y=0:(b(!0),w())};return(o.inverted||1<this.len)&&b(),w(),a},defaultFormatter:function(t){var e,n=this.points||u(this);return(e=(e=[t.tooltipFooterHeaderFormatter(n[0])]).concat(t.bodyFormatter(n))).push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(e,i){var r,o,s,a=this.options,c=e,d={},h=[];r=a.formatter||this.defaultFormatter;var f;d=this.shared;a.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=u(c)[0].series.tooltipOptions.followPointer,i=(s=this.getAnchor(c,i))[0],o=s[1],!d||c.series&&c.series.noSharedTooltip?d=c.getLabelConfig():(n(c,function(t){t.setState("hover"),h.push(t.getLabelConfig())}),(d={x:c[0].category,y:c[0].y}).points=h,c=c[0]),this.len=h.length,d=r.call(d,this),f=c.series,this.distance=l(f.tooltipOptions.distance,16),!1===d?this.hide():(r=this.getLabel(),this.isHidden&&r.attr({opacity:1}).show(),this.split?this.renderSplit(d,u(e)):(a.style.width||r.css({width:this.chart.spacingBox.width}),r.attr({text:d&&d.join?d.join(""):d}),r.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(c.colorIndex,f.colorIndex)),r.attr({stroke:a.borderColor||c.color||f.color||"#666666"}),this.updatePosition({plotX:i,plotY:o,negative:c.negative,ttBelow:c.ttBelow,h:s[2]||0})),this.isHidden=!1))},renderSplit:function(e,i){var r,o=this,s=[],a=this.chart,u=a.renderer,c=!0,d=this.options,h=0,f=this.getLabel(),p=a.plotTop;t.isString(e)&&(e=[!1,e]),n(e.slice(0,i.length+1),function(t,e){if(!1!==t){var n=(e=i[e-1]||{isHeader:!0,plotX:i[0].plotX}).series||o,m=n.tt,g=e.series||{},v="highcharts-color-"+l(e.colorIndex,g.colorIndex,"none");m||(n.tt=m=u.label(null,null,null,"callout",null,null,d.useHTML).addClass("highcharts-tooltip-box "+v+(e.isHeader?" highcharts-tooltip-header":"")).attr({padding:d.padding,r:d.borderRadius,fill:d.backgroundColor,stroke:d.borderColor||e.color||g.color||"#333333","stroke-width":d.borderWidth}).add(f)),m.isActive=!0,m.attr({text:t}),m.css(d.style).shadow(d.shadow),g=(t=m.getBBox()).width+m.strokeWidth(),e.isHeader?(h=t.height,a.xAxis[0].opposite&&(r=!0,p-=h),g=Math.max(0,Math.min(e.plotX+a.plotLeft-g/2,a.chartWidth+(a.scrollablePixels?a.scrollablePixels-a.marginRight:0)-g))):g=e.plotX+a.plotLeft-l(d.distance,16)-g,0>g&&(c=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=p,e.isHeader&&(t=r?-h:a.plotHeight+h),s.push({target:t,rank:e.isHeader?1:0,size:n.tt.getBBox().height+1,point:e,x:g,tt:m})}}),this.cleanSplit(),t.distribute(s,a.plotHeight+h),n(s,function(t){var e=t.point,n=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+a.plotLeft+l(d.distance,16),y:t.pos+p,anchorX:e.isHeader?e.plotX+a.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?a.plotTop+a.plotHeight/2:e.plotY+n.yAxis.pos})})},updatePosition:function(t){var e,n=this.chart,i=this.getLabel(),r=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t),o=t.plotX+n.plotLeft;t=t.plotY+n.plotTop,this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(i.width+e,i.height+e,!1),o+=n.pointer.chartPosition.left-r.x,t+=n.pointer.chartPosition.top-r.y),this.move(Math.round(r.x),Math.round(r.y||0),o,t)},getDateFormat:function(t,e,n,i){var r,o,s=this.chart.time,a=s.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";for(o in d){if(t===d.week&&+s.dateFormat("%w",e)===n&&"00:00:00.000"===a.substr(6)){o="week";break}if(d[o]>t){o=u;break}if(l[o]&&a.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(u=o)}return o&&(r=s.resolveDTLFormat(i[o]).main),r},getXDateFormat:function(t,e,n){e=e.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,t.x,n.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var i=t.series,s=i.tooltipOptions,a=s.xDateFormat,l=i.xAxis,u=l&&"datetime"===l.options.type&&o(t.key),c=s[e+"Format"];return u&&!a&&(a=this.getXDateFormat(t,s,l)),u&&a&&n(t.point&&t.point.tooltipDateKeys||["key"],function(t){c=c.replace("{point."+t+"}","{point."+t+":"+a+"}")}),r(c,{point:t,series:i},this.chart.time)},bodyFormatter:function(t){return s(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}}}(u),function(t){var e=t.addEvent,n=t.attr,i=t.charts,r=t.color,o=t.css,s=t.defined,a=t.each,l=t.extend,u=t.find,c=t.fireEvent,d=t.isNumber,h=t.isObject,f=t.offset,p=t.pick,m=t.splat,g=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=p(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=(i=this.chart).options.chart,n=e.zoomType||"",i=i.inverted;/touch/.test(t.type)&&(n=p(e.pinchType,n)),this.zoomX=t=/x/.test(n),this.zoomY=n=/y/.test(n),this.zoomHor=t&&!i||n&&i,this.zoomVert=n&&!i||t&&i,this.hasZoom=t||n},normalize:function(t,e){var n;return n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=f(this.chart.container)),l(t,{chartX:Math.round(n.pageX-e.left),chartY:Math.round(n.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return a(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,n){var i;return a(t,function(t){var r=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,r),(r=h(t,!0))&&!(r=!h(i,!0))){r=i.distX-t.distX;var o=i.dist-t.dist,s=(t.series.group&&t.series.group.zIndex)-(i.series.group&&i.series.group.zIndex);r=0<(0!==r&&e?r:0!==o?o:0!==s?s:i.series.index>t.series.index?-1:1)}r&&(i=t)}),i},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=(i=t.series).xAxis,i=i.yAxis,r=p(t.clientX,t.plotX),o=t.shapeArgs;return n&&i?e?{chartX:n.len+n.pos-r,chartY:i.len+i.pos-t.plotY}:{chartX:r+n.pos,chartY:t.plotY+i.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(e,n,i,r,o,s,l){var c,d=[],f=l&&l.isBoosting;return r=!(!r||!e),l=n&&!n.stickyTracking?[n]:t.grep(i,function(t){return t.visible&&!(!o&&t.directTouch)&&p(t.options.enableMouseTracking,!0)&&t.stickyTracking}),n=(c=r?e:this.findNearestKDPoint(l,o,s))&&c.series,c&&(o&&!n.noSharedTooltip?(l=t.grep(i,function(t){return t.visible&&!(!o&&t.directTouch)&&p(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),a(l,function(t){var e=u(t.points,function(t){return t.x===c.x&&!t.isNull});h(e)&&(f&&(e=t.getPoint(e)),d.push(e))})):d.push(c)),{hoverPoint:c,hoverSeries:n,hoverPoints:d}},runPointActions:function(n,r){var o,s=this.chart,l=s.tooltip&&s.tooltip.options.enabled?s.tooltip:void 0,u=!!l&&l.shared,c=(d=r||s.hoverPoint)&&d.series||s.hoverSeries,d=(c=this.getHoverData(d,c,s.series,"touchmove"!==n.type&&(!!r||c&&c.directTouch&&this.isDirectTouch),u,n,{isBoosting:s.isBoosting})).hoverPoint;if(o=c.hoverPoints,r=(c=c.hoverSeries)&&c.tooltipOptions.followPointer,u=u&&c&&!c.noSharedTooltip,d&&(d!==s.hoverPoint||l&&l.isHidden)){if(a(s.hoverPoints||[],function(e){-1===t.inArray(e,o)&&e.setState()}),a(o||[],function(t){t.setState("hover")}),s.hoverSeries!==c&&c.onMouseOver(),s.hoverPoint&&s.hoverPoint.firePointEvent("mouseOut"),!d.series)return;d.firePointEvent("mouseOver"),s.hoverPoints=o,s.hoverPoint=d,l&&l.refresh(u?o:d,n)}else r&&l&&!l.isHidden&&(d=l.getAnchor([{}],n),l.updatePosition({plotX:d[0],plotY:d[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(s.container.ownerDocument,"mousemove",function(e){var n=i[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)})),a(s.axes,function(e){var i=p(e.crosshair.snap,!0),r=i?t.find(o,function(t){return t.series[e.coll]===e}):void 0;r||!i?e.drawCrosshair(n,r):e.hideCrosshair()})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,l=s&&s.shared?o:r;t&&l&&a(m(l),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&l&&(s.refresh(l),s.shared&&o?a(o,function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))}):r&&(r.setState(r.state,!0),a(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&a(o,function(t){t.setState()}),i&&i.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),a(n.axes,function(t){t.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;a(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,o=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,u=n.plotLeft,c=n.plotTop,d=n.plotWidth,h=n.plotHeight,f=this.selectionMarker,p=this.mouseDownX,m=this.mouseDownY,g=i.panKey&&t[i.panKey+"Key"];f&&f.touch||(o<u?o=u:o>u+d&&(o=u+d),s<c?s=c:s>c+h&&(s=c+h),this.hasDragged=Math.sqrt(Math.pow(p-o,2)+Math.pow(m-s,2)),10<this.hasDragged&&(e=n.isInsidePlot(p-u,m-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!g&&!f&&(this.selectionMarker=f=n.renderer.rect(u,c,a?1:d,l?1:h,0).attr({fill:i.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add()),f&&a&&(o-=p,f.attr({width:Math.abs(o),x:(0<o?0:o)+p})),f&&l&&(o=s-m,f.attr({height:Math.abs(o),y:(0<o?0:o)+m})),e&&!f&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,u={originalEvent:t,xAxis:[],yAxis:[]},h=this.selectionMarker,f=h.attr?h.attr("x"):h.x,p=h.attr?h.attr("y"):h.y,m=h.attr?h.attr("width"):h.width,g=h.attr?h.attr("height"):h.height;(this.hasDragged||i)&&(a(n.axes,function(n){if(n.zoomEnabled&&s(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var o=n.horiz,a="touchend"===t.type?n.minPixelPadding:0,l=n.toValue((o?f:p)+a);o=n.toValue((o?f+m:p+g)-a);u[n.coll].push({axis:n,min:Math.min(l,o),
max:Math.max(l,o)}),r=!0}}),r&&c(n,"selection",u,function(t){n.zoom(l(t,i?{animation:!1}:null))})),d(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),i&&this.scaleGroups()}n&&d(n.index)&&(o(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){2!==(t=this.normalize(t)).button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=i[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;s(t.hoverChartIndex)&&i[t.hoverChartIndex]&&i[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),(e=this.normalize(e)).returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(c(n.series,"click",l(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&c(e,"click",t)))},setDOMEvents:function(){var n=this,i=n.chart.container,r=i.ownerDocument;i.onmousedown=function(t){n.onContainerMouseDown(t)},i.onmousemove=function(t){n.onContainerMouseMove(t)},i.onclick=function(t){n.onContainerClick(t)},this.unbindContainerMouseLeave=e(i,"mouseleave",n.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(r,"mouseup",n.onDocumentMouseUp)),t.hasTouch&&(i.ontouchstart=function(t){n.onContainerTouchStart(t)},i.ontouchmove=function(t){n.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(r,"touchend",n.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,n){e[n]=null})}}}(u),function(t){var e=t.charts,n=t.each,i=t.extend,r=t.map,o=t.noop,s=t.pick;i(t.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,u,c,d=this.chart,h=t?"x":"y",f=t?"X":"Y",p="chart"+f,m=t?"width":"height",g=d["plot"+(t?"Left":"Top")],v=a||1,y=d.inverted,b=d.bounds[t?"h":"v"],w=1===e.length,x=e[0][p],C=n[0][p],S=!w&&e[1][p],_=!w&&n[1][p];(n=function(){!w&&20<Math.abs(x-S)&&(v=a||Math.abs(C-_)/Math.abs(x-S)),u=(g-C)/v+x,l=d["plot"+(t?"Width":"Height")]/v})(),(e=u)<b.min?(e=b.min,c=!0):e+l>b.max&&(e=b.max-l,c=!0),c?(C-=.8*(C-s[h][0]),w||(_-=.8*(_-s[h][1])),n()):s[h]=[C,_],y||(o[h]=u-g,o[m]=l),o=y?1/v:v,r[m]=l,r[h]=e,i[y?t?"scaleY":"scaleX":"scale"+f]=v,i["translate"+f]=o*g+(C-o*x)},pinch:function(t){var e=this,a=e.chart,l=e.pinchDown,u=t.touches,c=u.length,d=e.lastValidTouch,h=e.hasZoom,f=e.selectionMarker,p={},m=1===c&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),g={};1<c&&(e.initiated=!0),h&&e.initiated&&!m&&t.preventDefault(),r(u,function(t){return e.normalize(t)}),"touchstart"===t.type?(n(u,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),d.x=[l[0].chartX,l[1]&&l[1].chartX],d.y=[l[0].chartY,l[1]&&l[1].chartY],n(a.axes,function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(s(t.options.min,t.dataMin)),r=t.toPixels(s(t.options.max,t.dataMax)),o=Math.max(i,r);e.min=Math.min(t.pos,Math.min(i,r)-n),e.max=Math.max(t.pos+t.len,o+n)}}),e.res=!0):e.followTouchMove&&1===c?this.runPointActions(e.normalize(t)):l.length&&(f||(e.selectionMarker=f=i({destroy:o,touch:!0},a.plotBox)),e.pinchTranslate(l,u,p,f,g,d),e.hasPinched=h,e.scaleGroups(p,g),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,r=this.chart;r.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=r.index,1===e.touches.length?(e=this.normalize(e),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&!r.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(i=!!(n=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2))),s(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(u),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,o=t.extend,s=t.noop,a=t.Pointer,l=t.removeEvent,u=t.win,c=t.wrap;if(!t.hasTouch&&(u.PointerEvent||u.MSPointerEvent)){var d={},h=!!u.PointerEvent,f=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(d,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},p=function(e,i,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),(o=n[t.hoverChartIndex].pointer)[i]({type:r,target:e.currentTarget,preventDefault:s,touches:f()}))};o(a.prototype,{onContainerPointerDown:function(t){p(t,"onContainerTouchStart","touchstart",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){p(t,"onContainerTouchMove","touchmove",function(t){d[t.pointerId]={pageX:t.pageX,pageY:t.pageY},d[t.pointerId].target||(d[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){p(t,"onDocumentTouchEnd","touchend",function(t){delete d[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,h?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,h?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,h?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(a.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(u),function(t){var e=t.addEvent,n=t.css,i=t.discardElement,r=t.defined,o=t.each,s=t.fireEvent,a=t.isFirefox,l=t.marginNames,u=t.merge,c=t.pick,d=t.setAnimation,h=t.stableSort,f=t.win,p=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,n){this.chart=t,this.setOptions(n),n.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=e(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=c(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=u(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=c(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var n=this.chart;this.setOptions(u(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,c(e,!0)&&n.redraw(),s(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n=this.options,i=t.legendItem,r=t.legendLine,o=t.legendSymbol,a=this.itemHiddenStyle.color,l=(n=e?n.itemStyle.color:a,e&&t.color||a),u=t.options&&t.options.marker,c={fill:l};i&&i.css({fill:n,color:n}),r&&r.attr({stroke:l}),o&&(u&&o.isMarker&&(c=t.pointAttribs(),e||(c.stroke=c.fill=a)),o.attr(c)),s(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){o(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=(n=this.options).symbolPadding,n=!n.rtl,i=(o=t._legendItemPos)[0],o=o[1],s=t.checkbox;(t=t.legendGroup)&&t.element&&t[r(t.translateY)?"animate":"attr"]({translateX:n?i:this.legendWidth-i-2*e-4,translateY:o}),s&&(s.x=i,s.y=o)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&i(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),function(e){o(["legendItem","legendGroup"],t,e)}),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;e&&(t=e.translateY,o(this.allItems,function(o){var s,a=o.checkbox;a&&(s=t+r+a.y+(this.scrollOffset||0)+3,n(a,{left:e.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:this.proximate||s>t-6&&s<t+i-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,n=t.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),i=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e,this.chart.time):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,r=this.symbolWidth,o=i.symbolPadding,s=this.itemStyle,a=this.itemHiddenStyle,l="horizontal"===i.layout?c(i.itemDistance,20):0,d=!i.rtl,h=t.legendItem,f=!t.series,p=!f&&t.series.drawLegendSymbol?t.series:t,m=p.options,g=(l=r+o+l+((m=this.createCheckboxForItem&&m&&m.showCheckbox)?20:0),i.useHTML),v=t.options.className;h||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+p.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(f?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=h=n.text("",d?r+o:-o,this.baseline||0,g).css(u(t.visible?s:a)).attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(r=s.fontSize,this.fontMetrics=n.fontMetrics(r,h),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,h.attr("y",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,p.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,h,g),m&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),s.width||h.css({width:(i.itemWidth||i.width||e.spacingBox.width)-l}),this.setText(t),e=h.getBBox(),t.itemWidth=t.checkboxOffset=i.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,n=this.padding,i="horizontal"===e.layout,r=t.itemHeight,o=e.itemMarginBottom||0,s=this.itemMarginTop,a=i?c(e.itemDistance,20):0,l=e.width,u=l||this.chart.spacingBox.width-2*n-e.x;e=e.alignColumns&&this.totalItemWidth>u?this.maxItemWidth:t.itemWidth;i&&this.itemX-n+e>u&&(this.itemX=n,this.itemY+=s+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=s+this.itemY+o,this.lastLineHeight=Math.max(r,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],i?this.itemX+=e:(this.itemY+=s+r+o,this.lastLineHeight=r),this.offsetWidth=l||Math.max((i?this.itemX-n-(t.checkbox?0:a):e)+n,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,function(e){var n=e&&e.options;e&&c(n.showInLegend,!r(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),s(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var n=this.chart,i=this.options,s=this.getAlignment();s&&o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,a){o.test(s)&&!r(t[a])&&(n[l[a]]=Math.max(n[l[a]],n.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*i[a%2?"x":"y"]+c(i.margin,12)+e[a]+(0===a&&void 0!==n.options.title.margin?n.titleOffset+n.options.title.margin:0)))})},proximatePositions:function(){var e=this.chart,n=[],i="left"===this.options.align;o(this.allItems,function(r){var o,s;o=i,r.xAxis&&r.points&&(r.xAxis.options.reversed&&(o=!o),o=t.find(o?r.points:r.points.slice(0).reverse(),function(e){return t.isNumber(e.plotY)}),s=r.legendGroup.getBBox().height,n.push({target:r.visible?(o?o.plotY:r.xAxis.height)-.3*s:e.plotHeight,size:s,item:r}))},this),t.distribute(n,e.plotHeight),o(n,function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos})},render:function(){var t,e,n,i=this.chart,r=i.renderer,s=this.group,a=this.box,l=this.options,c=this.padding;this.itemX=c,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,s||(this.group=s=r.g("legend").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(s),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),h(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,o(t,this.renderItem,this),o(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+c,n=this.lastItemY+this.lastLineHeight+this.titleHeight,n=this.handleOverflow(n),n+=c,a||(this.box=a=r.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(s),a.isNew=!0),a.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),0<t&&0<n&&(a[a.isNew?"attr":"animate"](a.crisp.call({},{x:0,y:0,width:t,height:n},a.strokeWidth())),a.isNew=!1),a[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=n,e&&(r=i.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(r=u(r,{y:r.y+i.titleOffset+i.options.title.margin})),s.align(u(l,{width:t,height:n,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,r)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,n,i=this,r=(u=this.chart).renderer,s=this.options,a=s.y,l=this.padding,u=u.spacingBox.height+("top"===s.verticalAlign?-a:a)-l,d=(a=s.maxHeight,this.clipRect),h=s.navigation,f=c(h.animation,!0),p=h.arrowSize||12,m=this.nav,g=this.pages,v=this.allItems,y=function(t){"number"==typeof t?d.attr({height:t}):d&&(i.clipRect=d.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=t?"rect("+l+"px,9999px,"+(l+t)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(u/=2),a&&(u=Math.min(u,a)),g.length=0,t>u&&!1!==h.enabled?(this.clipHeight=e=Math.max(u-20-this.titleHeight-l,0),this.currentPage=c(this.currentPage,1),this.fullHeight=t,o(v,function(t,i){var r=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),s=g.length;(!s||r-g[s-1]>e&&(n||r)!==g[s-1])&&(g.push(n||r),s++),t.pageIx=s-1,n&&(v[i-1].pageIx=s-1),i===v.length-1&&r+o-g[s-1]>e&&(g.push(r),t.pageIx=s),r!==n&&(n=r)}),d||(d=i.clipRect=r.clipRect(0,l,9999,0),i.contentGroup.clip(d)),y(e),m||(this.nav=m=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,p,p).on("click",function(){i.scroll(-1,f)}).add(m),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation").css(h.style).add(m),this.down=r.symbol("triangle-down",0,0,p,p).on("click",function(){i.scroll(1,f)}).add(m)),i.scroll(0),t=u):m&&(y(),this.nav=m.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,s=this.pager,a=this.padding;t>i&&(t=i),0<t&&(void 0!==e&&d(e,this.chart),this.nav.attr({translateX:a,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:t+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,"class":t===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===i?o.inactiveColor:o.activeColor}).css({cursor:t===i?"default":"pointer"}),this.scrollOffset=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,i=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,c(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n=this.options,i=n.marker,r=t.symbolWidth,o=t.symbolHeight,s=o/2,a=this.chart.renderer,l=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":n.lineWidth||0},n.dashStyle&&(e.dashstyle=n.dashStyle),this.legendLine=a.path(["M",0,t,"L",r,t]).addClass("highcharts-graph").attr(e).add(l),i&&!1!==i.enabled&&r&&(n=Math.min(c(i.radius,s),s),0===this.symbol.indexOf("url")&&(i=u(i,{width:o,height:o}),n=0),this.legendSymbol=i=a.symbol(this.symbol,r/2-n,t-n,2*n,2*n,i).addClass("highcharts-point").add(l),i.isMarker=!0)}},(/Trident\/7\.0/.test(f.navigator.userAgent)||a)&&p(t.Legend.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)})}(u),function(t){var e=t.addEvent,n=t.animate,i=t.animObject,r=t.attr,o=t.doc,s=t.Axis,a=t.createElement,l=t.defaultOptions,u=t.discardElement,c=t.charts,d=t.css,h=t.defined,f=t.each,p=t.extend,m=t.find,g=t.fireEvent,v=t.grep,y=t.isNumber,b=t.isObject,w=t.isString,x=t.Legend,C=t.marginNames,S=t.merge,_=t.objectEach,E=t.Pointer,T=t.pick,k=t.pInt,D=t.removeEvent,M=t.seriesTypes,A=t.splat,P=t.syncTimeout,O=t.win,R=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new R(t,e,n)},p(R.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(w(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var r,o,s=n.series,a=n.plotOptions||{};g(this,"init",{args:arguments},function(){for(o in n.series=null,(r=S(l,n)).plotOptions)r.plotOptions[o].tooltip=a[o]&&S(a[o].tooltip)||void 0;r.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,r.series=n.series=s,this.userOptions=n;var u=r.chart,d=u.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=n.time&&t.keys(n.time).length?new t.Time(n.time):t.time,this.hasCartesianSeries=u.showAxes;var h=this;h.index=c.length,c.push(h),t.chartCount++,d&&_(d,function(t,n){e(h,n,t)}),h.xAxis=[],h.yAxis=[],h.pointCount=h.colorCounter=h.symbolCounter=0,g(h,"afterInit"),h.firstRender()})},initSeries:function(e){var n=this.options.chart;return(n=M[e.type||n.type||n.defaultSeriesType])||t.error(17,!0),(n=new n).init(this,e),n},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){g(this,"beforeRedraw");var n,i,r,o=this.axes,s=this.series,a=this.pointer,l=this.legend,u=this.userOptions.legend,c=this.isDirtyLegend,d=this.hasCartesianSeries,h=this.isDirtyBox,m=this.renderer,v=m.isHidden(),y=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),v&&this.temporaryDisplay(),this.layOutTitles(),e=s.length;e--;)if((r=s[e]).options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(e=s.length;e--;)(r=s[e]).options.stacking&&(r.isDirty=!0);f(s,function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),c=!0):u&&(u.labelFormatter||u.labelFormat)&&(c=!0)),t.isDirtyData&&g(t,"updatedData")}),c&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),d&&f(o,function(t){t.updateNames(),t.updateYNames&&t.updateYNames(),t.setScale()}),this.getMargins(),d&&(f(o,function(t){t.isDirty&&(h=!0)}),f(o,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,y.push(function(){g(t,"afterSetExtremes",p(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||n)&&t.redraw()})),h&&this.drawChartBox(),g(this,"predraw"),f(s,function(t){(h||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),a&&a.reset(!0),m.draw(),g(this,"redraw"),g(this,"render"),v&&this.temporaryDisplay(!0),f(y,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,i,r=this.series;for(n=m(this.axes,e)||m(this.series,e),i=0;!n&&i<r.length;i++)n=m(r[i].points||[],e);return n},getAxes:function(){var t=this,e=(n=this.options).xAxis=A(n.xAxis||{}),n=n.yAxis=A(n.yAxis||{});g(this,"getAxes"),f(e,function(t,e){t.index=e,t.isX=!0}),f(n,function(t,e){t.index=e}),e=e.concat(n),f(e,function(e){new s(t,e)}),g(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return f(this.series,function(e){t=t.concat(v(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return v(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,r=this,o=r.options;i=o.title=S({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=S({style:{color:"#666666"}},o.subtitle,e),f([["title",t,i],["subtitle",e,o]],function(t,e){var n=t[0],i=r[n],o=t[1];t=t[2],i&&o&&(r[n]=i=i.destroy()),t&&!i&&(r[n]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+n,zIndex:t.zIndex||4}).add(),r[n].update=function(t){r.setTitle(!e&&t,e&&t)},r[n].css(t.style))}),r.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;f(["title","subtitle"],function(t){var e,o=this[t],s=this.options[t];t="title"===t?-3:s.verticalAlign?0:n+2,o&&(e=s.style.fontSize,e=i.fontMetrics(e,o).b,o.css({width:(s.width||r.width+s.widthAdjust)+"px"}).align(p({y:t+e},s),!1,"spacingBox"),s.floating||s.verticalAlign||(n=Math.ceil(n+o.getBBox(s.useHTML).height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&T(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=(n=this.options.chart).width,n=n.height,i=this.renderTo;h(e)||(this.containerWidth=t.getStyle(i,"width")),h(n)||(this.containerHeight=t.getStyle(i,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(n,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(o.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(o.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,o.body.appendChild(n)),("none"===t.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},e={display:"block",overflow:"hidden"},n!==this.renderTo&&(e.height=0),t.css(n,e),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==o.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,i,s=this.options,l=s.chart;e=this.renderTo;var u,d=t.uniqueKey();e||(this.renderTo=e=l.renderTo),w(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),n=k(r(e,"data-highcharts-chart")),y(n)&&c[n]&&c[n].hasRendered&&c[n].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,i=this.chartHeight,u=p({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=a("div",{id:d},u,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,n,i,null,l.forExport,s.exporting&&s.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index,g(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!h(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),g(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&f(t.axes,function(t){t.visible&&t.getOffset()}),f(C,function(i,r){h(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(e){var n=this,i=n.options.chart,r=n.renderTo,s=h(i.width)&&h(i.height),a=i.width||t.getStyle(r,"width");i=i.height||t.getStyle(r,"height"),r=e?e.target:O;s||n.isPrinting||!a||!i||r!==O&&r!==o||(a===n.containerWidth&&i===n.containerHeight||(t.clearTimeout(n.reflowTimeout),n.reflowTimeout=P(function(){n.container&&n.setSize(void 0,void 0,!1)},e?100:0)),n.containerWidth=a,n.containerHeight=i)},setReflow:function(t){var n=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(O,"resize",function(t){n.reflow(t)}),e(this,"destroy",this.unbindReflow))},setSize:function(e,r,o){var s=this,a=s.renderer;s.isResizing+=1,t.setAnimation(o,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==r&&(s.options.chart.height=r),s.getChartSize(),((e=a.globalAnimation)?n:d)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},e),s.setChartSize(!0),a.setSize(s.chartWidth,s.chartHeight,o),f(s.axes,function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(o),s.oldChartHeight=null,g(s,"resize"),P(function(){s&&g(s,"endResize",null,function(){--s.isResizing})},i(e).duration)},setChartSize:function(t){var e,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,u=this.options.chart,c=this.spacing,d=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=s.plotBox={x:e,y:n,width:i,height:r},a=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(a,d[3])/2),s=Math.ceil(Math.max(a,d[0])/2),this.clipBox={x:o,y:s,width:Math.floor(this.plotSizeX-Math.max(a,d[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,d[2])/2-s))},t||f(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()}),g(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;f(["margin","spacing"],function(n){var i=e[n],r=b(i)?i:[i,i,i,i];f(["Top","Right","Bottom","Left"],function(i,o){t[n][o]=T(e[n+i],r[o])})}),f(C,function(e,n){t[e]=T(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,r=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,l=this.plotBorder,u=this.plotBGImage,c=n.backgroundColor,d=n.plotBackgroundColor,h=n.plotBackgroundImage,f=this.plotLeft,p=this.plotTop,m=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox,x="animate";s||(this.chartBackground=s=i.rect().addClass("highcharts-background").add(),x="attr"),e=(t=n.borderWidth||0)+(n.shadow?8:0),c={fill:c||"none"},(t||s["stroke-width"])&&(c.stroke=n.borderColor,c["stroke-width"]=t),s.attr(c).shadow(n.shadow),s[x]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:n.borderRadius}),x="animate",a||(x="attr",this.plotBackground=a=i.rect().addClass("highcharts-plot-background").add()),a[x](y),a.attr({fill:d||"none"}).shadow(n.plotShadow),h&&(u?u.animate(y):this.plotBGImage=i.image(h,f,p,m,v).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=i.clipRect(w),x="animate",l||(x="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[x](l.crisp({x:f,y:p,width:m,height:v},-l.strokeWidth())),this.isDirtyBox=!1,g(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;f(["inverted","angular","polar"],function(s){for(t=M[r.type||r.defaultSeriesType],n=r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=M[o[e].type])&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;f(e,function(t){t.linkedSeries.length=0}),f(e,function(e){var n=e.options.linkedTo;w(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=T(e.options.visible,n.options.visible,e.visible))}),g(this,"afterLinkSeries")},renderSeries:function(){f(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&f(e.items,function(n){var i=p(e.style,n.style),r=k(i.left)+t.plotLeft,o=k(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new x(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),f(i,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(f(i,function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&f(i,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=S(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(O.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,r=n.series,o=n.container,s=o&&o.parentNode;for(g(n,"destroy"),n.renderer.forExport?t.erase(c,n):c[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),D(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();f("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),o&&(o.innerHTML="",D(o),s&&u(o)),_(n,function(t,e){delete n[e]})},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),f(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),g(t,"beforeRender"),E&&(t.pointer=new E(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){f([this.callback].concat(this.callbacks),function(t){
t&&void 0!==this.index&&t.apply(this,[this])},this),g(this,"load"),g(this,"render"),h(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(u),function(t){var e=t.addEvent,n=t.Chart,i=t.each;e(n,"afterSetChartSize",function(e){var n=this.options.chart.scrollablePlotArea;(n=n&&n.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=n=Math.max(0,n-this.chartWidth))&&(this.plotWidth+=n,this.clipBox.width+=n,e.skipAxes||i(this.axes,function(e){1===e.side?e.getPlotLinePath=function(){var n,i=this.right;return this.right=i-e.chart.scrollablePixels,n=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=i,n}:(e.setAxisSize(),e.setAxisTranslation())}))}),e(n,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),n.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.applyFixed=function(){var e,n,i=this.container;(r=!this.fixedDiv)&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),t.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],function(n){t.each(i.querySelectorAll(n),function(t){(t.namespaceURI===e.SVG_NS?e.box:e.box.parentNode).appendChild(t),t.style.pointerEvents="auto"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),n=this.chartWidth+this.scrollablePixels,t.stop(this.container),this.container.style.width=n+"px",this.renderer.boxWrapper.attr({width:n,height:this.chartHeight,viewBox:[0,0,n,this.chartHeight].join(" ")}),this.chartBackground.attr({width:n}),r&&((n=this.options.chart.scrollablePlotArea).scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*n.scrollPositionX)),r=this.axisOffset,n=this.plotTop-r[0]-1;var r=this.plotTop+this.plotHeight+r[2],o=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,n,"L",this.plotLeft-1,n,"L",this.plotLeft-1,r,"L",0,r,"Z","M",o,n,"L",this.chartWidth,n,"L",this.chartWidth,r,"L",o,r,"Z"]:["M",0,0]})}}(u),function(t){var e,n=t.each,i=t.extend,r=t.erase,o=t.fireEvent,s=t.format,a=t.isArray,l=t.isNumber,u=t.pick,c=t.uniqueKey,d=t.defined,h=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),this.id=d(this.id)?this.id:c(),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=u(this.colorIndex,n),t.chart.pointCount++,o(this,"afterInit"),this},applyOptions:function(t,n){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),i(this,t),this.options=this.options?i(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,o&&(this.y=this[o]),this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===n?r.autoIncrement(this):n),this},setNestedProperty:function(e,n,i){return i=i.split("."),t.reduce(i,function(e,i,r,o){return e[i]=o.length-1===r?n:t.isObject(e[i],!0)?e[i]:{},e[i]},e),e},optionsToObject:function(e){var n={},i=this.series,r=i.options.keys,o=r||i.pointArrayMap||["y"],s=o.length,u=0,c=0;if(l(e)||null===e)n[o[0]]=e;else if(a(e))for(!r&&e.length>s&&("string"===(i=typeof e[0])?n.name=e[0]:"number"===i&&(n.x=e[0]),u++);c<s;)r&&void 0===e[u]||(0<o[c].indexOf(".")?t.Point.prototype.setNestedProperty(n,e[u],o[c]):n[o[c]]=e[u]),u++,c++;else"object"==typeof e&&(n=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=(n=this.series).zones,n=n.zoneAxis||"y",i=0;for(t=e[i];this[n]>=t.value;)t=e[++i];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;for(t in e.pointCount--,n&&(this.setState(),r(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(h(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy());this.dataLabels&&(n(this.dataLabels,function(t){t.element&&t.destroy()}),delete this.dataLabels),this.connectors&&(n(this.connectors,function(t){t.element&&t.destroy()}),delete this.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,r=u(i.valueDecimals,""),o=i.valuePrefix||"",a=i.valueSuffix||"";return n(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||a)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+a)),t=t.replace(RegExp(e+"}","g"),e+":,."+r+"f}")}),s(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,n)},visible:!0}}(u),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.defined,u=t.each,c=t.erase,d=t.extend,h=t.fireEvent,f=t.grep,p=t.isArray,m=t.isNumber,g=t.isString,v=t.merge,y=t.objectEach,b=t.pick,w=t.removeEvent,x=t.splat,C=t.SVGElement,S=t.syncTimeout,_=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,n){var i,r,o=this,s=t.series;o.chart=t,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),d(o,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected}),i=n.events,y(i,function(t,n){e(o,n,t)}),(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),u(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(n.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(r=s[s.length-1]),o._i=b(r&&r._i,-1)+1,t.orderSeries(this.insert(s)),h(this,"afterInit")},insert:function(t){var e,n=this.options.index;if(m(n)){for(e=t.length;e--;)if(n>=b(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return b(e,t.length-1)},bindAxes:function(){var e,n=this,i=n.options,r=n.chart;u(n.axisTypes||[],function(o){u(r[o],function(t){e=t.options,(i[o]===e.index||void 0!==i[o]&&i[o]===e.id||void 0===i[o]&&0===e.index)&&(n.insert(t.series),n[o]=t,t.isDirty=!0)}),n[o]||n.optionalAxis===o||t.error(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=m(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};u(n.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit,r=this.chart.time;n=b(n,e.pointStart,0);return this.pointInterval=t=b(this.pointInterval,e.pointInterval,1),i&&(e=new r.Date(n),"day"===i?r.set("Date",e,r.get("Date",e)+t):"month"===i?r.set("Month",e,r.get("Month",e)+t):"year"===i&&r.set("FullYear",e,r.get("FullYear",e)+t),t=e.getTime()-n),this.xIncrement=n+t,n},setOptions:function(t){var e=this.chart,n=e.options,i=n.plotOptions,r=(e.userOptions||{}).plotOptions||{},o=i[this.type];return this.userOptions=t,e=v(o,i.series,t),this.tooltipOptions=v(s.tooltip,s.plotOptions.series&&s.plotOptions.series.tooltip,s.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,t.tooltip),this.stickyTracking=b(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),h(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,n){var i,r=this.chart,o=this.userOptions,s=t+"Index",a=t+"Counter",u=n?n.length:b(r.options.chart[t+"Count"],r[t+"Count"]);e||(i=b(o[s],o["_"+s]),l(i)||(r.series.length||(r[a]=0),o["_"+s]=i=r[a]%u,r[a]+=1),n&&(e=n[i])),void 0!==i&&(this[s]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||a[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var n,i,r,o=this.options,s=this.points,a=[],l=this.requireSorting;if(u(e,function(e){var i;i=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,m(i)&&(-1===(i=t.inArray(i,this.xData,r))||s[i].touched?a.push(e):e!==o.data[i]?(s[i].update(e,!1,null,!1),s[i].touched=!0,l&&(r=i+1)):s[i]&&(s[i].touched=!0),n=!0)},this),n)for(e=s.length;e--;)(i=s[e]).touched||i.remove(!1),i.touched=!1;else{if(e.length!==s.length)return!1;u(e,function(t,e){s[e].update&&t!==o.data[e]&&s[e].update(t,!1,null,!1)})}return u(a,function(t){this.addPoint(t,!1)},this),!0},setData:function(e,n,i,r){var o,s,a=this,l=a.points,c=l&&l.length||0,d=a.options,h=a.chart,f=null,v=a.xAxis,y=d.turboThreshold,w=this.xData,x=this.yData,C=(o=a.pointArrayMap)&&o.length;if(o=(e=e||[]).length,n=b(n,!0),!1!==r&&o&&c&&!a.cropped&&!a.hasGroupedData&&a.visible&&!a.isSeriesBoosting&&(s=this.updateData(e)),!s){if(a.xIncrement=null,a.colorCounter=0,u(this.parallelArrays,function(t){a[t+"Data"].length=0}),y&&o>y){for(i=0;null===f&&i<o;)f=e[i],i++;if(m(f))for(i=0;i<o;i++)w[i]=this.autoIncrement(),x[i]=e[i];else if(p(f))if(C)for(i=0;i<o;i++)f=e[i],w[i]=f[0],x[i]=f.slice(1,C+1);else for(i=0;i<o;i++)f=e[i],w[i]=f[0],x[i]=f[1];else t.error(12)}else for(i=0;i<o;i++)void 0!==e[i]&&(f={series:a},a.pointClass.prototype.applyOptions.apply(f,[e[i]]),a.updateParallelArrays(f,i));for(x&&g(x[0])&&t.error(14,!0),a.data=[],a.options.data=a.userOptions.data=e,i=c;i--;)l[i]&&l[i].destroy&&l[i].destroy();v&&(v.minRange=v.userMinRange),a.isDirty=h.isDirtyBox=!0,a.isDirtyData=!!l,i=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),n&&h.redraw(i)},processData:function(e){var n,i=this.xData,r=this.yData,o=i.length;n=0;var s,a,l,u=this.xAxis;l=(p=this.options).cropThreshold;var c,d,h=this.getExtremesFromAll||p.getExtremesFromAll,f=this.isCartesian,p=u&&u.val2lin,m=u&&u.isLog,g=this.requireSorting;if(f&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&(c=(e=u.getExtremes()).min,d=e.max),f&&this.sorted&&!h&&(!l||o>l||this.forceCrop)&&(i[o-1]<c||i[0]>d?(i=[],r=[]):this.yData&&(i[0]<c||i[o-1]>d)&&(i=(n=this.cropData(this.xData,this.yData,c,d)).xData,r=n.yData,n=n.start,s=!0)),l=i.length||1;--l;)0<(o=m?p(i[l])-p(i[l-1]):i[l]-i[l-1])&&(void 0===a||o<a)?a=o:0>o&&g&&(t.error(15),g=!1);this.cropped=s,this.cropStart=n,this.processedXData=i,this.processedYData=r,this.closestPointRange=a},cropData:function(t,e,n,i,r){var o,s=t.length,a=0,l=s;for(r=b(r,this.cropShoulder,1),o=0;o<s;o++)if(t[o]>=n){a=Math.max(0,o-r);break}for(n=o;n<s;n++)if(t[n]>i){l=n+r;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}},generatePoints:function(){var t,e,n,i,r=(f=this.options).data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,u=s.length,c=this.cropStart||0,h=this.hasGroupedData,f=f.keys,p=[];for(o||h||((o=[]).length=r.length,o=this.data=o),f&&h&&(this.options.keys=!1),i=0;i<u;i++)e=c+i,h?((n=(new l).init(this,[s[i]].concat(x(a[i])))).dataGroup=this.groupMap[i],n.dataGroup.options&&(n.options=n.dataGroup.options,d(n,n.dataGroup.options))):(n=o[e])||void 0===r[e]||(o[e]=n=(new l).init(this,r[e],s[i])),n&&(n.index=e,p[i]=n);if(this.options.keys=f,o&&(u!==(t=o.length)||h))for(i=0;i<t;i++)i!==c||h||(i+=u),o[i]&&(o[i].destroyElements(),o[i].plotX=void 0);this.data=o,this.points=p},getExtremes:function(t){var e,n,o,s,a,l=this.yAxis,u=this.processedXData,c=[],d=0,h=(e=this.xAxis.getExtremes()).min,f=e.max,g=this.requireSorting?1:0;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,a=0;a<e;a++)if(o=u[a],s=t[a],n=(m(s,!0)||p(s))&&(!l.positiveValuesOnly||s.length||0<s),o=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(u[a+g]||o)>=h&&(u[a-g]||o)<=f,n&&o)if(n=s.length)for(;n--;)"number"==typeof s[n]&&(c[d++]=s[n]);else c[d++]=s;this.dataMin=r(c),this.dataMax=i(c)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,i,r=this.options,s=r.stacking,a=this.xAxis,u=a.categories,c=this.yAxis,d=this.points,f=d.length,p=!!this.modifyValue,g=r.pointPlacement,v="between"===g||m(g),y=r.threshold,w=r.startFromThreshold?y:0,x=Number.MAX_VALUE;for("between"===g&&(g=.5),m(g)&&(g*=b(r.pointRange||a.pointRange)),r=0;r<f;r++){var C=d[r],S=C.x,_=C.y;e=C.low;var E,T=s&&c.stacks[(this.negStacks&&_<(w?0:y)?"-":"")+this.stackKey];c.positiveValuesOnly&&null!==_&&0>=_&&(C.isNull=!0),C.plotX=t=o(Math.min(Math.max(-1e5,a.translate(S,0,0,0,1,g,"flags"===this.type)),1e5)),s&&this.visible&&!C.isNull&&T&&T[S]&&(i=this.getStackIndicator(i,S,this.index),e=(_=(E=T[S]).points[i.key])[0],_=_[1],e===w&&i.key===T[S].base&&(e=b(m(y)&&y,c.min)),c.positiveValuesOnly&&0>=e&&(e=null),C.total=C.stackTotal=E.total,C.percentage=E.total&&C.y/E.total*100,C.stackY=_,E.setOffset(this.pointXOffset||0,this.barW||0)),C.yBottom=l(e)?Math.min(Math.max(-1e5,c.translate(e,0,1,0,1)),1e5):null,p&&(_=this.modifyValue(_,C)),C.plotY=e="number"==typeof _&&Infinity!==_?Math.min(Math.max(-1e5,c.translate(_,0,1,0,1)),1e5):void 0,C.isInside=void 0!==e&&0<=e&&e<=c.len&&0<=t&&t<=a.len,C.clientX=v?o(a.translate(S,0,0,0,1,g)):t,C.negative=C.y<(y||0),C.category=u&&void 0!==u[C.x]?u[C.x]:C.x,C.isNull||(void 0!==n&&(x=Math.min(x,Math.abs(t-n))),n=t),C.zone=this.zones.length&&C.getZone()}this.closestPointRangePx=x,h(this,"afterTranslate")},getValidPoints:function(t,e){var n=this.chart;return f(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(),l=e[a],u=e[a+"m"];l||(t&&(s.width=0,r&&(s.x=e.plotSizeX),e[a+"m"]=u=i.clipRect(r?e.plotSizeX+99:-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,r=n(this.options.animation);t?this.setClip(r):((t=i[e=this.sharedClipKey])&&t.animate({width:i.plotSizeX,x:0},r),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99,x:0},r),this.animate=null)},afterAnimate:function(){this.setClip(),h(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n,i,r,o,s,a,l=this.points,u=this.chart,c=this.options.marker,d=this[this.specialGroup]||this.markerGroup,h=b(c.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=c.enabledThreshold*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)i=(e=l[t]).graphic,r=e.marker||{},o=!!e.marker,n=h&&void 0===r.enabled||r.enabled,s=e.isInside,n&&!e.isNull?(n=b(r.symbol,this.symbol),a=this.markerAttribs(e,e.selected&&"select"),i?i[s?"show":"hide"](!0).animate(a):s&&(0<a.width||e.hasImage)&&(e.graphic=i=u.renderer.symbol(n,a.x,a.y,a.width,a.height,o?r:c).add(d)),i&&i.attr(this.pointAttribs(e,e.selected&&"select")),i&&i.addClass(e.getClassName(),!0)):i&&(e.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=t.marker||{},r=i.symbol||n.symbol,o=b(i.radius,n.radius);return e&&(n=n.states[e],e=i.states&&i.states[e],o=b(e&&e.radius,n&&n.radius,o+(n&&n.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var n=this.options.marker,i=(a=t&&t.options)&&a.marker||{},r=this.color,o=a&&a.color,s=t&&t.color,a=b(i.lineWidth,n.lineWidth);return t=t&&t.zone&&t.zone.color,r=o||t||s||r,t=i.fillColor||n.fillColor||r,r=i.lineColor||n.lineColor||r,e&&(n=n.states[e],e=i.states&&i.states[e]||{},a=b(e.lineWidth,n.lineWidth,a+b(e.lineWidthPlus,n.lineWidthPlus,0)),t=e.fillColor||n.fillColor||t,r=e.lineColor||n.lineColor||r),{stroke:r,"stroke-width":a,fill:t}},destroy:function(){var e,n,i,r=this,o=r.chart,s=/AppleWebKit\/533/.test(_.navigator.userAgent),a=r.data||[];for(h(r,"destroy"),w(r),u(r.axisTypes||[],function(t){(i=r[t])&&i.series&&(c(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=a.length;e--;)(n=a[e])&&n.destroy&&n.destroy();r.points=null,t.clearTimeout(r.animationTimeout),y(r,function(t,e){t instanceof C&&!t.survive&&t[s&&"group"===e?"hide":"destroy"]()}),o.hoverSeries===r&&(o.hoverSeries=null),c(o.series,r),o.orderSeries(),y(r,function(t,e){delete r[e]})},getGraphPath:function(t,e,n){var i,r,o=this,s=o.options,a=s.step,c=[],d=[];return(i=(t=t||o.points).reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&i&&(a=4-a),!s.connectNulls||e||n||(t=this.getValidPoints(t)),u(t,function(i,u){var h=i.plotX,f=i.plotY,p=t[u-1];(i.leftCliff||p&&p.rightCliff)&&!n&&(r=!0),i.isNull&&!l(e)&&0<u?r=!s.connectNulls:i.isNull&&!e?r=!0:(0===u||r?u=["M",i.plotX,i.plotY]:o.getPointSpline?u=o.getPointSpline(t,i,u):a?(u=1===a?["L",p.plotX,f]:2===a?["L",(p.plotX+h)/2,p.plotY,"L",(p.plotX+h)/2,f]:["L",h,p.plotY]).push("L",h,f):u=["L",h,f],d.push(i.x),a&&(d.push(i.x),2===a&&d.push(i.x)),c.push.apply(c,u),r=!1)}),c.xMap=d,o.graphPath=c},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];i=t.getZonesGraphs(i);u(i,function(i,r){var o=i[0],s=t[o];s?(s.endX=t.preventGraphAnimation?null:n.xMap,s.animate({d:n})):n.length&&(t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group),s={stroke:i[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},i[3]?s.dashstyle=i[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),s=t[o].attr(s).shadow(2>r&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)})},getZonesGraphs:function(t){return u(this.zones,function(e,n){t.push(["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||""),e.color||this.color,e.dashStyle||this.options.dashStyle])},this),t},applyZones:function(){var t,e,n,i,r,o,s,a,l,c=this,d=this.chart,h=d.renderer,f=this.zones,p=this.clips||[],m=this.graph,g=this.area,v=Math.max(d.chartWidth,d.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],w=d.inverted,x=!1;f.length&&(m||g)&&y&&void 0!==y.min&&(r=y.reversed,o=y.horiz,m&&!this.showLine&&m.hide(),g&&g.hide(),i=y.getExtremes(),u(f,function(u,f){t=r?o?d.plotWidth:0:o?0:y.toPixels(i.min),t=Math.min(Math.max(b(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(b(u.value,i.max),!0)),0),v),x&&(t=e=y.toPixels(i.max)),s=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(n={x:w?l:a,y:0,width:s,height:v},o||(n.x=d.plotHeight-n.x)):(n={x:0,y:w?l:a,width:v,height:s},o&&(n.y=d.plotWidth-n.y)),w&&h.isVML&&(n=y.isXAxis?{x:0,y:r?a:l,height:n.width,width:d.chartWidth}:{x:n.y-d.plotLeft-d.spacingBox.x,y:0,width:n.height,height:d.chartHeight}),p[f]?p[f].animate(n):(p[f]=h.clipRect(n),m&&c["zone-graph-"+f].clip(p[f]),g&&c["zone-area-"+f].clip(p[f])),x=u.value>i.max,c.resetZones&&0===e&&(e=void 0)}),this.clips=p)},invertGroups:function(t){function n(){u(["group","markerGroup"],function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var i,r=this,o=r.chart;r.xAxis&&(i=e(o,"resize",n),e(r,"destroy",i),n(t),r.invertGroups=n)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g().attr({zIndex:i||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,r=e.options,o=!!e.animate&&i.renderer.isSVG&&n(r.animation).duration,s=e.visible?"inherit":"hidden",a=r.zIndex,l=e.hasRendered,u=i.seriesGroup,c=i.inverted;t=e.plotGroup("group","series",s,a,u),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,u),o&&e.animate(!0),t.inverted=!!e.isCartesian&&c,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===r.clip||e.sharedClipKey||l||t.clip(i.clipRect),o&&e.animate(),l||(e.animationTimeout=S(function(){e.afterAnimate()},o)),e.isDirty=!1,e.hasRendered=!0,h(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:b(i&&i.left,t.plotLeft),translateY:b(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){function t(n,i,r){var o,s;if(s=n&&n.length)return o=e.kdAxisArray[i%r],n.sort(function(t,e){return t[o]-e[o]}),{point:n[s=Math.floor(s/2)],left:t(n.slice(0,s),i+1,r),right:t(n.slice(s+1),i+1,r)}}this.buildingKdTree=!0;var e=this,n=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,S(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),n,n),e.buildingKdTree=!1},e.options.kdNow?0:1)},searchKDTree:function(t,e){function n(t,e,a,u){var c,d,h=e.point,f=i.kdAxisArray[a%u],p=h;return c=((d=l(t[r])&&l(h[r])?Math.pow(t[r]-h[r],2):null)||0)+((c=l(t[o])&&l(h[o])?Math.pow(t[o]-h[o],2):null)||0),h.dist=l(c)?Math.sqrt(c):Number.MAX_VALUE,h.distX=l(d)?Math.sqrt(d):Number.MAX_VALUE,d=0>(f=t[f]-h[f])?"right":"left",e[c=0>f?"left":"right"]&&(p=(c=n(t,e[c],a+1,u))[s]<p[s]?c:h),e[d]&&Math.sqrt(f*f)<p[s]&&(p=(t=n(t,e[d],a+1,u))[s]<p[s]?t:p),p}var i=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],s=e?"distX":"dist";if(e=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return n(t,this.kdTree,e,e)}})}(u),function(t){var e=t.Axis,n=t.Chart,i=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.format,l=t.objectEach,u=t.pick,c=t.Series;t.StackItem=function(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:u(e.y,o?4:n?14:-6),x:u(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.axis.chart,n=this.options,i=(i=n.format)?a(i,this,e.time):n.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=e.renderer.text(i,null,null,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var n=this.axis,i=n.chart,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),s=n.translate(0);s=r(o)&&Math.abs(o-s);t=i.xAxis[0].translate(this.x)+t,n=r(o)&&this.getStackBox(i,this,t,o,e,s,n),(e=this.label)&&n&&(e.align(this.alignOptions,null,n),n=e.alignAttr,e[!1===this.options.crop||i.isInsidePlot(n.x,n.y)?"show":"hide"](!0))},getStackBox:function(t,e,n,i,r,o,s){var a=e.axis.reversed,l=t.inverted;return t=s.height+s.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!a||!e.isNegative&&a,{x:l?e?i:i-o:n,y:l?t-n-r:e?t-i-o:t-i,width:l?o:r,height:l?r:o}}},n.prototype.getStacks=function(){var t=this;s(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),s(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+u(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,n=u(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=i;t--;)e[n?t:i-t-1].setStackedPoints();for(t=0;t<i;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,n=this.stacks,i=this.stackTotalGroup;i||(this.stackTotalGroup=i=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),i.translate(t.plotLeft,t.plotTop),l(n,function(t){l(t,function(t){t.render(i)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,function(e){l(e,function(n,i){n.touched<t.stacksTouched?(n.destroy(),delete e[i]):(n.total=null,n.cumulative=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,function(t){l(t,function(t){t.cumulative=t.total})}))},c.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,n,o,s,a,l,c,d=this.processedXData,h=this.processedYData,f=[],p=h.length,m=(y=this.options).threshold,g=u(y.startFromThreshold&&m,0),v=y.stack,y=y.stacking,b=this.stackKey,w="-"+b,x=this.negStacks,C=this.yAxis,S=C.stacks,_=C.oldStacks;for(C.stacksTouched+=1,a=0;a<p;a++)l=d[a],c=h[a],s=(e=this.getStackIndicator(e,l,this.index)).key,S[o=(n=x&&c<(g?0:m))?w:b]||(S[o]={}),S[o][l]||(_[o]&&_[o][l]?(S[o][l]=_[o][l],S[o][l].total=null):S[o][l]=new t.StackItem(C,C.options.stackLabels,n,l,v)),o=S[o][l],null!==c?(o.points[s]=o.points[this.index]=[u(o.cumulative,g)],r(o.cumulative)||(o.base=s),o.touched=C.stacksTouched,0<e.index&&!1===this.singleStacks&&(o.points[s][0]=o.points[this.index+","+l+",0"][0])):o.points[s]=o.points[this.index]=null,"percent"===y?(n=n?b:w,x&&S[n]&&S[n][l]?(n=S[n][l],o.total=n.total=Math.max(n.total,o.total)+Math.abs(c)||0):o.total=i(o.total+(Math.abs(c)||0))):o.total=i(o.total+(c||0)),o.cumulative=u(o.cumulative,g)+(c||0),null!==c&&(o.points[s].push(o.cumulative),f[a]=o.cumulative);"percent"===y&&(C.usePercentage=!0),this.stackedYData=f,C.oldStacks={}}},c.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,r=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&s([n,"-"+n],function(n){for(var s,a,l=r.length;l--;)s=r[l],t=e.getStackIndicator(t,s,e.index,n),(a=(s=i[n]&&i[n][s])&&s.points[t.key])&&e[o+"Stacker"](a,s,l)})},c.prototype.percentStacker=function(t,e,n){e=e.total?100/e.total:0,t[0]=i(t[0]*e),t[1]=i(t[1]*e),this.stackedYData[n]=t[1]},c.prototype.getStackIndicator=function(t,e,n,i){return!r(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(u),function(t){var e=t.addEvent,n=t.animate,i=t.Axis,r=t.createElement,o=t.css,s=t.defined,a=t.each,l=t.erase,u=t.extend,c=t.fireEvent,d=t.inArray,h=t.isNumber,f=t.isObject,p=t.isArray,m=t.merge,g=t.objectEach,v=t.pick,y=t.Point,b=t.Series,w=t.seriesTypes,x=t.setAnimation,C=t.splat;u(t.Chart.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=v(e,!0),c(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),c(r,"afterAddSeries"),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var o=e?"xAxis":"yAxis",s=this.options;return t=m(t,{index:this[o].length,isX:e}),e=new i(this,t),s[o]=C(s[o]||{}),s[o].push(t),v(n,!0)&&this.redraw(r),e},showLoading:function(t){var i=this,s=i.options,a=i.loadingDiv,l=s.loading,c=function(){a&&o(a,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};a||(i.loadingDiv=a=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,a),e(i,"redraw",c)),a.className="highcharts-loading",i.loadingSpan.innerHTML=t||s.lang.loading,o(a,u(l.style,{zIndex:10})),o(i.loadingSpan,l.labelStyle),i.loadingShown||(o(a,{opacity:0,display:""}),n(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,n,i){var r,o,l=this,u={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},f=t.chart,p=[];c(l,"update",{options:t}),f&&(m(!0,l.options.chart,f),"className"in f&&l.setClassName(f.className),"reflow"in f&&l.setReflow(f.reflow),
("inverted"in f||"polar"in f||"type"in f)&&(l.propFromSeries(),r=!0),"alignTicks"in f&&(r=!0),g(f,function(t,e){-1!==d("chart."+e,l.propsRequireUpdateSeries)&&(o=!0),-1!==d(e,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)}),"style"in f&&l.renderer.setStyle(f.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&m(!0,this.options.plotOptions,t.plotOptions),g(t,function(t,e){l[e]&&"function"==typeof l[e].update?l[e].update(t,!1):"function"==typeof l[u[e]]&&l[u[e]](t),"chart"!==e&&-1!==d(e,l.propsRequireUpdateSeries)&&(o=!0)}),a("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){var i;t[e]&&("series"===e&&(i=[],a(l[e],function(t,e){t.options.isInternal||i.push(e)})),a(C(t[e]),function(t,r){(r=s(t.id)&&l.get(t.id)||l[e][i?i[r]:r])&&r.coll===e&&(r.update(t,!1),n&&(r.touched=!0)),!r&&n&&("series"===e?l.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(l.addAxis(t,"xAxis"===e,!1).touched=!0))}),n&&a(l[e],function(t){t.touched||t.options.isInternal?delete t.touched:p.push(t)}))}),a(p,function(t){t.remove&&t.remove(!1)}),r&&a(l.axes,function(t){t.update({},!1)}),o&&a(l.series,function(t){t.update({},!1)}),t.loading&&m(!0,l.options.loading,t.loading),r=f&&f.width,f=f&&f.height,h(r)&&r!==l.chartWidth||h(f)&&f!==l.chartHeight?l.setSize(r,f,i):v(e,!0)&&l.redraw(i),c(l,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),u(y.prototype,{update:function(t,e,n,i){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),f(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),o=s.index,a.updateParallelArrays(s,o),c.data[o]=f(c.data[o],!0)||f(t,!0)?s.options:v(t,c.data[o]),a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===c.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(n)}var o,s=this,a=s.series,l=s.graphic,u=a.chart,c=a.options;e=v(e,!0),!1===i?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(d(this,this.series.data),t,e)}}),u(b.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this.options,u=this.data,c=this.chart,d=(d=this.xAxis)&&d.hasNames&&d.names,h=l.data,f=this.xData;if(e=v(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=f.length,this.requireSorting&&a<f[s-1])for(o=!0;s&&f[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),d&&r.name&&(d[a]=r.name),h.splice(s,0,t),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),this.updateParallelArrays(r,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,e&&c.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};x(n,a),e=v(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n){function i(){r.destroy(),r.remove=null,o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),v(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==n?c(r,"remove",null,i):i()},update:function(e,n){var i,r=this,o=r.chart,s=r.userOptions,l=r.oldType||r.type,h=e.type||s.type||o.options.chart.type,f=w[l].prototype,p=["group","markerGroup","dataLabelsGroup"],g=["navigatorSeries","baseSeries"],y=r.finishedAnimating&&{animation:!1},b=["data","name","turboThreshold"],x=t.keys(e),C=0<x.length;if(a(x,function(t){-1===d(t,b)&&(C=!1)}),C)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{for(i in g=p.concat(g),a(g,function(t){g[t]=r[t],delete r[t]}),e=m(s,y,{index:r.index,pointStart:v(s.pointStart,r.xData[0])},{data:r.options.data},e),r.remove(!1,null,!1),f)r[i]=void 0;w[h||l]?u(r,w[h||l].prototype):t.error(17,!0),a(g,function(t){r[t]=g[t]}),r.init(o,e),e.zIndex!==s.zIndex&&a(p,function(t){r[t]&&r[t].attr({zIndex:e.zIndex})}),r.oldType=l,o.linkSeries()}c(this,"afterUpdate"),v(n,!0)&&o.redraw(!!C&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),u(i.prototype,{update:function(t,e){var n=this.chart,i=t&&t.events||{};t=m(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),g(n.options[this.coll].events,function(t,e){"undefined"==typeof i[e]&&(i[e]=void 0)}),this.destroy(!0),this.init(n,u(t,{events:i})),n.isDirtyBox=!0,v(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),p(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],a(e[n],function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(u),function(t){var e=t.color,n=t.each,i=t.map,r=t.pick,o=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var o,s,a=[],l=[],u=this.xAxis,c=this.yAxis,d=c.stacks[this.stackKey],h={},f=this.index,p=c.series,m=p.length,g=r(c.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(s=0;s<e.length;s++)e[s].leftNull=e[s].rightNull=null,h[e[s].x]=e[s];t.objectEach(d,function(t,e){null!==t.total&&l.push(e)}),l.sort(function(t,e){return t-e}),o=i(p,function(){return this.visible}),n(l,function(t,e){var i,r,p=0;if(h[t]&&!h[t].isNull)a.push(h[t]),n([-1,1],function(n){var a=1===n?"rightNull":"leftNull",u=0,c=d[l[e+n]];if(c)for(s=f;0<=s&&s<m;)(i=c.points[s])||(s===f?h[t][a]=!0:o[s]&&(r=d[t].points[s])&&(u-=r[1]-r[0])),s+=g;h[t][1===n?"rightCliff":"leftCliff"]=u});else{for(s=f;0<=s&&s<m;){if(i=d[t].points[s]){p=i[1];break}s+=g}p=c.translate(p,0,1,0,1),a.push({isNull:!0,plotX:u.translate(t,0,0,0,1),x:t,plotY:p,yBottom:p})}})}return a},getGraphPath:function(t){var e,n,i,s,a=o.prototype.getGraphPath,l=(g=this.options).stacking,u=this.yAxis,c=[],d=[],h=this.index,f=u.stacks[this.stackKey],p=g.threshold,m=u.getThreshold(g.threshold),g=g.connectNulls||"percent"===l,v=function(e,n,r){var o=t[e];e=l&&f[o.x].points[h];var s=o[r+"Null"]||0;r=o[r+"Cliff"]||0;var a,g;o=!0;r||s?(a=(s?e[0]:e[1])+r,g=e[0]+r,o=!!s):!l&&t[n]&&t[n].isNull&&(a=g=p),void 0!==a&&(d.push({plotX:i,plotY:null===a?m:u.getThreshold(a),isNull:o,isCliff:!0}),c.push({plotX:i,plotY:null===g?m:u.getThreshold(g),doCurve:!1}))};for(t=t||this.points,l&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)n=t[e].isNull,i=r(t[e].rectPlotX,t[e].plotX),s=r(t[e].yBottom,m),(!n||g)&&(g||v(e,e-1,"left"),n&&!l&&g||(d.push(t[e]),c.push({x:e,plotX:i,plotY:s})),g||v(e,e+1,"right"));return e=a.call(this,d,!0,!0),c.reversed=!0,(n=a.call(this,c,!0,!0)).length&&(n[0]="L"),n=e.concat(n),a=a.call(this,d,!1,g),n.xMap=e.xMap,this.areaPath=n,a},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,i=this.areaPath,s=this.options,a=[["area","highcharts-area",this.color,s.fillColor]];n(this.zones,function(e,n){a.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||s.fillColor])}),n(a,function(n){var o=n[0],a=t[o];a?(a.endX=t.preventGraphAnimation?null:i.xMap,a.animate({d:i})):(a=t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({fill:r(n[3],e(n[2]).setOpacity(r(s.fillOpacity,.75)).get()),zIndex:0}).add(t.group)).isArea=!0,a.startX=i.xMap,a.shiftUnit=s.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(u),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,n,i){var r,o,s,a,l=n.plotX,u=n.plotY,c=t[i-1];if(i=t[i+1],c&&!c.isNull&&!1!==c.doCurve&&!n.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!n.isCliff){t=c.plotY,s=i.plotX;var d=0;o=(1.5*u+t)/2.5,a=(1.5*u+(i=i.plotY))/2.5,(s=(1.5*l+s)/2.5)!==(r=(1.5*l+c.plotX)/2.5)&&(d=(a-o)*(s-l)/(s-r)+u-a),a+=d,(o+=d)>t&&o>u?a=2*u-(o=Math.max(t,u)):o<t&&o<u&&(a=2*u-(o=Math.min(t,u))),a>i&&a>u?o=2*u-(a=Math.max(i,u)):a<i&&a<u&&(o=2*u-(a=Math.min(i,u))),n.rightContX=s,n.rightContY=a}return n=["C",e(c.rightContX,c.plotX),e(c.rightContY,c.plotY),e(r,l),e(o,u),l,u],c.rightContX=c.rightContY=null,n}})}(u),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(u),function(t){var e=t.animObject,n=t.color,i=t.each,r=t.extend,o=t.defined,s=t.isNumber,a=t.merge,l=t.pick,u=t.Series,c=t.seriesType,d=t.svg;c("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){u.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,r=e.xAxis,o=e.yAxis,s=r.options.reversedStacks,a=(s=r.reversed&&!s||!r.reversed&&s,{}),u=0;!1===n.grouping?u=1:i(e.chart.series,function(n){var i,r=n.options,s=n.yAxis;n.type!==e.type||!n.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==s.len||o.pos!==s.pos||(r.stacking?(t=n.stackKey,void 0===a[t]&&(a[t]=u++),i=a[t]):!1!==r.grouping&&(i=u++),n.columnIndex=i)});var c=Math.min(Math.abs(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),d=c*n.groupPadding,h=(c-2*d)/(u||1);n=Math.min(n.maxPointWidth||r.len,l(n.pointWidth,h*(1-2*n.pointPadding)));return e.columnMetrics={width:n,offset:(h-n)/2+(d+((e.columnIndex||0)+(s?1:0))*h-c/2)*(s?-1:1)},e.columnMetrics},crispCol:function(t,e,n,i){var r=this.chart,o=-((s=this.borderWidth)%2?.5:0),s=s%2?.5:1;return r.inverted&&r.renderer.isVML&&(s+=1),this.options.crisp&&(n=Math.round(t+n)+o,n-=t=Math.round(t)+o),i=Math.round(e+i)+s,o=.5>=Math.abs(e)&&.5<i,i-=e=Math.round(e)+s,o&&i&&(--e,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,s=(r=t.borderWidth=l(n.borderWidth,r?0:1),t.yAxis),a=n.threshold,c=t.translatedThreshold=s.getThreshold(a),d=l(n.minPointLength,5),h=t.getColumnMetrics(),f=h.width,p=t.barW=Math.max(f,1+2*r),m=t.pointXOffset=h.offset;e.inverted&&(c-=.5),n.pointPadding&&(p=Math.ceil(p)),u.prototype.translate.apply(t),i(t.points,function(n){var i,r=l(n.yBottom,c),u=999+Math.abs(r),h=f,g=(u=Math.min(Math.max(-u,n.plotY),s.len+u),n.plotX+m),v=p,y=Math.min(u,r),b=Math.max(u,r)-y;d&&Math.abs(b)<d&&(b=d,i=!s.reversed&&!n.negative||s.reversed&&n.negative,n.y===a&&t.dataMax<=a&&s.min<a&&(i=!i),y=Math.abs(y-c)>d?r-d:c-(i?d:0)),o(n.options.pointWidth)&&(h=v=Math.ceil(n.options.pointWidth),g-=Math.round((h-f)/2)),n.barX=g,n.pointWidth=h,n.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-u,t.xAxis.len-g-v/2,b]:[g+v/2,u+s.pos-e.plotTop,b],n.shapeType="rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[g,c,v,0]:[g,y,v,b])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,r=this.options;i=(c=this.pointAttrToOptions||{}).stroke||"borderColor";var o=c["stroke-width"]||"borderWidth",s=t&&t.color||this.color,l=t&&t[i]||r[i]||this.color||s,u=t&&t[o]||r[o]||this[o]||0,c=r.dashStyle;return t&&this.zones.length&&(s=t.getZone(),s=t.options.color||s&&s.color||this.color),e&&(e=(t=a(r.states[e],t.options.states&&t.options.states[e]||{})).brightness,s=t.color||void 0!==e&&n(s).brighten(t.brightness).get()||s,l=t[i]||l,u=t[o]||u,c=t.dashStyle||c),i={fill:s,stroke:l,"stroke-width":u},c&&(i.dashstyle=c),i},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,o=n.renderer,l=r.animationLimit||250;i(e.points,function(i){var u=i.graphic,c=u&&n.pointCount<l?"animate":"attr";s(i.plotY)&&null!==i.y?(t=i.shapeArgs,u?u[c](a(t)):i.graphic=u=o[i.shapeType](t).add(i.group||e.group),r.borderRadius&&u.attr({r:r.borderRadius}),u[c](e.pointAttribs(i,i.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),u.addClass(i.getClassName(),!0)):u&&(i.graphic=u.destroy())})},animate:function(t){var n,i=this,o=this.yAxis,s=i.options,a=this.chart.inverted,l={},u=a?"translateX":"translateY";d&&(t?(l.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(s.threshold))),a?l.translateX=t-o.len:l.translateY=t,i.group.attr(l)):(n=i.group.attr(u),i.group.animate({scaleY:1},r(e(i.options.animation),{step:function(t,e){l[u]=n+e.pos*(o.pos-n),i.group.attr(l)}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),u.prototype.remove.apply(t,arguments)}})}(u),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(u),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(u),function(t){var e=t.deg2rad,n=t.isNumber,i=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,o=this.chart,s=2*(n.slicedOffset||0),a=o.plotWidth-2*s,l=(o=o.plotHeight-2*s,n.center),u=(l=[i(l[0],"50%"),i(l[1],"50%"),n.size||"100%",n.innerSize||0],Math.min(a,o));for(t=0;4>t;++t)e=l[t],n=2>t||2===t&&/%$/.test(e),l[t]=r(e,[a,o,u,l[2]][t])+(n?s:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,i){return t=n(t)?t:0,i=n(i)&&i>t&&360>i-t?i:t+360,{start:e*(t+-90),end:e*(i+-90)}}}}(u),function(t){var e=t.addEvent,n=t.CenteredSeriesMixin,i=t.defined,r=t.each,o=t.extend,s=n.getStartAndEndRadians,a=t.inArray,l=t.noop,u=t.pick,c=t.Point,d=t.Series,h=t.seriesType,f=t.setAnimation;h("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(r(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=i[t],n+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=n,t=0;t<r;t++)(e=i[t]).percentage=0<n&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){d.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,a,l=0,c=(g=this.options).slicedOffset,d=c+(g.borderWidth||0),h=s(g.startAngle,g.endAngle),f=this.startAngleRad=h.start,p=(h=(this.endAngleRad=h.end)-f,this.points),m=g.dataLabels.distance,g=g.ignoreHiddenPoint,v=p.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n,r){return i=Math.asin(Math.min((e-t[1])/(t[2]/2+r.labelDistance),1)),t[0]+(n?-1:1)*Math.cos(i)*(t[2]/2+r.labelDistance)},o=0;o<v;o++)(a=p[o]).labelDistance=u(a.options.dataLabels&&a.options.dataLabels.distance,m),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,a.labelDistance),e=f+l*h,g&&!a.visible||(l+=a.percentage/100),n=f+l*h,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*n)/1e3},(i=(n+e)/2)>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),a.slicedTranslation={translateX:Math.round(Math.cos(i)*c),translateY:Math.round(Math.sin(i)*c)},n=Math.cos(i)*t[2]/2,r=Math.sin(i)*t[2]/2,a.tooltipPos=[t[0]+.7*n,t[1]+.7*r],a.half=i<-Math.PI/2||i>Math.PI/2?1:0,a.angle=i,e=Math.min(d,a.labelDistance/5),a.labelPos=[t[0]+n+Math.cos(i)*a.labelDistance,t[1]+r+Math.sin(i)*a.labelDistance,t[0]+n+Math.cos(i)*e,t[1]+r+Math.sin(i)*e,t[0]+n,t[1]+r,0>a.labelDistance?"center":a.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,i,s=this,a=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),r(s.points,function(r){if(e=r.graphic,r.isNull)e&&(r.graphic=e.destroy());else{i=r.shapeArgs,t=r.getTranslate();var u=r.shadowGroup;l&&!u&&(u=r.shadowGroup=a.g("shadow").add(s.shadowGroup)),u&&u.attr(t),n=s.pointAttribs(r,r.selected&&"select"),e?e.setRadialReference(s.center).attr(n).animate(o(i,t)):(r.graphic=e=a[r.shapeType](i).setRadialReference(s.center).attr(t).add(s.group),e.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,u)),e.attr({visibility:r.visible?"inherit":"hidden"}),e.addClass(r.getClassName())}})},searchPoint:l,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:n.getCenter,getSymbol:l},{init:function(){c.prototype.init.apply(this,arguments);var t,n=this;return n.name=u(n.name,"Slice"),e(n,"select",t=function(t){n.slice("select"===t.type)}),e(n,"unselect",t),n},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var n=this,i=n.series,o=i.chart,s=i.options.ignoreHiddenPoint;e=u(e,s),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,i.options.data[a(n,i.data)]=n.options,r(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&o.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),s&&(i.isDirty=!0),e&&o.redraw())},slice:function(t,e,n){var r=this.series;f(n,r.chart),u(e,!0),this.sliced=this.options.sliced=i(t)?t:!this.sliced,r.options.data[a(this,r.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(u),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,r=t.each,o=t.extend,s=t.format,a=t.map,l=t.merge,u=t.noop,c=t.pick,d=t.relativeLength,h=t.Series,f=t.seriesTypes,p=t.some,m=t.stableSort,g=t.isArray,v=t.splat;t.distribute=function(e,n,i){function o(t,e){return t.target-e.target}var s,l,u=!0,d=e,h=[];l=0;var f=d.reducedLen||n;for(s=e.length;s--;)l+=e[s].size;if(l>f){for(m(e,function(t,e){return(e.rank||0)-(t.rank||0)}),l=s=0;l<=f;)l+=e[s].size,s++;h=e.splice(s-1,e.length)}for(m(e,o),e=a(e,function(t){return{size:t.size,targets:[t.target],align:c(t.align,.5)}});u;){for(s=e.length;s--;)u=e[s],l=(Math.min.apply(0,u.targets)+Math.max.apply(0,u.targets))/2,u.pos=Math.min(Math.max(0,l-u.size*u.align),n-u.size);for(s=e.length,u=!1;s--;)0<s&&e[s-1].pos+e[s-1].size>e[s].pos&&(e[s-1].size+=e[s].size,e[s-1].targets=e[s-1].targets.concat(e[s].targets),e[s-1].align=.5,e[s-1].pos+e[s-1].size>n&&(e[s-1].pos=n-e[s-1].size),e.splice(s,1),u=!0)}d.push.apply(d,h),s=0,p(e,function(e){var o=0;if(p(e.targets,function(){if(d[s].pos=e.pos+o,Math.abs(d[s].pos-d[s].target)>i)return r(d.slice(0,s+1),function(t){delete t.pos}),d.reducedLen=(d.reducedLen||n)-.1*n,d.reducedLen>.1*n&&t.distribute(d,n,i),!0;o+=d[s].size,s++}))return!0}),m(d,o)},h.prototype.drawDataLabels=function(){function n(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}function o(t,e){var n,i=[];if(g(t)&&!g(e))i=a(t,function(t){return l(t,e)});else if(g(e)&&!g(t))i=a(e,function(e){return l(t,e)});else if(g(t)||g(e))for(n=Math.max(t.length,e.length);n--;)i[n]=l(t[n],e[n]);else i=l(t,e);return i}var u,d,h=this,f=h.chart,p=h.options,m=p.dataLabels,y=h.points,b=h.hasRendered||0,w=c(m.defer,!!p.animation),x=f.renderer;m=o(o(f.options.plotOptions&&f.options.plotOptions.series&&f.options.plotOptions.series.dataLabels,f.options.plotOptions&&f.options.plotOptions[h.type]&&f.options.plotOptions[h.type].dataLabels),m);(g(m)||m.enabled||h._hasPointLabels)&&(d=h.plotGroup("dataLabelsGroup","data-labels",w&&!b?"hidden":"visible",m.zIndex||6),w&&(d.attr({opacity:+b}),b||e(h,"afterAnimate",function(){h.visible&&d.show(!0),d[p.animation?"animate":"attr"]({opacity:1},{duration:200})})),r(y,function(e){u=v(o(m,e.dlOptions||e.options&&e.options.dataLabels)),r(u,function(r,o){var a,l,u,m,g=r.enabled&&!e.isNull&&n(e,r),v=e.dataLabels?e.dataLabels[o]:e.dataLabel,y=e.connectors?e.connectors[o]:e.connector,b=!v;g&&(a=e.getLabelConfig(),l=r[e.formatPrefix+"Format"]||r.format,a=i(l)?s(l,a,f.time):(r[e.formatPrefix+"Formatter"]||r.formatter).call(a,r),l=r.style,u=r.rotation,l.color=c(r.color,l.color,h.color,"#000000"),"contrast"===l.color&&(e.contrastColor=x.getContrast(e.color||h.color),l.color=r.inside||0>c(r.distance,e.labelDistance)||p.stacking?e.contrastColor:"#000000"),p.cursor&&(l.cursor=p.cursor),m={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:u,padding:r.padding,zIndex:1},t.objectEach(m,function(t,e){void 0===t&&delete m[e]})),!v||g&&i(a)?g&&i(a)&&(v?m.text=a:(e.dataLabels=e.dataLabels||[],v=e.dataLabels[o]=u?x.text(a,0,-9999).addClass("highcharts-data-label"):x.label(a,0,-9999,r.shape,null,null,r.useHTML,null,"data-label"),o||(e.dataLabel=v),v.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(r.className||"")+(r.useHTML?" highcharts-tracker":""))),v.options=r,v.attr(m),v.css(l).shadow(r.shadow),v.added||v.add(d),h.alignDataLabel(e,v,r,null,b)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&(1===e.dataLabels.length?delete e.dataLabels:delete e.dataLabels[o]),o||delete e.dataLabel,y&&(e.connector=e.connector.destroy(),e.connectors&&(1===e.connectors.length?delete e.connectors:delete e.connectors[o])))})})),t.fireEvent(this,"afterDrawDataLabels")},h.prototype.alignDataLabel=function(t,e,n,i,r){var s,a=this.chart,l=a.inverted,u=c(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),d=c(t.plotY,-9999),h=e.getBBox(),f=n.rotation,p=n.align,m=this.visible&&(t.series.forceDL||a.isInsidePlot(u,Math.round(d),l)||i&&a.isInsidePlot(u,l?i.x+1:i.y+i.height-1,l)),g="justify"===c(n.overflow,"justify");m&&(s=n.style.fontSize,s=a.renderer.fontMetrics(s,e).b,i=o({x:l?this.yAxis.len-d:u,y:Math.round(l?this.xAxis.len-u:d),width:0,height:0},i),o(n,{width:h.width,height:h.height}),f?(g=!1,u=a.renderer.rotCorr(s,f),u={x:i.x+n.x+i.width/2+u.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](u).attr({align:p}),d=180<(d=(f+720)%360)&&360>d,"left"===p?u.y-=d?h.height:0:"center"===p?(u.x-=h.width/2,u.y-=h.height/2):"right"===p&&(u.x-=h.width,u.y-=d?0:h.height),e.placed=!0,e.alignAttr=u):(e.align(n,null,i),u=e.alignAttr),g&&0<=i.height?t.isLabelJustified=this.justifyDataLabel(e,n,u,h,i,r):c(n.crop,!0)&&(m=a.isInsidePlot(u.x,u.y)&&a.isInsidePlot(u.x+h.width,u.y+h.height)),n.shape&&!f)&&e[r?"attr":"animate"]({anchorX:l?a.plotWidth-t.plotY:t.plotX,anchorY:l?a.plotHeight-t.plotX:t.plotY}),m||(e.attr({y:-9999}),e.placed=!1)},h.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,u=e.align,c=e.verticalAlign,d=t.box?0:t.padding||0;return 0>(s=n.x+d)&&("right"===u?e.align="left":e.x=-s,a=!0),(s=n.x+i.width-d)>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-s,a=!0),0>(s=n.y+d)&&("bottom"===c?e.verticalAlign="top":e.y=-s,a=!0),(s=n.y+i.height-d)>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r)),a},f.pie&&(f.pie.prototype.drawDataLabels=function(){var e,o,s,a,l,u,d,f,p,m,g=this,v=g.data,y=g.chart,b=g.options.dataLabels,w=c(b.connectorPadding,10),x=c(b.connectorWidth,1),C=y.plotWidth,S=y.plotHeight,_=Math.round(y.chartWidth/3),E=g.center,T=E[2]/2,k=E[1],D=[[],[]],M=[0,0,0,0];g.visible&&(b.enabled||g._hasPointLabels)&&(r(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),h.prototype.drawDataLabels.apply(g),r(v,function(t){t.dataLabel&&(t.visible?(D[t.half].push(t),t.dataLabel._pos=null,!i(b.style.width)&&!i(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>_&&(t.dataLabel.css({width:.7*_}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))}),r(D,function(n,o){var h,v,x,_=n.length,D=[];if(_)for(g.sortByAngle(n,o-.5),0<g.maxLabelDistance&&(h=Math.max(0,k-T-g.maxLabelDistance),v=Math.min(k+T+g.maxLabelDistance,y.plotHeight),r(n,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,k-T-t.labelDistance),t.bottom=Math.min(k+T+t.labelDistance,y.plotHeight),x=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+x/2,size:x,rank:t.y},D.push(t.distributeBox))}),h=v+x-h,t.distribute(D,h,h/5)),m=0;m<_;m++)e=n[m],l=e.labelPos,s=e.dataLabel,p=!1===e.visible?"hidden":"inherit",f=h=l[1],D&&i(e.distributeBox)&&(void 0===e.distributeBox.pos?p="hidden":(u=e.distributeBox.size,f=e.top+e.distributeBox.pos)),delete e.positionIndex,d=b.justify?E[0]+(o?-1:1)*(T+e.labelDistance):g.getX(f<e.top+2||f>e.bottom-2?h:f,o,e),s._attr={visibility:p,align:l[6]},s._pos={x:d+b.x+({left:w,right:-w}[l[6]]||0),y:f+b.y-10},l.x=d,l.y=f,c(b.crop,!0)&&(a=s.getBBox().width,h=null,d-a<w&&1===o?(h=Math.round(a-d+w),M[3]=Math.max(h,M[3])):d+a>C-w&&0===o&&(h=Math.round(d+a-C+w),M[1]=Math.max(h,M[1])),0>f-u/2?M[0]=Math.max(Math.round(u/2-f),M[0]):f+u/2>S&&(M[2]=Math.max(Math.round(f+u/2-S),M[2])),s.sideOverflow=h)}),0===n(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),x&&r(this.points,function(t){var e;o=t.connector,(s=t.dataLabel)&&s._pos&&t.visible&&0<t.labelDistance?(p=s._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(g.dataLabelsGroup),o.attr({"stroke-width":x,stroke:b.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),o.attr("visibility",p)):o&&(t.connector=o.destroy())}))},f.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return c(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},f.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},f.pie.prototype.alignDataLabel=u,f.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,s=null!==i.size;return s||(null!==r[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),o):(e=Math.max(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,n[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(d(i.innerSize||0,e),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):s=!0),s}),f.column&&(f.column.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart.inverted,s=t.series,a=t.dlBox||t.shapeArgs,u=c(t.below,t.plotY>c(this.translatedThreshold,s.yAxis.len)),d=c(n.inside,!!this.options.stacking);a&&(0>(i=l(a)).y&&(i.height+=i.y,i.y=0),0<(a=i.y+i.height-s.yAxis.len)&&(i.height-=a),o&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),d||(o?(i.x+=u?0:i.width,i.width=0):(i.y+=u?i.height:0,i.height=0))),n.align=c(n.align,!o||d?"center":u?"right":"left"),n.verticalAlign=c(n.verticalAlign,o||d?"middle":u?"top":"bottom"),h.prototype.alignDataLabel.call(this,t,e,n,i,r),t.isLabelJustified&&t.contrastColor&&e.css({color:t.contrastColor})})}(u),function(t){var e=t.Chart,n=t.each,i=t.isArray,r=t.objectEach,o=t.pick;(t=t.addEvent)(e,"render",function(){var t=[];n(this.labelCollectors||[],function(e){t=t.concat(e())}),n(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&r(e.stacks,function(e){r(e,function(e){t.push(e.label)})})}),n(this.series||[],function(e){var r=e.options.dataLabels;e.visible&&(!1!==r.enabled||e._hasPointLabels)&&n(e.points,function(e){if(e.visible){var r=i(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[];n(r,function(n){var i=n.options;n.labelrank=o(i.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),i.allowOverlap||t.push(n)})}})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,o,s,a,l=t.length,u=this.renderer,c=function(t,e,n,i,r,o,s,a){return!(r>t+n||r+s<t||o>e+i||o+a<e)};for(r=function(t){var e,n,i,r=t.box?0:t.padding||0;if(i=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},n=t.parentGroup,t.width||(i=t.getBBox(),t.width=i.width,t.height=i.height,i=u.fontMetrics(null,t.element).h),{x:e.x+(n.translateX||0)+r,y:e.y+(n.translateY||0)+r-i,width:t.width-2*r,height:t.height-2*r}},i=0;i<l;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=r(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<l;i++)for(a=(r=t[i])&&r.absoluteBox,e=i+1;e<l;++e)s=(o=t[e])&&o.absoluteBox,a&&s&&r!==o&&0!==r.newOpacity&&0!==o.newOpacity&&(s=c(a.x,a.y,a.width,a.height,s.x,s.y,s.width,s.height))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&(t.alignAttr&&t.placed?(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:n})),t.isOld=!0)})}}(u),function(t){var e,n=t.addEvent,i=t.Chart,r=t.createElement,o=t.css,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.each,u=t.extend,c=t.fireEvent,d=t.hasTouch,h=t.inArray,f=t.isObject,p=t.Legend,m=t.merge,g=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,w=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,n=function(t){var n=e.getPointFromEvent(t);void 0!==n&&(e.isDirectTouch=!0,n.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(i){t[i]&&(t[i].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(t){e.onTrackerMouseOut(t)}),d&&t[i].on("touchstart",n),t.options.cursor&&t[i].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0),c(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,u=s.renderer,h=s.options.tooltip.snap,f=e.tracker,p=function(){s.hoverSeries!==e&&e.onMouseOver()},m="rgba(192,192,192,"+(w?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-h,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+h,r[t-1]);f?f.attr({d:r}):e.graph&&(e.tracker=u.path(r).attr({"stroke-linejoin":"round",stroke:m,fill:i?m:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*h),visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}),n.cursor&&t.css({cursor:n.cursor}),d&&t.on("touchstart",p)})),c(this,"afterDrawTracker")}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),
b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),s.legend.itemStyle.cursor="pointer",u(p.prototype,{setItemEvents:function(t,e,n){var i=this,r=i.chart.renderer.boxWrapper,o="highcharts-legend-"+(t instanceof v?"point":"series")+"-active";(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(o),e.css(i.options.itemHoverStyle)}).on("mouseout",function(){e.css(m(t.visible?i.itemStyle:i.itemHiddenStyle)),r.removeClass(o),t.setState()}).on("click",function(e){var n=function(){t.setVisible&&t.setVisible()};r.removeClass(o),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):c(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),n(t.checkbox,"click",function(e){c(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),u(i.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=s.lang,i=e.options.chart.resetZoomButton,r=i.theme,o=r.states,a="chart"===i.relativeTo?null:"plotBox";c(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,r,o&&o.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,a)})},zoomOut:function(){c(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,n,i=this.pointer,r=!1;!t||t.resetSelection?(l(this.axes,function(t){e=t.zoom()}),i.initiated=!1):l(t.xAxis.concat(t.yAxis),function(t){var n=t.axis;i[n.isXAxis?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max),n.displayBtn&&(r=!0))}),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&f(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(g(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){var r,o=(e=i[e?"xAxis":"yAxis"][0]).horiz,s=t[o?"chartX":"chartY"],a=i[o=o?"mouseDownX":"mouseDownY"],l=(e.pointRange||0)/2,u=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,c=e.getExtremes(),d=e.toValue(a-s,!0)+l*u;a=(r=(u=e.toValue(a+e.len-s,!0)-l*u)<d)?u:d,d=r?d:u;0<(r=(u=Math.min(c.dataMin,l?c.min:e.toValue(e.toPixels(c.min)-e.minPixelPadding)))-a)&&(d+=r,a=u),0<(r=d-(l=Math.max(c.dataMax,l?c.max:e.toValue(e.toPixels(c.max)+e.minPixelPadding))))&&(d=l,a-=r),e.series.length&&a!==c.min&&d!==c.max&&(e.setExtremes(a,d,!1,!1,{trigger:"pan"}),n=!0),i[o]=s}),n&&i.redraw(!1),o(i.container,{cursor:"move"})}}),u(v.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=g(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[h(n,i.data)]=n.options,n.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[h(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=m(e.series.options.point,e.options).events;e.events=i,t.objectEach(i,function(t,i){n(e,i,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var n,i=Math.floor(this.plotX),r=this.plotY,o=this.series,s=o.options.states[t||"normal"]||{},l=a[o.type].marker&&o.options.marker,d=l&&!1===l.enabled,h=l&&l.states&&l.states[t||"normal"]||{},f=!1===h.enabled,p=o.stateMarkerGraphic,m=this.marker||{},v=o.chart,y=o.halo,b=l&&o.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(f||d&&!1===h.enabled)||t&&m.states&&m.states[t]&&!1===m.states[t].enabled||(b&&(n=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(o.pointAttribs(this,t),g(v.options.chart.animation,s.animation)),n&&this.graphic.animate(n,g(v.options.chart.animation,h.animation,l.animation)),p&&p.hide()):(t&&h&&(l=m.symbol||o.symbol,p&&p.currentSymbol!==l&&(p=p.destroy()),p?p[e?"animate":"attr"]({x:n.x,y:n.y}):l&&(o.stateMarkerGraphic=p=v.renderer.symbol(l,n.x,n.y,n.width,n.height).add(o.markerGroup),p.currentSymbol=l),p&&p.attr(o.pointAttribs(this,t))),p&&(p[t&&v.isInsidePlot(i,r,v.inverted)?"show":"hide"](),p.element.point=this)),(i=s.halo)&&i.size?(y||(o.halo=y=v.renderer.path().add((this.graphic||p).parentGroup)),y.show()[e?"animate":"attr"]({d:this.haloPath(i.size)}),y.attr({"class":"highcharts-halo highcharts-color-"+g(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),y.point=this,y.attr(u({fill:this.color||o.color,"fill-opacity":i.opacity},i.attributes))):y&&y.point&&y.point.haloPath&&y.animate({d:y.point.haloPath(0)},null,y.hide),this.state=t,c(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),u(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&c(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&c(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(t){var e=this,n=e.options,i=e.graph,r=n.states,o=n.lineWidth;n=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],function(n){n&&(e.state&&n.removeClass("highcharts-series-"+e.state),t&&n.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),i&&!i.dashstyle))for(o={"stroke-width":o},i.animate(o,g(r[t||"normal"]&&r[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+n];)e["zone-graph-"+n].attr(o),n+=1},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!a:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(i.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),c(i,n),!1!==e&&r.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),c(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(u),function(t){var e=t.Chart,n=t.each,i=t.inArray,r=t.isArray,o=t.isObject,s=t.pick,a=t.splat;e.prototype.setResponsive=function(e){var i=this.options.responsive,r=[],o=this.currentResponsive;i&&i.rules&&n(i.rules,function(n){void 0===n._id&&(n._id=t.uniqueKey()),this.matchResponsiveRule(n,r,e)},this);var s=t.merge.apply(0,t.map(r,function(e){return t.find(i.rules,function(t){return t._id===e}).chartOptions}));(r=r.toString()||void 0)!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:s,undoOptions:this.currentOptions(s)},this.update(s,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=s(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=s(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=s(n.minWidth,0)&&this.chartHeight>=s(n.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function n(e,s,l,u){var c;t.objectEach(e,function(t,e){if(!u&&-1<i(e,["series","xAxis","yAxis"]))for(t=a(t),l[e]=[],c=0;c<t.length;c++)s[e][c]&&(l[e][c]={},n(t[c],s[e][c],l[e][c],u+1));else o(t)?(l[e]=r(t)?[]:{},n(t,s[e]||{},l[e],u+1)):l[e]=s[e]||null})}var s={};return n(e,this.options,s,0),s}}(u),u}),$(document).on("DOMContentLoaded turbolinks:load",()=>{$(".alert:not(.sticky) button")[0]!=undefined&&($(".alert:not(.sticky) button")[0].dataset.dismiss=""),$(".alert:not(.sticky) button").click(()=>{$(".alert:not(.sticky)").delay(10).slideUp(500)})});¬óI_~V±¿Ñ×}d®¯¥      a85Na85NCda9´   ¬    O^partitionKey=%28https%2Cdesafiolatam.com%29,:https://empieza.desafiolatam.com/assets/alpha_application-8a3a08c072fe08f44cab084e911a82938aefa026bba2ed6c1fd471d61f92e812.js necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAAAAgAAAAAAAAAAAAAAAAAAAAEANgFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAU5MIIFNTCCBB2gAwIBAgISAwnr1DGyLfupiQ0tKWXjqHLLMA0GCSqGSIb3DQEBCwUAMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQDEwJSMzAeFw0yMTA3MjgyMTQ3MTNaFw0yMTEwMjYyMTQ3MTFaMCMxITAfBgNVBAMTGGVtcGllemEuZGVzYWZpb2xhdGFtLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANzjh5oVRbiSdWV8tMSx0MMN24Hgq5NhLzHhowmRQ9BP6x9LbHsOS1+e5tYWbEQY8hpWCZ7skp+agSz6b3LSpURxdgUJbKM0MBTDHSzbMhTj9ij1tVHMjcwX7Hec1zfazEnZFexdZU8Z1BbbqvSCjNA8sepYfdb5czAzkuzp9dPe5XKDF6pgtPjNqS/KwYhd2MlpW3uk+jdl7RodT+OPnYWUFTO5ZatqG1qAgi+oZC/OQHNI0vV/nkO1Po3Pkb/YnLw66QUoKID13Q8wimWh78UdTQWGprzVc1LxrkMfM9oQ4jwUasilFxskFDq3EtfMnZk7m5h1Oqod8vocwMvXjPsCAwEAAaOCAlIwggJOMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDAYDVR0TAQH/BAIwADAdBgNVHQ4EFgQUoZMs3z5l9oECk00BfAkBUlodw70wHwYDVR0jBBgwFoAUFC6zF7dYVsuuUAlA5h+vnYsUwsYwVQYIKwYBBQUHAQEESTBHMCEGCCsGAQUFBzABhhVodHRwOi8vcjMuby5sZW5jci5vcmcwIgYIKwYBBQUHMAKGFmh0dHA6Ly9yMy5pLmxlbmNyLm9yZy8wIwYDVR0RBBwwGoIYZW1waWV6YS5kZXNhZmlvbGF0YW0uY29tMEwGA1UdIARFMEMwCAYGZ4EMAQIBMDcGCysGAQQBgt8TAQEBMCgwJgYIKwYBBQUHAgEWGmh0dHA6Ly9jcHMubGV0c2VuY3J5cHQub3JnMIIBAwYKKwYBBAHWeQIEAgSB9ASB8QDvAHcAb1N2rDHwMRnYmQCkURX/dxUcEdkCwQApBo2yCJo32RMAAAF670zp9wAABAMASDBGAiEA/r/sjoIXtGLpfDSvSRNvLHDBG2gvGyhnHxnwnD6cp8QCIQCQ2o5jusMbMcA6x7FHBTc/jzHQyaYV8SgwYpMWJ3y9SwB0AH0+8viP/4hVaCTCwMqeUol5K8UOeAl/LmqXaJl+IvDXAAABeu9M6e4AAAQDAEUwQwIgUkEvxDmVPv325TX+2ibbigAojP/ETtmj4YVlm1iYAvUCHypPp7MyxYTBsHsEb6kZvkyp5+T0azqX4gDUPx9q5e8wDQYJKoZIhvcNAQELBQADggEBACDsnZrhBDoQNQrnpnJoDufjMI9+q0PShj8SAHcOTkiwtyMxe3F0M6PAiXGNK0hhT4TyGvOGkoXhN3OyzP2LGaDZvG1CxA5HCPbFXQoWhe1e32ngQF5yvibdPnhSHTYsakFO0mnFDRzNa11qv0s1nGNDp6ODXTgiCgklJnA2jkLTxWghMyftksta6HmLFHYsi3A0dnv7S+LO074w4bX+Sqy/vXjpOgb2aul7RYoEdj4zBuxWx89ApNnN5k/GoE8oy7pREVBk5FVZLwenI0uZdrdutzEWynuBRQ83zFJrN8/pwJUg7Hr5l8l7iOdYXBgm7NBBuBA6A3l4syPqFSgAJT/MqAADAAAAAAEBAAAAAAAABngyNTUxOQAAAA5SU0EtUFNTLVNIQTI1NgADZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAFOTCCBTUwggQdoAMCAQICEgMJ69Qxsi37qYkNLSll46hyyzANBgkqhkiG9w0BAQsFADAyMQswCQYDVQQGEwJVUzEWMBQGA1UEChMNTGV0J3MgRW5jcnlwdDELMAkGA1UEAxMCUjMwHhcNMjEwNzI4MjE0NzEzWhcNMjExMDI2MjE0NzExWjAjMSEwHwYDVQQDExhlbXBpZXphLmRlc2FmaW9sYXRhbS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDc44eaFUW4knVlfLTEsdDDDduB4KuTYS8x4aMJkUPQT+sfS2x7DktfnubWFmxEGPIaVgme7JKfmoEs+m9y0qVEcXYFCWyjNDAUwx0s2zIU4/Yo9bVRzI3MF+x3nNc32sxJ2RXsXWVPGdQW26r0gozQPLHqWH3W+XMwM5Ls6fXT3uVygxeqYLT4zakvysGIXdjJaVt7pPo3Ze0aHU/jj52FlBUzuWWrahtagIIvqGQvzkBzSNL1f55DtT6Nz5G/2Jy8OukFKCiA9d0PMIploe/FHU0Fhqa81XNS8a5DHzPaEOI8FGrIpRcbJBQ6txLXzJ2ZO5uYdTqqHfL6HMDL14z7AgMBAAGjggJSMIICTjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFKGTLN8+ZfaBApNNAXwJAVJaHcO9MB8GA1UdIwQYMBaAFBQusxe3WFbLrlAJQOYfr52LFMLGMFUGCCsGAQUFBwEBBEkwRzAhBggrBgEFBQcwAYYVaHR0cDovL3IzLm8ubGVuY3Iub3JnMCIGCCsGAQUFBzAChhZodHRwOi8vcjMuaS5sZW5jci5vcmcvMCMGA1UdEQQcMBqCGGVtcGllemEuZGVzYWZpb2xhdGFtLmNvbTBMBgNVHSAERTBDMAgGBmeBDAECATA3BgsrBgEEAYLfEwEBATAoMCYGCCsGAQUFBwIBFhpodHRwOi8vY3BzLmxldHNlbmNyeXB0Lm9yZzCCAQMGCisGAQQB1nkCBAIEgfQEgfEA7wB3AG9Tdqwx8DEZ2JkApFEV/3cVHBHZAsEAKQaNsgiaN9kTAAABeu9M6fcAAAQDAEgwRgIhAP6/7I6CF7Ri6Xw0r0kTbyxwwRtoLxsoZx8Z8Jw+nKfEAiEAkNqOY7rDGzHAOsexRwU3P48x0MmmFfEoMGKTFid8vUsAdAB9PvL4j/+IVWgkwsDKnlKJeSvFDngJfy5ql2iZfiLw1wAAAXrvTOnuAAAEAwBFMEMCIFJBL8Q5lT799uU1/tom24oAKIz/xE7Zo+GFZZtYmAL1Ah8qT6ezMsWEwbB7BG+pGb5Mqefk9Gs6l+IA1D8fauXvMA0GCSqGSIb3DQEBCwUAA4IBAQAg7J2a4QQ6EDUK56ZyaA7n4zCPfqtD0oY/EgB3Dk5IsLcjMXtxdDOjwIlxjStIYU+E8hrzhpKF4Tdzssz9ixmg2bxtQsQORwj2xV0KFoXtXt9p4EBecr4m3T54Uh02LGpBTtJpxQ0czWtdar9LNZxjQ6ejg104IgoJJSZwNo5C08VoITMn7ZLLWuh5ixR2LItwNHZ7+0viztO+MOG1/kqsv7146ToG9mrpe0WKBHY+MwbsVsfPQKTZzeZPxqBPKMu6URFQZORVWS8HpyNLmXa3brcxFsp7gUUPN8xSazfP6cCVIOx6+ZfJe4jnWFwYJuzQQbgQOgN5eLMj6hUoACU/ZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAEaTCCBGUwggNNoAMCAQICEEABdQSDFKTIIYyEqQwWzd8wDQYJKoZIhvcNAQELBQAwPzEkMCIGA1UEChMbRGlnaXRhbCBTaWduYXR1cmUgVHJ1c3QgQ28uMRcwFQYDVQQDEw5EU1QgUm9vdCBDQSBYMzAeFw0yMDEwMDcxOTIxNDBaFw0yMTA5MjkxOTIxNDBaMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQDEwJSMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALsCFSjM9qCU0w8S7I1VksP4gvGZpnpCiKddJqq1K7nFTLGvjmv5dcij1w9HlBRVNVeMnqiiORn1gjxCqU5u9TvDLtuNwLBc81k45+3PafBaCxu+wJQkJYf6N3GzE+ccrOGb79vkO0VSRZapwVPONMhS7rWu7Y/eYHDipVSrtm0Ol6VANGsr07xm62Y0fPpri49XKZn4MBddunJv+4HFrdKGWD0Xx+cJu/Er94bcwdpxXdRG48ytJcGIvGBndWaz8Rj3olzmU/86iLZHpf8TGOqYCXc/nVP5zwHl9aZwFxSvY6T/mbOTndxTpwb+SIUdoWmuJXW7E8xSA/XtUaGL2xUCAwEAAaOCAWgwggFkMBIGA1UdEwEB/wQIMAYBAf8CAQAwDgYDVR0PAQH/BAQDAgGGMEsGCCsGAQUFBwEBBD8wPTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9kc3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAwVAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcCARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAzMDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwuY3JsMB0GA1UdDgQWBBQULrMXt1hWy65QCUDmH6+dixTCxjAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBANlM4Mn1hIg3Mdu7E+Kz/ItrYhJsWLdJfjwCt6gfKGHrzuAuc+9JB3o1hB8drWjw2P5WgS9tf1imbjU2EBxzw+W9bV4B125y+yqguNNXZOVbwmnU0LL3fEvDF46IcnPc/fxtvePJC45hOhZYfXQ2K1WAPcdjvoRDxjmhDmtXnj8pwYD2sr1Hy6owbLcy4VlUCxgJF15jbPuWZzwccwyTi8YRdiSG3kAHB+R9LWa1JaOWWMjqgO7PaTuW/OaNwDPzifgpLRQULX7wYXCVXfcL5cD7JPrsjsthyO5jcSioLAU7d++bXgNk8FHR5IVTXLACl9R+xjTSzhAA5LHfOsLqF75mCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAANOMIIDSjCCAjKgAwIBAgIQRK+wgNajJ7qJMDmGLvhAazANBgkqhkiG9w0BAQUFADA/MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMTDkRTVCBSb290IENBIFgzMB4XDTAwMDkzMDIxMTIxOVoXDTIxMDkzMDE0MDExNVowPzEkMCIGA1UEChMbRGlnaXRhbCBTaWduYXR1cmUgVHJ1c3QgQ28uMRcwFQYDVQQDEw5EU1QgUm9vdCBDQSBYMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAN+v6ZdQCINXtMxiZfaQguzH0yxrMMpb7NnDfcdAwRgUi+DoM3ZJKuM/IUmTrE4Orz5Iy2Xu/NMhD2XSKtkyj4zl93ewEnu1lcCJo6m67XMuegwGMoOifooUMM0RoOEqOLl5CjH9UL2AZd+3UWODyOKIYepLYYHsUmu5ouJLGiifSKOeDNoJjj4XLh7dIN9bxiqKqy69cK3FCxolkHRyxXtqqzTWMIn/5WgTe1QLyNau7Fqckh49ZLOMxt+/yUFw7BZy1SbsOFU5Q9D8/RhcQPGX69Wam40dutolucbY38EVAjqr2m7xPi71XAicPNaDaeQQmxkqtilX4+U9m5/wAl0CAwEAAaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFMSnsaR7LHH62+FLkHX/xBVghYkQMA0GCSqGSIb3DQEBBQUAA4IBAQCjGiybFwBcqR7uKGY3Or+Dxz9LwwmglSBd49lZRNI+DT69ikugdB/OEIKcdBodfpga3csTS7MgROSR6cz8faXbauX+5v3gTt23ADq1cEmv8uXrAvHRAosZy5Q6XkjEGB5YGV8eAlrwDPGxrancWYaLbumR9YbK+rlmM6pZW87ipxZzR8srzJmwN0jP41ZL9c8PDHIyh8bwRLtTcm1D9SZImlJnt1ir/md2cXjbDaJWFBM5JDGFoqgCWjBH4d1QB7wCCZAA62RjYJsWvIjJEubSfZGL+T0yjWW06XyxV3bqxbYoOb8VZRzI9neWagqNdwvYkQsEjgfbKbYK7p2CNTUQAAAAAQAAAAJoMgABAA== request-method GET response-head HTTP/2 200 OK
server: nginx/1.14.0 (Ubuntu)
date: Wed, 08 Sep 2021 03:55:39 GMT
content-type: application/javascript
content-length: 1349985
last-modified: Wed, 01 Sep 2021 16:33:44 GMT
etag: "612fab68-149961"
accept-ranges: bytes
X-Firefox-Spdy: h2
 original-response-headers server: nginx/1.14.0 (Ubuntu)
date: Wed, 08 Sep 2021 03:55:39 GMT
content-type: application/javascript
content-length: 1349985
last-modified: Wed, 01 Sep 2021 16:33:44 GMT
etag: "612fab68-149961"
accept-ranges: bytes
X-Firefox-Spdy: h2
 ctid 2 uncompressed-len 0 net-response-time-onstart 2331 net-response-time-onstop 3645  a