/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */
function Pagy(){}function template_capture(t){$("#countdown").countdown(t)}function initAceEditor(t){mode="rb"==t?"ace/mode/ruby":"html"==t?"ace/mode/html":"py"==t?"ace/mode/python":"";$("#attempt_code");var e=ace.edit("editor");e.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,showPrintMargin:!1,maxLines:Infinity,minLines:2,fontSize:"100%"}),e.renderer.setScrollMargin(10,10,10,10),e.setTheme("ace/theme/dracula"),e.renderer.setOption("showLineNumbers",!1),e.session.setMode(mode)}function showConfetti(){for(var t=150;t>0;)$("main .notifications").append($("<div />",{"class":"confetti-"+t})),t--;setTimeout(function(){$("[class^=confetti]").fadeOut(function(){$(this).remove()})},4e3)}function notifyMe(t){var e={icon:"/favicon-120x120.png"};if("Notification"in window)if("granted"===Notification.permission)new Notification(t,e);else"denied"!==Notification.permission&&Notification.requestPermission(function(n){if("granted"===n)new Notification(t,e)});else console.log("This browser does not support desktop notification")}function check_capslock(t){var e=String.fromCharCode(t.keyCode);e.toUpperCase()!==e||e.toLowerCase()===e||t.shiftKey?(window.capsLockEnabled=!1,$(".capslockdiv").hide(),$(".password").removeClass("text-uppercase")):(window.capsLockEnabled=!0,$(".capslockdiv").show(),$(".password").addClass("text-uppercase"))}function check_capslock_form(t){t||(t=$(document)),t.find("input,select").each(function(){"hidden"!=this.type&&$(this).keypress(check_capslock)})}function hideRecover(){$("#recover-account").hide()}function hideLoginAnimation(){gsap.to("#login-account",{delay:0,duration:.25,opacity:0,scale:.9,ease:"power4.out"}),gsap.to("#login-account",{delay:.25,duration:0,display:"none"})}function showRecoverAnimation(){gsap.to("#recover-account",{delay:.25,duration:0,display:"block"}),gsap.from("#recover-account",{delay:.25,duration:.25,opacity:0,scale:.9}),gsap.to("#recover-account",{delay:.25,duration:.25,opacity:1,scale:1})}function hideRecoverAnimation(){gsap.to("#recover-account",{delay:0,duration:.25,opacity:0,scale:.9,ease:"power4.out"}),gsap.to("#recover-account",{delay:.25,duration:0,display:"none"})}function showLoginAnimation(){gsap.to("#login-account",{delay:.25,duration:0,display:"block"}),gsap.from("#login-account",{delay:.25,duration:.25,opacity:0,scale:.9}),gsap.to("#login-account",{delay:.25,duration:.25,opacity:1,scale:1})}function logintextAnimation(){new Typed("#typed-desafios",{strings:["desarrollar tu futuro","sumarte a la revoluci\xf3n digital","compartir en comunidad","aprender haciendo"],shuffle:!0,stringsElement:null,typeSpeed:75,startDelay:1e3,backSpeed:42,backDelay:1e3,loop:!0,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}})}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ft.isFunction(e))return ft.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ft.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(St.test(e))return ft.filter(e,t,n);e=ft.filter(e,t)}return ft.grep(t,function(t){return ft.inArray(t,e)>-1!==n})}function r(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function o(t){var e={};return ft.each(t.match(Rt)||[],function(t,n){e[n]=!0}),e}function s(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(it.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(it.addEventListener||"load"===t.event.type||"complete"===it.readyState)&&(s(),ft.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Ot,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:$t.test(n)?ft.parseJSON(n):n)}catch(r){}ft.data(t,e,n)}else n=undefined}return n}function c(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,i){if(Lt(t)){var r,o,s=ft.expando,a=t.nodeType,l=a?ft.cache:t,c=a?t[s]:t[s]&&s;if(c&&l[c]&&(i||l[c].data)||n!==undefined||"string"!=typeof e)return c||(c=a?t[s]=nt.pop()||ft.guid++:s),l[c]||(l[c]=a?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=ft.extend(l[c],e):l[c].data=ft.extend(l[c].data,e)),o=l[c],i||(o.data||(o.data={}),o=o.data),n!==undefined&&(o[ft.camelCase(e)]=n),"string"==typeof e?null==(r=o[e])&&(r=o[ft.camelCase(e)]):r=o,r}}function h(t,e,n){if(Lt(t)){var i,r,o=t.nodeType,s=o?ft.cache:t,a=o?t[ft.expando]:ft.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){r=(e=ft.isArray(e)?e.concat(ft.map(e,ft.camelCase)):e in i?[e]:(e=ft.camelCase(e))in i?[e]:e.split(" ")).length;for(;r--;)delete i[e[r]];if(n?!c(i):!ft.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(o?ft.cleanData([t],!0):ht.deleteExpando||s!=s.window?delete s[a]:s[a]=undefined)}}}function d(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ft.css(t,e,"")},l=a(),c=n&&n[3]||(ft.cssNumber[e]?"":"px"),u=(ft.cssNumber[e]||"px"!==c&&+l)&&Ft.exec(ft.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=o=o||".5",ft.style(t,e,u+c)}while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function f(t){var e=Gt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function p(t,e){var n,i,r=0,o="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||ft.nodeName(i,e)?o.push(i):ft.merge(o,p(i,e));return e===undefined||e&&ft.nodeName(t,e)?ft.merge([t],o):o}function g(t,e){for(var n,i=0;null!=(n=t[i]);i++)ft._data(n,"globalEval",!e||ft._data(e[i],"globalEval"))}function m(t){jt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,n,i,r){for(var o,s,a,l,c,u,h,d=t.length,v=f(e),y=[],b=0;b<d;b++)if((s=t[b])||0===s)if("object"===ft.type(s))ft.merge(y,s.nodeType?[s]:s);else if(Kt.test(s)){for(l=l||v.appendChild(e.createElement("div")),c=(qt.exec(s)||["",""])[1].toLowerCase(),h=Yt[c]||Yt._default,l.innerHTML=h[1]+ft.htmlPrefilter(s)+h[2],o=h[0];o--;)l=l.lastChild;if(!ht.leadingWhitespace&&Vt.test(s)&&y.push(e.createTextNode(Vt.exec(s)[0])),!ht.tbody)for(o=(s="table"!==c||Xt.test(s)?"<table>"!==h[1]||Xt.test(s)?0:l:l.firstChild)&&s.childNodes.length;o--;)ft.nodeName(u=s.childNodes[o],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(ft.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(s));for(l&&v.removeChild(l),ht.appendChecked||ft.grep(p(y,"input"),m),b=0;s=y[b++];)if(i&&ft.inArray(s,i)>-1)r&&r.push(s);else if(a=ft.contains(s.ownerDocument,s),l=p(v.appendChild(s),"script"),a&&g(l),n)for(o=0;s=l[o++];)Ut.test(s.type||"")&&n.push(s);return l=null,v}function y(){return!0}function b(){return!1}function w(){try{return it.activeElement}catch(t){}}function x(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=undefined),e)x(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=b;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return ft().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,r,i,n)})}function C(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function S(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function k(t){var e=ae.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function _(t,e){if(1===e.nodeType&&ft.hasData(t)){var n,i,r,o=ft._data(t),s=ft._data(e,o),a=o.events;if(a)for(n in delete s.handle,s.events={},a)for(i=0,r=a[n].length;i<r;i++)ft.event.add(e,n,a[n][i]);s.data&&(s.data=ft.extend({},s.data))}}function E(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ht.noCloneEvent&&e[ft.expando]){for(i in(r=ft._data(e)).events)ft.removeEvent(e,i,r.handle);e.removeAttribute(ft.expando)}"script"===n&&e.text!==t.text?(S(e).text=t.text,k(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ht.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&jt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function T(t,e,n,i){e=ot.apply([],e);var r,o,s,a,l,c,u=0,h=t.length,d=h-1,f=e[0],g=ft.isFunction(f);if(g||h>1&&"string"==typeof f&&!ht.checkClone&&se.test(f))return t.each(function(r){var o=t.eq(r);g&&(e[0]=f.call(this,r,o.html())),T(o,e,n,i)});if(h&&(r=(c=v(e,t[0].ownerDocument,!1,t,i)).firstChild,1===c.childNodes.length&&(c=r),r||i)){for(s=(a=ft.map(p(c,"script"),S)).length;u<h;u++)o=c,u!==d&&(o=ft.clone(o,!0,!0),s&&ft.merge(a,p(o,"script"))),n.call(t[u],o,u);if(s)for(l=a[a.length-1].ownerDocument,ft.map(a,k),u=0;u<s;u++)o=a[u],Ut.test(o.type||"")&&!ft._data(o,"globalEval")&&ft.contains(l,o)&&(o.src?ft._evalUrl&&ft._evalUrl(o.src):ft.globalEval((o.text||o.textContent||o.innerHTML||"").replace(le,"")));c=r=null}return t}function A(t,e,n){for(var i,r=e?ft.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ft.cleanData(p(i)),i.parentNode&&(n&&ft.contains(i.ownerDocument,i)&&g(p(i,"script")),i.parentNode.removeChild(i));return t}function M(t,e){var n=ft(e.createElement(t)).appendTo(e.body),i=ft.css(n[0],"display");return n.detach(),i}function R(t){var e=it,n=he[t];return n||("none"!==(n=M(t,e))&&n||((e=((ue=(ue||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ue[0].contentDocument).document).write(),e.close(),n=M(t,e),ue.detach()),he[t]=n),n}function D(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function L(t){if(t in Ee)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=_e.length;n--;)if((t=_e[n]+e)in Ee)return t}function $(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)(i=t[s]).style&&(o[s]=ft._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&zt(i)&&(o[s]=ft._data(i,"olddisplay",R(i.nodeName)))):(r=zt(i),(n&&"none"!==n||!r)&&ft._data(i,"olddisplay",r?n:ft.css(i,"display"))));for(s=0;s<a;s++)(i=t[s]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function O(t,e,n){var i=Ce.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function P(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=ft.css(t,n+Ht[o],!0,r)),i?("content"===n&&(s-=ft.css(t,"padding"+Ht[o],!0,r)),"margin"!==n&&(s-=ft.css(t,"border"+Ht[o]+"Width",!0,r))):(s+=ft.css(t,"padding"+Ht[o],!0,r),"padding"!==n&&(s+=ft.css(t,"border"+Ht[o]+"Width",!0,r)));return s}function I(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=me(t),s=ht.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=ve(t,e,o))<0||null==r)&&(r=t.style[e]),fe.test(r))return r;i=s&&(ht.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+P(t,e,n||(s?"border":"content"),i,o)+"px"}function N(t,e,n,i,r){return new N.prototype.init(t,e,n,i,r)}function B(){return t.setTimeout(function(){Te=undefined}),Te=ft.now()}function F(t,e){var n,i={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=Ht[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function H(t,e,n){for(var i,r=(j.tweeners[e]||[]).concat(j.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function z(t,e,n){var i,r,o,s,a,l,c,u=this,h={},d=t.style,f=t.nodeType&&zt(t),p=ft._data(t,"fxshow");for(i in n.queue||(null==(a=ft._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,ft.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(c=ft.css(t,"display"))?ft._data(t,"olddisplay")||R(t.nodeName):c)&&"none"===ft.css(t,"float")&&(ht.inlineBlockNeedsLayout&&"inline"!==R(t.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ht.shrinkWrapBlocks()||u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),e)if(r=e[i],Me.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||p[i]===undefined)continue;f=!0}h[i]=p&&p[i]||ft.style(t,i)}else c=undefined;if(ft.isEmptyObject(h))"inline"===("none"===c?R(t.nodeName):c)&&(d.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=ft._data(t,"fxshow",{}),o&&(p.hidden=!f),f?ft(t).show():u.done(function(){ft(t).hide()}),u.done(function(){var e;for(e in ft._removeData(t,"fxshow"),h)ft.style(t,e,h[e])}),h)s=H(f?p[i]:0,i,u),i in p||(p[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}function W(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=ft.camelCase(n)],o=t[n],ft.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=ft.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}function j(t,e,n){var i,r,o=0,s=j.prefilters.length,a=ft.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Te||B(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(t,[c,i,n]),i<1&&s?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},n),originalProperties:e,originalOptions:n,startTime:Te||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ft.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(W(u,c.opts.specialEasing);o<s;o++)if(i=j.prefilters[o].call(c,t,u,c.opts))return ft.isFunction(i.stop)&&(ft._queueHooks(c.elem,c.opts.queue).stop=ft.proxy(i.stop,i)),i;return ft.map(u,H,c),ft.isFunction(c.opts.start)&&c.opts.start.call(t,c),ft.fx.timer(ft.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(t){return ft.attr(t,"class")||""}function U(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Rt)||[];if(ft.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function V(t,e,n,i){function r(a){var l;return o[a]=!0,ft.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=t===tn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function G(t,e){var n,i,r=ft.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function Y(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),r===undefined&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function K(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function X(t){return t.style&&t.style.display||ft.css(t,"display")}function Q(t){if(!ft.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===X(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Z(t,e,n,i){var r;if(ft.isArray(e))ft.each(e,function(e,r){n||sn.test(t)?i(t,r):Z(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ft.type(e))i(t,e);else for(r in e)Z(t+"["+r+"]",e[r],n,i)}function J(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=t.document,rt=nt.slice,ot=nt.concat,st=nt.push,at=nt.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,ht={},dt="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:dt,constructor:ft,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:nt.sort,splice:nt.splice},ft.extend=ft.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ft.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],s!==(n=r[i])&&(c&&n&&(ft.isPlainObject(n)||(e=ft.isArray(n)))?(e?(e=!1,o=t&&ft.isArray(t)?t:[]):o=t&&ft.isPlainObject(t)?t:{},s[i]=ft.extend(c,o,n)):n!==undefined&&(s[i]=n));return s},ft.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ht.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return e===undefined||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(e){e&&ft.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;r<i&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ft.merge(i,"string"==typeof t?[t]:t):st.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(at)return at.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;)t[r++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;s<r;s++)null!=(o=e(t[s],s,i))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,i))&&a.push(o);return ot.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),ft.isFunction(t)?(n=rt.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(rt.call(arguments)))}).guid=t.guid=t.guid||ft.guid++,i):undefined},now:function(){return+new Date},support:ht}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=nt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var yt=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(t){function e(t,e,n,i){var r,o,s,a,l,c,h,f,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:H)!==L&&D(e),e=e||L,O)){if(11!==g&&(c=vt.exec(t)))if(r=c[1]){if(9===g){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(p&&(s=p.getElementById(r))&&B(e,s)&&s.id===r)return n.push(s),n}else{if(c[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(r)),n}if(x.qsa&&!U[t+" "]&&(!P||!P.test(t))){if(1!==g)p=e,f=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=F),o=(h=_(t)).length,l=dt.test(a)?"#"+a:"[id='"+a+"']";o--;)h[o]=l+" "+d(h[o]);f=h.join(","),p=yt.test(t)&&u(e.parentNode)||e}if(f)try{return Z.apply(n,p.querySelectorAll(f)),n}catch(m){}finally{a===F&&e.removeAttribute("id")}}}return T(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function r(t){var e=L.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=W++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c,u=[z,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((a=(l=(c=e[F]||(e[F]={}))[e.uniqueID]||(c[e.uniqueID]={}))[i])&&a[0]===z&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function v(t,e,n,r,o,s){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,s)),i(function(i,s,a,l){var c,u,h,d=[],f=[],p=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:m(v,d,t,a,l),b=n?o||(i?t:p||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(c=m(b,f),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(b[f[u]]=!(y[f[u]]=h));if(i){if(o||t){if(o){for(c=[],u=b.length;u--;)(h=b[u])&&c.push(y[u]=h);o(null,b=[],c,l)}for(u=b.length;u--;)(h=b[u])&&(c=o?tt(i,h):d[u])>-1&&(i[c]=!(s[c]=h))}}else b=m(b===s?b.splice(p,b.length):b),o?o(null,s,b,l):Z.apply(s,b)})}function y(t){for(var e,n,i,r=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,l=f(function(t){return t===e},s,!0),c=f(function(t){return tt(e,t)>-1},s,!0),u=[function(t,n,i){var r=!o&&(i||n!==A)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,r}];a<r;a++)if(n=C.relative[t[a].type])u=[f(p(u),n)];else{if((n=C.filter[t[a].type].apply(null,t[a].matches))[F]){for(i=++a;i<r&&!C.relative[t[i].type];i++);return v(a>1&&p(u),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&y(t.slice(a,i)),i<r&&y(t=t.slice(i)),i<r&&d(t))}u.push(n)}return p(u)}function b(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,c){var u,h,d,f=0,p="0",g=i&&[],v=[],y=A,b=i||o&&C.find.TAG("*",c),w=z+=null==y?1:Math.random()||.1,x=b.length;for(c&&(A=s===L||s||c);p!==x&&null!=(u=b[p]);p++){if(o&&u){for(h=0,s||u.ownerDocument===L||(D(u),a=!O);d=t[h++];)if(d(u,s||L,a)){l.push(u);break}c&&(z=w)}r&&((u=!d&&u)&&f--,i&&g.push(u))}if(f+=p,r&&p!==f){for(h=0;d=n[h++];)d(g,v,s,a);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=X.call(l));v=m(v)}Z.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return c&&(z=w,A=y),g};return r?i(s):s}var w,x,C,S,k,_,E,T,A,M,R,D,L,$,O,P,I,N,B,F="sizzle"+1*new Date,H=t.document,z=0,W=0,j=n(),q=n(),U=n(),V=function(t,e){return t===e&&(R=!0),0},G=1<<31,Y={}.hasOwnProperty,K=[],X=K.pop,Q=K.push,Z=K.push,J=K.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),dt=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){D()};try{Z.apply(K=J.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(St){Z={apply:K.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(w in x=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:H;return i!==L&&9===i.nodeType&&i.documentElement?($=(L=i).documentElement,O=!k(L),(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(L.getElementsByClassName),x.getById=r(function(t){return $.appendChild(t).id=F,!L.getElementsByName||!L.getElementsByName(F).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&O)return e.getElementsByClassName(t)},I=[],P=[],(x.qsa=mt.test(L.querySelectorAll))&&(r(function(t){$.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||P.push(".#.+[+~]")}),r(function(t){var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=mt.test(N=$.matches||$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&r(function(t){x.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),I.push("!=",ot)}),P=P.length&&new RegExp(P.join("|")),I=I.length&&new RegExp(I.join("|")),e=mt.test($.compareDocumentPosition),B=e||mt.test($.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return R=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===L||t.ownerDocument===H&&B(H,t)?-1:e===L||e.ownerDocument===H&&B(H,e)?1:M?tt(M,t)-tt(M,e):0:4&n?-1:1)}:function(t,e){if(t===e)return R=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===L?-1:e===L?1:r?-1:o?1:M?tt(M,t)-tt(M,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===H?-1:l[i]===H?1:0},L):L},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==L&&D(t),n=n.replace(ut,"='$1']"),x.matchesSelector&&O&&!U[n+" "]&&(!I||!I.test(n))&&(!P||!P.test(n)))try{var i=N.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(St){}return e(n,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&D(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&D(t);var n=C.attrHandle[e.toLowerCase()],i=n&&Y.call(C.attrHandle,e.toLowerCase())?n(t,e,!O):undefined;return i!==undefined?i:x.attributes||!O?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(R=!x.detectDuplicates,M=!x.sortStable&&t.slice(0),t.sort(V),R){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return M=null,t},S=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=S(e);return n},(C=e.selectors={cacheLength:50,createPseudo:i,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=_(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(b=(f=(c=(u=(h=(d=m)[F]||(d[F]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===z&&c[1])&&c[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(b=f=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){u[t]=[z,f,b];break}}else if(y&&(b=f=(c=(u=(h=(d=e)[F]||(d[F]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===z&&c[1]),!1===b)for(;(d=++f&&d&&d[g]||(b=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((u=(h=d[F]||(d[F]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[z,b]),d!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)t[i=tt(t,r[s])]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=E(t.replace(at,"$1"));return r[F]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,xt),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,xt).toLowerCase(),function(e){var n;do{if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===$},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,_=e.tokenize=function(t,n){var i,r,o,s,a,l,c,u=q[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=C.preFilter;a;){for(s in i&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ct.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length)),C.filter)!(r=ft[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):q(t,l).slice(0)},E=e.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=_(t)),n=e.length;n--;)(o=y(e[n]))[F]?i.push(o):r.push(o);(o=U(t,b(r,i))).selector=t}return o},T=e.select=function(t,e,n,i){var r,o,s,a,l,c="function"==typeof t&&t,h=!i&&_(t=c.selector||t);if(n=n||[],1===h.length){if((o=h[0]=h[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&x.getById&&9===e.nodeType&&O&&C.relative[o[1].type]){if(!(e=(C.find.ID(s.matches[0].replace(wt,xt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((l=C.find[a])&&(i=l(s.matches[0].replace(wt,xt),yt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&d(o)))return Z.apply(n,i),n;break}}return(c||E(t,h))(i,e,!O,n,!e||yt.test(t)&&u(e.parentNode)||e),n},x.sortStable=F.split("").sort(V).join("")===F,x.detectDuplicates=!!R,D(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ft.find=yt,ft.expr=yt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=yt.uniqueSort,ft.text=yt.getText,ft.isXMLDoc=yt.isXML,ft.contains=yt.contains;var bt=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ft(t).is(n))break;i.push(t)}return i},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},xt=ft.expr.match.needsContext,Ct=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,St=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ft.find.matchesSelector(i,t)?[i]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<r;e++)if(ft.contains(i[e],this))return!0}));for(e=0;e<r;e++)ft.find(t,i[e],n);return(n=this.pushStack(r>1?ft.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&xt.test(t)?ft(t):t||[],!1).length}});var kt,_t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||kt,"string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:_t.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),Ct.test(i[1])&&ft.isPlainObject(e))for(i in e)ft.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((r=it.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return kt.find(t);this.length=1,this[0]=r}return this.context=it,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ft):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this))}).prototype=ft.fn,kt=ft(it);var Et=/^(?:parents|prev(?:Until|All))/,Tt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,n=ft(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(ft.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=xt.test(t)||"string"!=typeof t?ft(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ft.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ft.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return bt(t,"parentNode")},parentsUntil:function(t,e,n){return bt(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return bt(t,"nextSibling")},prevAll:function(t){return bt(t,"previousSibling")},nextUntil:function(t,e,n){return bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return bt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(n,i){var r=ft.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ft.filter(i,r)),this.length>1&&(Tt[t]||(r=ft.uniqueSort(r)),Et.test(t)&&(r=r.reverse())),this.pushStack(r)}});var At,Mt,Rt=/\S+/g;for(Mt in ft.Callbacks=function(t){t="string"==typeof t?o(t):ft.extend({},t);var e,n,i,r,s=[],a=[],l=-1,c=function(){for(r=t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<s.length;)!1===s[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=s.length,n=!1);t.memory||(n=!1),e=!1,r&&(s=n?[]:"")},u={add:function(){return s&&(n&&!e&&(l=s.length-1,a.push(n)),function i(e){ft.each(e,function(e,n){ft.isFunction(n)?t.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==ft.type(n)&&i(n)})}(arguments),n&&!e&&c()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;(n=ft.inArray(e,s,n))>-1;)s.splice(n,1),n<=l&&l--}),this},has:function(t){return t?ft.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=n="",this},disabled:function(){return!s},lock:function(){return r=!0,n||u.disable(),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},ft.extend({Deferred:function(t){var e=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ft.Deferred(function(n){ft.each(e,function(e,o){var s=ft.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ft.extend(t,i):i}},r={};return i.pipe=i.then,ft.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=rt.call(arguments),s=o.length,a=1!==s||t&&ft.isFunction(t.promise)?s:0,l=1===a?t:ft.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?rt.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&ft.isFunction(o[r].promise)?o[r].promise().progress(c(r,n,e)).done(c(r,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}}),ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0,!0!==t&&--ft.readyWait>0||(At.resolveWith(it,[ft]),ft.fn.triggerHandler&&(ft(it).triggerHandler("ready"),ft(it).off("ready"))))}}),ft.ready.promise=function(e){if(!At)if(At=ft.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)t.setTimeout(ft.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{it.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&it.documentElement}catch(i){}n&&n.doScroll&&function e(){if(!ft.isReady){try{n.doScroll("left")}catch(i){return t.setTimeout(e,50)}s(),ft.ready()}}()}return At.promise(e)},ft.ready.promise(),ft(ht))break;ht.ownFirst="0"===Mt,ht.inlineBlockNeedsLayout=!1,ft(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ht.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");ht.deleteExpando=!0;try{delete t.test}catch(e){ht.deleteExpando=!1}t=null}();var Dt,Lt=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},$t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ot=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!c(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),ft.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(t===undefined){if(this.length&&(r=ft.data(o),1===o.nodeType&&!ft._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&l(o,i=ft.camelCase(i.slice(5)),r[i]);ft._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){ft.data(this,t)}):arguments.length>1?this.each(function(){ft.data(this,t,e)}):o?l(o,t,ft.data(o,t)):undefined},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ft._data(t,e),n&&(!i||ft.isArray(n)?i=ft._data(t,e,ft.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),i=n.length,r=n.shift(),o=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ft._data(t,n)||ft._data(t,n,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,n)})})}}),ft.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ft.queue(this[0],t):e===undefined?this:this.each(function(){var n=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ft.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";s--;)(n=ft._data(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}}),ht.shrinkWrapBlocks=function(){return null!=Dt?Dt:(Dt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",Dt=3!==t.offsetWidth),e.removeChild(n),Dt):void 0);var t,e,n};var Pt,It,Nt,Bt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ft=new RegExp("^(?:([+-])=|)("+Bt+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],zt=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},Wt=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===ft.type(n))for(a in r=!0,n)Wt(t,e,a,n[a],!0,o,s);else if(i!==undefined&&(r=!0,ft.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(ft(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},jt=/^(?:checkbox|radio)$/i,qt=/<([\w:-]+)/,Ut=/^$|\/(?:java|ecma)script/i,Vt=/^\s+/,Gt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Pt=it.createElement("div"),It=it.createDocumentFragment(),Nt=it.createElement("input"),Pt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ht.leadingWhitespace=3===Pt.firstChild.nodeType,ht.tbody=!Pt.getElementsByTagName("tbody").length,ht.htmlSerialize=!!Pt.getElementsByTagName("link").length,ht.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Nt.type="checkbox",Nt.checked=!0,It.appendChild(Nt),ht.appendChecked=Nt.checked,Pt.innerHTML="<textarea>x</textarea>",ht.noCloneChecked=!!Pt.cloneNode(!0).lastChild.defaultValue,It.appendChild(Pt),(Nt=it.createElement("input")).setAttribute("type","radio"),Nt.setAttribute("checked","checked"),Nt.setAttribute("name","t"),Pt.appendChild(Nt),ht.checkClone=Pt.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.noCloneEvent=!!Pt.addEventListener,Pt[ft.expando]=1,ht.attributes=!Pt.getAttribute(ft.expando);var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ht.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var Kt=/<|&#?\w+;/,Xt=/<tbody/i;!function(){var e,n,i=it.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(ht[e]=n in t)||(i.setAttribute(n,"t"),ht[e]=!1===i.attributes[n].expando);i=null}();var Qt=/^(?:input|select|textarea)$/i,Zt=/^key/,Jt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=ft._data(t);if(m){for(n.handler&&(n=(l=n).handler,r=l.selector),n.guid||(n.guid=ft.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||((u=m.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?undefined:ft.event.dispatch.apply(u.elem,arguments)}).elem=t),a=(e=(e||"").match(Rt)||[""]).length;a--;)f=g=(o=ee.exec(e[a])||[])[1],p=(o[2]||"").split(".").sort(),f&&(c=ft.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=ft.event.special[f]||{},h=ft.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,
needsContext:r&&ft.expr.match.needsContext.test(r),namespace:p.join(".")},l),(d=s[f])||((d=s[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,u)||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),ft.event.global[f]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=ft.hasData(t)&&ft._data(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(Rt)||[""]).length;c--;)if(f=g=(a=ee.exec(e[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=ft.event.special[f]||{},d=u[f=(i?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||ft.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)ft.event.remove(t,f+e[c],n,i,!0);ft.isEmptyObject(u)&&(delete m.handle,ft._removeData(t,"events"))}},trigger:function(e,n,i,r){var o,s,a,l,c,u,h,d=[i||it],f=ut.call(e,"type")?e.type:e,p=ut.call(e,"namespace")?e.namespace.split("."):[];if(a=u=i=i||it,3!==i.nodeType&&8!==i.nodeType&&!te.test(f+ft.event.triggered)&&(f.indexOf(".")>-1&&(f=(p=f.split(".")).shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,(e=e[ft.expando]?e:new ft.Event(f,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),n=null==n?[e]:ft.makeArray(n,[e]),c=ft.event.special[f]||{},r||!c.trigger||!1!==c.trigger.apply(i,n))){if(!r&&!c.noBubble&&!ft.isWindow(i)){for(l=c.delegateType||f,te.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(i.ownerDocument||it)&&d.push(u.defaultView||u.parentWindow||t)}for(h=0;(a=d[h++])&&!e.isPropagationStopped();)e.type=h>1?l:c.bindType||f,(o=(ft._data(a,"events")||{})[e.type]&&ft._data(a,"handle"))&&o.apply(a,n),(o=s&&a[s])&&o.apply&&Lt(a)&&(e.result=o.apply(a,n),!1===e.result&&e.preventDefault());if(e.type=f,!r&&!e.isDefaultPrevented()&&(!c._default||!1===c._default.apply(d.pop(),n))&&Lt(i)&&s&&i[f]&&!ft.isWindow(i)){(u=i[s])&&(i[s]=null),ft.event.triggered=f;try{i[f]()}catch(g){}ft.event.triggered=undefined,u&&(i[s]=u)}return e.result}},dispatch:function(t){t=ft.event.fix(t);var e,n,i,r,o,s=[],a=rt.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],c=ft.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(s=ft.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,(i=((ft.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<a;n++)i[r=(o=e[n]).selector+" "]===undefined&&(i[r]=o.needsContext?ft(r,this).index(l)>-1:ft.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[ft.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Jt.test(r)?this.mouseHooks:Zt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ft.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=o.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(r=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||o===undefined||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ft.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?y:b):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ft.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ht.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):undefined;n&&!ft._data(n,"submit")&&(ft.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ft._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),ht.change||(ft.event.special.change={setup:function(){if(Qt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1;ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;Qt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Qt.test(this.nodeName)}}),ht.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=ft._data(i,e);r||i.addEventListener(t,n,!0),ft._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ft._data(i,e)-1;r?ft._data(i,e,r):(i.removeEventListener(t,n,!0),ft._removeData(i,e))}}}),ft.fn.extend({on:function(t,e,n,i){return x(this,t,e,n,i)},one:function(t,e,n,i){return x(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ft(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=b),this.each(function(){ft.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ft.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Gt+")[\\s/>]","i"),re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,oe=/<script|<style|<link/i,se=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=f(it).appendChild(it.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(re,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,l=ft.contains(t.ownerDocument,t);if(ht.html5Clone||ft.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(ce.innerHTML=t.outerHTML,ce.removeChild(o=ce.firstChild)),!(ht.noCloneEvent&&ht.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(i=p(o),a=p(t),s=0;null!=(r=a[s]);++s)i[s]&&E(r,i[s]);if(e)if(n)for(a=a||p(t),i=i||p(o),s=0;null!=(r=a[s]);s++)_(r,i[s]);else _(t,o);return(i=p(o,"script")).length>0&&g(i,!l&&p(t,"script")),i=a=r=null,o},cleanData:function(t,e){for(var n,i,r,o,s=0,a=ft.expando,l=ft.cache,c=ht.attributes,u=ft.event.special;null!=(n=t[s]);s++)if((e||Lt(n))&&(o=(r=n[a])&&l[r])){if(o.events)for(i in o.events)u[i]?ft.event.remove(n,i):ft.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c||"undefined"==typeof n.removeAttribute?n[a]=undefined:n.removeAttribute(a),nt.push(r))}}}),ft.fn.extend({domManip:T,detach:function(t){return A(this,t,!0)},remove:function(t){return A(this,t)},text:function(t){return Wt(this,function(t){return t===undefined?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||C(this,t).appendChild(t)})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(p(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Wt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!oe.test(t)&&(ht.htmlSerialize||!ie.test(t))&&(ht.leadingWhitespace||!Vt.test(t))&&!Yt[(qt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ft.cleanData(p(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var n=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(p(this)),n&&n.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var n,i=0,r=[],o=ft(t),s=o.length-1;i<=s;i++)n=i===s?this:this.clone(!0),ft(o[i])[e](n),st.apply(r,n.get());return this.pushStack(r)}});var ue,he={HTML:"block",BODY:"block"},de=/^margin/,fe=new RegExp("^("+Bt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r},ge=it.documentElement;!function(){function e(){var e,u,h=it.documentElement;h.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=r=a=!1,i=s=!0,t.getComputedStyle&&(u=t.getComputedStyle(c),n="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,r="4px"===(u||{width:"4px"}).width,c.style.marginRight="50%",i="4px"===(u||{marginRight:"4px"}).marginRight,(e=c.appendChild(it.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),c.removeChild(e)),c.style.display="none",(o=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(e=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),h.removeChild(l)}var n,i,r,o,s,a,l=it.createElement("div"),c=it.createElement("div");c.style&&(c.style.cssText="float:left;opacity:.5",ht.opacity="0.5"===c.style.opacity,ht.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ht.clearCloneStyle="content-box"===c.style.backgroundClip,(l=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),ht.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,ft.extend(ht,{reliableHiddenOffsets:function(){return null==n&&e(),o},boxSizingReliable:function(){return null==n&&e(),r},pixelMarginRight:function(){return null==n&&e(),i},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),s},reliableMarginLeft:function(){return null==n&&e(),a}}))}();var me,ve,ye=/^(top|right|bottom|left)$/;t.getComputedStyle?(me=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},ve=function(t,e,n){var i,r,o,s,a=t.style;return""!==(s=(n=n||me(t))?n.getPropertyValue(e)||n[e]:undefined)&&s!==undefined||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),n&&!ht.pixelMarginRight()&&fe.test(s)&&de.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o),s===undefined?s:s+""}):ge.currentStyle&&(me=function(t){return t.currentStyle},ve=function(t,e,n){var i,r,o,s,a=t.style;return null==(s=(n=n||me(t))?n[e]:undefined)&&a&&a[e]&&(s=a[e]),fe.test(s)&&!ye.test(e)&&(i=a.left,(o=(r=t.runtimeStyle)&&r.left)&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),s===undefined?s:s+""||"auto"});var be=/alpha\([^)]*\)/i,we=/opacity\s*=\s*([^)]*)/i,xe=/^(none|table(?!-c[ea]).+)/,Ce=new RegExp("^("+Bt+")(.*)$","i"),Se={position:"absolute",visibility:"hidden",display:"block"},ke={letterSpacing:"0",fontWeight:"400"},_e=["Webkit","O","Moz","ms"],Ee=it.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=ve(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ht.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ft.camelCase(e),l=t.style;if(e=ft.cssProps[a]||(ft.cssProps[a]=L(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],n===undefined)return s&&"get"in s&&(r=s.get(t,!1,i))!==undefined?r:l[e];if("string"===(o=typeof n)&&(r=Ft.exec(n))&&r[1]&&(n=d(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(ft.cssNumber[a]?"":"px")),ht.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&(n=s.set(t,n,i))===undefined)))try{l[e]=n}catch(c){}}},css:function(t,e,n,i){var r,o,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=L(a)||a),(s=ft.cssHooks[e]||ft.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,n)),o===undefined&&(o=ve(t,e,i)),"normal"===o&&e in ke&&(o=ke[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,n,i){if(n)return xe.test(ft.css(t,"display"))&&0===t.offsetWidth?pe(t,Se,function(){return I(t,e,i)}):I(t,e,i)},set:function(t,n,i){var r=i&&me(t);return O(t,n,i?P(t,e,i,ht.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,r),r):0)}}}),ht.opacity||(ft.cssHooks.opacity={get:function(t,e){return we.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===ft.trim(o.replace(be,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=be.test(o)?o.replace(be,r):o+" "+r)}}),ft.cssHooks.marginRight=D(ht.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},ve,[t,"marginRight"])}),ft.cssHooks.marginLeft=D(ht.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ve(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Ht[i]+e]=o[i]||o[i-2]||o[0];return r}},de.test(t)||(ft.cssHooks[t+e].set=O)}),ft.fn.extend({css:function(t,e){return Wt(this,function(t,e,n){var i,r,o={},s=0;if(ft.isArray(e)){for(i=me(t),r=e.length;s<r;s++)o[e[s]]=ft.css(t,e[s],!1,i);return o}return n!==undefined?ft.style(t,e,n):ft.css(t,e)},t,e,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){zt(this)?ft(this).show():ft(this).hide()})}}),ft.Tween=N,N.prototype={constructor:N,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ft.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=N.prototype.init,ft.fx.step={};var Te,Ae,Me=/^(?:toggle|show|hide)$/,Re=/queueHooks$/;ft.Animation=ft.extend(j,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return d(n.elem,t,Ft.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(Rt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],j.tweeners[n]=j.tweeners[n]||[],j.tweeners[n].unshift(e)},prefilters:[z],prefilter:function(t,e){e?j.prefilters.unshift(t):j.prefilters.push(t)}}),ft.speed=function(t,e,n){var i=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return i.duration=ft.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ft.fx.speeds?ft.fx.speeds[i.duration]:ft.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ft.isFunction(i.old)&&i.old.call(this),i.queue&&ft.dequeue(this,i.queue)},i},ft.fn.extend({fadeTo:function(t,e,n,i){return this.filter(zt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ft.isEmptyObject(t),o=ft.speed(e,n,i),s=function(){var e=j(this,ft.extend({},t),o);(r||ft._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ft.timers,s=ft._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&Re.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ft.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=ft._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ft.timers,s=i?i.length:0;for(n.finish=!0,ft.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var n=ft.fn[e];ft.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(F(e,!0),t,i,r)}}),ft.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,n=0;for(Te=ft.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ft.fx.stop(),Te=undefined},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){Ae||(Ae=t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.clearInterval(Ae),Ae=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,n){return e=ft.fx&&ft.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t,e=it.createElement("input"),n=it.createElement("div"),i=it.createElement("select"),r=i.appendChild(it.createElement("option"));(n=it.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),(t=n.getElementsByTagName("a")[0]).style.cssText="top:1px",ht.getSetAttribute="t"!==n.className,ht.style=/top/.test(t.getAttribute("style")),ht.hrefNormalized="/a"===t.getAttribute("href"),ht.checkOn=!!e.value,ht.optSelected=r.selected,ht.enctype=!!it.createElement("form").enctype,i.disabled=!0,ht.optDisabled=!r.disabled,(e=it.createElement("input")).setAttribute("value",""),ht.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ht.radioValue="t"===e.value}();var De=/\r/g,Le=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=ft.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,ft(this).val()):t)?r="":"number"==typeof r?r+="":ft.isArray(r)&&(r=ft.map(r,function(t){return null==t?"":t+""})),(e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,r,"value")!==undefined||(this.value=r))})):r?(e=ft.valHooks[r.type]||ft.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&(n=e.get(r,"value"))!==undefined?n:"string"==typeof(n=r.value)?n.replace(De,""):null==n?"":n:void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(Le," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(((n=i[l]).selected||l===r)&&(ht.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ft.makeArray(e),s=r.length;s--;)if(i=r[s],ft.inArray(ft.valHooks.option.get(i),o)>-1)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=ft.inArray(ft(t).val(),e)>-1}},ht.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var $e,Oe,Pe=ft.expr.attrHandle,Ie=/^(?:checked|selected)$/i,Ne=ht.getSetAttribute,Be=ht.input;ft.fn.extend({attr:function(t,e){return Wt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===o&&ft.isXMLDoc(t)||(e=e.toLowerCase(),r=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?Oe:$e)),n!==undefined?null===n?void ft.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=ft.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!ht.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(Rt);if(o&&1===t.nodeType)for(;n=o[r++];)i=ft.propFix[n]||n,ft.expr.match.bool.test(n)?Be&&Ne||!Ie.test(n)?t[i]=!1:t[ft.camelCase("default-"+n)]=t[i]=!1:ft.attr(t,n,""),t.removeAttribute(Ne?n:i)}}),Oe={set:function(t,e,n){return!1===e?ft.removeAttr(t,n):Be&&Ne||!Ie.test(n)?t.setAttribute(!Ne&&ft.propFix[n]||n,n):t[ft.camelCase("default-"+n)]=t[n]=!0,n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Pe[e]||ft.find.attr;Be&&Ne||!Ie.test(e)?Pe[e]=function(t,e,i){var r,o;return i||(o=Pe[e],Pe[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,Pe[e]=o),r}:Pe[e]=function(t,e,n){if(!n)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),Be&&Ne||(ft.attrHooks.value={set:function(t,e,n){if(!ft.nodeName(t,"input"))return $e&&$e.set(t,e,n);t.defaultValue=e}}),Ne||($e={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},Pe.id=Pe.name=Pe.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ft.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:$e.set},ft.attrHooks.contenteditable={set:function(t,e,n){$e.set(t,""!==e&&e,n)}},ft.each(["width","height"],function(t,e){ft.attrHooks[e]={set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}}})),ht.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Fe=/^(?:input|select|textarea|button|object)$/i,He=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Wt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ft.propFix[t]||t,this.each(function(){try{this[t]=undefined,delete this[t]}catch(e){}})}}),ft.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,r=ft.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):Fe.test(t.nodeName)||He.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ht.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ht.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),ht.enctype||(ft.propFix.enctype="encoding");var ze=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,q(this)))});if("string"==typeof t&&t)for(e=t.match(Rt)||[];n=this[l++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(ze," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Rt)||[];n=this[l++];)if(r=q(n),i=1===n.nodeType&&(" "+r+" ").replace(ze," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ft.trim(i))&&ft.attr(n,"class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(n){ft(this).toggleClass(t.call(this,n,q(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ft(this),o=t.match(Rt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else t!==undefined&&"boolean"!==n||((e=q(this))&&ft._data(this,"__className__",e),ft.attr(this,"class",e||!1===t?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+q(n)+" ").replace(ze," ").indexOf(e)>-1)return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var We=t.location,je=ft.now(),qe=/\?/,Ue=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=ft.trim(e+"");return r&&!ft.trim(r.replace(Ue,function(t,e,r,o){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!o-!r,"")}))?Function("return "+r)():ft.error("Invalid JSON: "+e)},ft.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?n=(new t.DOMParser).parseFromString(e,"text/xml"):((n=new t.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(e))}catch(i){n=undefined}
return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),n};var Ve=/#.*$/,Ge=/([?&])_=[^&]*/,Ye=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ke=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Xe=/^(?:GET|HEAD)$/,Qe=/^\/\//,Ze=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Je={},tn={},en="*/".concat("*"),nn=We.href,rn=Ze.exec(nn.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:nn,type:"GET",isLocal:Ke.test(rn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":en,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?G(G(t,ft.ajaxSettings),e):G(ft.ajaxSettings,t)},ajaxPrefilter:U(Je),ajaxTransport:U(tn),ajax:function(e,n){function i(e,n,i,r){var o,h,y,b,x,S=n;2!==w&&(w=2,l&&t.clearTimeout(l),u=undefined,a=r||"",C.readyState=e>0?4:0,o=e>=200&&e<300||304===e,i&&(b=Y(d,C,i)),b=K(d,b,C,o),o?(d.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(ft.lastModified[s]=x),(x=C.getResponseHeader("etag"))&&(ft.etag[s]=x)),204===e||"HEAD"===d.type?S="nocontent":304===e?S="notmodified":(S=b.state,h=b.data,o=!(y=b.error))):(y=S,!e&&S||(S="error",e<0&&(e=0))),C.status=e,C.statusText=(n||S)+"",o?g.resolveWith(f,[h,S,C]):g.rejectWith(f,[C,S,y]),C.statusCode(v),v=undefined,c&&p.trigger(o?"ajaxSuccess":"ajaxError",[C,d,o?h:y]),m.fireWith(f,[C,S]),c&&(p.trigger("ajaxComplete",[C,d]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=undefined),n=n||{};var r,o,s,a,l,c,u,h,d=ft.ajaxSetup({},n),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ft(f):ft.event,g=ft.Deferred(),m=ft.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!h)for(h={};e=Ye.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)v[e]=[v[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||x;return u&&u.abort(e),i(0,e),this}};if(g.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,d.url=((e||d.url||nn)+"").replace(Ve,"").replace(Qe,rn[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=ft.trim(d.dataType||"*").toLowerCase().match(Rt)||[""],null==d.crossDomain&&(r=Ze.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===rn[1]&&r[2]===rn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(rn[3]||("http:"===rn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ft.param(d.data,d.traditional)),V(Je,d,n,C),2===w)return C;for(o in(c=ft.event&&d.global)&&0==ft.active++&&ft.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Xe.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(qe.test(s)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Ge.test(s)?s.replace(Ge,"$1_="+je++):s+(qe.test(s)?"&":"?")+"_="+je++)),d.ifModified&&(ft.lastModified[s]&&C.setRequestHeader("If-Modified-Since",ft.lastModified[s]),ft.etag[s]&&C.setRequestHeader("If-None-Match",ft.etag[s])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+en+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(!1===d.beforeSend.call(f,C,d)||2===w))return C.abort();for(o in x="abort",{success:1,error:1,complete:1})C[o](d[o]);if(u=V(tn,d,n,C)){if(C.readyState=1,c&&p.trigger("ajaxSend",[C,d]),2===w)return C;d.async&&d.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},d.timeout));try{w=1,u.send(y,i)}catch(S){if(!(w<2))throw S;i(-1,S)}}else i(-1,"No Transport");return C},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,undefined,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,n,i,r){return ft.isFunction(n)&&(r=r||i,i=n,n=undefined),ft.ajax(ft.extend({url:t,type:e,dataType:r,data:n,success:i},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},ft.fn.extend({wrapAll:function(t){if(ft.isFunction(t))return this.each(function(e){ft(this).wrapAll(t.call(this,e))});if(this[0]){var e=ft(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(n){ft(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return ht.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Q(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var on=/%20/g,sn=/\[\]$/,an=/\r?\n/g,ln=/^(?:submit|button|image|reset|file)$/i,cn=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,i=[],r=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){r(this.name,this.value)});else for(n in t)Z(n,t[n],e,r);return i.join("&").replace(on,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&cn.test(this.nodeName)&&!ln.test(t)&&(this.checked||!jt.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(an,"\r\n")}}):{name:e.name,value:n.replace(an,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=t.ActiveXObject!==undefined?function(){return this.isLocal?tt():it.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var un=0,hn={},dn=ft.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in hn)hn[t](undefined,!0)}),ht.cors=!!dn&&"withCredentials"in dn,(dn=ht.ajax=!!dn)&&ft.ajaxTransport(function(e){var n;if(!e.crossDomain||ht.cors)return{send:function(i,r){var o,s=e.xhr(),a=++un;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];for(o in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)i[o]!==undefined&&s.setRequestHeader(o,i[o]+"");s.send(e.hasContent&&e.data||null),n=function(t,i){var o,l,c;if(n&&(i||4===s.readyState))if(delete hn[a],n=undefined,s.onreadystatechange=ft.noop,i)4!==s.readyState&&s.abort();else{c={},o=s.status,"string"==typeof s.responseText&&(c.text=s.responseText);try{l=s.statusText}catch(u){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=c.text?200:404}c&&r(o,l,c,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(n):s.onreadystatechange=hn[a]=n:n()},abort:function(){n&&n(undefined,!0)}}}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=it.head||ft("head")[0]||it.documentElement;return{send:function(i,r){(e=it.createElement("script")).async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(undefined,!0)}}}});var fn=[],pn=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=fn.pop()||ft.expando+"_"+je++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(pn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&pn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(pn,"$1"+r):!1!==e.jsonp&&(e.url+=(qe.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ft.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){o===undefined?ft(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,fn.push(r)),s&&ft.isFunction(o)&&o(s[0]),s=o=undefined}),"script"}),ft.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=Ct.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=v([t],e,r),r&&r.length&&ft(r).remove(),ft.merge([],i.childNodes))};var gn=ft.fn.load;ft.fn.load=function(t,e,n){if("string"!=typeof t&&gn)return gn.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ft.trim(t.slice(a,t.length)),t=t.slice(0,a)),ft.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),s.length>0&&ft.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ft("<div>").append(ft.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c=ft.css(t,"position"),u=ft(t),h={};"static"===c&&(t.style.position="relative"),a=u.offset(),o=ft.css(t,"top"),l=ft.css(t,"left"),("absolute"===c||"fixed"===c)&&ft.inArray("auto",[o,l])>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):u.css(h)}},ft.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;return o?(e=o.documentElement,ft.contains(e,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=et(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n.top+=ft.css(t[0],"borderTopWidth",!0),n.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||ge})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);ft.fn[t]=function(i){return Wt(this,function(t,i,r){var o=et(t);if(r===undefined)return o?e in o?o[e]:o.document.documentElement[i]:t[i];o?o.scrollTo(n?ft(o).scrollLeft():r,n?r:ft(o).scrollTop()):t[i]=r},t,i,arguments.length,null)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=D(ht.pixelPosition,function(t,n){if(n)return n=ve(t,e),fe.test(n)?ft(t).position()[e]+"px":n})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ft.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return Wt(this,function(e,n,i){var r;return ft.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):i===undefined?ft.css(e,n,s):ft.style(e,n,i,s)},e,o?i:undefined,o,null)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var mn=t.jQuery,vn=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=vn),e&&t.jQuery===ft&&(t.jQuery=mn),ft},e||(t.jQuery=t.$=ft),ft}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"}),function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())}),
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e,n=0,i=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(s){}e(n)}),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=i}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&r!==undefined&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a))!==i&&n!==undefined?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=undefined:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return r[e]===undefined?null:r[e];r[e]=n}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var s,a;for(a=0;a<n.length;a++)s=r.classesElementLookup[n[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),r.classesElementLookup[n[a]]=s,i.push(n[a]),o&&e.classes[n[a]]&&i.push(e.classes[n[a]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,a):n.on(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget}),
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}(function(t){var e=!1;return t(document).on("mouseup",function(){e=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}})}),
/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)}}),
/*!
 * jQuery UI Sortable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&i+c<l,d="y"===this.options.axis||e+u>o&&e+u<s,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(r=(o=t(c[i],this.document[0])).length-1;r>=0;r--)(s=t.data(o[r],this.widgetFullName))&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(i=(r=t(d[n],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],i=0,c=(a=h[n][0]).length;i<c;i++)(l=t(a[i])).data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,c,u,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,s=(u=d.floating||this._isFloating(this.currentItem))?"left":"top",a=u?"width":"height",h=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,e[h]-l>this.items[i][a]/2&&(c=!0),Math.abs(e[h]-l)<r&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})}),function(){var t=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(t);var e=t.Rails;(function(){(function(){var t;t=null,e.loadCSPNonce=function(){var e;return t=null!=(e=document.querySelector("meta[name=csp-nonce]"))?e.content:void 0},e.cspNonce=function(){return null!=t?t:e.loadCSPNonce()}}).call(this),function(){var t,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,e.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},t="_ujsData",e.getData=function(e,n){var i;return null!=(i=e[t])?i[n]:void 0},e.setData=function(e,n,i){return null==e[t]&&(e[t]={}),e[t][n]=i},e.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}.call(this),function(){var t,n,i;t=e.$,i=e.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},n=e.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},e.CSRFProtection=function(t){var e;if(null!=(e=i()))return t.setRequestHeader("X-CSRF-Token",e)},e.refreshCSRFTokens=function(){var e,r;if(r=i(),e=n(),null!=r&&null!=e)return t('form input[name="'+e+'"]').forEach(function(t){return t.value=r})}}.call(this),function(){var t,n,i,r;i=e.matches,"function"!=typeof(t=window.CustomEvent)&&((t=function(t,e){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype,r=t.prototype.preventDefault,t.prototype.preventDefault=function(){var t;return t=r.call(this),this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),t}),n=e.fire=function(e,n,i){var r;return r=new t(n,{bubbles:!0,cancelable:!0,detail:i}),e.dispatchEvent(r),!r.defaultPrevented},e.stopEverything=function(t){return n(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},e.delegate=function(t,e,n,r){return t.addEventListener(n,function(t){var n;for(n=t.target;n instanceof Element&&!i(n,e);)n=n.parentNode;if(n instanceof Element&&!1===r.call(n,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var t,n,i,r,o,s;r=e.cspNonce,n=e.CSRFProtection,e.fire,t={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},e.ajax=function(t){var e;return t=o(t),e=i(t,function(){var n,i;return i=s(null!=(n=e.response)?n:e.responseText,e.getResponseHeader("Content-Type")),2===Math.floor(e.status/100)?"function"==typeof t.success&&t.success(i,e.statusText,e):"function"==typeof t.error&&t.error(i,e.statusText,e),"function"==typeof t.complete?t.complete(e,e.statusText):void 0}),!(null!=t.beforeSend&&!t.beforeSend(e,t))&&(e.readyState===XMLHttpRequest.OPENED?e.send(t.data):void 0)},o=function(e){return e.url=e.url||location.href,e.type=e.type.toUpperCase(),"GET"===e.type&&e.data&&(e.url.indexOf("?")<0?e.url+="?"+e.data:e.url+="&"+e.data),null==t[e.dataType]&&(e.dataType="*"),e.accept=t[e.dataType],"*"!==e.dataType&&(e.accept+=", */*; q=0.01"),e},i=function(t,e){var i;return(i=new XMLHttpRequest).open(t.type,t.url,!0),i.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),n(i)),i.withCredentials=!!t.withCredentials,i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)return e(i)},i},s=function(t,e){var n,i;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(o){}else if(e.match(/\b(?:java|ecma)script\b/))(i=document.createElement("script")).setAttribute("nonce",r()),i.text=t,document.head.appendChild(i).parentNode.removeChild(i);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(o){}}return t},e.href=function(t){return t.href},e.isCrossDomain=function(t){var e,n;(e=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return i,!0}}}.call(this),function(){var t,n;t=e.matches,n=function(t){return Array.prototype.slice.call(t)},e.serializeElement=function(e,i){var r,o;return r=[e],t(e,"form")&&(r=n(e.elements)),o=[],r.forEach(function(e){if(e.name&&!e.disabled)return t(e,"select")?n(e.options).forEach(function(t){if(t.selected)return o.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?o.push({name:e.name,value:e.value}):void 0}),i&&o.push(i),o.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},e.formElements=function(e,i){return t(e,"form")?n(e.elements).filter(function(e){return t(e,i)}):n(e.querySelectorAll(i))}}.call(this),function(){var t,n,i;n=e.fire,i=e.stopEverything,e.handleConfirm=function(e){if(!t(this))return i(e)},t=function(t){var e,i,r;if(!(r=t.getAttribute("data-confirm")))return!0;if(e=!1,n(t,"confirm")){try{e=confirm(r)}catch(o){}i=n(t,"confirm:complete",[e])}return e&&i}}.call(this),function(){var t,n,i,r,o,s,a,l,c,u,h;c=e.matches,l=e.getData,u=e.setData,h=e.stopEverything,a=e.formElements,e.handleDisabledElement=function(t){if(this.disabled)return h(t)},e.enableElement=function(t){var n;return n=t instanceof Event?t.target:t,c(n,e.linkDisableSelector)?s(n):c(n,e.buttonDisableSelector)||c(n,e.formEnableSelector)?r(n):c(n,e.formSubmitSelector)?o(n):void 0},e.disableElement=function(r){var o;return o=r instanceof Event?r.target:r,c(o,e.linkDisableSelector)?i(o):c(o,e.buttonDisableSelector)||c(o,e.formDisableSelector)?t(o):c(o,e.formSubmitSelector)?n(o):void 0},i=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(u(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",h),u(t,"ujs:disabled",!0)},s=function(t){var e;return null!=(e=l(t,"ujs:enable-with"))&&(t.innerHTML=e,u(t,"ujs:enable-with",null)),t.removeEventListener("click",h),u(t,"ujs:disabled",null)},n=function(n){return a(n,e.formDisableSelector).forEach(t)},t=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(c(t,"button")?(u(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(u(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,u(t,"ujs:disabled",!0)},o=function(t){return a(t,e.formEnableSelector).forEach(r)},r=function(t){var e
;return null!=(e=l(t,"ujs:enable-with"))&&(c(t,"button")?t.innerHTML=e:t.value=e,u(t,"ujs:enable-with",null)),t.disabled=!1,u(t,"ujs:disabled",null)}}.call(this),function(){var t;t=e.stopEverything,e.handleMethod=function(n){var i,r,o,s,a,l,c;if(c=(l=this).getAttribute("data-method"))return a=e.href(l),r=e.csrfToken(),i=e.csrfParam(),o=document.createElement("form"),s="<input name='_method' value='"+c+"' type='hidden' />",null==i||null==r||e.isCrossDomain(a)||(s+="<input name='"+i+"' value='"+r+"' type='hidden' />"),s+='<input type="submit" />',o.method="post",o.action=a,o.target=l.target,o.innerHTML=s,o.style.display="none",document.body.appendChild(o),o.querySelector('[type="submit"]').click(),t(n)}}.call(this),function(){var t,n,i,r,o,s,a,l,c,u=[].slice;s=e.matches,i=e.getData,l=e.setData,n=e.fire,c=e.stopEverything,t=e.ajax,r=e.isCrossDomain,a=e.serializeElement,o=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},e.handleRemote=function(h){var d,f,p,g,m,v,y;return!o(g=this)||(n(g,"ajax:before")?(y=g.getAttribute("data-with-credentials"),p=g.getAttribute("data-type")||"script",s(g,e.formSubmitSelector)?(d=i(g,"ujs:submit-button"),m=i(g,"ujs:submit-button-formmethod")||g.method,v=i(g,"ujs:submit-button-formaction")||g.getAttribute("action")||location.href,"GET"===m.toUpperCase()&&(v=v.replace(/\?.*$/,"")),"multipart/form-data"===g.enctype?(f=new FormData(g),null!=d&&f.append(d.name,d.value)):f=a(g,d),l(g,"ujs:submit-button",null),l(g,"ujs:submit-button-formmethod",null),l(g,"ujs:submit-button-formaction",null)):s(g,e.buttonClickSelector)||s(g,e.inputChangeSelector)?(m=g.getAttribute("data-method"),v=g.getAttribute("data-url"),f=a(g,g.getAttribute("data-params"))):(m=g.getAttribute("data-method"),v=e.href(g),f=g.getAttribute("data-params")),t({type:m||"GET",url:v,data:f,dataType:p,beforeSend:function(t,e){return n(g,"ajax:beforeSend",[t,e])?n(g,"ajax:send",[t]):(n(g,"ajax:stopped"),!1)},success:function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],n(g,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],n(g,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],n(g,"ajax:complete",t)},crossDomain:r(v),withCredentials:null!=y&&"false"!==y}),c(h)):(n(g,"ajax:stopped"),!1))},e.formSubmitButtonClick=function(){var t,e;if(e=(t=this).form)return t.name&&l(e,"ujs:submit-button",{name:t.name,value:t.value}),l(e,"ujs:formnovalidate-button",t.formNoValidate),l(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),l(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},e.preventInsignificantClick=function(t){var e,n,i,r;if(r=((i=this).getAttribute("data-method")||"GET").toUpperCase(),e=i.getAttribute("data-params"),n=(t.metaKey||t.ctrlKey)&&"GET"===r&&!e,null!=t.button&&0!==t.button||n)return t.stopImmediatePropagation()}}.call(this),function(){var t,n,i,r,o,s,a,l,c,u,h,d,f,p,g;if(s=e.fire,i=e.delegate,l=e.getData,t=e.$,g=e.refreshCSRFTokens,n=e.CSRFProtection,f=e.loadCSPNonce,o=e.enableElement,r=e.disableElement,u=e.handleDisabledElement,c=e.handleConfirm,p=e.preventInsignificantClick,d=e.handleRemote,a=e.formSubmitButtonClick,h=e.handleMethod,"undefined"!=typeof jQuery&&null!==jQuery&&null!=jQuery.ajax){if(jQuery.rails)throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");jQuery.rails=e,jQuery.ajaxPrefilter(function(t,e,i){if(!t.crossDomain)return n(i)})}e.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(e.formEnableSelector).forEach(function(t){if(l(t,"ujs:disabled"))return o(t)}),t(e.linkDisableSelector).forEach(function(t){if(l(t,"ujs:disabled"))return o(t)})}),i(document,e.linkDisableSelector,"ajax:complete",o),i(document,e.linkDisableSelector,"ajax:stopped",o),i(document,e.buttonDisableSelector,"ajax:complete",o),i(document,e.buttonDisableSelector,"ajax:stopped",o),i(document,e.linkClickSelector,"click",p),i(document,e.linkClickSelector,"click",u),i(document,e.linkClickSelector,"click",c),i(document,e.linkClickSelector,"click",r),i(document,e.linkClickSelector,"click",d),i(document,e.linkClickSelector,"click",h),i(document,e.buttonClickSelector,"click",p),i(document,e.buttonClickSelector,"click",u),i(document,e.buttonClickSelector,"click",c),i(document,e.buttonClickSelector,"click",r),i(document,e.buttonClickSelector,"click",d),i(document,e.inputChangeSelector,"change",u),i(document,e.inputChangeSelector,"change",c),i(document,e.inputChangeSelector,"change",d),i(document,e.formSubmitSelector,"submit",u),i(document,e.formSubmitSelector,"submit",c),i(document,e.formSubmitSelector,"submit",d),i(document,e.formSubmitSelector,"submit",function(t){return setTimeout(function(){return r(t)},13)}),i(document,e.formSubmitSelector,"ajax:send",r),i(document,e.formSubmitSelector,"ajax:complete",o),i(document,e.formInputClickSelector,"click",p),i(document,e.formInputClickSelector,"click",u),i(document,e.formInputClickSelector,"click",c),i(document,e.formInputClickSelector,"click",a),document.addEventListener("DOMContentLoaded",g),document.addEventListener("DOMContentLoaded",f),window._rails_loaded=!0},window.Rails===e&&s(document,"rails:attachBindings")&&e.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t.Vimeo=t.Vimeo||{},t.Vimeo.Player=e())}(this,function(){"use strict";function t(t,e){return 0===t.indexOf(e.toLowerCase())?t:""+e.toLowerCase()+t.substr(0,1).toUpperCase()+t.substr(1)}function e(t){return t instanceof window.HTMLElement}function n(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function i(t){return/^(https?:)?\/\/((player|www).)?vimeo.com(?=$|\/)/.test(t)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.id,r=t.url,o=e||r;if(!o)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(n(o))return"https://vimeo.com/"+o;if(i(o))return o.replace("http:","https:");if(e)throw new TypeError("\u201c"+e+"\u201d is not a valid video id.");throw new TypeError("\u201c"+o+"\u201d is not a vimeo.com url.")}function o(t,e){return t(e={exports:{}},e.exports),e.exports}function s(t,e,n){var i=S.get(t.element)||{};e in i||(i[e]=[]),i[e].push(n),S.set(t.element,i)}function a(t,e){return(S.get(t.element)||{})[e]||[]}function l(t,e,n){var i=S.get(t.element)||{};if(!i[e])return!0;if(!n)return i[e]=[],S.set(t.element,i),!0;var r=i[e].indexOf(n);return-1!==r&&i[e].splice(r,1),S.set(t.element,i),i[e]&&0===i[e].length}function c(t,e){var n=a(t,e);if(n.length<1)return!1;var i=n.shift();return l(t,e,i),i}function u(t,e){var n=S.get(t);S.set(e,n),S["delete"](t)}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k.reduce(function(e,n){var i=t.getAttribute("data-vimeo-"+n);return(i||""===i)&&(e[n]=""===i?1:i),e},e)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){if(!i(t))throw new TypeError("\u201c"+t+"\u201d is not a vimeo.com url.");var o="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(t);for(var s in e)e.hasOwnProperty(s)&&(o+="&"+s+"="+encodeURIComponent(e[s]));var a="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;a.open("GET",o,!0),a.onload=function(){if(404!==a.status)if(403!==a.status)try{var e=JSON.parse(a.responseText);n(e)}catch(t){r(t)}else r(new Error("\u201c"+t+"\u201d is not embeddable."));else r(new Error("\u201c"+t+"\u201d was not found."))},a.onerror=function(){var t=a.status?" ("+a.status+")":"";r(new Error("There was an error fetching the embed code from Vimeo"+t+"."))},a.send()})}function f(t,e){var n=t.html;if(!e)throw new TypeError("An element must be provided");if(null!==e.getAttribute("data-vimeo-initialized"))return e.querySelector("iframe");var i=document.createElement("div");return i.innerHTML=n,e.appendChild(i.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function p(t){return"string"==typeof t&&(t=JSON.parse(t)),t}function g(t,e,n){if(t.element.contentWindow&&t.element.contentWindow.postMessage){var i={method:e};void 0!==n&&(i.value=n);var r=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));r>=8&&r<10&&(i=JSON.stringify(i)),t.element.contentWindow.postMessage(i,t.origin)}}function m(t,e){e=p(e);var n=[],i=void 0;if(e.event)"error"===e.event&&a(t,e.data.method).forEach(function(n){var i=new Error(e.data.message);i.name=e.data.name,n.reject(i),l(t,e.data.method,n)}),n=a(t,"event:"+e.event),i=e.data;else if(e.method){var r=c(t,e.method);r&&(n.push(r),i=e.value)}n.forEach(function(e){try{if("function"==typeof e)return void e.call(t,i);e.resolve(i)}catch(t){}})}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y="undefined"!=typeof global&&"[object global]"==={}.toString.call(global),b=void 0!==Array.prototype.indexOf,w="undefined"!=typeof window&&void 0!==window.postMessage;if(!(y||b&&w))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var x="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},C=(o(function(){!function(t){function e(t,e){function i(t){if(!this||this.constructor!==i)return new i(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&n.call(this,t)}return e||b(t,"size",{get:m}),t.constructor=i,i.prototype=t,i}function n(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function i(t){return this.has(t)&&(this._keys.splice(y,1),this._values.splice(y,1),this._itp.forEach(function(t){y<t[0]&&t[0]--})),-1<y}function r(t){return this.has(t)?this._values[y]:void 0}function o(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(y=t.length;y--&&!w(t[y],e););else y=t.indexOf(e);return-1<y}function s(t){return o.call(this,this._values,t)}function a(t){return o.call(this,this._keys,t)}function l(t,e){return this.has(t)?this._values[y]=e:this._values[this._keys.push(t)-1]=e,this}function c(t){return this.has(t)||this._values.push(t),this}function u(){(this._keys||0).length=this._values.length=0}function h(){return g(this._itp,this._keys)}function d(){return g(this._itp,this._values)}function f(){return g(this._itp,this._keys,this._values)}function p(){return g(this._itp,this._values,this._values)}function g(t,e,n){var i=[0],r=!1;return t.push(i),{next:function(){var o,s=i[0];return!r&&s<e.length?(o=n?[e[s],n[s]]:e[s],i[0]++):(r=!0,t.splice(t.indexOf(i),1)),{done:r,value:o}}}}function m(){return this._values.length}function v(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}}var y,b=Object.defineProperty,w=function(t,e){return t===e||t!=t&&e!=e};"undefined"==typeof WeakMap&&(t.WeakMap=e({"delete":i,clear:u,get:r,has:a,set:l},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(t.Map=e({"delete":i,has:a,get:r,set:l,keys:h,values:d,entries:f,forEach:v,clear:u})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(t.Set=e({has:s,add:c,"delete":i,clear:u,keys:d,values:d,entries:p,forEach:v})),"undefined"==typeof WeakSet&&(t.WeakSet=e({"delete":i,add:c,clear:u,has:s},!0))}(void 0!==x?x:window)}),o(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e,n,i){n[e]=n[e]||i(),t.exports&&(t.exports=n[e])}("Promise",x,function(){function t(t,e){f.add(t,e),d||(d=g(f.drain))}function n(t){var n,i=void 0===t?"undefined":e(t);return null==t||"object"!=i&&"function"!=i||(n=t.then),"function"==typeof n&&n}function i(){for(var t=0;t<this.chain.length;t++)r(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function r(t,e,i){var r,o;try{!1===e?i.reject(t.msg):(r=!0===e?t.msg:e.call(void 0,t.msg))===i.promise?i.reject(TypeError("Promise-chain cycle")):(o=n(r))?o.call(r,i.resolve,i.reject):i.resolve(r)}catch(t){i.reject(t)}}function o(e){var r,a=this;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(r=n(e))?t(function(){var t=new l(a);try{r.call(e,function(){o.apply(t,arguments)},function(){s.apply(t,arguments)})}catch(e){s.call(t,e)}}):(a.msg=e,a.state=1,a.chain.length>0&&t(i,a))}catch(t){s.call(new l(a),t)}}}function s(e){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=e,n.state=2,n.chain.length>0&&t(i,n))}function a(t,e,n,i){for(var r=0;r<e.length;r++)!function(r){t.resolve(e[r]).then(function(t){n(r,t)},i)}(r)}function l(t){this.def=t,this.triggered=!1}function c(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new c(this);this.then=function(e,r){var o={success:"function"!=typeof e||e,failure:"function"==typeof r&&r};return o.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");o.resolve=t,o.reject=e}),n.chain.push(o),0!==n.state&&t(i,n),o.promise},this["catch"]=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){o.call(n,t)},function(t){s.call(n,t)})}catch(t){s.call(n,t)}}var h,d,f,p=Object.prototype.toString,g="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),h=function(t,e,n,i){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==i})}}catch(t){h=function(t,e,n){return t[e]=n,t}}f=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,n,i;return{add:function(r,o){i=new t(r,o),n?n.next=i:e=i,n=i,i=void 0},drain:function(){var t=e;for(e=n=d=void 0;t;)t.fn.call(t.self),t=t.next}}}();var m=h({},"constructor",u,!1);return u.prototype=m,h(m,"__NPO__",0,!1),h(u,"resolve",function(t){var n=this;return t&&"object"==(void 0===t?"undefined":e(t))&&1===t.__NPO__?t:new n(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)})}),h(u,"reject",function(t){return new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)})}),h(u,"all",function(t){var e=this;return"[object Array]"!=p.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var r=t.length,o=Array(r),s=0;a(e,t,function(t,e){o[t]=e,++s===r&&n(o)},i)})}),h(u,"race",function(t){var e=this;return"[object Array]"!=p.call(t)?e.reject(TypeError("Not an array")):new e(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");a(e,t,function(t,e){n(e)},i)})}),u})})),S=new WeakMap,k=["id","url","width","maxwidth","height","maxheight","portrait","title","byline","color","autoplay","autopause","loop","responsive","speed","background","transparent"],_=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),E=new WeakMap,T=new WeakMap,A=function(){function n(t){var o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(this,n),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"string"==typeof t&&(t=document.getElementById(t)),!e(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var a=t.querySelector("iframe");a&&(t=a)}if("IFRAME"===t.nodeName&&!i(t.getAttribute("src")||""))throw new Error("The player element passed isn\u2019t a Vimeo embed.");if(E.has(t))return E.get(t);this.element=t,this.origin="*";var l=new C(function(e,n){var a=function(t){if(i(t.origin)&&o.element.contentWindow===t.source){"*"===o.origin&&(o.origin=t.origin);var n=p(t.data),r="event"in n&&"ready"===n.event,s="method"in n&&"ping"===n.method;if(r||s)return o.element.setAttribute("data-ready","true"),void e();m(o,n)}};if(window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent&&window.attachEvent("onmessage",a),"IFRAME"!==o.element.nodeName){var l=h(t,s);d(r(l),l).then(function(e){var n=f(e,t);return o.element=n,u(t,n),E.set(o.element,o),e})["catch"](function(t){return n(t)})}});return T.set(this,l),E.set(this.element,this),"IFRAME"===this.element.nodeName&&g(this,"ping"),this}return _(n,[{key:"callMethod",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new C(function(i,r){return e.ready().then(function(){s(e,t,{resolve:i,reject:r}),g(e,t,n)})})}},{key:"get",value:function(e){var n=this;return new C(function(i,r){return e=t(e,"get"),n.ready().then(function(){s(n,e,{resolve:i,reject:r}),g(n,e)})})}},{key:"set",value:function(e,n){var i=this;return C.resolve(n).then(function(n){if(e=t(e,"set"),null==n)throw new TypeError("There must be a value to set.");return i.ready().then(function(){return new C(function(t,r){s(i,e,{resolve:t,reject:r}),g(i,e,n)})})})}},{key:"on",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(!e)throw new TypeError("You must pass a callback function.");if("function"!=typeof e)throw new TypeError("The callback must be a function.");0===a(this,"event:"+t).length&&this.callMethod("addEventListener",t)["catch"](function(){}),s(this,"event:"+t,e)}},{key:"off",value:function(t,e){if(!t)throw new TypeError("You must pass an event name.");if(e&&"function"!=typeof e)throw new TypeError("The callback must be a function.");l(this,"event:"+t,e)&&this.callMethod("removeEventListener",t)["catch"](function(){})}},{key:"loadVideo",value:function(t){return this.callMethod("loadVideo",t)}},{key:"ready",value:function(){var t=T.get(this);return C.resolve(t)}},{key:"addCuePoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:t,data:e})}},{key:"removeCuePoint",value:function(t){return this.callMethod("removeCuePoint",t)}},{key:"enableTextTrack",value:function(t,e){if(!t)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:t,kind:e})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(t){return this.set("autopause",t)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(t){return this.set("color",t)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(t){return this.set("currentTime",t)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(t){return this.set("loop",t)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(t){return this.set("playbackRate",t)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(t){return this.set("volume",t)}}]),n}();return y||(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(t){"console"in window&&console.error&&console.error("There was an error creating an embed: "+t)};e.forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=h(t);d(r(e),e).then(function(e){return f(e,t)})["catch"](n)}catch(t){n(t)}})}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=function(e){if(i(e.origin)&&e.data&&"spacechange"===e.data.event)for(var n=t.querySelectorAll("iframe"),r=0;r<n.length;r++)if(n[r].contentWindow===e.source){var o=n[r].parentElement;o&&-1!==o.className.indexOf("vimeo-space")&&(o.style.paddingBottom=e.data.data[0].bottom+"px");break}};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)}()),A}),
/*
Turbolinks 5.2.0
Copyright  2018 Basecamp, LLC
 */
function(){var t=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,n){return e.controller.visit(t,n)},clearCache:function(){return e.controller.clearCache()},setProgressBarDelay:function(t){return e.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var e=t.Turbolinks;(function(){(function(){var t,n,i,r=[].slice;e.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},e.closest=function(e,n){return t.call(e,n)},t=function(){var t;return null!=(t=document.documentElement.closest)?t:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&n.call(e,t))return e;e=e.parentNode}}}(),e.defer=function(t){return setTimeout(t,1)},e.throttle=function(t){var e;return e=null,function(){var n,i;return n=1<=arguments.length?r.call(arguments,0):[],null!=e?e:e=requestAnimationFrame((i=this,function(){return e=null,t.apply(i,n)}))}},e.dispatch=function(t,e){var n,r,o,s,a,l;return l=(a=null!=e?e:{}).target,n=a.cancelable,r=a.data,(o=document.createEvent("Events")).initEvent(t,!0,!0===n),o.data=null!=r?r:{},o.cancelable&&!i&&(s=o.preventDefault,o.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),s.call(this)}),(null!=l?l:document).dispatchEvent(o),o},i=function(){var t;return(t=document.createEvent("Events")).initEvent("test",!0,!0),t.preventDefault(),t.defaultPrevented}(),e.match=function(t,e){return n.call(t,e)},n=function(){var t,e,n,i;return null!=(e=null!=(n=null!=(i=(t=document.documentElement).matchesSelector)?i:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),e.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){e.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,2>(e=n.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,r;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||r(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},r=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.HttpRequest=function(){function n(n,i,r){this.delegate=n,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=e.Location.wrap(i).requestURL,this.referrer=e.Location.wrap(r).absoluteURL,this.createXHR()}return n.NETWORK_FAILURE=0,n.TIMEOUT_FAILURE=-1,n.timeout=60,n.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},n.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},n.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},n.prototype.requestLoaded=function(){return this.endRequest((t=this,function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}));var t},n.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},n.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},n.prototype.requestCanceled=function(){return this.endRequest()},n.prototype.notifyApplicationBeforeRequestStart=function(){return e.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},n.prototype.notifyApplicationAfterRequestEnd=function(){return e.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},n.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},n.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},n.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},n.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},n}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ProgressBar=function(){function e(){this.trickle=t(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,e.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",e.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},e.prototype.setValue=function(t){return this.value=t,this.refresh()},e.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*n)},e.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},e.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},e.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},e.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},e.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},e.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},e.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.BrowserAdapter=function(){function n(n){this.controller=n,this.showProgressBar=t(this.showProgressBar,this),this.progressBar=new e.ProgressBar}var i,r,o;return o=e.HttpRequest,i=o.NETWORK_FAILURE,r=o.TIMEOUT_FAILURE,n.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},n.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},n.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},n.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},n.prototype.visitRequestCompleted=function(t){return t.loadResponse()},n.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case i:case r:return this.reload();default:return t.loadResponse()}},n.prototype.visitRequestFinished=function(){return this.hideProgressBar()},n.prototype.visitCompleted=function(t){return t.followRedirect()},n.prototype.pageInvalidated=function(){return this.reload()},n.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},n.prototype.showProgressBar=function(){return this.progressBar.show()},n.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},n.prototype.reload=function(){return window.location.reload()},n}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.History=function(){function n(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},n.prototype.push=function(t,n){return t=e.Location.wrap(t),this.update("push",t,n)},n.prototype.replace=function(t,n){return t=e.Location.wrap(t),this.update("replace",t,n)},n.prototype.onPopState=function(t){var n,i,r,o;return this.shouldHandlePopState()&&(o=null!=(i=t.state)?i.turbolinks:void 0)?(n=e.Location.wrap(window.location),r=o.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(n,r)):void 0},n.prototype.onPageLoad=function(){return e.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},n.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},n.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},n.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},n}()}.call(this),function(){e.HeadDetails=function(){function t(t){var e,n,i,s,a;for(this.elements={},n=0,s=t.length;s>n;n++)(a=t[n]).nodeType===Node.ELEMENT_NODE&&(i=a.outerHTML,(null!=(e=this.elements)[i]?e[i]:e[i]={type:o(a),tracked:r(a),elements:[]}).elements.push(a))}var e,n,i,r,o;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t;return function(){var e,n;for(t in n=[],e=this.elements)e[t].tracked&&n.push(t);return n}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,r,o,s,a;for(i in s=[],r=this.elements)a=(o=r[i]).type,n=o.elements,a!==t||e.hasElementWithKey(i)||s.push(n[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,n,i,r,o,s;for(e in n=[],i=this.elements)s=(r=i[e]).type,o=r.tracked,t=r.elements,null!=s||o?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var n,i,r,o;for(r in n=void 0,o=this.elements)i=o[r].elements,e(i[0],t)&&(n=i[0]);return n},o=function(t){return n(t)?"script":i(t)?"stylesheet":void 0},r=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},n=function(t){return"script"===t.tagName.toLowerCase()},i=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},e=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){e.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var n,i,r;return i=t.querySelector("head"),n=null!=(r=t.querySelector("body"))?r:document.createElement("body"),new this(e.HeadDetails.fromHeadElement(i),n)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,n;return n=null!=(t=this.getSetting("root"))?t:"/",new e.Location(n)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(e){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,i,r,o;for(o=[],n=0,i=(r=this.getPermanentElements()).length;i>n;n++)e=r[n],t.getPermanentElementById(e.id)&&o.push(e);return o},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var t=[].slice;e.Renderer=function(){function e(){}var n;return e.render=function(){var e,n,i;return n=arguments[0],e=arguments[1],(i=function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,3<=arguments.length?t.call(arguments,2):[],function(){})).delegate=n,i.render(e),i},e.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,r,o,s,a,l;for(a=[],n=0,i=(o=e.attributes).length;i>n;n++)r=(s=o[n]).name,l=s.value,a.push(t.setAttribute(r,l));return a},e}()}.call(this),function(){var t,n,i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.SnapshotRenderer=function(e){function r(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return i(r,e),r.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},r.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},r.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},r.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},r.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},r.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(t));return r},r.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadScriptElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(this.createScriptElement(t)));return r},r.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;n>e;e++)t=i[e],r.push(document.head.removeChild(t));return r},r.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;n>e;e++)t=i[e],r.push(document.head.appendChild(t));return r},r.prototype.relocateCurrentBodyPermanentElements=function(){var e,i,r,o,s,a,l;for(l=[],e=0,i=(a=this.getCurrentBodyPermanentElements()).length;i>e;e++)o=a[e],s=t(o),r=this.newSnapshot.getPermanentElementById(o.id),n(o,s.element),n(r,o),l.push(s);return l},r.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,i,r,o,s,a;for(a=[],r=0,o=t.length;o>r;r++)i=(s=t[r]).element,e=s.permanentElement.cloneNode(!0),a.push(n(i,e));return a},r.prototype.activateNewBodyScriptElements=function(){var t,e,i,r,o,s;for(s=[],e=0,r=(o=this.getNewBodyScriptElements()).length;r>e;e++)i=o[e],t=this.createScriptElement(i),s.push(n(i,t));return s},r.prototype.assignNewBody=function(){return document.body=this.newBody},r.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},r.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},r.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},r.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},r.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},r.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},r.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},r}(e.Renderer),t=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},n=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.ErrorRenderer=function(e){function n(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return t(n,e),n.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},n.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},n.prototype.activateBodyScriptElements=function(){var t,e,n,i,r,o;for(o=[],e=0,n=(i=this.getScriptElements()).length;n>e;e++)r=i[e],t=this.createScriptElement(r),o.push(r.parentNode.replaceChild(t,r));return o},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(e.Renderer)}.call(this),function(){e.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return e.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,i,r;return r=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=r?this.renderSnapshot(r,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,n,i){return e.SnapshotRenderer.render(this.delegate,i,this.getSnapshot(),e.Snapshot.wrap(t),n)},t.prototype.renderError=function(t,n){return e.ErrorRenderer.render(this.delegate,n,t)},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ScrollManager=function(){function n(n){this.delegate=n,this.onScroll=t(this.onScroll,this),this.onScroll=e.throttle(this.onScroll)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},n.prototype.scrollToElement=function(t){return t.scrollIntoView()},n.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},n.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},n.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},n}()}.call(this),function(){e.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var n;return t.prototype.has=function(t){return n(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=n(t),this.snapshots[e]},t.prototype.write=function(t,e){var i;return i=n(t),this.snapshots[i]=e},t.prototype.touch=function(t){var e,i;return i=n(t),(e=this.keys.indexOf(i))>-1&&this.keys.splice(e,1),this.keys.unshift(i),this.trim()},t.prototype.trim=function(){var t,e,n,i,r;for(r=[],t=0,n=(i=this.keys.splice(this.size)).length;n>t;t++)e=i[t],r.push(delete this.snapshots[e]);return r},n=function(t){return e.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Visit=function(){function n(n,i,r){this.controller=n,this.action=r,this.performScroll=t(this.performScroll,this),this.identifier=e.uuid(),this.location=e.Location.wrap(i),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var i;return n.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},n.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},n.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},n.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},n.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=i(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},n.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new e.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},n.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},n.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},n.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()})):void 0},n.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},n.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},n.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},n.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},n.prototype.requestCompletedWithResponse=function(t,n){return this.response=t,null!=n&&(this.redirectedToLocation=e.Location.wrap(n)),this.adapter.visitRequestCompleted(this)},n.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},n.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},n.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},n.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},n.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},n.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},n.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},n.prototype.getTimingMetrics=function(){return e.copyObject(this.timingMetrics)},i=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},n.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},n.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},n.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},n.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},n}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.Controller=function(){function n(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new e.History(this),this.view=new e.View(this),this.scrollManager=new e.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return n.prototype.start=function(){return e.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},n.prototype.clearCache=function(){return this.cache=new e.SnapshotCache(10)},n.prototype.visit=function(t,n){var i,r;return null==n&&(n={}),t=e.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(i=null!=(r=n.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(t,i)):window.location=t:void 0},n.prototype.startVisitToLocationWithAction=function(t,n,i){var r;return e.supported?(r=this.getRestorationDataForIdentifier(i),this.startVisit(t,n,{restorationData:r})):window.location=t},n.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},n.prototype.startHistory=function(){return this.location=e.Location.wrap(window.location),this.restorationIdentifier=e.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.stopHistory=function(){return this.history.stop()},n.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,n){return this.restorationIdentifier=n,this.location=e.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},n.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,n){return this.restorationIdentifier=n,this.location=e.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,n){var i;return this.restorationIdentifier=n,this.enabled?(i=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:i,historyChanged:!0}),this.location=e.Location.wrap(t)):this.adapter.pageInvalidated()},n.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},n.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},n.prototype.cacheSnapshot=function(){var t,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),n=this.view.getSnapshot(),t=this.lastRenderedLocation,e.defer(function(e){
return function(){return e.cache.put(t,n.clone())}}(this))):void 0},n.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},n.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},n.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},n.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},n.prototype.render=function(t,e){return this.view.render(t,e)},n.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},n.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},n.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},n.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},n.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},n.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},n.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},n.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},n.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,n){return e.dispatch("turbolinks:click",{target:t,data:{url:n.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationBeforeVisitingLocation=function(t){return e.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationAfterVisitingLocation=function(t){return e.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},n.prototype.notifyApplicationBeforeCachingSnapshot=function(){return e.dispatch("turbolinks:before-cache")},n.prototype.notifyApplicationBeforeRender=function(t){return e.dispatch("turbolinks:before-render",{data:{newBody:t}})},n.prototype.notifyApplicationAfterRender=function(){return e.dispatch("turbolinks:render")},n.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),e.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},n.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},n.prototype.createVisit=function(t,n,i){var r,o,s,a,l;return a=(o=null!=i?i:{}).restorationIdentifier,s=o.restorationData,r=o.historyChanged,(l=new e.Visit(this,t,n)).restorationIdentifier=null!=a?a:e.uuid(),l.restorationData=e.copyObject(s),l.historyChanged=r,l.referrer=this.location,l},n.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},n.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},n.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?e.closest(t,"a[href]:not([target]):not([download])"):void 0},n.prototype.getVisitableLocationForLink=function(t){var n;return n=new e.Location(t.getAttribute("href")),this.locationIsVisitable(n)?n:void 0},n.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},n.prototype.nodeIsVisitable=function(t){var n;return!(n=e.closest(t,"[data-turbolinks]"))||"false"!==n.getAttribute("data-turbolinks")},n.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},n.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},n.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},n}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,n,i;e.start=function(){return n()?(null==e.controller&&(e.controller=t()),e.controller.start()):void 0},n=function(){return null==window.Turbolinks&&(window.Turbolinks=e),i()},t=function(){var t;return(t=new e.Controller).adapter=new e.BrowserAdapter(t),t},(i=function(){return window.Turbolinks===e})()&&e.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),window.TinyMCERails={configuration:{"default":{}},initialize:function(t,e){if("undefined"!=typeof tinyMCE){var n=TinyMCERails.configuration[t||"default"];n=TinyMCERails._merge(n,e),tinyMCE.init(n)}else setTimeout(function(){TinyMCERails.initialize(t,e)},50)},setupTurbolinks:function(){document.addEventListener("turbolinks:before-render",function(){tinymce.remove()})},_merge:function(){for(var t={},e=0;e<arguments.length;++e){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&("[object Object]"===Object.prototype.toString.call(n[i])?t[i]=TinyMCERails._merge(t[i],n[i]):t[i]=n[i])}return t}},"undefined"!=typeof Turbolinks&&Turbolinks.supported&&TinyMCERails.setupTurbolinks(),window.tinymce=window.tinymce||{base:"/assets/tinymce",suffix:""},function(){"use strict";function t(){function t(n,i){return e.push(n+" ")>xe.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function e(t){return t[on]=!0,t}function n(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||pn)-(~t.sourceIndex||pn);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function r(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function o(t){return e(function(n){return n=+n,e(function(e,i){for(var r,o=t([],e.length,n),s=o.length;s--;)e[r=o[s]]&&(e[r]=!(i[r]=e[r]))})})}function s(t){return t&&typeof t.getElementsByTagName!==fn&&t}function a(){}function l(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function c(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=ln++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c=[an,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((a=(l=e[on]||(e[on]={}))[i])&&a[0]===an&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=t(e,n,s))return!0}}}function u(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function h(t,e,n){for(var i=0,r=e.length;i<r;i++)Wn(t,e[i],n);return n}function d(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function f(t,n,i,r,o,s){return r&&!r[on]&&(r=f(r)),o&&!o[on]&&(o=f(o,s)),e(function(e,s,a,l){var c,u,f,p=[],g=[],m=s.length,v=e||h(n||"*",a.nodeType?[a]:a,[]),y=!t||!e&&n?v:d(v,p,t,a,l),b=i?o||(e?t:m||r)?[]:s:y;if(i&&i(y,b,a,l),r)for(c=d(b,g),r(c,[],a,l),u=c.length;u--;)(f=c[u])&&(b[g[u]]=!(y[g[u]]=f));if(e){if(o||t){if(o){for(c=[],u=b.length;u--;)(f=b[u])&&c.push(y[u]=f);o(null,b=[],c,l)}for(u=b.length;u--;)(f=b[u])&&(c=o?xn.call(e,f):p[u])>-1&&(e[c]=!(s[c]=f))}}else b=d(b===s?b.splice(m,b.length):b),o?o(null,s,b,l):bn.apply(s,b)})}function p(t){for(var e,n,i,r=t.length,o=xe.relative[t[0].type],s=o||xe.relative[" "],a=o?1:0,h=c(function(t){return t===e},s,!0),d=c(function(t){return xn.call(e,t)>-1},s,!0),g=[function(t,n,i){return!o&&(i||n!==Te)||((e=n).nodeType?h(t,n,i):d(t,n,i))}];a<r;a++)if(n=xe.relative[t[a].type])g=[c(u(g),n)];else{if((n=xe.filter[t[a].type].apply(null,t[a].matches))[on]){for(i=++a;i<r&&!xe.relative[t[i].type];i++);return f(a>1&&u(g),a>1&&l(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(Tn,"$1"),n,a<i&&p(t.slice(a,i)),i<r&&p(t=t.slice(i)),i<r&&l(t))}g.push(n)}return u(g)}function g(t,n){var i=n.length>0,r=t.length>0,o=function(e,o,s,a,l){var c,u,h,f=0,p="0",g=e&&[],m=[],v=Te,y=e||r&&xe.find.TAG("*",l),b=an+=null==v?1:Math.random()||.1,w=y.length;for(l&&(Te=o!==De&&o);p!==w&&null!=(c=y[p]);p++){if(r&&c){for(u=0;h=t[u++];)if(h(c,o,s)){a.push(c);break}l&&(an=b)}i&&((c=!h&&c)&&f--,e&&g.push(c))}if(f+=p,i&&p!==f){for(u=0;h=n[u++];)h(g,m,o,s);if(e){if(f>0)for(;p--;)g[p]||m[p]||(m[p]=vn.call(a));m=d(m)}bn.apply(a,m),l&&!e&&m.length>0&&f+n.length>1&&Wn.uniqueSort(a)}return l&&(an=b,Te=v),g};return i?e(o):o}function m(t,e,n){var i=t.isiOS()&&!0===/ipad/i.test(n),r=t.isiOS()&&!i,o=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,a=i||o||s&&!0===/mobile/i.test(n),l=t.isiOS()||t.isAndroid(),c=l&&!a,u=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n);return{isiPad:yt.constant(i),isiPhone:yt.constant(r),isTablet:yt.constant(a),isPhone:yt.constant(c),isTouch:yt.constant(l),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:yt.constant(u)}}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var i={};return oe.each(t,function(t,n){i[t]=yt.constant(e[n])}),i}}function y(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return Co.validateStrArr("required",t),Co.validateStrArr("optional",e),Co.checkDupes(n),function(i){var r=to.keys(i);oe.forall(t,function(t){return oe.contains(r,t)})||Co.reqMessage(t,r);var o=oe.filter(r,function(t){return!oe.contains(n,t)});o.length>0&&Co.unsuppMessage(o);var s={};return oe.each(t,function(t){s[t]=yt.constant(i[t])}),oe.each(e,function(t){s[t]=yt.constant(Object.prototype.hasOwnProperty.call(i,t)?kt.some(i[t]):kt.none())}),s}}function b(t,e){var n,i=0,r={};n=(e=e||{}).maxLoadTime||5e3;var o=function(e){t.getElementsByTagName("head")[0].appendChild(e)},s=function(e,s,a){var l,c,u,h,d=function(){for(var t=h.passed,e=t.length;e--;)t[e]();h.status=2,h.passed=[],h.failed=[]},f=function(){for(var t=h.failed,e=t.length;e--;)t[e]();h.status=3,h.passed=[],h.failed=[]},p=function(){var t=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(t&&parseInt(t[1],10)<536)},g=function(t,e){t()||((new Date).getTime()-u<n?Ue.setTimeout(e):f())},m=function(){g(function(){for(var e,n,i=t.styleSheets,r=i.length;r--;)if((n=(e=i[r]).ownerNode?e.ownerNode:e.owningElement)&&n.id===l.id)return d(),!0},m)},v=function(){g(function(){try{var t=c.sheet.cssRules;return d(),!!t}catch(e){}},v)};if(e=oi._addCacheSuffix(e),r[e]?h=r[e]:(h={passed:[],failed:[]},r[e]=h),s&&h.passed.push(s),a&&h.failed.push(a),1!==h.status)if(2!==h.status)if(3!==h.status){if(h.status=1,(l=t.createElement("link")).rel="stylesheet",l.type="text/css",l.id="u"+i++,l.async=!1,l.defer=!1,u=(new Date).getTime(),"onload"in l&&!p())l.onload=m,l.onerror=f;else{if(navigator.userAgent.indexOf("Firefox")>0)return(c=t.createElement("style")).textContent='@import "'+e+'"',v(),void o(c);m()}o(l),l.href=e}else f();else d()},a=function(t){return fs.nu(function(e){s(t,yt.compose(e,yt.constant(bs.value(t))),yt.compose(e,yt.constant(bs.error(t))))})},l=function(t){return t.fold(yt.identity,yt.identity)};return{load:s,loadAll:function(t,e,n){ms.par(oe.map(t,a)).get(function(t){var i=oe.partition(t,function(t){return t.isValue()});i.fail.length>0?n(i.fail.map(l)):e(i.pass.map(l))})}}}function w(t,e){var n=t,i=function(t,n,i,r){var o,s;if(t){if(!r&&t[n])return t[n];if(t!==e){if(o=t[i])return o;for(s=t.parentNode;s&&s!==e;s=s.parentNode)if(o=s[i])return o}}},r=function(t,n,i,r){var o,s,a;if(t){if(o=t[i],e&&o===e)return;if(o){if(!r)for(a=o[n];a;a=a[n])if(!a[n])return a;return o}if((s=t.parentNode)&&s!==e)return s}};this.current=function(){return n},this.next=function(t){return n=i(n,"firstChild","nextSibling",t)},this.prev=function(t){return n=i(n,"lastChild","previousSibling",t)},this.prev2=function(t){return n=r(n,"lastChild","previousSibling",t)}}function x(t){var e,n,i,r,o,s,a,l,c,u,h,d,f,p={},g={},m=[],v={},y={},b=function(e,n,i){var r=t[e];return r?r=Ca(r,/[, ]/,Ca(r.toUpperCase(),/[, ]/)):(r=wa[e])||(r=Ca(n," ",Ca(n.toUpperCase()," ")),r=ka(r,i),wa[e]=r),r};i=Aa((t=t||{}).schema),!1===t.verify_html&&(t.valid_elements="*[*]"),e=Ma(t.valid_styles),n=Ma(t.invalid_styles,"map"),l=Ma(t.valid_classes,"map"),r=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),s=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),a=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),u=b("non_empty_elements","td th iframe video audio object script pre code",s),h=b("move_caret_before_on_enter_elements","table",u),d=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),c=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),f=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Sa((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(t){y[t]=new RegExp("</"+t+"[^>]*>","gi")});var w=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},x=function(t){var e,n,i,r,o,s,a,l,c,u,h,d,f,g,v,y,b,x,C,S=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,_=/[*?+]/;if(t)for(t=Ta(t,","),p["@"]&&(y=p["@"].attributes,b=p["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(o=S.exec(t[e])){if(g=o[1],c=o[2],v=o[3],l=o[5],s={attributes:d={},attributesOrder:f=[]},"#"===g&&(s.paddEmpty=!0),"-"===g&&(s.removeEmpty=!0),"!"===o[4]&&(s.removeEmptyAttrs=!0),y){for(x in y)d[x]=y[x];f.push.apply(f,b)}if(l)for(i=0,r=(l=Ta(l,"|")).length;i<r;i++)if(o=k.exec(l[i])){if(a={},h=o[1],u=o[2].replace(/[\\:]:/g,":"),g=o[3],C=o[4],"!"===h&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(u),a.required=!0),"-"===h){delete d[u],f.splice(Ea(f,u),1);continue}g&&("="===g&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:u,value:C}),a.defaultValue=C),":"===g&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:u,value:C}),a.forcedValue=C),"<"===g&&(a.validValues=Ca(C,"?"))),_.test(u)?(s.attributePatterns=s.attributePatterns||[],a.pattern=w(u),s.attributePatterns.push(a)):(d[u]||f.push(u),d[u]=a)}y||"@"!==c||(y=d,b=f),v&&(s.outputName=c,p[v]=s),_.test(c)?(s.pattern=w(c),m.push(s)):p[c]=s}},C=function(t){p={},m=[],x(t),Sa(i,function(t,e){g[e]=t.children})},S=function(t){var e=/^(~)?(.+)$/;t&&(wa.text_block_elements=wa.block_elements=null,Sa(Ta(t,","),function(t){var n=e.exec(t),i="~"===n[1],r=i?"span":"div",o=n[2];if(g[o]=g[r],v[o]=r,i||(c[o.toUpperCase()]={},c[o]={}),!p[o]){var s=p[r];delete(s=ka({},s)).removeEmptyAttrs,delete s.removeEmpty,p[o]=s}Sa(g,function(t,e){t[r]&&(g[e]=t=ka({},g[e]),t[o]=t[r])})}))},k=function(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;wa[t.schema]=null,e&&Sa(Ta(e,","),function(t){var e,i,r=n.exec(t);r&&(i=r[1],e=i?g[r[2]]:g[r[2]]={"#comment":{}},e=g[r[2]],Sa(Ta(r[3],"|"),function(t){"-"===i?delete e[t]:e[t]={}}))})},_=function(t){var e,n=p[t];if(n)return n;for(e=m.length;e--;)if((n=m[e]).pattern.test(t))return n};return t.valid_elements?C(t.valid_elements):(Sa(i,function(t,e){p[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},g[e]=t.children}),"html5"!==t.schema&&Sa(Ta("strong/b em/i"),function(t){t=Ta(t,"/"),p[t[1]].outputName=t[0]}),Sa(Ta("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){p[t]&&(p[t].removeEmpty=!0)}),Sa(Ta("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(t){p[t].paddEmpty=!0}),Sa(Ta("span"),function(t){p[t].removeEmptyAttrs=!0})),S(t.custom_elements),k(t.valid_children),x(t.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),Sa({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(t,e){p[e]&&(p[e].parentsRequired=Ta(t))}),t.invalid_elements&&Sa(_a(t.invalid_elements),function(t){p[t]&&delete p[t]}),_("span")||x("span[!data-mce-type|*]"),{children:g,elements:p,getValidStyles:function(){return e},getValidClasses:function(){return l},getBlockElements:function(){return c},getInvalidStyles:function(){return n},getShortEndedElements:function(){return s},getTextBlockElements:function(){return d},getTextInlineElements:function(){return f},getBoolAttrs:function(){return a},getElementRule:_,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return u},getMoveCaretBeforeOnEnterElements:function(){return h},getWhiteSpaceElements:function(){return r},getSpecialElements:function(){return y},isValidChild:function(t,e){var n=g[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n,i,r=_(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},getCustomElements:function(){return v},addValidElements:x,setValidElements:C,addCustomElements:S,addValidChildren:k}}function C(t,e){var n,i,r,o,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={},h="\ufeff";for(t=t||{},e&&(r=e.getValidStyles(),o=e.getInvalidStyles()),i=("\\\" \\' \\; \\: ; : "+h).split(" "),n=0;n<i.length;n++)u[i[n]]=h+n,u[h+n]=i[n];return{toHex:function(t){return t.replace(s,Ra)},parse:function(e){var i,r,o,d,f={},p=t.url_converter,g=t.url_converter_scope||this,m=function(t,e,i){var r,o,s,a;if((r=f[t+"-top"+e])&&(o=f[t+"-right"+e])&&(s=f[t+"-bottom"+e])&&(a=f[t+"-left"+e])){var l=[r,o,s,a];for(n=l.length-1;n--&&l[n]===l[n+1];);n>-1&&i||(f[t+e]=-1===n?l[0]:l.join(" "),delete f[t+"-top"+e],delete f[t+"-right"+e],delete f[t+"-bottom"+e],delete f[t+"-left"+e])}},v=function(t){var e,n=f[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return f[t]=n[0],!0}},y=function(t,e,n,i){v(e)&&v(n)&&v(i)&&(f[t]=f[e]+" "+f[n]+" "+f[i],delete f[e],delete f[n],delete f[i])},b=function(t){return d=!0,u[t]},w=function(t,e){return d&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return u[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},x=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},C=function(t){return t.replace(/\\[0-9a-f]+/gi,x)},S=function(e,n,i,r,o,s){if(o=o||s)return"'"+(o=w(o)).replace(/\'/g,"\\'")+"'";if(n=w(n||i||r),!t.allow_script_urls){var a=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return p&&(n=p.call(g,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,b)});i=l.exec(e);)if(l.lastIndex=i.index+i[0].length,r=i[1].replace(c,"").toLowerCase(),o=i[2].replace(c,""),r&&o){if(r=C(r),o=C(o),-1!==r.indexOf(h)||-1!==r.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":"color"!==r&&"background-color"!==r||(o=o.toLowerCase()),o=(o=o.replace(s,Ra)).replace(a,S),f[r]=d?w(o,!0):o}m("border","",!0),m("border","-width"),m("border","-color"),m("border","-style"),m("padding",""),m("margin",""),y("border","border-width","border-style","border-color"),"medium none"===f.border&&delete f.border,"none"===f["border-image"]&&delete f["border-image"]}return f},serialize:function(t,e){var n,i,s="",a=function(e){var n,i,o,a;if(n=r[e])for(i=0,o=n.length;i<o;i++)e=n[i],(a=t[e])&&(s+=(s.length>0?" ":"")+e+": "+a+";")},l=function(t,e){var n;return!((n=o["*"])&&n[t]||(n=o[e])&&n[t])};if(e&&r)a("*"),a(e);else for(n in t)!(i=t[n])||o&&!l(n,e)||(s+=(s.length>0?" ":"")+n+": "+i+";");return s}}}function S(t,e){var n,i=this;void 0===e&&(e={});var r={},o=window,s={},a=0,l=!0,c=!0,u=b(t),h=[],d=e.schema?e.schema:x({}),f=C({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),p=e.ownEvents?new rn(e.proxy):rn.Event,g=d.getBlockElements(),m=_i.overrideDefaults(function(){return{context:t,element:ot.getRoot()}}),v=function(t){if("string"==typeof t)return!!g[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!g[t.nodeName])}return!1},y=function(e){if(e&&t&&"string"==typeof e){var n=t.getElementById(e);return n&&n.id!==e?t.getElementsByName(e)[1]:n}return e},k=function(t){return"string"==typeof t&&(t=y(t)),m(t)},_=function(t,e,i){var r,o,s=k(t);return s.length&&(o=(r=n[e])&&r.get?r.get(s,e):s.attr(e)),void 0===o&&(o=i||""),o},E=function(t){var e=y(t);return e?e.attributes:[]},T=function(t,i,r){var o,s;""===r&&(r=null);var a=k(t);o=a.attr(i),a.length&&((s=n[i])&&s.set?s.set(a,r,i):a.attr(i,r),o!==r&&e.onSetAttrib&&e.onSetAttrib({attrElm:a,attrName:i,attrValue:r}))},A=function(e,n){if(!$a||1!==e.nodeType||n)return e.cloneNode(n);if(!n){var i=t.createElement(e.nodeName);return Da(E(e),function(t){T(i,t.nodeName,_(e,t.nodeName))}),i}return null},M=function(){return e.root_element||t.body},R=function(t){var e=t||o,n=e.document,i=c?n.documentElement:n.body;return{x:e.pageXOffset||i.scrollLeft,y:e.pageYOffset||i.scrollTop,w:e.innerWidth||i.clientWidth,h:e.innerHeight||i.clientHeight}},D=function(e,n){return ls.getPos(t.body,y(e),n)},L=function(t,n,i){var r=k(t).css(n,i);e.update_styles&&Na(f,r)},$=function(t,n){var i=k(t).css(n);e.update_styles&&Na(f,i)},O=function(t,e,n){var i=k(t);return n?i.css(e):("float"===(e=e.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}))&&(e=Be.ie&&Be.ie<12?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[e]:undefined)},P=function(t){var e,n;return t=y(t),e=O(t,"width"),n=O(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},I=function(t){var e,n;return t=y(t),e=D(t),n=P(t),{x:e.x,y:e.y,w:n.w,h:n.h}},N=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(Oa.test(e)){var i=e.toLowerCase().split(/,/),r=t.nodeName.toLowerCase();for(n=i.length-1;n>=0;n--)if(i[n]===r)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var o=Array.isArray(t)?t:[t];return Wn(e,o[0].ownerDocument||o[0],null,o).length>0},B=function(t,e,n,i){var r,o=[],s=y(t);for(i=i===undefined,n=n||("BODY"!==M().nodeName?M().parentNode:null),oi.is(e,"string")&&(r=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return N(t,r)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!e||"function"==typeof e&&e(s)){if(!i)return[s];o.push(s)}s=s.parentNode}return i?o:null},F=function(t,e,n){var i=B(t,e,n,!1);return i&&i.length>0?i[0]:null},H=function(t,e,n){var i=e;if(t)for("string"==typeof e&&(i=function(t){return N(t,e)}),t=t[n];t;t=t[n])if("function"==typeof i&&i(t))return t;return null},z=function(t,e){return H(t,e,"nextSibling")},W=function(t,e){return H(t,e,"previousSibling")},j=function(n,i){return Wn(n,y(i)||e.root_element||t,[])},q=function(t,e,n){var r,o="string"==typeof t?y(t):t;if(!o)return!1;if(oi.isArray(o)&&(o.length||0===o.length))return r=[],Da(o,function(t,i){t&&("string"==typeof t&&(t=y(t)),r.push(e.call(n,t,i)))}),r;var s=n||i;return e.call(s,o)},U=function(t,e){k(t).each(function(t,n){Da(e,function(t,e){T(n,e,t)})})},V=function(t,e){var n=k(t);$a?n.each(function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(i){_i("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}}):n.html(e)},G=function(e,n,i,r,o){return q(e,function(e){var s="string"==typeof n?t.createElement(n):n;return U(s,i),r&&("string"!=typeof r&&r.nodeType?s.appendChild(r):"string"==typeof r&&V(s,r)),o?s:e.appendChild(s)})},Y=function(e,n,i){return G(t.createElement(e),e,n,i,!0)},K=ba.decode,X=ba.encodeAllRaw,Q=function(t,e){var n=k(t);return e?n.each(function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},Z=function(e){var n;ot===S.DOM||t!==document?(e||(e=""),n=t.getElementsByTagName("head")[0],Da(e.split(","),function(t){var e;t=oi._addCacheSuffix(t),s[t]||(s[t]=!0,e=Y("link",{rel:"stylesheet",href:t}),n.appendChild(e))})):S.DOM.loadCSS(e)},J=function(t,e,n){k(t).toggleClass(e,n).each(function(){""===this.className&&_i(this).attr("class",null)})},tt=function(t,e,n){return q(e,function(e){return oi.is(e,"array")&&(t=t.cloneNode(!0)),n&&Da(La(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},et=function(){return t.createRange()},nt=function(n,i,r,s){if(oi.isArray(n)){for(var a=n.length;a--;)n[a]=nt(n[a],i,r,s);return n}return!e.collect||n!==t&&n!==o||h.push([n,i,r,s]),p.bind(n,i,r,s||ot)},it=function(e,n,i){var r;if(oi.isArray(e)){for(r=e.length;r--;)e[r]=it(e[r],n,i);return e}if(h&&(e===t||e===o))for(r=h.length;r--;){var s=h[r];e!==s[0]||n&&n!==s[1]||i&&i!==s[2]||p.unbind(s[0],s[1],s[2])}return p.unbind(e,n,i)},rt=function(t){if(t&&ia.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},ot={doc:t,settings:e,win:o,files:s,stdMode:l,boxModel:c,styleSheetLoader:u,boundEvents:h,styles:f,schema:d,events:p,isBlock:v,$:m,$$:k,root:null,clone:A,getRoot:M,getViewPort:R,getRect:I,getSize:P,getParent:F,getParents:B,get:y,getNext:z,getPrev:W,select:j,is:N,add:G,create:Y,createHTML:function(t,e,n){var i,r="";for(i in r+="<"+t,e)e.hasOwnProperty(i)&&null!==e[i]&&"undefined"!=typeof e[i]&&(r+=" "+i+'="'+X(e[i])+'"');return void 0!==n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(e){var n,i=t.createElement("div"),r=t.createDocumentFragment();for(e&&(i.innerHTML=e);n=i.firstChild;)r.appendChild(n);return r},remove:Q,setStyle:L,getStyle:O,setStyles:$,removeAllAttribs:function(t){return q(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},setAttrib:T,setAttribs:U,getAttrib:_,getPos:D,parseStyle:function(t){return f.parse(t)},serializeStyle:function(t,e){return f.serialize(t,e)},addStyle:function(e){var n,i;if(ot!==S.DOM&&t===document){if(r[e])return;r[e]=!0}(i=t.getElementById("mceDefaultStyles"))||((i=t.createElement("style")).id="mceDefaultStyles",i.type="text/css",(n=t.getElementsByTagName("head")[0]).firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(t.createTextNode(e))},loadCSS:Z,addClass:function(t,e){k(t).addClass(e)},removeClass:function(t,e){J(t,e,!1)},hasClass:function(t,e){return k(t).hasClass(e)},toggleClass:J,show:function(t){k(t).show()},hide:function(t){k(t).hide()},isHidden:function(t){return"none"===k(t).css("display")},uniqueId:function(t){return(t||"mce_")+a++},setHTML:V,getOuterHTML:function(t){var e="string"==typeof t?y(t):t;return ia.isElement(e)?e.outerHTML:_i("<div></div>").append(_i(e).clone()).html()},setOuterHTML:function(t,e){k(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}Q(_i(this).html(e),!0)})},decode:K,encode:X,insertAfter:function(t,e){var n=y(e);return q(t,function(t){var e,i;return e=n.parentNode,(i=n.nextSibling)?e.insertBefore(t,i):e.appendChild(t),t})},replace:tt,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=Y(e),Da(E(t),function(e){T(n,e.nodeName,_(t,e.nodeName))}),tt(n,t,!0)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return f.toHex(oi.trim(t))},run:q,getAttribs:E,isEmpty:function(t,e){var n,i,r,o,s,a,l=0;if(t=t.firstChild){s=new w(t,t.parentNode),e=e||(d?d.getNonEmptyElements():null),o=d?d.getWhiteSpaceElements():{};do{if(r=t.nodeType,ia.isElement(t)){var c=t.getAttribute("data-mce-bogus");if(c){t=s.next("all"===c);continue}if(a=t.nodeName.toLowerCase(),e&&e[a]){if("br"===a){l++,t=s.next();continue}return!1}for(n=(i=E(t)).length;n--;)if("name"===(a=i[n].nodeName)||"data-mce-bookmark"===a)return!1}if(8===r)return!1;if(3===r&&!Pa.test(t.nodeValue))return!1;if(3===r&&t.parentNode&&o[t.parentNode.nodeName]&&Pa.test(t.nodeValue))return!1;t=s.next()}while(t)}return l<=1},createRng:et,nodeIndex:Ba,split:function(t,e,n){var i,r,o,s=et();if(t&&e)return s.setStart(t.parentNode,Ba(t)),s.setEnd(e.parentNode,Ba(e)),i=s.extractContents(),(s=et()).setStart(e.parentNode,Ba(e)+1),s.setEnd(t.parentNode,Ba(t)+1),r=s.extractContents(),(o=t.parentNode).insertBefore(aa.trimNode(ot,i),t),n?o.insertBefore(n,t):o.insertBefore(e,t),o.insertBefore(aa.trimNode(ot,r),t),Q(t),n||e},bind:nt,unbind:it,fire:function(t,e,n){return p.fire(t,e,n)},getContentEditable:rt,getContentEditableParent:function(t){for(var e=M(),n=null;t&&t!==e&&null===(n=rt(t));t=t.parentNode);return n},destroy:function(){if(h)for(var t=h.length;t--;){var e=h[t];p.unbind(e[0],e[1],e[2])}Wn.setDocument&&Wn.setDocument()},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return n=Ia(f,e,function(){return ot}),ot}function k(){var t=this,e=[],n={},i={},r=[],o=function(t){var e;return i[t]&&(e=i[t].dependencies),e||[]},s=function(t,n,o){e.push(n),i[t]={instance:n,dependencies:o};var s=oe.partition(r,function(e){return e.name===t});return r=s.fail,Ua(s.pass,function(t){t.callback()}),n},a=function(t){delete n[t],delete i[t]},l=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},c=function(t,e,n){var i=o(name);Ua(i,function(e){var n=l(t,e);u(n.resource,n,undefined,undefined)}),e&&(n?e.call(n):e.call(qa))},u=function(t,e,r,o,s){if(!n[t]){var a="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=k.baseURL+"/"+a),n[t]=a.substring(0,a.lastIndexOf("/")),i[t]?c(e,r,o):qa.ScriptLoader.add(a,function(){return c(e,r,o)},o,s)}};return{items:e,urls:n,lookup:i,_listeners:r,get:function(t){return i[t]?i[t].instance:undefined},dependencies:o,requireLangPack:function(t,e){var i=k.language;if(i&&!1!==k.languageLoad){if(e)if(-1!==(e=","+e+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1===e.indexOf(","+i+","))return;qa.ScriptLoader.add(n[t]+"/langs/"+i+".js")}},add:s,remove:a,createUrl:l,addComponents:function(e,n){var i=t.urls[e];Ua(n,function(t){qa.ScriptLoader.add(i+"/"+t)})},load:u,waitFor:function(t,e){i.hasOwnProperty(t)?e():r.push({name:t,callback:e})}}}function _(t,e,n){var i=function(){return Xl(t),0===e},r=function(){return Xl(t)?e>=t.data.length:e>=t.childNodes.length},o=function(){var n;return(n=tc(t.ownerDocument)).setStart(t,e),n.setEnd(t,e),n},s=function(){return n||(n=cc(_(t,e))),n},a=function(){return s().length>0},l=function(n){return n&&t===n.container()&&e===n.offset()},c=function(n){return Jl(t,n?e-1:e)};return{container:Wl.constant(t),offset:Wl.constant(e),toRange:o,getClientRects:s,isVisible:a,isAtStart:i,isAtEnd:r,isEqual:l,getNode:c}}function E(t,e){var n=function(n){
if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return s(n).getOr("")},i=function(t){try{return r(t)}catch(e){return kt.none()}},r=function(e){return t(e)?kt.from(e.dom().nodeValue):kt.none()},o=Lr.detect().browser,s=o.isIE()&&10===o.version.major?i:r;return{get:n,getOption:s,set:function(n,i){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=i}}}function T(t){var e,n,i,r,o,s=[];return e=(t=t||{}).indent,n=vf(t.indent_before||""),i=vf(t.indent_after||""),r=ba.getEncodeFunc(t.entity_encoding||"raw",t.entities),o="html"===t.element_format,{start:function(t,a,l){var c,u,h,d;if(e&&n[t]&&s.length>0&&(d=s[s.length-1]).length>0&&"\n"!==d&&s.push("\n"),s.push("<",t),a)for(c=0,u=a.length;c<u;c++)h=a[c],s.push(" ",h.name,'="',r(h.value,!0),'"');s[s.length]=!l||o?">":" />",l&&e&&i[t]&&s.length>0&&(d=s[s.length-1]).length>0&&"\n"!==d&&s.push("\n")},end:function(t){var n;s.push("</",t,">"),e&&i[t]&&s.length>0&&(n=s[s.length-1]).length>0&&"\n"!==n&&s.push("\n")},text:function(t,e){t.length>0&&(s[s.length]=e?t:r(t))},cdata:function(t){s.push("<![CDATA[",t,"]]>")},comment:function(t){s.push("<!--",t,"-->")},pi:function(t,n){n?s.push("<?",t," ",r(n),"?>"):s.push("<?",t,"?>"),e&&s.push("\n")},doctype:function(t){s.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}}function A(t,e){void 0===e&&(e=x());var n=T(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(i){var r,o;o=t.validate,r={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{s(t)}while(t=t.next)}},n.reset();var s=function(t){var i,a,l,c,u,h,d,f,p,g=r[t.type];if(g)g(t);else{if(i=t.name,a=t.shortEnded,l=t.attributes,o&&l&&l.length>1&&((h=[]).map={},p=e.getElementRule(t.name))){for(d=0,f=p.attributesOrder.length;d<f;d++)(c=p.attributesOrder[d])in l.map&&(u=l.map[c],h.map[c]=u,h.push({name:c,value:u}));for(d=0,f=l.length;d<f;d++)(c=l[d].name)in h.map||(u=l.map[c],h.map[c]=u,h.push({name:c,value:u}));l=h}if(n.start(t.name,l,a),!a){if(t=t.firstChild)do{s(t)}while(t=t.next);n.end(i)}}};return 1!==i.type||t.inner?r[11](i):s(i),n.getContent()}}}function M(t,e,n,i,r){return t(n,i)?kt.some(n):Tt.isFunction(r)&&r(n)?kt.none():e(n,i,r)}function R(t){var e,n,i,r,o={state:{},exec:{},value:{}},s=t.settings;t.on("PreInit",function(){e=t.dom,n=t.selection,s=t.settings,i=t.formatter});var a=function(e){var n;if(!t.quirks.isHidden()&&!t.removed){if(e=e.toLowerCase(),n=o.state[e])return n(e);try{return t.getDoc().queryCommandState(e)}catch(i){}return!1}},l=function(t,e){e=e||"exec",By(t,function(t,n){By(n.toLowerCase().split(","),function(n){o[e][n]=t})})},c=function(e,n,i){e=e.toLowerCase(),o.value[e]=function(){return n.call(i||t)}};Fy(this,{execCommand:function(e,n,i,r){var s,a,l=!1;if(!t.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Py.restore(t):t.focus(),(r=t.fire("BeforeExecCommand",{command:e,ui:n,value:i})).isDefaultPrevented())return!1;if(a=e.toLowerCase(),s=o.exec[a])return s(a,n,i),t.fire("ExecCommand",{command:e,ui:n,value:i}),!0;if(By(t.plugins,function(r){if(r.execCommand&&r.execCommand(e,n,i))return t.fire("ExecCommand",{command:e,ui:n,value:i}),l=!0,!1}),l)return l;if(t.theme&&t.theme.execCommand&&t.theme.execCommand(e,n,i))return t.fire("ExecCommand",{command:e,ui:n,value:i}),!0;try{l=t.getDoc().execCommand(e,n,i)}catch(c){}return!!l&&(t.fire("ExecCommand",{command:e,ui:n,value:i}),!0)}},queryCommandState:a,queryCommandValue:function(e){var n;if(!t.quirks.isHidden()&&!t.removed){if(e=e.toLowerCase(),n=o.value[e])return n(e);try{return t.getDoc().queryCommandValue(e)}catch(i){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),o.exec[e])return!0;try{return t.getDoc().queryCommandSupported(e)}catch(n){}return!1},addCommands:l,addCommand:function(e,n,i){e=e.toLowerCase(),o.exec[e]=function(e,r,o,s){return n.call(i||t,r,o,s)}},addQueryStateHandler:function(e,n,i){e=e.toLowerCase(),o.state[e]=function(){return n.call(i||t)}},addQueryValueHandler:c,hasCustomCommand:function(t){return t=t.toLowerCase(),!!o.exec[t]}});var u=function(e,n,i){return n===undefined&&(n=!1),i===undefined&&(i=null),t.getDoc().execCommand(e,n,i)},h=function(t){return i.match(t)},d=function(e,n){i.toggle(e,n?{value:n}:undefined),t.nodeChanged()},f=function(t){r=n.getBookmark(t)},p=function(){n.moveToBookmark(r)};l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(e){var n,i=t.getDoc();try{u(e)}catch(o){n=!0}if("paste"!==e||i.queryCommandEnabled(e)||(n=!0),n||!i.queryCommandSupported(e)){var r=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Be.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(n.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else i.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"===e&&(e="justify"),By("left,center,right,justify".split(","),function(t){e!==t&&i.remove("align"+t)}),"none"!==e&&d("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var i,r;u(t),(i=e.getParent(n.getNode(),"ol,ul"))&&(r=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(f(),e.split(r,i),p()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){d(t)},"ForeColor,HiliteColor":function(t,e,n){d(t,n)},FontName:function(e,n,i){Nv(t,i)},FontSize:function(e,n,i){Fv(t,i)},RemoveFormat:function(t){i.remove(t)},mceBlockQuote:function(){d("blockquote")},FormatBlock:function(t,e,n){return d(n||"p")},mceCleanup:function(){var e=n.getBookmark();t.setContent(t.getContent()),n.moveToBookmark(e)},mceRemoveNode:function(e,i,r){var o=r||n.getNode();o!==t.getBody()&&(f(),t.dom.remove(o,!0),p())},mceSelectNodeDepth:function(i,r,o){var s=0;e.getParent(n.getNode(),function(t){if(1===t.nodeType&&s++===o)return n.select(t),!1},t.getBody())},mceSelectNode:function(t,e,i){n.select(i)},mceInsertContent:function(e,n,i){Ef.insertAtCaret(t,i)},mceInsertRawHTML:function(e,i,r){var o=t.getContent();n.setContent("tiny_mce_marker"),t.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceToggleFormat:function(t,e,n){d(n)},mceSetContent:function(e,n,i){t.setContent(i)},"Indent,Outdent":function(e){Ny(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,i,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(t,r,o){var s;"string"==typeof o&&(o={href:o}),s=e.getParent(n.getNode(),"a"),o.href=o.href.replace(" ","%20"),s&&o.href||i.remove("link"),o.href&&i.apply("link",o,s)},selectAll:function(){var t=e.getParent(n.getStart(),ia.isContentEditableTrue);if(t){var i=e.createRng();i.selectNodeContents(t),n.setRng(i)}},"delete":function(){_v.deleteCommand(t)},forwardDelete:function(){_v.forwardDeleteCommand(t)},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,i){return dy.insert(t,i),!0}});var g=function(t){return function(){var r=n.isCollapsed()?[e.getParent(n.getNode(),e.isBlock)]:n.getSelectedBlocks(),o=Hy(r,function(e){return!!i.matchNode(e,t)});return-1!==zy(o,!0)}};l({JustifyLeft:g("alignleft"),JustifyCenter:g("aligncenter"),JustifyRight:g("alignright"),JustifyFull:g("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return h(t)},mceBlockQuote:function(){return h("blockquote")},Outdent:function(){var t;if(s.inline_styles){if((t=e.getParent(n.getStart(),e.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return!0;if((t=e.getParent(n.getEnd(),e.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return!0}return a("InsertUnorderedList")||a("InsertOrderedList")||!s.inline_styles&&!!e.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var i=e.getParent(n.getNode(),"ul,ol");return i&&("insertunorderedlist"===t&&"UL"===i.tagName||"insertorderedlist"===t&&"OL"===i.tagName)}},"state"),l({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),c("FontName",function(){return Bv(t)},this),c("FontSize",function(){return Hv(t)},this)}function D(t,e,n){var i=n||!1,r=function(){e(),i=!0},o=function(){t(),i=!1};return{on:r,off:o,toggle:function(){(i?o:r)()},isOn:function(){return i}}}function L(t){var e=this,n={},i=[],r=function(t){var e,n,i={};for(n in yb(bb(t,"+"),function(t){t in xb?i[t]=!0:/^[0-9]{2,}$/.test(t)?i.keyCode=parseInt(t,10):(i.charCode=t.charCodeAt(0),i.keyCode=wb[t]||t.toUpperCase().charCodeAt(0))}),e=[i.keyCode],xb)i[n]?e.push(n):i[n]=!1;return i.id=e.join(","),i.access&&(i.alt=!0,Be.mac?i.ctrl=!0:i.shift=!0),i.meta&&(Be.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},o=function(e,n,i,o){var s;return(s=oi.map(bb(e,">"),r))[s.length-1]=oi.extend(s[s.length-1],{func:i,scope:o||t}),oi.extend(s[0],{desc:t.translate(n),subpatterns:s.slice(1)})},s=function(t){return t.altKey||t.ctrlKey||t.metaKey},a=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},l=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},c=function(t){return t.func?t.func.call(t.scope):null};t.on("keyup keypress keydown",function(t){!s(t)&&!a(t)||t.isDefaultPrevented()||(yb(n,function(e){if(l(t,e))return i=e.subpatterns.slice(0),"keydown"===t.type&&c(e),!0}),l(t,i[0])&&(1===i.length&&"keydown"===t.type&&c(i[0]),i.shift()))}),e.add=function(e,i,r,s){var a;return a=r,"string"==typeof r?r=function(){t.execCommand(a,!1,null)}:oi.isArray(a)&&(r=function(){t.execCommand(a[0],a[1],a[2])}),yb(bb(oi.trim(e.toLowerCase())),function(t){var e=o(t,i,r,s);n[e.id]=e}),!0},e.remove=function(t){var e=o(t);return!!n[e.id]&&(delete n[e.id],!0)}}function $(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}}function O(t){var e=[],n=function(){var e=t.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():$()},i=function(){return kt.from(e[0])},r=function(t,e){return!(t.type!==e.type||t.text!==e.text||t.progressBar||t.timeout||e.progressBar||e.timeout)},o=function(){e.length>0&&n().reposition(e)},s=function(t){e.push(t)},a=function(t){oe.findIndex(e,function(e){return e===t}).each(function(t){e.splice(t,1)})},l=function(i){if(!t.removed&&Yb.isEditorAttachedToDom(t))return oe.find(e,function(t){return r(n().getArgs(t),i)}).getOrThunk(function(){t.editorManager.setActive(t);var e=n().open(i,function(){a(e),o()});return s(e),o(),e})},c=function(){i().each(function(t){n().close(t),a(t),o()})},u=function(){return e};return function(t){t.on("SkinLoaded",function(){var e=t.settings.service_message;e&&l({text:e,type:"warning",timeout:0,icon:""})}),t.on("ResizeEditor ResizeWindow",function(){Ue.requestAnimationFrame(o)}),t.on("remove",function(){oe.each(e,function(t){n().close(t)})})}(t),{open:l,close:c,getNotifications:u}}function P(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}function I(t){var e=[],n=function(){var e=t.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():P()},i=function(t,e){return function(){return e?e.apply(t,arguments):undefined}},r=function(e){t.fire("OpenWindow",{win:e})},o=function(e){t.fire("CloseWindow",{win:e})},s=function(t){e.push(t),r(t)},a=function(n){oe.findIndex(e,function(t){return t===n}).each(function(i){e.splice(i,1),o(n),0===e.length&&t.focus()})},l=function(){return kt.from(e[e.length-1])},c=function(e,i){t.editorManager.setActive(t),Py.store(t);var r=n().open(e,i,a);return s(r),r},u=function(t,e,r){var o=n().alert(t,i(r||this,e),a);s(o)},h=function(t,e,r){var o=n().confirm(t,i(r||this,e),a);s(o)},d=function(){l().each(function(t){n().close(t),a(t)})},f=function(){return l().map(n().getParams).getOr(null)},p=function(t){l().each(function(e){n().setParams(e,t)})},g=function(){return e};return t.on("remove",function(){oe.each(e.slice(0),function(t){n().close(t)})}),{windows:e,open:c,alert:u,confirm:h,close:d,getParams:f,setParams:p,getWindows:g}}function N(){return new(de.getOrDie("XMLHttpRequest"))}function B(t,e){var n={},i=function(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e},r=function(t,n,r,o){var s,a;(s=new N).open("POST",e.url),s.withCredentials=e.credentials,s.upload.onprogress=function(t){o(t.loaded/t.total*100)},s.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var t;s.status<200||s.status>=300?r("HTTP Error: "+s.status):(t=JSON.parse(s.responseText))&&"string"==typeof t.location?n(i(e.basePath,t.location)):r("Invalid JSON: "+s.responseText)},(a=new FormData).append("file",t.blob(),t.filename()),s.send(a)},o=function(){return new He(function(t){t([])})},s=function(t,e){return{url:e,blobInfo:t,status:!0}},a=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},l=function(t,e){oi.each(n[t],function(t){t(e)}),delete n[t]},c=function(e,n,i){return t.markPending(e.blobUri()),new He(function(r){var o;try{var c=function(){o&&o.close()};n(e,function(n){c(),t.markUploaded(e.blobUri(),n),l(e.blobUri(),s(e,n)),r(s(e,n))},function(n){c(),t.removeFailed(e.blobUri()),l(e.blobUri(),a(e,n)),r(a(e,n))},function(t){t<0||t>100||(o||(o=i()),o.progressBar.value(t))})}catch(u){r(a(e,u.message))}})},u=function(t){return t===r},h=function(t){var e=t.blobUri();return new He(function(t){n[e]=n[e]||[],n[e].push(t)})},d=function(n,i){return n=oi.grep(n,function(e){return!t.isUploaded(e.blobUri())}),He.all(oi.map(n,function(n){return t.isPending(n.blobUri())?h(n):c(n,e.handler,i)}))},f=function(t,n){return!e.url&&u(e.handler)?o():d(t,n)};return e=oi.extend({credentials:!1,handler:r},e),{upload:f}}function F(t,e){return new(de.getOrDie("Blob"))(t,e)}function H(){return new(de.getOrDie("FileReader"))}function z(t){return new(de.getOrDie("Uint8Array"))(t)}function W(t,e){var n={};return{findAll:function(i,r){var o;r||(r=Wl.constant(!0)),o=Vn.filter(hw(i),function(e){var n=e.src;return!!Be.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===Be.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n):0===n.indexOf("data:")&&r(e))});var s=Vn.map(o,function(t){if(n[t.src])return new He(function(e){n[t.src].then(function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})})});var i=new He(function(n,i){uw(e,t,n,i)}).then(function(t){return delete n[t.image.src],t})["catch"](function(e){return delete n[t.src],e});return n[t.src]=i,i});return He.all(s)}}}function j(){var t=[],e=Wl.constant,n=function(t){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[t.toLowerCase()]||"dat"},i=function(t,e,n,i){return r("object"==typeof t?t:{id:t,name:i,blob:e,base64:n})},r=function(t){var i,r;if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return i=t.id||pw.uuid("blobid"),r=t.name||i,{id:e(i),name:e(r),filename:e(r+"."+n(t.blob.type)),blob:e(t.blob),base64:e(t.base64),blobUri:e(t.blobUri||pe.createObjectURL(t.blob)),uri:e(t.uri)}},o=function(e){s(e.id())||t.push(e)},s=function(t){return a(function(e){return e.id()===t})},a=function(e){return Vn.filter(t,e)[0]};return{create:i,add:o,get:s,getByUri:function(t){return a(function(e){return e.blobUri()===t})},findFirst:a,removeByUri:function(e){t=Vn.filter(t,function(t){return t.blobUri()!==e||(pe.revokeObjectURL(t.blobUri()),!1)})},destroy:function(){Vn.each(t,function(t){pe.revokeObjectURL(t.blobUri())}),t=[]}}}function q(){var t=1,e=2,n={},i=function(t,e){return{status:t,resultUri:e}},r=function(t){return t in n};return{hasBlobUri:r,getResultUri:function(t){var e=n[t];return e?e.resultUri:null},isPending:function(e){return!!r(e)&&n[e].status===t},isUploaded:function(t){return!!r(t)&&n[t].status===e},markPending:function(e){n[e]=i(t,null)},markUploaded:function(t,r){n[t]=i(e,r)},removeFailed:function(t){delete n[t]},destroy:function(){n={}}}}function U(t){var e,n,i=j(),r=t.settings,o=q(),s=function(e){return function(n){return t.selection?e(n):[]}},a=function(){return"?"+(new Date).getTime()},l=function(t,e,n){var i=0;do{-1!==(i=t.indexOf(e,i))&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1)}while(-1!==i);return t},c=function(t,e,n){return t=l(t,'src="'+e+'"','src="'+n+'"'),t=l(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},u=function(e,n){Vn.each(t.undoManager.data,function(t){"fragmented"===t.type?t.fragments=Vn.map(t.fragments,function(t){return c(t,e,n)}):t.content=c(t.content,e,n)})},h=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},d=function(e,n){i.removeByUri(e.src),u(e.src,n),t.$(e).attr({src:r.images_reuse_filename?n+a():n,"data-mce-src":t.convertURL(n,"src")})},f=function(n){return e||(e=B(o,{url:r.images_upload_url,basePath:r.images_upload_base_path,credentials:r.images_upload_credentials,handler:r.images_upload_handler})),m().then(s(function(i){var r;return r=Vn.map(i,function(t){return t.blobInfo}),e.upload(r,h).then(s(function(e){var r=Vn.map(e,function(e,n){var r=i[n].image;return e.status&&!1!==t.settings.images_replace_blob_uris?d(r,e.url):e.error&&tw.uploadError(t,e.error),{element:r,status:e.status}});return n&&n(r),r}))}))},p=function(t){if(!1!==r.automatic_uploads)return f(t)},g=function(t){return!r.images_dataimg_filter||r.images_dataimg_filter(t)},m=function(){return n||(n=W(o,i)),n.findAll(t.getBody(),g).then(s(function(e){return e=Vn.filter(e,function(e){return"string"!=typeof e||(tw.displayError(t,e),!1)}),Vn.each(e,function(t){u(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")}),e}))},v=function(){i.destroy(),o.destroy(),n=e=null},y=function(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var r=o.getResultUri(n);if(r)return'src="'+r+'"';var s=i.getByUri(n);return s||(s=Vn.reduce(t.editorManager.get(),function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)},null)),s?'src="data:'+s.blob().type+";base64,"+s.base64()+'"':e})};return t.on("setContent",function(){!1!==t.settings.automatic_uploads?p():m()}),t.on("RawSaveContent",function(t){t.content=y(t.content)}),t.on("getContent",function(t){t.source_view||"raw"===t.format||(t.content=y(t.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(t){Vn.each(t,function(t){var e=t.attr("src");if(!i.getByUri(e)){var n=o.getResultUri(e);n&&t.attr("src",n)}})})}),{blobCache:i,uploadImages:f,uploadImagesAuto:p,scanForImages:m,destroy:v}}function V(t){var e,n=[],i=function(e){var i,r;if((r=t.$(e).parentsUntil(t.getBody()).add(e)).length===n.length){for(i=r.length;i>=0&&r[i]===n[i];i--);if(-1===i)return n=r,!0}return n=r,!1};"onselectionchange"in t.getDoc()||t.on("NodeChange Click MouseUp KeyUp Focus",function(n){var i,r;r={startContainer:(i=t.selection.getRng()).startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!==n.type&&zv.isEq(r,e)||t.fire("SelectionChange"),e=r}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var e=t.selection.getStart(!0);!e||!Be.range&&t.selection.isCollapsed()||Tw(t)&&!i(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("MouseUp",function(e){!e.isDefaultPrevented()&&Tw(t)&&("IMG"===t.selection.getNode().nodeName?Ue.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())}),this.nodeChanged=function(e){var n,i,r,o=t.selection;t.initialized&&o&&!t.settings.disable_nodechange&&!t.readonly&&(r=t.getBody(),(n=o.getStart(!0)||r).ownerDocument===t.getDoc()&&t.dom.isChildOf(n,r)||(n=r),i=[],t.dom.getParent(n,function(t){if(t===r)return!0;i.push(t)}),(e=e||{}).element=n,e.parents=i,t.fire("NodeChange",e))}}function G(t,e){void 0===e&&(e=x());var n=function(){};!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var i=t.comment?t.comment:n,r=t.cdata?t.cdata:n,o=t.text?t.text:n,s=t.start?t.start:n,a=t.end?t.end:n,l=t.pi?t.pi:n,c=t.doctype?t.doctype:n;return{parse:function(n){var u,h,d,f,p,g,m,v,y,b,w,x,C,S,k,_,E,T,A,M,R,D,L,$,O,P,I,N,B,F=0,H=[],z=0,W=ba.decode,j=oi.makeMap("src,href,data,background,formaction,poster,xlink:href"),q=/((java|vb)script|mhtml):/i,U=function(t){var e,n;for(e=H.length;e--&&H[e].name!==t;);if(e>=0){for(n=H.length-1;n>=e;n--)(t=H[n]).valid&&a(t.name);H.length=e}},V=function(e,n,i,r,o){var s,a,l=/[\s\u0000-\u001F]+/g;if(i=(n=n.toLowerCase())in w?n:W(i||r||o||""),C&&!v&&!1===Ox(n)){if(!(s=T[n])&&A){for(a=A.length;a--&&!(s=A[a]).pattern.test(n););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}if(j[n]&&!t.allow_script_urls){var c=i.replace(l,"");try{c=decodeURIComponent(c)}catch(u){c=unescape(c)}if(q.test(c))return;if(Ix(t,c))return}v&&(n in j||0===n.indexOf("on"))||(f.map[n]=i,f.push({name:n,value:i}))};for(O=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),P=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=e.getShortEndedElements(),$=t.self_closing_elements||e.getSelfClosingElements(),w=e.getBoolAttrs(),C=t.validate,y=t.remove_internals,B=t.fix_self_closing,I=e.getSpecialElements(),L=n+">";u=O.exec(L);){if(F<u.index&&o(W(n.substr(F,u.index-F))),h=u[6])":"===(h=h.toLowerCase()).charAt(0)&&(h=h.substr(1)),U(h);else if(h=u[7]){if(u.index+u[0].length>n.length){o(W(n.substr(u.index))),F=u.index+u[0].length;continue}if(":"===(h=h.toLowerCase()).charAt(0)&&(h=h.substr(1)),x=h in b,B&&$[h]&&H.length>0&&H[H.length-1].name===h&&U(h),!C||(S=e.getElementRule(h))){if(k=!0,C&&(T=S.attributes,A=S.attributePatterns),(E=u[8])?((v=-1!==E.indexOf("data-mce-type"))&&y&&(k=!1),(f=[]).map={},E.replace(P,V)):(f=[]).map={},C&&!v){if(M=S.attributesRequired,R=S.attributesDefault,D=S.attributesForced,S.removeEmptyAttrs&&!f.length&&(k=!1),D)for(p=D.length;p--;)m=(_=D[p]).name,"{$uid}"===(N=_.value)&&(N="mce_"+z++),f.map[m]=N,f.push({name:m,value:N});if(R)for(p=R.length;p--;)(m=(_=R[p]).name)in f.map||("{$uid}"===(N=_.value)&&(N="mce_"+z++),f.map[m]=N,f.push({name:m,value:N}));if(M){for(p=M.length;p--&&!(M[p]in f.map););-1===p&&(k=!1)}if(_=f.map["data-mce-bogus"]){if("all"===_){F=Nx(e,n,O.lastIndex),O.lastIndex=F;continue}k=!1}}k&&s(h,f,x)}else k=!1;if(d=I[h]){d.lastIndex=F=u.index+u[0].length,(u=d.exec(n))?(k&&(g=n.substr(F,u.index-F)),F=u.index+u[0].length):(g=n.substr(F),F=n.length),k&&(g.length>0&&o(g,!0),a(h)),O.lastIndex=F;continue}x||(E&&E.indexOf("/")===E.length-1?k&&a(h):H.push({name:h,valid:k}))}else(h=u[1])?(">"===h.charAt(0)&&(h=" "+h),t.allow_conditional_comments||"[if"!==h.substr(0,3).toLowerCase()||(h=" "+h),i(h)):(h=u[2])?r(Px(h)):(h=u[3])?c(h):(h=u[4])&&l(h,u[5]);F=u.index+u[0].length}for(F<n.length&&o(W(n.substr(F))),p=H.length-1;p>=0;p--)(h=H[p]).valid&&a(h.name)}}}function Y(t){var e,n,i=this,r=0,o=[],s=0,a=function(){return 0===s},l=function(t){a()&&(i.typing=t)},c=function(e){t.setDirty(e)},u=function(t){l(!1),i.add({},t)},h=function(){i.typing&&(l(!1),i.add())};t.on("init",function(){i.add()}),t.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(h(),i.beforeChange())}),t.on("ExecCommand",function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&u(t)}),t.on("ObjectResizeStart Cut",function(){i.beforeChange()}),t.on("SaveContent ObjectResized blur",u),t.on("DragEnd",u),t.on("KeyUp",function(e){var r=e.keyCode;e.isDefaultPrevented()||((r>=33&&r<=36||r>=37&&r<=40||45===r||e.ctrlKey)&&(u(),t.nodeChanged()),46!==r&&8!==r||t.nodeChanged(),n&&i.typing&&!1===uC.isEq(uC.createFromEditor(t),o[0])&&(!1===t.isDirty()&&(c(!0),t.fire("change",{level:o[0],lastLevel:null})),t.fire("TypingUndo"),n=!1,t.nodeChanged()))}),t.on("KeyDown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented())if(e>=33&&e<=36||e>=37&&e<=40||45===e)i.typing&&u(t);else{var r=t.ctrlKey&&!t.altKey||t.metaKey;!(e<16||e>20)||224===e||91===e||i.typing||r||(i.beforeChange(),l(!0),i.add({},t),n=!0)}}),t.on("MouseDown",function(t){i.typing&&u(t)});var d=function(t){return"insertReplacementText"===t.inputType},f=function(t){return"insertText"===t.inputType&&null===t.data};return t.on("input",function(t){t.inputType&&(d(t)||f(t))&&u(t)}),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()}),i={data:o,typing:!1,beforeChange:function(){a()&&(e=Pd.getUndoBookmark(t.selection))},add:function(n,i){var s,l,u,h=t.settings;if(u=uC.createFromEditor(t),n=n||{},n=oi.extend(n,u),!1===a()||t.removed)return null;if(l=o[r],t.fire("BeforeAddUndo",{level:n,lastLevel:l,originalEvent:i}).isDefaultPrevented())return null;if(l&&uC.isEq(l,n))return null;if(o[r]&&(o[r].beforeBookmark=e),h.custom_undo_redo_levels&&o.length>h.custom_undo_redo_levels){for(s=0;s<o.length-1;s++)o[s]=o[s+1];o.length--,r=o.length}n.bookmark=Pd.getUndoBookmark(t.selection),r<o.length-1&&(o.length=r+1),o.push(n),r=o.length-1;var d={level:n,lastLevel:l,originalEvent:i};return t.fire("AddUndo",d),r>0&&(c(!0),t.fire("change",d)),n},undo:function(){var e;return i.typing&&(i.add(),i.typing=!1,l(!1)),r>0&&(e=o[--r],uC.applyToEditor(t,e,!0),c(!0),t.fire("undo",{level:e})),e},redo:function(){var e;return r<o.length-1&&(e=o[++r],uC.applyToEditor(t,e,!1),c(!0),t.fire("redo",{level:e})),e},clear:function(){o=[],r=0,i.typing=!1,i.data=o,t.fire("ClearUndos")},hasUndo:function(){return r>0||i.typing&&o[0]&&!uC.isEq(uC.createFromEditor(t),o[0])},hasRedo:function(){return r<o.length-1&&!i.typing},transact:function(t){return h(),i.beforeChange(),i.ignore(t),i.add()},ignore:function(t){try{s++,t()}finally{s--}},extra:function(e,n){var s,a;i.transact(e)&&(a=o[r].bookmark,s=o[r-1],uC.applyToEditor(t,s,!0),i.transact(n)&&(o[r-1].beforeBookmark=a))}}}function K(t){var e={},n=function(t){return t?e[t]:e},i=function(t,n){t&&("string"!=typeof t?oi.each(t,function(t,e){i(e,t)}):(n=n.length?n:[n],oi.each(n,function(t){"undefined"==typeof t.deep&&(t.deep=!t.selector),"undefined"==typeof t.split&&(t.split=!t.selector||t.inline),"undefined"==typeof t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),e[t]=n))},r=function(t){return t&&e[t]&&delete e[t],e};return i(VS.get(t.dom)),i(t.settings.formats),{get:n,register:i,unregister:r}}function X(t){var e=K(t),n=Gu(null);return ek.setup(t),nS(t),{get:e.get,register:e.register,unregister:e.unregister,apply:yt.curry(zS.applyFormat,t),remove:yt.curry(ES.remove,t),toggle:yt.curry(tk.toggle,t,e),match:yt.curry(NC.match,t),matchAll:yt.curry(NC.matchAll,t),matchNode:yt.curry(NC.matchNode,t),canApply:yt.curry(NC.canApply,t),formatChanged:yt.curry(US.formatChanged,t,n),getCssText:yt.curry(JS.getCssText,t)}}function Q(t,e){void 0===e&&(e=x());var n={},i=[],r={},o={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var s=function(t){var n,i,r,o,s,l,c,u,h,d,f,p,g,m,v,y;for(p=Tk("tr,td,th,tbody,thead,tfoot,table"),d=e.getNonEmptyElements(),f=e.getWhiteSpaceElements(),g=e.getTextBlockElements(),m=e.getSpecialElements(),n=0;n<t.length;n++)if((i=t[n]).parent&&!i.fixed)if(g[i.name]&&"li"===i.parent.name){for(v=i.next;v&&g[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!e.isValidChild(r.name,i.name)&&!p[r.name];r=r.parent)o.push(r);if(r&&o.length>1){for(o.reverse(),s=l=a(o[0].clone()),h=0;h<o.length-1;h++){for(e.isValidChild(l.name,o[h].name)?(c=a(o[h].clone()),l.append(c)):c=l,u=o[h].firstChild;u&&u!==o[h+1];)y=u.next,c.append(u),u=y;l=c}kk(e,d,f,s)?r.insert(i,o[0],!0):(r.insert(s,o[0],!0),r.insert(i,s)),r=o[0],(kk(e,d,f,r)||Ck(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((v=i.prev)&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if((v=i.next)&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(a(new bk("ul",1)));continue}e.isValidChild(i.parent.name,"div")&&e.isValidChild("div",i.name)?i.wrap(a(new bk("div",1))):m[i.name]?i.empty().remove():i.unwrap()}}},a=function(t){var e,s,a;s in n&&((a=r[s])?a.push(t):r[s]=[t]),e=i.length;for(;e--;)(s=i[e].name)in t.attributes.map&&((a=o[s])?a.push(t):o[s]=[t]);return t},l={schema:e,addAttributeFilter:function(t,e){Ak(Mk(t),function(t){var n;for(n=0;n<i.length;n++)if(i[n].name===t)return void i[n].callbacks.push(e);i.push({name:t,callbacks:[e]})})},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(t,e){Ak(Mk(t),function(t){var i=n[t];i||(n[t]=i=[]),i.push(e)})},getNodeFilters:function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:a,parse:function(a,l){var c,u,h,d,f,p,g,m,v,y,b,w=[];l=l||{},r={},o={},v=Rk(Tk("script,style,head,html,body,title,meta,param"),e.getBlockElements());var x=e.getNonEmptyElements(),C=e.children,S=t.validate,k="forced_root_block"in l?l.forced_root_block:t.forced_root_block,_=e.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,A=/[ \t\r\n]+/g,M=/^[ \t\r\n]+$/;y=_.hasOwnProperty(l.context)||_.hasOwnProperty(t.root_name);var R=function(){var n,i,r=O.firstChild,o=function(t){t&&((r=t.firstChild)&&3===r.type&&(r.value=r.value.replace(E,"")),(r=t.lastChild)&&3===r.type&&(r.value=r.value.replace(T,"")))};if(e.isValidChild(O.name,k.toLowerCase())){for(;r;)n=r.next,3===r.type||1===r.type&&"p"!==r.name&&!v[r.name]&&!r.attr("data-mce-type")?i?i.append(r):((i=D(k,1)).attr(t.forced_root_block_attrs),O.insert(i,r),i.append(r)):(o(i),i=null),r=n;o(i)}},D=function(t,e){var i,o=new bk(t,e);return t in n&&((i=r[t])?i.push(o):r[t]=[o]),o},L=function(t){var n,i,r,o,s=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if((r=n.value.replace(T,"")).length>0)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!s[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}},$=function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n};c=Bx({validate:S,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,self_closing_elements:$(e.getSelfClosingElements()),cdata:function(t){b.append(D("#cdata",4)).value=t},text:function(t,e){var n;y||(t=t.replace(A," "),_k(b.lastChild,v)&&(t=t.replace(E,""))),0!==t.length&&((n=D("#text",3)).raw=!!e,b.append(n).value=t)},comment:function(t){b.append(D("#comment",8)).value=t},pi:function(t,e){b.append(D(t,7)).value=e,L(b)},doctype:function(t){b.append(D("#doctype",10)).value=t,L(b)},start:function(t,n,r){var s,a,l,c,u;if(l=S?e.getElementRule(t):{}){for((s=D(l.outputName||t,1)).attributes=n,s.shortEnded=r,b.append(s),(u=C[b.name])&&C[s.name]&&!u[s.name]&&w.push(s),a=i.length;a--;)(c=i[a].name)in n.map&&((g=o[c])?g.push(s):o[c]=[s]);v[t]&&L(s),r||(b=s),!y&&_[t]&&(y=!0)}},end:function(n){var i,r,o,s,a;if(r=S?e.getElementRule(n):{}){if(v[n]&&!y){if((i=b.firstChild)&&3===i.type)if((o=i.value.replace(E,"")).length>0)i.value=o,i=i.next;else for(s=i.next,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.next,(0===o.length||M.test(o))&&(i.remove(),i=s),i=s;if((i=b.lastChild)&&3===i.type)if((o=i.value.replace(T,"")).length>0)i.value=o,i=i.prev;else for(s=i.prev,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.prev,(0===o.length||M.test(o))&&(i.remove(),i=s),i=s}if(y&&_[n]&&(y=!1),r.removeEmpty&&kk(e,x,_,b)&&!b.attributes.map.name&&!b.attr("id"))return a=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=a);r.paddEmpty&&(xk(b)||kk(e,x,_,b))&&wk(t,l,v,b),b=b.parent}}},e);var O=b=new bk(l.context||t.root_name,11);if(c.parse(a),S&&w.length&&(l.context?l.invalid=!0:s(w)),k&&("body"===O.name||l.isRootContent)&&R(),!l.invalid){for(m in r){for(g=n[m],f=(u=r[m]).length;f--;)u[f].parent||u.splice(f,1);for(h=0,d=g.length;h<d;h++)g[h](u,m,l)}for(h=0,
d=i.length;h<d;h++)if((g=i[h]).name in o){for(f=(u=o[g.name]).length;f--;)u[f].parent||u.splice(f,1);for(f=0,p=g.callbacks.length;f<p;f++)g.callbacks[f](u,g.name,l)}}return O}};return Ek(l,t),gk.register(l,t),l}function Z(t,e){var n,i,r,o=["data-mce-selected"];n=e&&e.dom?e.dom:Fa.DOM,i=e&&e.schema?e.schema:x(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs,r=Q(t,i),ak.register(r,t,n);var s=function(o,s){var a=sk.merge({format:"html"},s||{}),l=uk.process(e,o,a),c=$k(n,l,a),u=Ok(r,c,a);return"tree"===a.format?u:Ik(e,t,i,u,a)};return{schema:i,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:s,addRules:function(t){i.addValidElements(t)},setRules:function(t){i.setValidElements(t)},addTempAttr:yt.curry(Dk,r,o),getTempAttrs:function(){return o}}}function J(t,e){var n=Z(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function tt(t){return{getBookmark:yt.curry(of.getBookmark,t),moveToBookmark:yt.curry(of.moveToBookmark,t)}}function et(t){var e=oi.each,n=Tx.BACKSPACE,i=Tx.DELETE,r=t.dom,o=t.selection,s=t.settings,a=t.parser,l=Be.gecko,c=Be.ie,u=Be.webkit,h="data:text/mce-internal,",d=c?"Text":"URL",f=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}},p=function(t){return t.isDefaultPrevented()},g=function(e){var n,i;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&o.select(e.target),(n=t.selection.getContent()).length>0&&(i=h+escape(t.id)+","+escape(n),e.dataTransfer.setData(d,i)))},m=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(d))&&e.indexOf(h)>=0?(e=e.substr(h.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null},v=function(e,n){t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:e,internal:n}):t.execCommand("mceInsertContent",!1,e)},y=function(){var e=function(t){var e=r.create("body"),n=t.cloneContents();return e.appendChild(n),o.serializer.serialize(e,{format:"html"})},s=function(n){var i=e(n),o=r.createRng();return o.selectNode(t.getBody()),i===e(o)};t.on("keydown",function(e){var o,a,l=e.keyCode;if(!p(e)&&(l===i||l===n)){if(o=t.selection.isCollapsed(),a=t.getBody(),o&&!r.isEmpty(a))return;if(!o&&!s(t.selection.getRng()))return;e.preventDefault(),t.setContent(""),a.firstChild&&r.isBlock(a.firstChild)?t.selection.setCursorLocation(a.firstChild,0):t.selection.setCursorLocation(a,0),t.nodeChanged()}})},b=function(){t.shortcuts.add("meta+a",null,"SelectAll")},w=function(){t.settings.content_editable||r.bind(t.getDoc(),"mousedown mouseup",function(e){var n;if(e.target===t.getDoc().documentElement)if(n=o.getRng(),t.getBody().focus(),"mousedown"===e.type){if(Za(n.startContainer))return;o.placeCaretAt(e.clientX,e.clientY)}else o.setRng(n)})},x=function(){t.on("keydown",function(e){if(!p(e)&&e.keyCode===n){if(!t.getBody().getElementsByTagName("hr").length)return;if(o.isCollapsed()&&0===o.getRng().startOffset){var i=o.getNode(),s=i.previousSibling;if("HR"===i.nodeName)return r.remove(i),void e.preventDefault();s&&s.nodeName&&"hr"===s.nodeName.toLowerCase()&&(r.remove(s),e.preventDefault())}}})},C=function(){Range.prototype.getClientRects||t.on("mousedown",function(e){if(!p(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),Ue.setEditorTimeout(t,function(){n.focus()})}})},S=function(){t.on("click",function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==r.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&r.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),o.select(n))})},k=function(){var n=function(){var n=r.getAttribs(o.getStart().cloneNode(!1));return function(){var i=o.getStart();i!==t.getBody()&&(r.setAttrib(i,"style",null),e(n,function(t){i.setAttributeNode(t.cloneNode(!0))}))}},i=function(){return!o.isCollapsed()&&r.getParent(o.getStart(),r.isBlock)!==r.getParent(o.getEnd(),r.isBlock)};t.on("keypress",function(e){var r;if(!p(e)&&(8===e.keyCode||46===e.keyCode)&&i())return r=n(),t.getDoc().execCommand("delete",!1,null),r(),e.preventDefault(),!1}),r.bind(t.getDoc(),"cut",function(e){var r;!p(e)&&i()&&(r=n(),Ue.setEditorTimeout(t,function(){r()}))})},_=function(){t.on("keydown",function(t){if(!p(t)&&t.keyCode===n&&o.isCollapsed()&&0===o.getRng().startOffset){var e=o.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})},E=function(){var e=function(){f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),s.object_resizing||f("enableObjectResizing",!1)};s.readonly||t.on("BeforeExecCommand MouseDown",e)},T=function(){var n=function(){e(r.select("a"),function(t){var e=t.parentNode,n=r.getRoot();if(e.lastChild===t){for(;e&&!r.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}r.add(e,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||n()})},A=function(){s.forced_root_block&&t.on("init",function(){f("DefaultParagraphSeparator",s.forced_root_block)})},M=function(){t.on("keyup focusin mouseup",function(t){Tx.modifierPressed(t)||o.normalize()},!0)},R=function(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},D=function(){t.inline||t.on("keydown",function(){document.activeElement===document.body&&t.getWin().focus()})},L=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(e){var n;if("HTML"===e.target.nodeName){if(Be.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}}))},$=function(){Be.mac&&t.on("keydown",function(e){!Tx.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})},O=function(){f("AutoUrlDetect",!1)},P=function(){t.on("click",function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},I=function(){t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(t){t.preventDefault()})})},N=function(){a.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})},B=function(){t.on("dragstart",function(t){g(t)}),t.on("drop",function(e){if(!p(e)){var n=m(e);if(n&&n.id!==t.id){e.preventDefault();var i=Vk.fromPoint(e.x,e.y,t.getDoc());o.setRng(i),v(n.html,!0)}}})},F=function(){},H=function(){var e;return!l||t.removed?0:!(e=t.selection.getSel())||!e.rangeCount||0===e.rangeCount};return t.on("keydown",function(e){var n,i,s,a,l;if(!p(e)&&e.keyCode===Tx.BACKSPACE&&(i=(n=o.getRng()).startContainer,s=n.startOffset,a=r.getRoot(),l=i,n.collapsed&&0===s)){for(;l&&l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.tagName&&(t.formatter.toggle("blockquote",null,l),(n=r.createRng()).setStart(i,0),n.setEnd(i,0),o.setRng(n))}}),y(),Be.windowsPhone||M(),u&&(w(),S(),A(),I(),_(),N(),Be.iOS?(D(),L(),P()):b()),Be.ie>=11&&(L(),_()),Be.ie&&(b(),O(),B()),l&&(x(),C(),k(),E(),T(),R(),$(),_()),{refreshContentEditable:F,isHidden:H}}function nt(t){return{walk:function(e,n){return dS.walk(t,e,n)},split:FC.split,normalize:function(e){return Jv.normalize(t,e).fold(yt.constant(!1),function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0})}}}var it,rt,ot,st,at,lt,ct,ut,ht,dt,ft,pt,gt,mt,vt=function(t){return function(){return t}},yt={noop:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},noarg:function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t()}},compose:function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t(e.apply(null,arguments))}},constant:vt,identity:function(t){return t},tripleEquals:function(t,e){return t===e},curry:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=new Array(arguments.length-1),r=1;r<arguments.length;r++)i[r-1]=arguments[r];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var s=i.concat(r);return t.apply(null,s)}},not:function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,arguments)}},die:function(t){return function(){throw new Error(t)}},apply:function(t){return t()},call:function(t){t()},never:vt(!1),always:vt(!0)},bt=yt.never,wt=yt.always,xt=function(){return Ct},Ct=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},i={fold:function(t){return t()},is:bt,isSome:bt,isNone:wt,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},or:n,orThunk:e,map:xt,ap:xt,each:function(){},bind:xt,flatten:xt,exists:bt,forall:wt,filter:xt,equals:t,equals_:t,toArray:function(){return[]},toString:yt.constant("none()")};return Object.freeze&&Object.freeze(i),i}(),St=function(t){var e=function(){return t},n=function(){return r},i=function(e){return e(t)},r={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:wt,isNone:bt,getOr:e,getOrThunk:e,getOrDie:e,or:n,orThunk:n,map:function(e){return St(e(t))},ap:function(e){return e.fold(xt,function(e){return St(e(t))})},each:function(e){e(t)},bind:i,flatten:e,exists:i,forall:i,filter:function(e){return e(t)?r:Ct},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(bt,function(e){return n(t,e)})},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return r},kt={some:St,none:xt,from:function(t){return null===t||t===undefined?Ct:St(t)}},_t=function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&Array.prototype.isPrototypeOf(t)?"array":"object"===e&&String.prototype.isPrototypeOf(t)?"string":e},Et=function(t){return function(e){return _t(e)===t}},Tt={isString:Et("string"),isObject:Et("object"),isArray:Et("array"),isNull:Et("null"),isBoolean:Et("boolean"),isUndefined:Et("undefined"),isFunction:Et("function"),isNumber:Et("number")},At=(it=Array.prototype.indexOf)===undefined?function(t,e){return qt(t,e)}:function(t,e){return it.call(t,e)},Mt=function(t,e){var n=At(t,e);return-1===n?kt.none():kt.some(n)},Rt=function(t,e){return At(t,e)>-1},Dt=function(t,e){return jt(t,e).isSome()},Lt=function(t,e){for(var n=[],i=0;i<t;i++)n.push(e(i));return n},$t=function(t,e){for(var n=[],i=0;i<t.length;i+=e){var r=t.slice(i,i+e);n.push(r)}return n},Ot=function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;r++){var o=t[r];i[r]=e(o,r,t)}return i},Pt=function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n,t)},It=function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n],n,t)},Nt=function(t,e){for(var n=[],i=[],r=0,o=t.length;r<o;r++){var s=t[r];(e(s,r,t)?n:i).push(s)}return{pass:n,fail:i}},Bt=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];e(o,i,t)&&n.push(o)}return n},Ft=function(t,e){if(0===t.length)return[];for(var n=e(t[0]),i=[],r=[],o=0,s=t.length;o<s;o++){var a=t[o],l=e(a);l!==n&&(i.push(r),r=[]),n=l,r.push(a)}return 0!==r.length&&i.push(r),i},Ht=function(t,e,n){return It(t,function(t){n=e(n,t)}),n},zt=function(t,e,n){return Pt(t,function(t){n=e(n,t)}),n},Wt=function(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];if(e(r,n,t))return kt.some(r)}return kt.none()},jt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n],n,t))return kt.some(n);return kt.none()},qt=function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},Ut=Array.prototype.push,Vt=function(t){for(var e=[],n=0,i=t.length;n<i;++n){if(!Array.prototype.isPrototypeOf(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);Ut.apply(e,t[n])}return e},Gt=function(t,e){var n=Ot(t,e);return Vt(n)},Yt=function(t,e){for(var n=0,i=t.length;n<i;++n)if(!0!==e(t[n],n,t))return!1;return!0},Kt=function(t,e){return t.length===e.length&&Yt(t,function(t,n){return t===e[n]})},Xt=Array.prototype.slice,Qt=function(t){var e=Xt.call(t,0);return e.reverse(),e},Zt=function(t,e){return Bt(t,function(t){return!Rt(e,t)})},Jt=function(t,e){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];n[String(o)]=e(o,i)}return n},te=function(t){return[t]},ee=function(t,e){var n=Xt.call(t,0);return n.sort(e),n},ne=function(t){return 0===t.length?kt.none():kt.some(t[0])},ie=function(t){return 0===t.length?kt.none():kt.some(t[t.length-1])},re=Tt.isFunction(Array.from)?Array.from:function(t){return Xt.call(t)},oe={map:Ot,each:Pt,eachr:It,partition:Nt,filter:Bt,groupBy:Ft,indexOf:Mt,foldr:Ht,foldl:zt,find:Wt,findIndex:jt,flatten:Vt,bind:Gt,forall:Yt,exists:Dt,contains:Rt,equal:Kt,reverse:Qt,chunk:$t,difference:Zt,mapToObject:Jt,pure:te,sort:ee,range:Lt,head:ne,last:ie,from:re},se="undefined"!=typeof window?window:Function("return this;")(),ae=function(t,e){for(var n=e!==undefined&&null!==e?e:se,i=0;i<t.length&&n!==undefined&&null!==n;++i)n=n[t[i]];return n},le=function(t,e){return t[e]!==undefined&&null!==t[e]||(t[e]={}),t[e]},ce=function(t,e){for(var n=e!==undefined?e:se,i=0;i<t.length;++i)n=le(n,t[i]);return n},ue={path:ae,resolve:function(t,e){var n=t.split(".");return ae(n,e)},forge:ce,namespace:function(t,e){var n=t.split(".");return ce(n,e)}},he=function(t,e){return ue.resolve(t,e)},de={getOrDie:function(t,e){var n=he(t,e);if(n===undefined||null===n)throw t+" not available on this browser";return n}},fe=function(){return de.getOrDie("URL")},pe={createObjectURL:function(t){return fe().createObjectURL(t)},revokeObjectURL:function(t){fe().revokeObjectURL(t)}},ge=navigator,me=ge.userAgent,ve=function(t){return"matchMedia"in window&&matchMedia(t).matches};rt=!1,dt=/Android/.test(me),st=(st=!(ot=/WebKit/.test(me))&&!rt&&/MSIE/gi.test(me)&&/Explorer/gi.test(ge.appName))&&/MSIE (\w+)\./.exec(me)[1],at=-1!==me.indexOf("Trident/")&&(-1!==me.indexOf("rv:")||-1!==ge.appName.indexOf("Netscape"))&&11,lt=-1!==me.indexOf("Edge/")&&!st&&!at&&12,st=st||at||lt,ct=!ot&&!at&&/Gecko/.test(me),ut=-1!==me.indexOf("Mac"),ht=/(iPad|iPhone)/.test(me),ft="FormData"in window&&"FileReader"in window&&"URL"in window&&!!pe.createObjectURL,pt=ve("only screen and (max-device-width: 480px)")&&(dt||ht),gt=ve("only screen and (min-width: 800px)")&&(dt||ht),mt=-1!==me.indexOf("Windows Phone"),lt&&(ot=!1);var ye,be,we,xe,Ce,Se,ke,_e,Ee,Te,Ae,Me,Re,De,Le,$e,Oe,Pe,Ie,Ne,Be={opera:rt,webkit:ot,ie:st,gecko:ct,mac:ut,iOS:ht,android:dt,contentEditable:!ht||ft||parseInt(me.match(/AppleWebKit\/(\d*)/)[1],10)>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==st,range:window.getSelection&&"Range"in window,documentMode:st&&!lt?document.documentMode||7:10,fileApi:ft,ceFalse:!1===st||st>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===st||st>11,desktop:!pt&&!gt,windowsPhone:mt},Fe=function(){function t(t,e){return function(){t.apply(e,arguments)}}function e(t){var e=this;null!==this._state?c(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(r){return void t.reject(r)}t.resolve(i)}else(e._state?t.resolve:t.reject)(e._value)}):this._deferreds.push(t)}function n(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void s(t(o,e),t(n,this),t(i,this))}this._state=!0,this._value=e,r.call(this)}catch(a){i.call(this,a)}}function i(t){this._state=!1,this._value=t,r.call(this)}function r(){for(var t=0,n=this._deferreds.length;t<n;t++)e.call(this,this._deferreds[t]);this._deferreds=null}function o(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function s(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},l=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(e,t(n,this),t(i,this))},c=l.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)};return l.prototype["catch"]=function(t){return this.then(null,t)},l.prototype.then=function(t,n){var i=this;return new l(function(r,s){e.call(i,new o(t,n,r,s))})},l.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&a(arguments[0])?arguments[0]:arguments);return new l(function(e,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){i(o,t)},n)}t[o]=s,0==--r&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},l.resolve=function(t){return t&&"object"==typeof t&&t.constructor===l?t:new l(function(e){e(t)})},l.reject=function(t){return new l(function(e,n){n(t)})},l.race=function(t){return new l(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},l},He=window.Promise?window.Promise:Fe(),ze=function(t,e){var n,i=window.requestAnimationFrame,r=["ms","moz","webkit"],o=function(t){window.setTimeout(t,0)};for(n=0;n<r.length&&!i;n++)i=window[r[n]+"RequestAnimationFrame"];i||(i=o),i(t,e)},We=function(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)},je=function(t,e){return"number"!=typeof e&&(e=1),setInterval(t,e)},qe=function(t,e){var n,i;return(i=function(){var i=arguments;clearTimeout(n),n=We(function(){t.apply(this,i)},e)}).stop=function(){clearTimeout(n)},i},Ue={requestAnimationFrame:function(t,e){ye?ye.then(t):ye=new He(function(t){e||(e=document.body),ze(t,e)}).then(t)},setTimeout:We,setInterval:je,setEditorTimeout:function(t,e,n){return We(function(){t.removed||e()},n)},setEditorInterval:function(t,e,n){var i;return i=je(function(){t.removed?clearInterval(i):e()},n)},debounce:qe,throttle:qe,clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)}},Ve="mce-data-",Ge=/^(?:mouse|contextmenu)|click/,Ye={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Ke=function(t){return t.isDefaultPrevented===Qe||t.isDefaultPrevented===Xe},Xe=function(){return!1},Qe=function(){return!0},Ze=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Je=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)},tn=function(t,e){var n,i=e;return(n=t.path)&&n.length>0&&(i=n[0]),t.composedPath&&(n=t.composedPath())&&n.length>0&&(i=n[0]),i},en=function(t,e){var n,i=e||{};for(n in t)Ye[n]||(i[n]=t[n]);if(i.target||(i.target=i.srcElement||document),Be.experimentalShadowDom&&(i.target=tn(t,i.target)),t&&Ge.test(t.type)&&t.pageX===undefined&&t.clientX!==undefined){var r=i.target.ownerDocument||document,o=r.documentElement,s=r.body;i.pageX=t.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),i.pageY=t.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=Qe,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=Qe,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=Qe,i.stopPropagation()},!1===Ke(i)&&(i.isDefaultPrevented=Xe,i.isPropagationStopped=Xe,i.isImmediatePropagationStopped=Xe),"undefined"==typeof i.metaKey&&(i.metaKey=!1),i},nn=function(t,e,n){var i=t.document,r={type:"ready"};if(n.domLoaded)e(r);else{var o=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},s=function(){n.domLoaded||(n.domLoaded=!0,e(r))},a=function(){o()&&(Je(i,"readystatechange",a),s())},l=function(){try{i.documentElement.doScroll("left")}catch(t){return void Ue.setTimeout(l)}s()};!i.addEventListener||Be.ie&&Be.ie<11?(Ze(i,"readystatechange",a),i.documentElement.doScroll&&t.self===t.top&&l()):o()?s():Ze(t,"DOMContentLoaded",s),Ze(t,"load",s)}},rn=function(){var t,e,n,i,r,o=this,s={};e=Ve+(+new Date).toString(32),i="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,r={mouseenter:"mouseover",mouseleave:"mouseout"},t=1,o.domLoaded=!1,o.events=s;var a=function(t,e){var n,i,r,o,a=s[e];if(n=a&&a[t.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return};o.bind=function(l,c,u,h){var d,f,p,g,m,v,y,b=window,w=function(t){a(en(t||b.event),d)};if(l&&3!==l.nodeType&&8!==l.nodeType){for(l[e]?d=l[e]:(d=t++,l[e]=d,s[d]={}),h=h||l,p=(c=c.split(" ")).length;p--;)v=w,m=y=!1,"DOMContentLoaded"===(g=c[p])&&(g="ready"),o.domLoaded&&"ready"===g&&"complete"===l.readyState?u.call(h,en({type:g})):(i||(m=r[g])&&(v=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=en(t||b.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,a(t,d))}),n||"focusin"!==g&&"focusout"!==g||(y=!0,m="focusin"===g?"focus":"blur",v=function(t){(t=en(t||b.event)).type="focus"===t.type?"focusin":"focusout",a(t,d)}),(f=s[d][g])?"ready"===g&&o.domLoaded?u({type:g}):f.push({func:u,scope:h}):(s[d][g]=f=[{func:u,scope:h}],f.fakeName=m,f.capture=y,f.nativeHandler=v,"ready"===g?nn(l,v,o):Ze(l,m||g,v,y)));return l=f=0,u}},o.unbind=function(t,n,i){var r,a,l,c,u,h;if(!t||3===t.nodeType||8===t.nodeType)return o;if(r=t[e]){if(h=s[r],n){for(l=(n=n.split(" ")).length;l--;)if(a=h[u=n[l]]){if(i)for(c=a.length;c--;)if(a[c].func===i){var d=a.nativeHandler,f=a.fakeName,p=a.capture;(a=a.slice(0,c).concat(a.slice(c+1))).nativeHandler=d,a.fakeName=f,a.capture=p,h[u]=a}i&&0!==a.length||(delete h[u],Je(t,a.fakeName||u,a.nativeHandler,a.capture))}}else{for(u in h)a=h[u],Je(t,a.fakeName||u,a.nativeHandler,a.capture);h={}}for(u in h)return o;delete s[r];try{delete t[e]}catch(g){t[e]=null}}return o},o.fire=function(t,n,i){var r;if(!t||3===t.nodeType||8===t.nodeType)return o;(i=en(null,i)).type=n,i.target=t;do{(r=t[e])&&a(i,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return o},o.clean=function(t){var n,i,r=o.unbind;if(!t||3===t.nodeType||8===t.nodeType)return o;if(t[e]&&r(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(r(t),n=(i=t.getElementsByTagName("*")).length;n--;)(t=i[n])[e]&&r(t);return o},o.destroy=function(){s={}},o.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}};rn.Event=new rn,rn.Event.bind(window,"ready",function(){});var on="sizzle"+-new Date,sn=window.document,an=0,ln=0,cn=t(),un=t(),hn=t(),dn=function(t,e){return t===e&&(Me=!0),0},fn=typeof undefined,pn=1<<31,gn={}.hasOwnProperty,mn=[],vn=mn.pop,yn=mn.push,bn=mn.push,wn=mn.slice,xn=mn.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},Cn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Sn="[\\x20\\t\\r\\n\\f]",kn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",_n="\\["+Sn+"*("+kn+")(?:"+Sn+"*([*^$|!~]?=)"+Sn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+kn+"))|)"+Sn+"*\\]",En=":("+kn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+_n+")*)|.*)\\)|)",Tn=new RegExp("^"+Sn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Sn+"+$","g"),An=new RegExp("^"+Sn+"*,"+Sn+"*"),Mn=new RegExp("^"+Sn+"*([>+~]|"+Sn+")"+Sn+"*"),Rn=new RegExp("="+Sn+"*([^\\]'\"]*?)"+Sn+"*\\]","g"),Dn=new RegExp(En),Ln=new RegExp("^"+kn+"$"),$n={ID:new RegExp("^#("+kn+")"),CLASS:new RegExp("^\\.("+kn+")"),TAG:new RegExp("^("+kn+"|[*])"),ATTR:new RegExp("^"+_n),PSEUDO:new RegExp("^"+En),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Sn+"*(even|odd|(([+-]|)(\\d*)n|)"+Sn+"*(?:([+-]|)"+Sn+"*(\\d+)|))"+Sn+"*\\)|)","i"),bool:new RegExp("^(?:"+Cn+")$","i"),needsContext:new RegExp("^"+Sn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Sn+"*((?:-\\d)?\\d*)"+Sn+"*\\)|)(?=[^-]|$)","i")},On=/^(?:input|select|textarea|button)$/i,Pn=/^h\d$/i,In=/^[^{]+\{\s*\[native \w/,Nn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Bn=/[+~]/,Fn=/'|\\/g,Hn=new RegExp("\\\\([\\da-f]{1,6}"+Sn+"?|("+Sn+")|.)","ig"),zn=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{bn.apply(mn=wn.call(sn.childNodes),sn.childNodes),mn[sn.childNodes.length].nodeType}catch(UM){bn={apply:mn.length?function(t,e){yn.apply(t,wn.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}var Wn=function(t,e,n,i){var r,o,a,c,u,h,d,f,p,g;if((e?e.ownerDocument||e:sn)!==De&&Re(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(c=(e=e||De).nodeType)&&9!==c)return[];if($e&&!i){if(r=Nn.exec(t))if(a=r[1]){if(9===c){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&Ne(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return bn.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&we.getElementsByClassName)return bn.apply(n,e.getElementsByClassName(a)),n}if(we.qsa&&(!Oe||!Oe.test(t))){if(f=d=on,p=e,g=9===c&&t,1===c&&"object"!==e.nodeName.toLowerCase()){for(h=ke(t),(d=e.getAttribute("id"))?f=d.replace(Fn,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",u=h.length;u--;)h[u]=f+l(h[u]);p=Bn.test(t)&&s(e.parentNode)||e,g=h.join(",")}if(g)try{return bn.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{d||e.removeAttribute("id")}}}return Ee(t.replace(Tn,"$1"),e,n,i)};for(be in we=Wn.support={},Se=Wn.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},Re=Wn.setDocument=function(t){function e(t){try{return t.top}catch(e){}return null}var i,r=t?t.ownerDocument||t:sn,o=r.defaultView;return r!==De&&9===r.nodeType&&r.documentElement?(De=r,Le=r.documentElement,$e=!Se(r),o&&o!==e(o)&&(o.addEventListener?o.addEventListener("unload",function(){Re()},!1):o.attachEvent&&o.attachEvent("onunload",function(){Re()})),we.attributes=!0,we.getElementsByTagName=!0,we.getElementsByClassName=In.test(r.getElementsByClassName),we.getById=!0,xe.find.ID=function(t,e){if(typeof e.getElementById!==fn&&$e){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},xe.filter.ID=function(t){var e=t.replace(Hn,zn);return function(t){return t.getAttribute("id")===e}},xe.find.TAG=we.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==fn)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},xe.find.CLASS=we.getElementsByClassName&&function(t,e){if($e)return e.getElementsByClassName(t)},Pe=[],Oe=[],we.disconnectedMatch=!0,Oe=Oe.length&&new RegExp(Oe.join("|")),Pe=Pe.length&&new RegExp(Pe.join("|")),i=In.test(Le.compareDocumentPosition),Ne=i||In.test(Le.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},dn=i?function(t,e){if(t===e)return Me=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!we.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===sn&&Ne(sn,t)?-1:e===r||e.ownerDocument===sn&&Ne(sn,e)?1:Ae?xn.call(Ae,t)-xn.call(Ae,e):0:4&n?-1:1)}:function(t,e){if(t===e)return Me=!0,0;var i,o=0,s=t.parentNode,a=e.parentNode,l=[t],c=[e];if(!s||!a)return t===r?-1:e===r?1:s?-1:a?1:Ae?xn.call(Ae,t)-xn.call(Ae,e):0;if(s===a)return n(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)c.unshift(i);for(;l[o]===c[o];)o++;return o?n(l[o],c[o]):l[o]===sn?-1:c[o]===sn?1:0},r):De},Wn.matches=function(t,e){return Wn(t,null,null,e)},Wn.matchesSelector=function(t,e){if((t.ownerDocument||t)!==De&&Re(t),e=e.replace(Rn,"='$1']"),we.matchesSelector&&$e&&(!Pe||!Pe.test(e))&&(!Oe||!Oe.test(e)))try{var n=Ie.call(t,e);if(n||we.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(UM){}return Wn(e,De,null,[t]).length>0},Wn.contains=function(t,e){return(t.ownerDocument||t)!==De&&Re(t),Ne(t,e)},Wn.attr=function(t,e){(t.ownerDocument||t)!==De&&Re(t);var n=xe.attrHandle[e.toLowerCase()],i=n&&gn.call(xe.attrHandle,e.toLowerCase())?n(t,e,!$e):undefined;return i!==undefined?i:we.attributes||!$e?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},Wn.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Wn.uniqueSort=function(t){var e,n=[],i=0,r=0;if(Me=!we.detectDuplicates,Ae=!we.sortStable&&t.slice(0),t.sort(dn),Me){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return Ae=null,t},Ce=Wn.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Ce(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=Ce(e);return n},(xe=Wn.selectors={cacheLength:50,createPseudo:e,match:$n,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Hn,zn),t[3]=(t[3]||t[4]||t[5]||"").replace(Hn,zn),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Wn.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Wn.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return $n.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Dn.test(n)&&(e=ke(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Hn,zn).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=cn[t+" "];return e||(e=new RegExp("(^|"+Sn+")"+t+"("+Sn+"|$)"))&&cn(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==fn&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=Wn.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(f=(c=(u=m[on]||(m[on]={}))[t]||[])[0]===an&&c[1],d=c[0]===an&&c[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){u[t]=[an,f,d];break}}else if(y&&(c=(e[on]||(e[on]={}))[t])&&c[0]===an)d=c[1];else for(;(h=++f&&h&&h[g]||(d=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[on]||(h[on]={}))[t]=[an,d]),h!==e)););return(d-=r)===i||d%i==0&&d/i>=0}}},PSEUDO:function(t,n){var i,r=xe.pseudos[t]||xe.setFilters[t.toLowerCase()]||Wn.error("unsupported pseudo: "+t);return r[on]?r(n):r.length>1?(i=[t,t,"",n],xe.setFilters.hasOwnProperty(t.toLowerCase())?e(function(t,e){for(var i,o=r(t,n),s=o.length;s--;)t[i=xn.call(t,o[s])]=!(e[i]=o[s])}):function(t){return r(t,0,i)}):r}},pseudos:{not:e(function(t){var n=[],i=[],r=_e(t.replace(Tn,"$1"));return r[on]?e(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,e,o){return n[0]=t,r(n,null,o,i),!i.pop()}}),has:e(function(t){return function(e){return Wn(t,e).length>0}}),contains:e(function(t){return t=t.replace(Hn,zn),function(e){
return(e.textContent||e.innerText||Ce(e)).indexOf(t)>-1}}),lang:e(function(t){return Ln.test(t||"")||Wn.error("unsupported lang: "+t),t=t.replace(Hn,zn).toLowerCase(),function(e){var n;do{if(n=$e?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===Le},focus:function(t){return t===De.activeElement&&(!De.hasFocus||De.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!xe.pseudos.empty(t)},header:function(t){return Pn.test(t.nodeName)},input:function(t){return On.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:o(function(){return[0]}),last:o(function(t,e){return[e-1]}),eq:o(function(t,e,n){return[n<0?n+e:n]}),even:o(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:o(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:o(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:o(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=xe.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})xe.pseudos[be]=i(be);for(be in{submit:!0,reset:!0})xe.pseudos[be]=r(be);a.prototype=xe.filters=xe.pseudos,xe.setFilters=new a,ke=Wn.tokenize=function(t,e){var n,i,r,o,s,a,l,c=un[t+" "];if(c)return e?0:c.slice(0);for(s=t,a=[],l=xe.preFilter;s;){for(o in n&&!(i=An.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=Mn.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(Tn," ")}),s=s.slice(n.length)),xe.filter)!(i=$n[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?Wn.error(t):un(t,a).slice(0)},_e=Wn.compile=function(t,e){var n,i=[],r=[],o=hn[t+" "];if(!o){for(e||(e=ke(t)),n=e.length;n--;)(o=p(e[n]))[on]?i.push(o):r.push(o);(o=hn(t,g(r,i))).selector=t}return o},Ee=Wn.select=function(t,e,n,i){var r,o,a,c,u,h="function"==typeof t&&t,d=!i&&ke(t=h.selector||t);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&we.getById&&9===e.nodeType&&$e&&xe.relative[o[1].type]){if(!(e=(xe.find.ID(a.matches[0].replace(Hn,zn),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=$n.needsContext.test(t)?0:o.length;r--&&(a=o[r],!xe.relative[c=a.type]);)if((u=xe.find[c])&&(i=u(a.matches[0].replace(Hn,zn),Bn.test(o[0].type)&&s(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&l(o)))return bn.apply(n,i),n;break}}return(h||_e(t,d))(i,e,!$e,n,Bn.test(t)&&s(e.parentNode)||e),n},we.sortStable=on.split("").sort(dn).join("")===on,we.detectDuplicates=!!Me,Re(),we.sortDetached=!0;var jn=Array.isArray,qn=function(t,e,n){var i,r;if(!t)return 0;if(n=n||t,t.length!==undefined){for(i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return 0}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return 0;return 1},Un=function(t,e,n){var i,r;for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return i;return-1},Vn={isArray:jn,toArray:function(t){var e,n,i=t;if(!jn(t))for(i=[],e=0,n=t.length;e<n;e++)i[e]=t[e];return i},each:qn,map:function(t,e){var n=[];return qn(t,function(i,r){n.push(e(i,r,t))}),n},filter:function(t,e){var n=[];return qn(t,function(i,r){e&&!e(i,r,t)||n.push(i)}),n},indexOf:function(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,i){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(i,n,t[r],r);return n},findIndex:Un,find:function(t,e,n){var i=Un(t,e,n);return-1!==i?t[i]:undefined},last:function(t){return t[t.length-1]}},Gn=/^\s*|\s*$/g,Yn=function(t){return null===t||t===undefined?"":(""+t).replace(Gn,"")},Kn=function(t,e){return e?!("array"!==e||!Vn.isArray(t))||typeof t===e:t!==undefined},Xn=function(t,e,n){var i;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n},Qn=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Zn=function(t,e,n){var i,r,o,s,a,l=this,c=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],!(r=l.createNS(t[3].replace(/\.\w+$/,""),n))[o]){if("static"===t[2])return r[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[o]));e[o]||(e[o]=function(){},c=1),r[o]=e[o],l.extend(r[o].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,s=t[5].match(/\.(\w+)$/i)[1],a=r[o],r[o]=c?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],a.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(t,e){r[o].prototype[e]=i[e]}),l.each(e,function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!==o&&(r[o].prototype[e]=t)})),l.each(e["static"],function(t,e){r[o][e]=t})}},Jn=function(t,e){for(var n,i,r,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a,l=arguments;for(n=1,i=l.length;n<i;n++)for(r in e=l[n])e.hasOwnProperty(r)&&(a=e[r])!==undefined&&(t[r]=a);return t},ti=function(t,e,n,i){i=i||this,t&&(n&&(t=t[n]),Vn.each(t,function(t,r){if(!1===e.call(i,t,r,n))return!1;ti(t,e,n,i)}))},ei=function(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)e[i=t[n]]||(e[i]={}),e=e[i];return e},ni=function(t,e){var n,i;for(e=e||window,n=0,i=(t=t.split(".")).length;n<i&&(e=e[t[n]]);n++);return e},ii=function(t,e){return!t||Kn(t,"array")?t:Vn.map(t.split(e||","),Yn)},ri=function(t){var e=Be.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t},oi={trim:Yn,isArray:Vn.isArray,is:Kn,toArray:Vn.toArray,makeMap:Xn,each:Vn.each,map:Vn.map,grep:Vn.filter,inArray:Vn.indexOf,hasOwn:Qn,extend:Jn,create:Zn,walk:ti,createNS:ei,resolve:ni,explode:ii,_addCacheSuffix:ri},si=document,ai=Array.prototype.push,li=Array.prototype.slice,ci=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ui=rn.Event,hi=oi.makeMap("children,contents,next,prev"),di=function(t){return void 0!==t},fi=function(t){return"string"==typeof t},pi=function(t){return t&&t===t.window},gi=function(t,e){var n,i,r;for(r=(e=e||si).createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return n},mi=function(t,e,n,i){var r;if(fi(e))e=gi(e,Di(t[0]));else if(e.length&&!e.nodeType){if(e=_i.makeArray(e),i)for(r=e.length-1;r>=0;r--)mi(t,e[r],n,i);else for(r=0;r<e.length;r++)mi(t,e[r],n,i);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t},vi=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},yi=function(t,e,n){var i,r;return e=_i(e)[0],t.each(function(){var t=this;n&&i===t.parentNode?r.appendChild(t):(i=t.parentNode,r=e.cloneNode(!1),t.parentNode.insertBefore(r,t),r.appendChild(t))}),t},bi=oi.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),wi=oi.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),xi={"for":"htmlFor","class":"className",readonly:"readOnly"},Ci={float:"cssFloat"},Si={},ki={},_i=function(t,e){return new _i.fn.init(t,e)},Ei=function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},Ti=/^\s*|\s*$/g,Ai=function(t){return null===t||t===undefined?"":(""+t).replace(Ti,"")},Mi=function(t,e){var n,i,r,o;if(t)if((n=t.length)===undefined){for(i in t)if(t.hasOwnProperty(i)&&(o=t[i],!1===e.call(o,i,o)))break}else for(r=0;r<n&&(o=t[r],!1!==e.call(o,r,o));r++);return t},Ri=function(t,e){var n=[];return Mi(t,function(t,i){e(i,t)&&n.push(i)}),n},Di=function(t){return t?9===t.nodeType?t:t.ownerDocument:si};_i.fn=_i.prototype={constructor:_i,selector:"",context:null,length:0,init:function(t,e){var n,i,r=this;if(!t)return r;if(t.nodeType)return r.context=r[0]=t,r.length=1,r;if(e&&e.nodeType)r.context=e;else{if(e)return _i(t).attr(e);r.context=e=document}if(fi(t)){if(r.selector=t,!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ci.exec(t)))return _i(e).find(t);if(n[1])for(i=gi(t,Di(e)).firstChild;i;)ai.call(r,i),i=i.nextSibling;else{if(!(i=Di(e).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(t);r.length=1,r[0]=i}}else this.add(t,!1);return r},toArray:function(){return oi.toArray(this)},add:function(t,e){var n,i,r=this;if(fi(t))return r.add(_i(t));if(!1!==e)for(n=_i.unique(r.toArray().concat(_i.makeArray(t))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else ai.apply(r,_i.makeArray(t));return r},attr:function(t,e){var n,i=this;if("object"==typeof t)Mi(t,function(t,e){i.attr(t,e)});else{if(!di(e)){if(i[0]&&1===i[0].nodeType){if((n=Si[t])&&n.get)return n.get(i[0],t);if(wi[t])return i.prop(t)?t:undefined;null===(e=i[0].getAttribute(t,2))&&(e=undefined)}return e}this.each(function(){var n;if(1===this.nodeType){if((n=Si[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=xi[t]||t))Mi(t,function(t,e){n.prop(t,e)});else{if(!di(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1===this.nodeType&&(this[t]=e)})}return n},css:function(t,e){var n,i,r=this,o=function(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})},s=function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})};if("object"==typeof t)Mi(t,function(t,e){r.css(t,e)});else if(di(e))t=o(t),"number"!=typeof e||bi[t]||(e=e.toString()+"px"),r.each(function(){var n=this.style;if((i=ki[t])&&i.set)i.set(this,e);else{try{this.style[Ci[t]||t]=e}catch(r){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(s(t)):n.removeAttribute(t))}});else{if(n=r[0],(i=ki[t])&&i.get)return i.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(t))}catch(a){return undefined}}return r},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],ui.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(di(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){_i(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(di(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return mi(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return mi(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?mi(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?mi(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return _i(t).append(this),this},prependTo:function(t){return _i(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return yi(this,t)},wrapAll:function(t){return yi(this,t,!0)},wrapInner:function(t){return this.each(function(){_i(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){_i(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),_i(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t?n:(-1!==t.indexOf(" ")?Mi(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,i){var r,o;(o=vi(i,t))!==e&&(r=i.className,o?i.className=Ai((" "+r+" ").replace(" "+t+" "," ")):i.className+=r?" "+t:t)}),n)},hasClass:function(t){return vi(this[0],t)},each:function(t){return Mi(this,t)},on:function(t,e){return this.each(function(){ui.bind(this,t,e)})},off:function(t,e){return this.each(function(){ui.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?ui.fire(this,t.type,t):ui.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new _i(li.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)_i.find(t,this[e],i);return _i(i)},filter:function(t){return _i("function"==typeof t?Ri(this.toArray(),function(e,n){return t(n,e)}):_i.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof _i&&(t=t[0]),this.each(function(n,i){for(;i;){if("string"==typeof t&&_i(i).is(t)){e.push(i);break}if(i===t){e.push(i);break}i=i.parentNode}}),_i(e)},offset:function(t){var e,n,i,r,o=0,s=0;return t?this.css(t):((e=this[0])&&(i=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(o=(r=e.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,s=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:s})},push:ai,sort:[].sort,splice:[].splice},oi.extend(_i,{extend:oi.extend,makeArray:function(t){return pi(t)||t.nodeType?[t]:oi.toArray(t)},inArray:Ei,isArray:oi.isArray,each:Mi,trim:Ai,grep:Ri,find:Wn,expr:Wn.selectors,unique:Wn.uniqueSort,text:Wn.getText,contains:Wn.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!==e[i].nodeType&&e.splice(i,1);return e=1===e.length?_i.find.matchesSelector(e[0],t)?[e[0]]:[]:_i.find.matches(t,e)}});var Li=function(t,e,n){var i=[],r=t[e];for("string"!=typeof n&&n instanceof _i&&(n=n[0]);r&&9!==r.nodeType;){if(n!==undefined){if(r===n)break;if("string"==typeof n&&_i(r).is(n))break}1===r.nodeType&&i.push(r),r=r[e]}return i},$i=function(t,e,n,i){var r=[];for(i instanceof _i&&(i=i[0]);t;t=t[e])if(!n||t.nodeType===n){if(i!==undefined){if(t===i)break;if("string"==typeof i&&_i(t).is(i))break}r.push(t)}return r},Oi=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};Mi({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Li(t,"parentNode")},next:function(t){return Oi(t,"nextSibling",1)},prev:function(t){return Oi(t,"previousSibling",1)},children:function(t){return $i(t.firstChild,"nextSibling",1)},contents:function(t){return oi.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){_i.fn[t]=function(n){var i=[];return this.each(function(){var t=e.call(i,this,n,i);t&&(_i.isArray(t)?i.push.apply(i,t):i.push(t))}),this.length>1&&(hi[t]||(i=_i.unique(i)),0===t.indexOf("parents")&&(i=i.reverse())),i=_i(i),n?i.filter(n):i}}),Mi({parentsUntil:function(t,e){return Li(t,"parentNode",e)},nextUntil:function(t,e){return $i(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return $i(t,"previousSibling",1,e).slice(1)}},function(t,e){_i.fn[t]=function(n,i){var r=[];return this.each(function(){var t=e.call(r,this,n,r);t&&(_i.isArray(t)?r.push.apply(r,t):r.push(t))}),this.length>1&&(r=_i.unique(r),0!==t.indexOf("parents")&&"prevUntil"!==t||(r=r.reverse())),r=_i(r),i?r.filter(i):r}}),_i.fn.is=function(t){return!!t&&this.filter(t).length>0},_i.fn.init.prototype=_i.fn,_i.overrideDefaults=function(t){var e,n=function(i,r){return e=e||t(),0===arguments.length&&(i=e.element),r||(r=e.context),new n.fn.init(i,r)};return _i.extend(n,this),n};var Pi=function(t,e,n){Mi(n,function(n,i){t[n]=t[n]||{},t[n][e]=i})};Be.ie&&Be.ie<8&&(Pi(Si,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?undefined:e},size:function(t){var e=t.size;return 20===e?undefined:e},"class":function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?undefined:e}}),Pi(Si,"set",{"class":function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),Be.ie&&Be.ie<9&&(Ci.float="styleFloat",Pi(ki,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),_i.attrHooks=Si,_i.cssHooks=ki;var Ii,Ni,Bi,Fi,Hi={cached:function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(null,arguments)),e}}},zi=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}return undefined},Wi=function(t,e){var n=zi(t,e);if(!n)return{major:0,minor:0};var i=function(t){return Number(e.replace(n,"$"+t))};return Ui(i(1),i(2))},ji=function(t,e){var n=String(e).toLowerCase();return 0===t.length?qi():Wi(t,n)},qi=function(){return Ui(0,0)},Ui=function(t,e){return{major:t,minor:e}},Vi={nu:Ui,detect:ji,unknown:qi},Gi="Edge",Yi="Chrome",Ki="IE",Xi="Opera",Qi="Firefox",Zi="Safari",Ji=function(t,e){return function(){return e===t}},tr=function(){return er({current:undefined,version:Vi.unknown()})},er=function(t){var e=t.current;return{current:e,version:t.version,isEdge:Ji(Gi,e),isChrome:Ji(Yi,e),isIE:Ji(Ki,e),isOpera:Ji(Xi,e),isFirefox:Ji(Qi,e),isSafari:Ji(Zi,e)}},nr={unknown:tr,nu:er,edge:yt.constant(Gi),chrome:yt.constant(Yi),ie:yt.constant(Ki),opera:yt.constant(Xi),firefox:yt.constant(Qi),safari:yt.constant(Zi)},ir="Windows",rr="iOS",or="Android",sr="Linux",ar="OSX",lr="Solaris",cr="FreeBSD",ur=function(t,e){return function(){return e===t}},hr=function(){return dr({current:undefined,version:Vi.unknown()})},dr=function(t){var e=t.current;return{current:e,version:t.version,isWindows:ur(ir,e),isiOS:ur(rr,e),isAndroid:ur(or,e),isOSX:ur(ar,e),isLinux:ur(sr,e),isSolaris:ur(lr,e),isFreeBSD:ur(cr,e)}},fr={unknown:hr,nu:dr,windows:yt.constant(ir),ios:yt.constant(rr),android:yt.constant(or),linux:yt.constant(sr),osx:yt.constant(ar),solaris:yt.constant(lr),freebsd:yt.constant(cr)},pr=function(t,e){var n=String(e).toLowerCase();return oe.find(t,function(t){return t.search(n)})},gr={detectBrowser:function(t,e){return pr(t,e).map(function(t){var n=Vi.detect(t.versionRegexes,e);return{current:t.name,version:n}})},detectOs:function(t,e){return pr(t,e).map(function(t){var n=Vi.detect(t.versionRegexes,e);return{current:t.name,version:n}})}},mr={addToStart:function(t,e){return e+t},addToEnd:function(t,e){return t+e},removeFromStart:function(t,e){return t.substring(e)},removeFromEnd:function(t,e){return t.substring(0,t.length-e)}},vr={first:function(t,e){return t.substr(0,e)},last:function(t,e){return t.substr(t.length-e,t.length)},head:function(t){return""===t?kt.none():kt.some(t.substr(0,1))},tail:function(t){return""===t?kt.none():kt.some(t.substring(1))}},yr=function(t,e,n){return""===e||!(t.length<e.length)&&t.substr(n,n+e.length)===e},br=function(t,e){return Sr(t,e)?mr.removeFromStart(t,e.length):t},wr=function(t,e){return kr(t,e)?mr.removeFromEnd(t,e.length):t},xr=function(t,e){return Sr(t,e)?t:mr.addToStart(t,e)},Cr=function(t,e){return kr(t,e)?t:mr.addToEnd(t,e)},Sr=function(t,e){return yr(t,e,0)},kr=function(t,e){return yr(t,e,t.length-e.length)},_r={supplant:function(t,e){var n=function(t){var e=typeof t;return"string"===e||"number"===e};return t.replace(/\${([^{}]*)}/g,function(t,i){var r=e[i];return n(r)?r:t})},startsWith:Sr,removeLeading:br,removeTrailing:wr,ensureLeading:xr,ensureTrailing:Cr,endsWith:kr,contains:function(t,e){return-1!==t.indexOf(e)},trim:function(t){return t.replace(/^\s+|\s+$/g,"")},lTrim:function(t){return t.replace(/^\s+/g,"")},rTrim:function(t){return t.replace(/\s+$/g,"")},capitalize:function(t){return vr.head(t).bind(function(e){return vr.tail(t).map(function(t){return e.toUpperCase()+t})}).getOr(t)}},Er=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Tr=function(t){return function(e){return _r.contains(e,t)}},Ar=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return _r.contains(t,"edge/")&&_r.contains(t,"chrome")&&_r.contains(t,"safari")&&_r.contains(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Er],search:function(t){return _r.contains(t,"chrome")&&!_r.contains(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return _r.contains(t,"msie")||_r.contains(t,"trident")}},{name:"Opera",versionRegexes:[Er,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Tr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Tr("firefox")},{name:"Safari",versionRegexes:[Er,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(_r.contains(t,"safari")||_r.contains(t,"mobile/"))&&_r.contains(t,"applewebkit")}}],Mr=[{name:"Windows",search:Tr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return _r.contains(t,"iphone")||_r.contains(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Tr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Tr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Tr("linux"),versionRegexes:[]},{name:"Solaris",search:Tr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Tr("freebsd"),versionRegexes:[]}],Rr={browsers:yt.constant(Ar),oses:yt.constant(Mr)},Dr={detect:function(t){var e=Rr.browsers(),n=Rr.oses(),i=gr.detectBrowser(e,t).fold(nr.unknown,nr.nu),r=gr.detectOs(n,t).fold(fr.unknown,fr.nu);return{browser:i,os:r,deviceType:m(r,i,t)}}},Lr={detect:Hi.cached(function(){var t=navigator.userAgent;return Dr.detect(t)})},$r=function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",t),"HTML must have a single root node";return Ir(n.childNodes[0])},Or=function(t,e){var n=(e||document).createElement(t);return Ir(n)},Pr=function(t,e){var n=(e||document).createTextNode(t);return Ir(n)},Ir=function(t){if(null===t||t===undefined)throw new Error("Node cannot be null or undefined");return{dom:yt.constant(t)}},Nr={fromHtml:$r,fromTag:Or,fromText:Pr,fromDom:Ir,fromPoint:function(t,e,n){return kt.from(t.dom().elementFromPoint(e,n)).map(Ir)}},Br={ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12},Fr=function(t){return t.dom().nodeName.toLowerCase()},Hr=function(t){return t.dom().nodeType},zr=function(t){return t.dom().nodeValue},Wr=function(t){return function(e){return Hr(e)===t}},jr=function(t){return Hr(t)===Br.COMMENT||"#comment"===Fr(t)},qr=Wr(Br.ELEMENT),Ur=Wr(Br.TEXT),Vr=Wr(Br.DOCUMENT),Gr={name:Fr,type:Hr,value:zr,isElement:qr,isText:Ur,isDocument:Vr,isComment:jr},Yr=(Ii=Object.keys)===undefined?function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}:Ii,Kr=function(t,e){for(var n=Yr(t),i=0,r=n.length;i<r;i++){var o=n[i];e(t[o],o,t)}},Xr=function(t,e){return Qr(t,function(t,n,i){return{k:n,v:e(t,n,i)}})},Qr=function(t,e){var n={};return Kr(t,function(i,r){var o=e(i,r,t);n[o.k]=o.v}),n},Zr=function(t,e){var n=[];return Kr(t,function(t,i){n.push(e(t,i))}),n},Jr=function(t){return Zr(t,function(t){return t})},to={bifilter:function(t,e){var n={},i={};return Kr(t,function(t,r){(e(t,r)?n:i)[r]=t}),{t:n,f:i}},each:Kr,map:Xr,mapToArray:Zr,tupleMap:Qr,find:function(t,e){for(var n=Yr(t),i=0,r=n.length;i<r;i++){var o=n[i],s=t[o];if(e(s,o,t))return kt.some(s)}return kt.none()},keys:Yr,values:Jr,size:function(t){return Jr(t).length}},eo=function(t,e,n){if(!(Tt.isString(n)||Tt.isBoolean(n)||Tt.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},no=function(t,e,n){eo(t.dom(),e,n)},io=function(t,e){var n=t.dom().getAttribute(e);return null===n?undefined:n},ro=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},oo=function(t,e,n){ro(t,n)&&!ro(e,n)&&no(e,n,io(t,n))},so={clone:function(t){return oe.foldl(t.dom().attributes,function(t,e){return t[e.name]=e.value,t},{})},set:no,setAll:function(t,e){var n=t.dom();to.each(e,function(t,e){eo(n,e,t)})},get:io,has:ro,remove:function(t,e){t.dom().removeAttribute(e)},hasNone:function(t){var e=t.dom().attributes;return e===undefined||null===e||0===e.length},transfer:function(t,e,n){Gr.isElement(t)&&Gr.isElement(e)&&oe.each(n,function(n){oo(t,e,n)})}},ao=function(t){var e=Gr.isText(t)?t.dom().parentNode:t.dom();return e!==undefined&&null!==e&&e.ownerDocument.body.contains(e)},lo=Hi.cached(function(){return co(Nr.fromDom(document))}),co=function(t){var e=t.dom().body;if(null===e||e===undefined)throw"Body is not available yet";return Nr.fromDom(e)},uo={body:lo,getBody:co,inBody:ao},ho={isSupported:function(t){return t.style!==undefined}},fo=function(t,e,n){if(!Tt.isString(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);ho.isSupported(t)&&t.style.setProperty(e,n)},po=function(t,e){ho.isSupported(t)&&t.style.removeProperty(e)},go=function(t,e,n){var i=t.dom();fo(i,e,n)},mo=function(t,e){var n=t.dom(),i=window.getComputedStyle(n).getPropertyValue(e),r=""!==i||uo.inBody(t)?i:vo(n,e);return null===r?undefined:r},vo=function(t,e){return ho.isSupported(t)?t.style.getPropertyValue(e):""},yo=function(t,e){var n=t.dom(),i=vo(n,e);return kt.from(i).filter(function(t){return t.length>0})},bo=function(t,e,n){yo(t,n).each(function(t){yo(e,n).isNone()&&go(e,n,t)})},wo={copy:function(t,e){var n=t.dom(),i=e.dom();ho.isSupported(n)&&ho.isSupported(i)&&(i.style.cssText=n.style.cssText)},set:go,preserve:function(t,e){var n=so.get(t,"style"),i=e(t);return(n===undefined?so.remove:so.set)(t,"style",n),i},setAll:function(t,e){var n=t.dom();to.each(e,function(t,e){fo(n,e,t)})},setOptions:function(t,e){var n=t.dom();to.each(e,function(t,e){t.fold(function(){po(n,e)},function(t){fo(n,e,t)})})},remove:function(t,e){var n=t.dom();po(n,e),so.has(t,"style")&&""===_r.trim(so.get(t,"style"))&&so.remove(t,"style")},get:mo,getRaw:yo,getAllRaw:function(t){var e={},n=t.dom();if(ho.isSupported(n))for(var i=0;i<n.style.length;i++){var r=n.style.item(i);e[r]=n.style[r]}return e},isValidValue:function(t,e,n){var i=Nr.fromTag(t);return go(i,e,n),yo(i,e).isSome()},reflow:function(t){return t.dom().offsetWidth},transfer:function(t,e,n){Gr.isElement(t)&&Gr.isElement(e)&&oe.each(n,function(n){bo(t,e,n)})}},xo=function(t){return t.slice(0).sort()},Co={sort:xo,reqMessage:function(t,e){throw new Error("All required keys ("+xo(t).join(", ")+") were not specified. Specified keys were: "+xo(e).join(", ")+".")},unsuppMessage:function(t){throw new Error("Unsupported keys for object: "+xo(t).join(", "))},validateStrArr:function(t,e){if(!Tt.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");oe.each(e,function(e){if(!Tt.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")})},invalidTypeMessage:function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+xo(t).join(", ")+") were not.")},checkDupes:function(t){var e=xo(t);oe.find(e,function(t,n){return n<e.length-1&&t===e[n+1]}).each(function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")})}},So={immutable:v,immutableBag:y},ko={toArray:function(t,e){var n=[],i=function(t){return n.push(t),e(t)},r=e(t);do{r=r.bind(i)}while(r.isSome());return n}},_o=function(){return de.getOrDie("Node")},Eo=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},To={documentPositionPreceding:function(t,e){return Eo(t,e,_o().DOCUMENT_POSITION_PRECEDING)},documentPositionContainedBy:function(t,e){return Eo(t,e,_o().DOCUMENT_POSITION_CONTAINED_BY)}},Ao=Br.ELEMENT,Mo=Br.DOCUMENT,Ro=function(t){return t.nodeType!==Ao&&t.nodeType!==Mo||0===t.childElementCount},Do={all:function(t,e){var n=e===undefined?document:e.dom();return Ro(n)?[]:oe.map(n.querySelectorAll(t),Nr.fromDom)},is:function(t,e){var n=t.dom();if(n.nodeType!==Ao)return!1;if(n.matches!==undefined)return n.matches(e);if(n.msMatchesSelector!==undefined)return n.msMatchesSelector(e);if(n.webkitMatchesSelector!==undefined)return n.webkitMatchesSelector(e);if(n.mozMatchesSelector!==undefined)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},one:function(t,e){var n=e===undefined?document:e.dom();return Ro(n)?kt.none():kt.from(n.querySelector(t)).map(Nr.fromDom)}},Lo=function(t,e){return t.dom()===e.dom()},$o=function(t,e){return t.dom().isEqualNode(e.dom())},Oo=function(t,e){return oe.exists(e,yt.curry(Lo,t))},Po=function(t,e){var n=t.dom(),i=e.dom();return n!==i&&n.contains(i)},Io=function(t,e){return To.documentPositionContainedBy(t.dom(),e.dom())},No=Lr.detect().browser.isIE()?Io:Po,Bo={eq:Lo,isEqualNode:$o,member:Oo,contains:No,is:Do.is},Fo=function(t){return Nr.fromDom(t.dom().ownerDocument)},Ho=function(t){var e=Fo(t);return Nr.fromDom(e.dom().documentElement)},zo=function(t){var e=t.dom().ownerDocument.defaultView;return Nr.fromDom(e)},Wo=function(t){var e=t.dom();return kt.from(e.parentNode).map(Nr.fromDom)},jo=function(t){return Wo(t).bind(function(e){var n=Qo(e);return oe.findIndex(n,function(e){return Bo.eq(t,e)})})},qo=function(t,e){for(var n=Tt.isFunction(e)?e:yt.constant(!1),i=t.dom(),r=[];null!==i.parentNode&&i.parentNode!==undefined;){var o=i.parentNode,s=Nr.fromDom(o);if(r.push(s),!0===n(s))break;i=o}return r},Uo=function(t){var e=function(e){return oe.filter(e,function(e){return!Bo.eq(t,e)})};return Wo(t).map(Qo).map(e).getOr([])},Vo=function(t){var e=t.dom();return kt.from(e.offsetParent).map(Nr.fromDom)},Go=function(t){var e=t.dom();return kt.from(e.previousSibling).map(Nr.fromDom)},Yo=function(t){var e=t.dom();return kt.from(e.nextSibling).map(Nr.fromDom)},Ko=function(t){return oe.reverse(ko.toArray(t,Go))},Xo=function(t){return ko.toArray(t,Yo)},Qo=function(t){var e=t.dom();return oe.map(e.childNodes,Nr.fromDom)},Zo=function(t,e){var n=t.dom().childNodes;return kt.from(n[e]).map(Nr.fromDom)},Jo=function(t){return Zo(t,0)},ts=function(t){return Zo(t,t.dom().childNodes.length-1)},es=function(t){return t.dom().childNodes.length},ns=function(t){return t.dom().hasChildNodes()},is=So.immutable("element","offset"),rs={owner:Fo,defaultView:zo,documentElement:Ho,parent:Wo,findIndex:jo,parents:qo,siblings:Uo,prevSibling:Go,offsetParent:Vo,prevSiblings:Ko,nextSibling:Yo,nextSiblings:Xo,children:Qo,child:Zo,firstChild:Jo,lastChild:ts,childNodesCount:es,hasChildNodes:ns,leaf:function(t,e){var n=Qo(t);return n.length>0&&e<n.length?is(n[e],0):is(t,e)}},os=Lr.detect().browser,ss=function(t){return oe.find(t,Gr.isElement)},as=function(t){return os.isFirefox()&&"table"===Gr.name(t)?ss(rs.children(t)).filter(function(t){return"caption"===Gr.name(t)}).bind(function(t){return ss(rs.nextSiblings(t)).map(function(e){var n=e.dom().offsetTop,i=t.dom().offsetTop,r=t.dom().offsetHeight;return n<=i?-r:0})}).getOr(0):0},ls={getPos:function(t,e,n){var i,r,o=0,s=0,a=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===wo.get(Nr.fromDom(t),"position"))return{x:o=(r=e.getBoundingClientRect()).left+(a.documentElement.scrollLeft||t.scrollLeft)-a.documentElement.clientLeft,y:s=r.top+(a.documentElement.scrollTop||t.scrollTop)-a.documentElement.clientTop};for(i=e;i&&i!==n&&i.nodeType;)o+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!==n&&i.nodeType;)o-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=as(Nr.fromDom(e))}return{x:o,y:s}}},cs=function(t){var e=kt.none(),n=[],i=function(t){return cs(function(e){r(function(n){e(t(n))})})},r=function(t){s()?l(t):n.push(t)},o=function(t){e=kt.some(t),a(n),n=[]},s=function(){return e.isSome()},a=function(t){oe.each(t,l)},l=function(t){e.each(function(e){setTimeout(function(){t(e)},0)})};return t(o),{get:r,map:i,isReady:s}},us={nu:cs,pure:function(t){return cs(function(e){e(t)})}},hs={bounce:function(t){return function(){var e=Array.prototype.slice.call(arguments),n=this;setTimeout(function(){t.apply(n,e)},0)}}},ds=function(t){var e=function(e){t(hs.bounce(e))};return{map:function(t){
return ds(function(n){e(function(e){var i=t(e);n(i)})})},bind:function(t){return ds(function(n){e(function(e){t(e).get(n)})})},anonBind:function(t){return ds(function(n){e(function(){t.get(n)})})},toLazy:function(){return us.nu(e)},get:e}},fs={nu:ds,pure:function(t){return ds(function(e){e(t)})}},ps={par:function(t,e){return e(function(e){var n=[],i=0,r=function(r){return function(o){n[r]=o,++i>=t.length&&e(n)}};0===t.length?e([]):oe.each(t,function(t,e){t.get(r(e))})})}},gs=function(t){return ps.par(t,fs.nu)},ms={par:gs,mapM:function(t,e){var n=oe.map(t,e);return gs(n)},compose:function(t,e){return function(n){return e(n).bind(t)}}},vs=function(t){var e=function(){return vs(t)},n=function(){return vs(t)},i=function(e){return vs(e(t))},r=function(e){e(t)},o=function(e){return e(t)},s=function(e,n){return n(t)},a=function(e){return e(t)},l=function(e){return e(t)},c=function(){return kt.some(t)};return{is:function(e){return t===e},isValue:yt.always,isError:yt.never,getOr:yt.constant(t),getOrThunk:yt.constant(t),getOrDie:yt.constant(t),or:e,orThunk:n,fold:s,map:i,each:r,bind:o,exists:a,forall:l,toOption:c}},ys=function(t){var e=function(t){return t()},n=function(){return yt.die(String(t))()},i=function(t){return t},r=function(t){return t()},o=function(){return ys(t)},s=function(){return ys(t)},a=function(e){return e(t)};return{is:yt.never,isValue:yt.never,isError:yt.always,getOr:yt.identity,getOrThunk:e,getOrDie:n,or:i,orThunk:r,fold:a,map:o,each:yt.noop,bind:s,exists:yt.never,forall:yt.always,toOption:kt.none}},bs={value:vs,error:ys},ws=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],xs=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],Cs=["td","th"],Ss=["thead","tbody","tfoot"],ks=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],_s=["li","dd","dt"],Es=["ul","ol","dl"],Ts=["pre","script","textarea","style"],As=function(t){var e;return function(n){return(e=e||oe.mapToObject(t,yt.constant(!0))).hasOwnProperty(Gr.name(n))}},Ms=As(["h1","h2","h3","h4","h5","h6"]),Rs=As(ws),Ds=function(t){return Gr.isElement(t)&&!Rs(t)},Ls=function(t){return Gr.isElement(t)&&"br"===Gr.name(t)},$s=As(ks),Os=As(Es),Ps=As(_s),Is=As(xs),Ns=As(Ss),Bs=As(Cs),Fs=As(Ts),Hs=function(t){return function(e){return!!e&&e.nodeType===t}},zs=Hs(1),Ws=function(t){var e=t.toLowerCase().split(" ");return function(t){var n,i;if(t&&t.nodeType)for(i=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(i===e[n])return!0;return!1}},js=function(t,e){var n=e.toLowerCase().split(" ");return function(e){var i;if(zs(e))for(i=0;i<n.length;i++){var r=e.ownerDocument.defaultView.getComputedStyle(e,null);if((r?r.getPropertyValue(t):null)===n[i])return!0}return!1}},qs=function(t,e){return function(n){return zs(n)&&n[t]===e}},Us=function(t){return function(e){return zs(e)&&e.hasAttribute(t)}},Vs=function(t,e){return function(n){return zs(n)&&n.getAttribute(t)===e}},Gs=function(t){return zs(t)&&t.hasAttribute("data-mce-bogus")},Ys=function(t){return zs(t)&&"all"===t.getAttribute("data-mce-bogus")},Ks=function(t){return zs(t)&&"TABLE"===t.tagName},Xs=function(t){return function(e){if(zs(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},Qs=Hs(3),Zs=Hs(8),Js=Hs(9),ta=Ws("br"),ea=Xs("true"),na=Xs("false"),ia={isText:Qs,isElement:zs,isComment:Zs,isDocument:Js,isBr:ta,isContentEditableTrue:ea,isContentEditableFalse:na,matchNodeNames:Ws,hasPropValue:qs,hasAttribute:Us,hasAttributeValue:Vs,matchStyleValues:js,isBogus:Gs,isBogusAll:Ys,isTable:Ks},ra=function(t){var e=t.previousSibling&&"SPAN"===t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"===t.nextSibling.nodeName;return e&&n},oa=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},sa=function(t,e){var n,i=e.childNodes;if(!ia.isElement(e)||!oa(e)){for(n=i.length-1;n>=0;n--)sa(t,i[n]);if(!1===ia.isDocument(e)){if(ia.isText(e)&&e.nodeValue.length>0){var r=oi.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||r>0)return;if(0===r&&ra(e))return}else if(ia.isElement(e)&&(1===(i=e.childNodes).length&&oa(i[0])&&e.parentNode.insertBefore(i[0],e),i.length||Is(Nr.fromDom(e))))return;t.remove(e)}return e}},aa={trimNode:sa},la=oi.makeMap,ca=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ua=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ha=/[<>&\"\']/g,da=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,fa={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};Bi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Fi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var pa=function(t){var e;return(e=Nr.fromTag("div").dom()).innerHTML=t,e.textContent||e.innerText||t},ga=function(t,e){var n,i,r,o={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),Bi[i]||(r="&"+t[n+1]+";",o[i]=r,o[r]=i);return o}};Ni=ga("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var ma=function(t,e){return t.replace(e?ca:ua,function(t){return Bi[t]||t})},va=function(t,e){return t.replace(e?ca:ua,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":Bi[t]||"&#"+t.charCodeAt(0)+";"})},ya=function(t,e,n){return n=n||Ni,t.replace(e?ca:ua,function(t){return Bi[t]||n[t]||t})},ba={encodeRaw:ma,encodeAllRaw:function(t){return(""+t).replace(ha,function(t){return Bi[t]||t})},encodeNumeric:va,encodeNamed:ya,getEncodeFunc:function(t,e){var n=ga(e)||Ni,i=function(t,e){return t.replace(e?ca:ua,function(t){return Bi[t]!==undefined?Bi[t]:n[t]!==undefined?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"})},r=function(t,e){return ya(t,e,n)},o=la(t.replace(/\+/g,","));return o.named&&o.numeric?i:o.named?e?r:ya:o.numeric?va:ma},decode:function(t){return t.replace(da,function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):fa[e]||String.fromCharCode(e):Fi[t]||Ni[t]||pa(t)})}},wa={},xa={},Ca=oi.makeMap,Sa=oi.each,ka=oi.extend,_a=oi.explode,Ea=oi.inArray,Ta=function(t,e){return(t=oi.trim(t))?t.split(e||" "):[]},Aa=function(t){var e,n,i,r,o,s,a={},l=function(t,n,i){var r,o,s,l=function(t,e){var n,i,r={};for(n=0,i=t.length;n<i;n++)r[t[n]]=e||{};return r};for(n=n||"","string"==typeof(i=i||[])&&(i=Ta(i)),r=(t=Ta(t)).length;r--;)s={attributes:l(o=Ta([e,n].join(" "))),attributesOrder:o,children:l(i,xa)},a[t[r]]=s},c=function(t,e){var n,i,r,o;for(n=(t=Ta(t)).length,e=Ta(e);n--;)for(i=a[t[n]],r=0,o=e.length;r<o;r++)i.attributes[e[r]]={},i.attributesOrder.push(e[r])};return wa[t]?wa[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",i=[i,s="acronym applet basefont big font strike tt"].join(" "),Sa(Ta(s),function(t){l(t,"",i)}),n=[n,o="center dir isindex noframes"].join(" "),r=[n,i].join(" "),Sa(Ta(o),function(t){l(t,"",r)})),r=r||[n,i].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),l("address dt dd div caption","",r),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),l("blockquote","cite",r),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",r),l("dl","","dt dd"),l("a","href target rel media hreflang type",i),l("q","cite",i),l("ins del","cite datetime",r),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",r),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),l("param","name value"),l("map","name",[r,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",r),l("th","colspan rowspan headers scope abbr",r),l("form","accept-charset action autocomplete enctype method name novalidate target",r),l("fieldset","disabled form name",[r,"legend"].join(" ")),l("label","form for",i),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?r:i),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[r,"li"].join(" ")),l("noscript","",r),"html4"!==t&&(l("wbr"),l("ruby","",[i,"rt rp"].join(" ")),l("figcaption","",r),l("mark rt rp summary bdi","",i),l("canvas","width height",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[i,"option"].join(" ")),l("article section nav aside header footer","",r),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[r,"figcaption"].join(" ")),l("time","datetime",i),l("dialog","open",r),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",i),l("progress","value max",i),l("meter","value min max low high optimum",i),l("details","open",[r,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select","onchange"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==t&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("iframe","sandbox seamless allowfullscreen")),Sa(Ta("a form meter progress dfn"),function(t){a[t]&&delete a[t].children[t]}),delete a.caption.children.table,delete a.script,wa[t]=a,a)},Ma=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),Sa(t,function(t,i){n[i]=n[i.toUpperCase()]="map"===e?Ca(t,/[, ]/):_a(t,/[, ]/)})),n},Ra=function(t,e,n,i){var r=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+r(e)+r(n)+r(i)},Da=oi.each,La=oi.grep,$a=Be.ie,Oa=/^([a-z0-9],?)+$/i,Pa=/^[ \t\r\n]*$/,Ia=function(t,e,n){var i={},r=e.keep_values,o={set:function(t,i,r){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||n(),i,r,t[0])),t.attr("data-mce-"+r,i).attr(r,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}};return i={style:{set:function(t,e){null===e||"object"!=typeof e?(r&&t.attr("data-mce-style",e),t.attr("style",e)):t.css(e)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serialize(t.parse(n),e[0].nodeName)}}},r&&(i.href=i.src=o),i},Na=function(t,e){var n=e.attr("style"),i=t.serialize(t.parse(n),e[0].nodeName);i||(i=null),e.attr("data-mce-style",i)},Ba=function(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!==i||i!==n&&t.nodeValue.length)&&(r++,n=i);return r};!function(t){t.DOM=t(document),t.nodeIndex=Ba}(S||(S={}));var Fa=S,Ha=Fa.DOM,za=oi.each,Wa=oi.grep,ja=function(t){return"function"==typeof t},qa=function(){var t=0,e=1,n=2,i=3,r={},o=[],s={},a=[],l=0,c=function(t,e,n){var i,r,o=Ha,s=function(){o.remove(r),i&&(i.onreadystatechange=i.onload=i=null),e()},a=function(){ja(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)};r=o.uniqueId(),(i=document.createElement("script")).id=r,i.type="text/javascript",i.src=oi._addCacheSuffix(t),"onreadystatechange"in i?i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&s()}:i.onload=s,i.onerror=a,(document.getElementsByTagName("head")[0]||document.body).appendChild(i)};this.isDone=function(t){return r[t]===n},this.markDone=function(t){r[t]=n},this.add=this.load=function(e,n,i,a){r[e]===undefined&&(o.push(e),r[e]=t),n&&(s[e]||(s[e]=[]),s[e].push({success:n,failure:a,scope:i||this}))},this.remove=function(t){delete r[t],delete s[t]},this.loadQueue=function(t,e,n){this.loadScripts(o,t,e,n)},this.loadScripts=function(t,o,u,h){var d,f=[],p=function(t,e){za(s[e],function(e){ja(e[t])&&e[t].call(e.scope)}),s[e]=undefined};a.push({success:o,failure:h,scope:u||this}),(d=function(){var o=Wa(t);if(t.length=0,za(o,function(t){r[t]!==n?r[t]!==i?r[t]!==e&&(r[t]=e,l++,c(t,function(){r[t]=n,l--,p("success",t),d()},function(){r[t]=i,l--,f.push(t),p("failure",t),d()})):p("failure",t):p("success",t)}),!l){var s=a.slice(0);a.length=0,za(s,function(t){0===f.length?ja(t.success)&&t.success.call(t.scope):ja(t.failure)&&t.failure.call(t.scope,f)})}})()}};qa.ScriptLoader=new qa;var Ua=oi.each;!function(t){t.PluginManager=t(),t.ThemeManager=t()}(k||(k={}));var Va="\ufeff",Ga={isZwsp:function(t){return t===Va},ZWSP:Va,trim:function(t){return t.replace(new RegExp(Va,"g"),"")}},Ya=ia.isElement,Ka=ia.isText,Xa=function(t){return Ka(t)&&(t=t.parentNode),Ya(t)&&t.hasAttribute("data-mce-caret")},Qa=function(t){return Ka(t)&&Ga.isZwsp(t.data)},Za=function(t){return Xa(t)||Qa(t)},Ja=function(t){return t.firstChild!==t.lastChild||!ia.isBr(t.firstChild)},tl=function(t,e){var n,i,r;if(i=t.ownerDocument.createTextNode(Ga.ZWSP),r=t.parentNode,e){if(n=t.previousSibling,Ka(n)){if(Za(n))return n;if(sl(n))return n.splitText(n.data.length-1)}r.insertBefore(i,t)}else{if(n=t.nextSibling,Ka(n)){if(Za(n))return n;if(ol(n))return n.splitText(1),n}t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i)}return i},el=function(t){var e=t.container();return t&&ia.isText(e)&&e.data.charAt(t.offset())===Ga.ZWSP},nl=function(t){var e=t.container();return t&&ia.isText(e)&&e.data.charAt(t.offset()-1)===Ga.ZWSP},il=function(){var t=document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t},rl=function(t,e,n){var i,r;return(i=e.ownerDocument.createElement(t)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(il()),r=e.parentNode,n?r.insertBefore(i,e):e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i),i},ol=function(t){return Ka(t)&&t.data[0]===Ga.ZWSP},sl=function(t){return Ka(t)&&t.data[t.data.length-1]===Ga.ZWSP},al=function(t){var e=t.getElementsByTagName("br"),n=e[e.length-1];ia.isBogus(n)&&n.parentNode.removeChild(n)},ll=function(t){return t&&t.hasAttribute("data-mce-caret")?(al(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null},cl=function(t){return Xa(t.startContainer)},ul=ia.isContentEditableTrue,hl=ia.isContentEditableFalse,dl=ia.isBr,fl=ia.isText,pl=ia.matchNodeNames("script style textarea"),gl=ia.matchNodeNames("img input textarea hr iframe video audio object"),ml=ia.matchNodeNames("table"),vl=Za,yl=function(t){return!vl(t)&&(fl(t)?!pl(t.parentNode):gl(t)||dl(t)||ml(t)||wl(t))},bl=function(t){return ia.isElement(t)&&"true"===t.getAttribute("unselectable")},wl=function(t){return!1===bl(t)&&hl(t)},xl=function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(wl(t))return!1;if(ul(t))return!0}return!0},Cl=function(t){return!!wl(t)&&!0!==Vn.reduce(t.getElementsByTagName("*"),function(t,e){return t||ul(e)},!1)},Sl=function(t){return gl(t)||Cl(t)},kl=function(t,e){return yl(t)&&xl(t,e)},_l=Math.round,El=function(t){return t?{left:_l(t.left),top:_l(t.top),bottom:_l(t.bottom),right:_l(t.right),width:_l(t.width),height:_l(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Tl=function(t,e){return t=El(t),e?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t},Al=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},Ml=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},Rl=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&Ml(e.top-t.bottom,t,e)},Dl=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&Ml(e.bottom-t.top,t,e)},Ll=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},$l=function(t,e){return e.left>t.left&&e.right<t.right?0:e.left<t.left?e.left-t.left:e.right-t.right},Ol=function(t,e){return e.top>t.top&&e.bottom<t.bottom?0:e.top<t.top?e.top-t.top:e.bottom-t.bottom},Pl=function(t,e){return{x:$l(t,e),y:Ol(t,e)}},Il=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Nl=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},Bl=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Fl=function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&Bl.test(t)},Hl=[].slice,zl=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Hl.call(arguments);return i.length-1>=t.length?t.apply(this,i.slice(1)):function(){var t=i.concat([].slice.call(arguments));return zl.apply(this,t)}},Wl={constant:function(t){return function(){return t}},negate:function(t){return function(e){return!t(e)}},and:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Hl.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}},or:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Hl.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}},curry:zl,compose:function(t,e){return function(n){return t(e(n))}},noop:function(){}},jl={cat:function(t){for(var e=[],n=function(t){e.push(t)},i=0;i<t.length;i++)t[i].each(n);return e},findMap:function(t,e){for(var n=0;n<t.length;n++){var i=e(t[n],n);if(i.isSome())return i}return kt.none()},liftN:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(!r.isSome())return kt.none();n.push(r.getOrDie())}return kt.some(e.apply(null,n))}},ql=ia.isElement,Ul=yl,Vl=ia.matchStyleValues("display","block table"),Gl=ia.matchStyleValues("float","left right"),Yl=Wl.and(ql,Ul,Wl.negate(Gl)),Kl=Wl.negate(ia.matchStyleValues("white-space","pre pre-line pre-wrap")),Xl=ia.isText,Ql=ia.isBr,Zl=Fa.nodeIndex,Jl=Nl,tc=function(t){return"createRange"in t?t.createRange():Fa.DOM.createRng()},ec=function(t){return t&&/[\r\n\t ]/.test(t)},nc=function(t){return!!t.setStart&&!!t.setEnd},ic=function(t){var e,n=t.startContainer,i=t.startOffset;return!!(ec(t.toString())&&Kl(n.parentNode)&&ia.isText(n)&&(e=n.data,ec(e[i-1])||ec(e[i+1])))},rc=function(t){var e,n=t.ownerDocument,i=tc(n),r=n.createTextNode("\xa0"),o=t.parentNode;return o.insertBefore(r,t),i.setStart(r,0),i.setEnd(r,1),e=El(i.getBoundingClientRect()),o.removeChild(r),e},oc=function(t){var e=t.startContainer,n=t.endContainer,i=t.startOffset,r=t.endOffset;if(e===n&&ia.isText(n)&&0===i&&1===r){var o=t.cloneRange();return o.setEndAfter(n),ac(o)}return null},sc=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},ac=function(t){var e,n;return e=(n=t.getClientRects()).length>0?El(n[0]):El(t.getBoundingClientRect()),!nc(t)&&Ql(t)&&sc(e)?rc(t):sc(e)&&nc(t)?oc(t):e},lc=function(t,e){var n=Tl(t,e);return n.width=1,n.right=n.left+1,n},cc=function(t){var e,n,i=[],r=function(t){0!==t.height&&(i.length>0&&Al(t,i[i.length-1])||i.push(t))},o=function(t,e){var n=tc(t.ownerDocument);if(e<t.data.length){if(Fl(t.data[e]))return i;if(Fl(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!ic(n)))return r(lc(ac(n),!1)),i}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),ic(n)||r(lc(ac(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),ic(n)||r(lc(ac(n),!0)))};if(Xl(t.container()))return o(t.container(),t.offset()),i;if(ql(t.container()))if(t.isAtEnd())n=Jl(t.container(),t.offset()),Xl(n)&&o(n,n.data.length),Yl(n)&&!Ql(n)&&r(lc(ac(n),!1));else{if(n=Jl(t.container(),t.offset()),Xl(n)&&o(n,0),Yl(n)&&t.isAtEnd())return r(lc(ac(n),!1)),i;e=Jl(t.container(),t.offset()-1),Yl(e)&&!Ql(e)&&(Vl(e)||Vl(n)||!Yl(n))&&r(lc(ac(e),!1)),Yl(n)&&r(lc(ac(n),!0))}return i};!function(t){t.fromRangeStart=function(e){return t(e.startContainer,e.startOffset)},t.fromRangeEnd=function(e){return t(e.endContainer,e.endOffset)},t.after=function(e){return t(e.parentNode,Zl(e)+1)},t.before=function(e){return t(e.parentNode,Zl(e))},t.isAbove=function(t,e){return jl.liftN([oe.head(e.getClientRects()),oe.last(t.getClientRects())],Rl).getOr(!1)},t.isBelow=function(t,e){return jl.liftN([oe.last(e.getClientRects()),oe.head(t.getClientRects())],Dl).getOr(!1)},t.isAtStart=function(t){return!!t&&t.isAtStart()},t.isAtEnd=function(t){return!!t&&t.isAtEnd()},t.isTextPosition=function(t){return!!t&&ia.isText(t.container())},t.isElementPosition=function(e){return!1===t.isTextPosition(e)}}(_||(_={}));var uc,hc=_,dc=ia.isElement,fc=ia.isText,pc=function(t){var e=t.parentNode;e&&e.removeChild(t)},gc=function(t){try{return t.nodeValue}catch(e){return""}},mc=function(t,e){0===e.length?pc(t):t.nodeValue=e},vc=function(t){var e=Ga.trim(t);return{count:t.length-e.length,text:e}},yc=function(t,e){return Sc(t),e},bc=function(t,e){var n=vc(t.data.substr(0,e.offset())),i=vc(t.data.substr(e.offset())),r=n.text+i.text;return r.length>0?(mc(t,r),hc(t,e.offset()-n.count)):e},wc=function(t,e){var n=e.container(),i=oe.indexOf(oe.from(n.childNodes),t).map(function(t){return t<e.offset()?hc(n,e.offset()-1):e}).getOr(e);return Sc(t),i},xc=function(t,e){return fc(t)&&e.container()===t?bc(t,e):yc(t,e)},Cc=function(t,e){return e.container()===t.parentNode?wc(t,e):yc(t,e)},Sc=function(t){if(dc(t)&&Za(t)&&(Ja(t)?t.removeAttribute("data-mce-caret"):pc(t)),fc(t)){var e=Ga.trim(gc(t));mc(t,e)}},kc={removeAndReposition:function(t,e){return hc.isTextPosition(e)?xc(t,e):Cc(t,e)},remove:Sc},_c=function(t,e,n){var i=t?hc.before(n):hc.after(n);return Lc(t,e,i)},Ec=function(t){return ia.isBr(t)?hc.before(t):hc.after(t)},Tc=function(t){return hc.isTextPosition(t)?0===t.offset():yl(t.getNode())},Ac=function(t){if(hc.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return yl(t.getNode(!0))},Mc=function(t,e){return!hc.isTextPosition(t)&&!hc.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Rc=function(t){return!hc.isTextPosition(t)&&ia.isBr(t.getNode())},Dc=function(t,e,n){return t?!Mc(e,n)&&!Rc(e)&&Ac(e)&&Tc(n):!Mc(n,e)&&Tc(e)&&Ac(n)},Lc=function(t,e,n){var i=Hh(e);return kt.from(t?i.next(n):i.prev(n))},$c=function(t,e,n){return Lc(t,e,n).bind(function(i){return dh(n,i,e)&&Dc(t,n,i)?Lc(t,e,i):kt.some(i)})},Oc=function(t,e){var n=t?e.firstChild:e.lastChild;return ia.isText(n)?kt.some(hc(n,t?0:n.data.length)):n?yl(n)?kt.some(t?hc.before(n):Ec(n)):_c(t,e,n):kt.none()},Pc={fromPosition:Lc,nextPosition:yt.curry(Lc,!0),prevPosition:yt.curry(Lc,!1),navigate:$c,positionIn:Oc,firstPositionIn:yt.curry(Oc,!0),lastPositionIn:yt.curry(Oc,!1)},Ic=ia.isContentEditableTrue,Nc=ia.isContentEditableFalse,Bc=function(t,e,n,i,r){return e._selectionOverrides.showCaret(t,n,i,r)},Fc=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},Hc=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:Fc(e)},zc=function(t,e,n){var i=bh(1,t.getBody(),e),r=hc.fromRangeStart(i),o=r.getNode();if(Nc(o))return Bc(1,t,o,!r.isAtEnd(),!1);var s=r.getNode(!0);if(Nc(s))return Bc(1,t,s,!1,!1);var a=t.dom.getParent(r.getNode(),function(t){return Nc(t)||Ic(t)});return Nc(a)?Bc(1,t,a,!1,n):null},Wc=function(t,e,n){if(!e||!e.collapsed)return e;var i=zc(t,e,n);return i||e};!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(uc||(uc={}));var jc,qc=function(t,e){return t===jc.Backwards?e.reverse():e},Uc=function(t,e,n){return t===jc.Forwards?e.next(n):e.prev(n)},Vc=function(t,e,n,i){return ia.isBr(i.getNode(e===jc.Forwards))?uc.Br:!1===dh(n,i)?uc.Block:uc.Wrap},Gc=function(t,e,n,i){for(var r,o=Hh(n),s=i,a=[];s&&(r=Uc(e,o,s));){if(ia.isBr(r.getNode(!1)))return e===jc.Forwards?{positions:qc(e,a).concat([r]),breakType:uc.Br,breakAt:kt.some(r)}:{positions:qc(e,a),breakType:uc.Br,breakAt:kt.some(r)};if(r.isVisible()){if(t(s,r)){var l=Vc(n,e,s,r);return{positions:qc(e,a),breakType:l,breakAt:kt.some(r)}}a.push(r),s=r}else s=r}return{positions:qc(e,a),breakType:uc.Eol,breakAt:kt.none()}},Yc=function(t,e,n,i){return e(n,i).breakAt.map(function(i){var r=e(n,i).positions;return t===jc.Backwards?r.concat(i):[i].concat(r)}).getOr([])},Kc=function(t,e){return oe.foldl(t,function(t,n){return t.fold(function(){return kt.some(n)},function(i){return jl.liftN([oe.head(i.getClientRects()),oe.head(n.getClientRects())],function(t,r){var o=Math.abs(e-t.left);return Math.abs(e-r.left)<=o?n:i}).or(t)})},kt.none())},Xc=function(t,e){return oe.head(e.getClientRects()).bind(function(e){return Kc(t,e.left)})},Qc=yt.curry(Gc,_.isAbove,-1),Zc=yt.curry(Gc,_.isBelow,1),Jc=yt.curry(Yc,-1,Qc),tu=yt.curry(Yc,1,Zc),eu=function(t){return Pc.firstPositionIn(t).map(function(e){return[e].concat(Zc(t,e).positions)}).getOr([])},nu=function(t){return Pc.lastPositionIn(t).map(function(e){return Qc(t,e).positions.concat(e)}).getOr([])},iu=function(t){return ru(uo.body(),t)},ru=function(t,e){var n=[];return oe.each(rs.children(t),function(t){
e(t)&&(n=n.concat([t])),n=n.concat(ru(t,e))}),n},ou={all:iu,ancestors:function(t,e,n){return oe.filter(rs.parents(t,n),e)},siblings:function(t,e){return oe.filter(rs.siblings(t),e)},children:function(t,e){return oe.filter(rs.children(t),e)},descendants:ru},su={all:function(t){return Do.all(t)},ancestors:function(t,e,n){return ou.ancestors(t,function(t){return Do.is(t,e)},n)},siblings:function(t,e){return ou.siblings(t,function(t){return Do.is(t,e)})},children:function(t,e){return ou.children(t,function(t){return Do.is(t,e)})},descendants:function(t,e){return Do.all(e,t)}},au=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}},lu=function(t,e){return oe.bind(e,function(e){var n=au(e.getBoundingClientRect(),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]})},cu=function(t,e,n){return oe.foldl(t,function(t,i){return t.fold(function(){return kt.some(i)},function(t){var r=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),o=Math.sqrt(Math.abs(i.x-e)+Math.abs(i.y-n));return kt.some(o<r?i:t)})},kt.none())},uu=function(t,e,n,i,r){var o=su.descendants(Nr.fromDom(n),"td,th").map(function(t){return t.dom()}),s=oe.filter(lu(t,o),function(t){return e(t,r)});return cu(s,i,r).map(function(t){return t.cell})},hu=function(t){return t.bottom},du=function(t){return t.top},fu=function(t,e){return t.y<e},pu=function(t,e){return t.y>e},gu=yt.curry(uu,hu,fu),mu=yt.curry(uu,du,pu),vu=function(t,e){return oe.head(e.getClientRects()).bind(function(e){return gu(t,e.left,e.top)}).bind(function(t){return Xc(nu(t),e)})},yu=function(t,e){return oe.last(e.getClientRects()).bind(function(e){return mu(t,e.left,e.top)}).bind(function(t){return Xc(eu(t),e)})},bu=function(t){for(var e=0,n=0,i=t;i&&i.nodeType;)e+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:e,y:n}},wu=function(t,e,n){var i={elm:e,alignToTop:n};return t.fire("scrollIntoView",i),i.isDefaultPrevented()},xu=function(t){if(t.inline)return t.getBody().getBoundingClientRect();var e=t.getWin();return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight,width:e.innerWidth,height:e.innerHeight}},Cu=function(t,e,n){t.inline?(t.getBody().scrollLeft+=e,t.getBody().scrollTop+=n):t.getWin().scrollBy(e,n)},Su={scrollElementIntoView:function(t,e,n){var i,r,o,s,a=t.dom,l=a.getRoot(),c=0;if(!wu(t,e,n)&&ia.isElement(e)){if(!1===n&&(c=e.offsetHeight),"BODY"!==l.nodeName){var u=t.selection.getScrollContainer();if(u)return i=bu(e).y-bu(u).y+c,s=u.clientHeight,void((i<(o=u.scrollTop)||i+25>o+s)&&(u.scrollTop=i<o?i:i-s+25))}r=a.getViewPort(t.getWin()),i=a.getPos(e).y+c,o=r.y,s=r.h,(i<r.y||i+25>o+s)&&t.getWin().scrollTo(0,i<o?i:i-s+25)}},scrollRangeIntoView:function(t,e){oe.head(_.fromRangeStart(e).getClientRects()).each(function(e){var n=xu(t),i=Pl(n,e),r=4,o=i.x>0?i.x+r:i.x-r,s=i.y>0?i.y+r:i.y-r;Cu(t,0!==i.x?o:0,0!==i.y?s:0)})}},ku=function(t,e,n){var i=t.getParam(e,n);if(-1!==i.indexOf("=")){var r=t.getParam(e,"","hash");return r.hasOwnProperty(t.id)?r[t.id]:n}return i},_u={getIframeAttrs:function(t){return t.getParam("iframe_attrs",{})},getDocType:function(t){return t.getParam("doctype","<!DOCTYPE html>")},getDocumentBaseUrl:function(t){return t.getParam("document_base_url","")},getBodyId:function(t){return ku(t,"body_id","tinymce")},getBodyClass:function(t){return ku(t,"body_class","")},getContentSecurityPolicy:function(t){return t.getParam("content_security_policy","")},shouldPutBrInPre:function(t){return t.getParam("br_in_pre",!0)},getForcedRootBlock:function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":e},getForcedRootBlockAttrs:function(t){return t.getParam("forced_root_block_attrs",{})},getBrNewLineSelector:function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},getNoNewLineSelector:function(t){return t.getParam("no_newline_selector","")},shouldKeepStyles:function(t){return t.getParam("keep_styles",!0)},shouldEndContainerOnEmptyBlock:function(t){return t.getParam("end_container_on_empty_block",!1)},getFontStyleValues:function(t){return oi.explode(t.getParam("font_size_style_values",""))},getFontSizeClasses:function(t){return oi.explode(t.getParam("font_size_classes",""))}},Eu=function(t,e){rs.parent(t).each(function(n){n.dom().insertBefore(e.dom(),t.dom())})},Tu=function(t,e){rs.nextSibling(t).fold(function(){rs.parent(t).each(function(t){Mu(t,e)})},function(t){Eu(t,e)})},Au=function(t,e){rs.firstChild(t).fold(function(){Mu(t,e)},function(n){t.dom().insertBefore(e.dom(),n.dom())})},Mu=function(t,e){t.dom().appendChild(e.dom())},Ru={before:Eu,after:Tu,prepend:Au,append:Mu,appendAt:function(t,e,n){rs.child(t,n).fold(function(){Mu(t,e)},function(t){Eu(t,e)})},wrap:function(t,e){Eu(t,e),Mu(e,t)}},Du=Lr.detect().browser,Lu=function(){return Du.isIE()||Du.isEdge()||Du.isFirefox()},$u=function(t,e){t.selection.setRng(e),Su.scrollRangeIntoView(t,e)},Ou=function(t,e,n){var i=t(e,n);return i.breakType===uc.Wrap&&0===i.positions.length?i.breakAt.map(function(n){return t(e,n).breakAt.isNone()}).getOr(!0):i.breakAt.isNone()},Pu=Wl.curry(Ou,Qc),Iu=Wl.curry(Ou,Zc),Nu=function(t,e,n){var i=hc.fromRangeStart(e);return Pc.positionIn(!t,n).map(function(t){return t.isEqual(i)}).getOr(!1)},Bu=function(t,e,n){var i=t.selection.getRng(),r=e?1:-1;if(Lu()&&Nu(e,i,n)){var o=Bc(r,t,n,!e,!0);return $u(t,o),!0}return!1},Fu=function(t,e,n){return vu(e,n).orThunk(function(){return oe.head(n.getClientRects()).bind(function(n){return Kc(Jc(t,hc.before(e)),n.left)})}).getOr(hc.before(e))},Hu=function(t,e,n){return yu(e,n).orThunk(function(){return oe.head(n.getClientRects()).bind(function(n){return Kc(tu(t,hc.after(e)),n.left)})}).getOr(hc.after(e))},zu=function(t,e){var n=e.getNode(t);return ia.isElement(n)&&"TABLE"===n.nodeName?kt.some(n):kt.none()},Wu=function(t,e,n,i){var r=_u.getForcedRootBlock(e);r?e.undoManager.transact(function(){var i=Nr.fromTag(r);so.setAll(i,_u.getForcedRootBlockAttrs(e)),Ru.append(i,Nr.fromTag("br")),t?Ru.after(Nr.fromDom(n),i):Ru.before(Nr.fromDom(n),i);var o=e.dom.createRng();o.setStart(i.dom(),0),o.setEnd(i.dom(),0),$u(e,o)}):$u(e,i.toRange())},ju=function(t,e,n){var i=zu(!!e,n),r=!1===e;i.fold(function(){return $u(t,n.toRange())},function(i){return Pc.positionIn(r,t.getBody()).filter(function(t){return t.isEqual(n)}).fold(function(){return $u(t,n.toRange())},function(){return Wu(e,t,i,n)})})},qu=function(t,e,n,i){var r=t.selection.getRng(),o=hc.fromRangeStart(r),s=t.getBody();if(!e&&Pu(i,o)){var a=Fu(s,n,o);return ju(t,e,a),!0}return!(!e||!Iu(i,o))&&(a=Hu(s,n,o),ju(t,e,a),!0)},Uu=function(t,e){return function(){return kt.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(n){return kt.from(t.dom.getParent(n,"table")).map(function(i){return Bu(t,e,i,n)})}).getOr(!1)}},Vu=function(t,e){return function(){return kt.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(n){return kt.from(t.dom.getParent(n,"table")).map(function(i){return qu(t,e,i,n)})}).getOr(!1)}},Gu=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return Gu(n())}}},Yu=ia.isContentEditableFalse,Ku=function(t){return ia.isElement(t)&&/^(TD|TH)$/i.test(t.tagName)},Xu=function(t,e,n){var i,r,o,s,a,l=Tl(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(i=t.ownerDocument.documentElement,r=t.scrollLeft||i.scrollLeft,o=t.scrollTop||i.scrollTop):(a=t.getBoundingClientRect(),r=t.scrollLeft-a.left,o=t.scrollTop-a.top),l.left+=r,l.right+=r,l.top+=o,l.bottom+=o,l.width=1,(s=e.offsetWidth-e.clientWidth)>0&&(n&&(s*=-1),l.left+=s,l.right+=s),l},Qu=function(t){var e,n,i,r,o;for(e=_i("*[contentEditable=false]",t),r=0;r<e.length;r++)i=(n=e[r]).previousSibling,sl(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(o.length-1,1)),i=n.nextSibling,ol(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))},Zu=function(t,e,n){var i,r,o=Gu(kt.none()),s=function(n,i){var s,c;if(a(),Ku(i))return null;if(!e(i))return r=tl(i,n),c=i.ownerDocument.createRange(),Yu(r.nextSibling)?(c.setStart(r,0),c.setEnd(r,0)):(c.setStart(r,1),c.setEnd(r,1)),c;r=rl("p",i,n),s=Xu(t,i,n),_i(r).css("top",s.top);var u=_i('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(s).appendTo(t)[0];return o.set(kt.some({caret:u,element:i,before:n})),o.get().each(function(t){n&&_i(t.caret).addClass("mce-visual-caret-before")}),l(),(c=i.ownerDocument.createRange()).setStart(r,0),c.setEnd(r,0),c},a=function(){Qu(t),r&&(kc.remove(r),r=null),o.get().each(function(t){_i(t.caret).remove(),o.set(kt.none())}),clearInterval(i)},l=function(){i=Ue.setInterval(function(){n()?_i("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):_i("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)};return{show:s,hide:a,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){o.get().each(function(e){var n=Xu(t,e.element,e.before);_i(e.caret).css(n)})},destroy:function(){return Ue.clearInterval(i)}}},Ju=function(t){return Yu(t)||ia.isTable(t)&&Lu()},th=ia.isContentEditableFalse,eh=ia.matchStyleValues("display","block table table-cell table-caption list-item"),nh=Za,ih=Xa,rh=Wl.curry,oh=ia.isElement,sh=yl,ah=function(t){return t>0},lh=function(t){return t<0},ch=function(t,e){for(var n;n=t(e);)if(!ih(n))return n;return null},uh=function(t,e,n,i,r){var o=new w(t,i);if(lh(e)){if((th(t)||ih(t))&&n(t=ch(o.prev,!0)))return t;for(;t=ch(o.prev,r);)if(n(t))return t}if(ah(e)){if((th(t)||ih(t))&&n(t=ch(o.next,!0)))return t;for(;t=ch(o.next,r);)if(n(t))return t}return null},hh=function(t,e){for(;t&&t!==e;){if(eh(t))return t;t=t.parentNode}return null},dh=function(t,e,n){return hh(t.container(),n)===hh(e.container(),n)},fh=function(t,e){var n,i;return e?(n=e.container(),i=e.offset(),oh(n)?n.childNodes[i+t]:null):null},ph=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},gh=function(t,e,n){return hh(e,t)===hh(n,t)},mh=function(t,e,n){var i,r;for(r=t?"previousSibling":"nextSibling";n&&n!==e;){if(i=n[r],nh(i)&&(i=i[r]),th(i)){if(gh(e,i,n))return i;break}if(sh(i))break;n=n.parentNode}return null},vh=rh(ph,!0),yh=rh(ph,!1),bh=function(t,e,n){var i,r,o,s,a=rh(mh,!0,e),l=rh(mh,!1,e);if(r=n.startContainer,o=n.startOffset,Xa(r)){if(oh(r)||(r=r.parentNode),"before"===(s=r.getAttribute("data-mce-caret"))&&(i=r.nextSibling,Ju(i)))return vh(i);if("after"===s&&(i=r.previousSibling,Ju(i)))return yh(i)}if(!n.collapsed)return n;if(ia.isText(r)){if(nh(r)){if(1===t){if(i=l(r))return vh(i);if(i=a(r))return yh(i)}if(-1===t){if(i=a(r))return yh(i);if(i=l(r))return vh(i)}return n}if(sl(r)&&o>=r.data.length-1)return 1===t&&(i=l(r))?vh(i):n;if(ol(r)&&o<=1)return-1===t&&(i=a(r))?yh(i):n;if(o===r.data.length)return(i=l(r))?vh(i):n;if(0===o)return(i=a(r))?yh(i):n}return n},wh=function(t,e){var n=fh(t,e);return th(n)&&!ia.isBogusAll(n)},xh=function(t,e){return ia.isTable(fh(t,e))},Ch=function(t,e){return kt.from(fh(t?0:-1,e)).filter(th)},Sh=function(t,e,n){var i=bh(t,e,n);return-1===t?_.fromRangeStart(i):_.fromRangeEnd(i)},kh=rh(wh,0),_h=rh(wh,-1),Eh=rh(xh,0),Th=rh(xh,-1);!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(jc||(jc={}));var Ah=ia.isContentEditableFalse,Mh=ia.isText,Rh=ia.isElement,Dh=ia.isBr,Lh=yl,$h=Sl,Oh=kl,Ph=function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n},Ih=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},Nh=function(t,e){if(ah(t)){if(Lh(e.previousSibling)&&!Mh(e.previousSibling))return hc.before(e);if(Mh(e))return hc(e,0)}if(lh(t)){if(Lh(e.nextSibling)&&!Mh(e.nextSibling))return hc.after(e);if(Mh(e))return hc(e,e.data.length)}return lh(t)?Dh(e)?hc.before(e):hc.after(e):hc.before(e)},Bh=function(t,e){var n;return!!ia.isBr(t)&&!!(n=Fh(1,hc.after(t),e))&&!dh(hc.before(t),hc.before(n),e)},Fh=function(t,e,n){var i,r,o,s,a;if(!Rh(n)||!e)return null;if(e.isEqual(hc.after(n))&&n.lastChild){if(a=hc.after(n.lastChild),lh(t)&&Lh(n.lastChild)&&Rh(n.lastChild))return Dh(n.lastChild)?hc.before(n.lastChild):a}else a=e;var l=a.container(),c=a.offset();if(Mh(l)){if(lh(t)&&c>0)return hc(l,--c);if(ah(t)&&c<l.length)return hc(l,++c);i=l}else{if(lh(t)&&c>0&&(r=Ih(l,c-1),Lh(r)))return!$h(r)&&(o=uh(r,t,Oh,r))?Mh(o)?hc(o,o.data.length):hc.after(o):Mh(r)?hc(r,r.data.length):hc.before(r);if(ah(t)&&c<l.childNodes.length&&(r=Ih(l,c),Lh(r)))return Dh(r)&&n.lastChild===r?null:Bh(r,n)?Fh(t,hc.after(r),n):!$h(r)&&(o=uh(r,t,Oh,r))?Mh(o)?hc(o,0):hc.before(o):Mh(r)?hc(r,0):hc.after(r);i=r||a.getNode()}return(ah(t)&&a.isAtEnd()||lh(t)&&a.isAtStart())&&(i=uh(i,t,Wl.constant(!0),n,!0),Oh(i,n))?Nh(t,i):(r=uh(i,t,Oh,n),!(s=Vn.last(Vn.filter(Ph(l,n),Ah)))||r&&s.contains(r)?r?Nh(t,r):null:a=ah(t)?hc.after(s):hc.before(s))},Hh=function(t){return{next:function(e){return Fh(jc.Forwards,e,t)},prev:function(e){return Fh(jc.Backwards,e,t)}}},zh=function(t){return t.firstChild&&t.firstChild===t.lastChild},Wh=function(t){return"br"===t.name||"\xa0"===t.value},jh=function(t,e){return t.getBlockElements()[e.name]&&zh(e)&&Wh(e.firstChild)},qh=function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||jh(t,e))},Uh=function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t},Vh=function(t,e,n){var i=e.serialize(n),r=t.createFragment(i);return Uh(r)},Gh=function(t){return oi.grep(t.childNodes,function(t){return"LI"===t.nodeName})},Yh=function(t){return"\xa0"===t.data||ia.isBr(t)},Kh=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&Yh(t.firstChild)},Xh=function(t){return!t.firstChild||Kh(t)},Qh=function(t){return t.length>0&&Xh(t[t.length-1])?t.slice(0,-1):t},Zh=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},Jh=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]},td=function(t,e){var n=hc.before(t),i=Hh(e).next(n);return i?i.toRange():null},ed=function(t,e){var n=hc.after(t),i=Hh(e).prev(n);return i?i.toRange():null},nd=function(t,e,n,i){var r=Jh(t,i),o=t.parentNode;return o.insertBefore(r[0],t),oi.each(e,function(e){o.insertBefore(e,t)}),o.insertBefore(r[1],t),o.removeChild(t),ed(e[e.length-1],n)},id=function(t,e,n){var i=t.parentNode;return oi.each(e,function(e){i.insertBefore(e,t)}),td(t,n)},rd=function(t,e,n,i){return i.insertAfter(e.reverse(),t),ed(e[0],n)},od={isListFragment:function(t,e){var n=e.firstChild,i=e.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),qh(t,i)&&(i=i.prev),!(!n||n!==i||"ul"!==n.name&&"ol"!==n.name)},insertAtCaret:function(t,e,n,i){var r=Vh(e,t,i),o=Zh(e,n.startContainer),s=Qh(Gh(r.firstChild)),a=1,l=2,c=e.getRoot(),u=function(t){var i=hc.fromRangeStart(n),r=Hh(e.getRoot()),s=t===a?r.prev(i):r.next(i);return!s||Zh(e,s.getNode())!==o};return u(a)?id(o,s,c):u(l)?rd(o,s,c,e):nd(o,s,c,n)},isParentBlockLi:function(t,e){return!!Zh(t,e)},trimListItems:Qh,listItems:Gh},sd=ia.isText,ad=ia.isBogus,ld=Fa.nodeIndex,cd=function(t){var e=t.parentNode;return ad(e)?cd(e):e},ud=function(t){return t?Vn.reduce(t.childNodes,function(t,e){return ad(e)&&"BR"!==e.nodeName?t=t.concat(ud(e)):t.push(e),t},[]):[]},hd=function(t,e){for(;(t=t.previousSibling)&&sd(t);)e+=t.data.length;return e},dd=function(t){return function(e){return t===e}},fd=function(t){var e,n,i;return e=ud(cd(t)),n=Vn.findIndex(e,dd(t),t),e=e.slice(0,n+1),i=Vn.reduce(e,function(t,n,i){return sd(n)&&sd(e[i-1])&&t++,t},0),e=Vn.filter(e,ia.matchNodeNames(t.nodeName)),(n=Vn.findIndex(e,dd(t),t))-i},pd=function(t){return(sd(t)?"text()":t.nodeName.toLowerCase())+"["+fd(t)+"]"},gd=function(t,e,n){var i=[];for(e=e.parentNode;!(e===t||n&&n(e));e=e.parentNode)i.push(e);return i},md=function(t,e){var n,i,r,o,s,a=[];return n=e.container(),i=e.offset(),sd(n)?r=hd(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),a.push(pd(n)),s=gd(t,n),s=Vn.filter(s,Wl.negate(ia.isBogus)),(a=a.concat(Vn.map(s,function(t){return pd(t)}))).reverse().join("/")+","+r},vd=function(t,e,n){var i=ud(t);return i=Vn.filter(i,function(t,e){return!sd(t)||!sd(i[e-1])}),(i=Vn.filter(i,ia.matchNodeNames(e)))[n]},yd=function(t,e){for(var n,i=t,r=0;sd(i);){if(n=i.data.length,e>=r&&e<=r+n){t=i,e-=r;break}if(!sd(i.nextSibling)){t=i,e=n;break}r+=n,i=i.nextSibling}return sd(t)&&e>t.data.length&&(e=t.data.length),hc(t,e)},bd=function(t,e){var n,i,r;return e?(e=(n=e.split(","))[0].split("/"),r=n.length>1?n[1]:"before",(i=Vn.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),vd(t,e[1],parseInt(e[2],10))):null},t))?sd(i)?yd(i,parseInt(r,10)):(r="after"===r?ld(i)+1:ld(i),hc(i.parentNode,r)):null):null},wd=ia.isContentEditableFalse,xd=function(t,e,n){var i,r;for(r=t(e.data.slice(0,n)).length,i=e.previousSibling;i&&ia.isText(i);i=i.previousSibling)r+=t(i.data).length;return r},Cd=function(t,e,n,i,r){var o,s=i[r?"startContainer":"endContainer"],a=i[r?"startOffset":"endOffset"],l=[],c=0,u=t.getRoot();for(ia.isText(s)?l.push(n?xd(e,s,a):a):(a>=(o=s.childNodes).length&&o.length&&(c=1,a=Math.max(0,o.length-1)),l.push(t.nodeIndex(o[a],n)+c));s&&s!==u;s=s.parentNode)l.push(t.nodeIndex(s,n));return l},Sd=function(t,e,n,i){var r=e.dom,o={};return o.start=Cd(r,t,n,i,!0),e.isCollapsed()||(o.end=Cd(r,t,n,i,!1)),o},kd=function(t){ia.isText(t)&&0===t.data.length&&t.parentNode.removeChild(t)},_d=function(t,e,n){var i=0;return oi.each(t.select(e),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void i++}),i},Ed=function(t,e){var n,i,r,o=e?"start":"end";n=t[o+"Container"],i=t[o+"Offset"],ia.isElement(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(e?i:i-1,r.length-1)])&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i))},Td=function(t){return Ed(t,!0),Ed(t,!1),t},Ad=function(t,e){var n;if(ia.isElement(t)&&(t=Nl(t,e),wd(t)))return t;if(Za(t)){if(ia.isText(t)&&Xa(t)&&(t=t.parentNode),n=t.previousSibling,wd(n))return n;if(n=t.nextSibling,wd(n))return n}},Md=function(t){return Ad(t.startContainer,t.startOffset)||Ad(t.endContainer,t.endOffset)},Rd=function(t,e,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(wd(i)||"IMG"===r)return{name:r,index:_d(n.dom,r,i)};var s=Md(o);return s?{name:r=s.tagName,index:_d(n.dom,r,s)}:Sd(t,n,e,o)},Dd=function(t){var e=t.getRng();return{start:md(t.dom.getRoot(),hc.fromRangeStart(e)),end:md(t.dom.getRoot(),hc.fromRangeEnd(e))}},Ld=function(t){return{rng:t.getRng()}},$d=function(t,e,n){var i={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",i,"&#xFEFF;"):t.create("span",i)},Od=function(t,e){var n=t.dom,i=t.getRng(),r=n.uniqueId(),o=t.isCollapsed(),s=t.getNode(),a=s.nodeName;if("IMG"===a)return{name:a,index:_d(n,a,s)};var l=Td(i.cloneRange());if(!o){l.collapse(!1);var c=$d(n,r+"_end",e);l.insertNode(c),kd(c.nextSibling)}(i=Td(i)).collapse(!0);var u=$d(n,r+"_start",e);return i.insertNode(u),kd(u.previousSibling),t.moveToBookmark({id:r,keep:1}),{id:r}},Pd={getBookmark:function(t,e,n){return 2===e?Rd(Ga.trim,n,t):3===e?Dd(t):e?Ld(t):Od(t,!1)},getUndoBookmark:yt.curry(Rd,yt.identity,!0),getPersistentBookmark:Od},Id="_mce_caret",Nd=function(t){return ia.isElement(t)&&t.id===Id},Bd=function(t,e){for(;e&&e!==t;){if(e.id===Id)return e;e=e.parentNode}return null},Fd=function(t){return"string"==typeof t.start},Hd=function(t){return t.hasOwnProperty("rng")},zd=function(t){return t.hasOwnProperty("id")},Wd=function(t){return t.hasOwnProperty("name")},jd=function(t){return oi.isArray(t.start)},qd=function(t,e){return!t.isBlock(e)||e.innerHTML||Be.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e},Ud=function(t,e){var n,i;return n=t.createRng(),i=bd(t.getRoot(),e.start),n.setStart(i.container(),i.offset()),i=bd(t.getRoot(),e.end),n.setEnd(i.container(),i.offset()),n},Vd=function(t,e){var n=t.ownerDocument.createTextNode(Ga.ZWSP);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)},Gd=function(t){return!1===t.hasChildNodes()},Yd=function(t,e){return Pc.lastPositionIn(t).fold(function(){return!1},function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0})},Kd=function(t,e,n){return!(!Gd(e)||!Bd(t,e)||(Vd(e,n),0))},Xd=function(t,e,n,i){var r,o,s,a,l=n[e?"start":"end"],c=t.getRoot();if(l){for(s=l[0],o=c,r=l.length-1;r>=1;r--){if(a=o.childNodes,Kd(c,o,i))return!0;if(l[r]>a.length-1)return!!Kd(c,o,i)||Yd(o,i);o=a[l[r]]}3===o.nodeType&&(s=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(s=Math.min(l[0],o.childNodes.length)),e?i.setStart(o,s):i.setEnd(o,s)}return!0},Qd=function(t){return ia.isText(t)&&t.data.length>0},Zd=function(t,e,n){var i,r,o,s,a,l,c=t.get(n.id+"_"+e),u=n.keep;if(c){if(i=c.parentNode,"start"===e?(u?c.hasChildNodes()?(i=c.firstChild,r=1):Qd(c.nextSibling)?(i=c.nextSibling,r=0):Qd(c.previousSibling)?(i=c.previousSibling,r=c.previousSibling.data.length):(i=c.parentNode,r=t.nodeIndex(c)+1):r=t.nodeIndex(c),a=i,l=r):(u?c.hasChildNodes()?(i=c.firstChild,r=1):Qd(c.previousSibling)?(i=c.previousSibling,r=c.previousSibling.data.length):(i=c.parentNode,r=t.nodeIndex(c)):r=t.nodeIndex(c),a=i,l=r),!u){for(s=c.previousSibling,o=c.nextSibling,oi.each(oi.grep(c.childNodes),function(t){ia.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});c=t.get(n.id+"_"+e);)t.remove(c,!0);s&&o&&s.nodeType===o.nodeType&&ia.isText(s)&&!Be.opera&&(r=s.nodeValue.length,s.appendData(o.nodeValue),t.remove(o),a=s,l=r)}return kt.some(hc(a,l))}return kt.none()},Jd=function(t,e){return t.isSome()?t:e},tf=function(t,e){var n=t.createRng();return Xd(t,!0,e,n)&&Xd(t,!1,e,n)?kt.some(n):kt.none()},ef=function(t,e){var n=Zd(t,"start",e),i=Zd(t,"end",e);return jl.liftN([n,Jd(i,n)],function(e,n){var i=t.createRng();return i.setStart(qd(t,e.container()),e.offset()),i.setEnd(qd(t,n.container()),n.offset()),i})},nf=function(t,e){return kt.from(t.select(e.name)[e.index]).map(function(e){var n=t.createRng();return n.selectNode(e),n})},rf={resolve:function(t,e){var n=t.dom;if(e){if(jd(e))return tf(n,e);if(Fd(e))return kt.some(Ud(n,e));if(zd(e))return ef(n,e);if(Wd(e))return nf(n,e);if(Hd(e))return kt.some(e.rng)}return kt.none()}},of={getBookmark:function(t,e,n){return Pd.getBookmark(t,e,n)},moveToBookmark:function(t,e){rf.resolve(t,e).each(function(e){t.setRng(e)})},isBookmarkNode:function(t){return ia.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")}},sf=oi.each,af=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var i=function(e){var n={};return sf(t.getAttribs(e),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=t.getAttrib(e,r))}),n},r=function(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===(n=e[i]))return!1;if(t[i]!==n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0};return!(!r(i(e),i(n))||!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))||of.isBookmarkNode(e)||of.isBookmarkNode(n))}},lf={before:function(t,e){oe.each(e,function(e){Ru.before(t,e)})},after:function(t,e){oe.each(e,function(n,i){var r=0===i?t:e[i-1];Ru.after(r,n)})},prepend:function(t,e){oe.each(e.slice().reverse(),function(e){Ru.prepend(t,e)})},append:function(t,e){oe.each(e,function(e){Ru.append(t,e)})}},cf=function(t){t.dom().textContent="",oe.each(rs.children(t),function(t){uf(t)})},uf=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},hf={empty:cf,remove:uf,unwrap:function(t){var e=rs.children(t);e.length>0&&lf.before(t,e),uf(t)}},df=E(Gr.isText,"text"),ff={get:function(t){return df.get(t)},getOption:function(t){return df.getOption(t)},set:function(t,e){df.set(t,e)}},pf=function(t){for(var e=[],n=t.dom();n;)e.push(Nr.fromDom(n)),n=n.lastChild;return e},gf=function(t){return Gr.isText(t)?"\xa0"===ff.get(t):Ls(t)},mf={removeTrailingBr:function(t){var e=su.descendants(t,"br"),n=oe.filter(pf(t).slice(-1),Ls);e.length===n.length&&oe.each(n,hf.remove)},fillWithPaddingBr:function(t){hf.empty(t),Ru.append(t,Nr.fromHtml('<br data-mce-bogus="1">'))},isPaddedElement:function(t){return 1===oe.filter(rs.children(t),gf).length},trimBlockTrailingBr:function(t){rs.lastChild(t).each(function(e){rs.prevSibling(e).each(function(n){Rs(t)&&Ls(e)&&Rs(n)&&hf.remove(e)})})}},vf=oi.makeMap,yf=function(t,e,n,i){var r=document.createRange();return r.setStart(t,e),r.setEnd(n,i),r},bf=function(t){var e=hc.fromRangeStart(t),n=hc.fromRangeEnd(t),i=t.commonAncestorContainer;return Pc.fromPosition(!1,i,n).map(function(r){return!dh(e,n,i)&&dh(e,r,i)?yf(e.container(),e.offset(),r.container(),r.offset()):t}).getOr(t)},wf={normalize:function(t){return t.collapsed?t:bf(t)}},xf=ia.matchNodeNames("td th"),Cf=function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e)}},Sf=function(t,e){kt.from(t.getParent(e,"td,th")).map(Nr.fromDom).each(mf.trimBlockTrailingBr)},kf=function(t,e,n){var i,r,o,s,a,l,c,u,h,d,f,p,g=t.schema.getTextInlineElements(),m=t.selection,v=t.dom,y=function(t){var e,n,i;e=m.getRng(),n=e.startContainer,i=e.startOffset;var r=function(t){return n[t]&&3===n[t].nodeType};return 3===n.nodeType&&(i>0?t=t.replace(/^&nbsp;/," "):r("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),i<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},b=function(){var t,n,i;n=(t=m.getRng()).startContainer,i=t.startOffset,3===n.nodeType&&t.collapsed&&("\xa0"===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"\xa0"===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e)))},w=function(){if(p){var e=t.getBody(),n=new af(v);oi.each(v.select("*[data-mce-fragment]"),function(t){for(var i=t.parentNode;i&&i!==e;i=i.parentNode)g[t.nodeName.toLowerCase()]&&n.compare(i,t)&&v.remove(t,!0)})}},x=function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")},C=function(t){oi.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})},S=function(t){return!!t.getAttribute("data-mce-fragment")},k=function(e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},_=function(e){var n,i,r,o=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null};if(e){if(m.scrollIntoView(e),n=o(e))return v.remove(e),void m.select(n);u=v.createRng(),(h=e.previousSibling)&&3===h.nodeType?(u.setStart(h,h.nodeValue.length),Be.ie||(d=e.nextSibling)&&3===d.nodeType&&(h.appendData(d.data),d.parentNode.removeChild(d))):(u.setStartBefore(e),u.setEndBefore(e));var s=function(e){var n=hc.fromRangeStart(e);if(n=Hh(t.getBody()).next(n))return n.toRange()};i=v.getParent(e,v.isBlock),v.remove(e),i&&v.isEmpty(i)&&(t.$(i).empty(),u.setStart(i,0),u.setEnd(i,0),xf(i)||S(i)||!(r=s(u))?v.add(i,v.create("br",{"data-mce-bogus":"1"})):(u=r,v.remove(i))),m.setRng(u)}};if(/^ | $/.test(e)&&(e=y(e)),i=t.parser,p=n.merge,r=A({validate:t.settings.validate},t.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:e,format:"html",selection:!0,paste:n.paste},(l=t.fire("BeforeSetContent",l)).isDefaultPrevented())t.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=l.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,f);var E=(u=m.getRng()).startContainer||(u.parentElement?u.parentElement():null),T=t.getBody();E===T&&m.isCollapsed()&&v.isBlock(T.firstChild)&&k(T.firstChild)&&v.isEmpty(T.firstChild)&&((u=v.createRng()).setStart(T.firstChild,0),u.setEnd(T.firstChild,0),m.setRng(u)),m.isCollapsed()||(t.selection.setRng(wf.normalize(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),b());var M={context:(o=m.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(a=i.parse(e,M),!0===n.paste&&od.isListFragment(t.schema,a)&&od.isParentBlockLi(v,o))return u=od.insertAtCaret(r,v,t.selection.getRng(),a),t.selection.setRng(u),void t.fire("SetContent",l);if(x(a),"mce_marker"===(h=a.lastChild).attr("id"))for(c=h,h=h.prev;h;h=h.walk(!0))if(3===h.type||!v.isBlock(h.name)){t.schema.isValidChild(h.parent.name,"span")&&h.parent.insert(c,h,"br"===h.name);break}if(t._selectionOverrides.showBlockCaretContainer(o),M.invalid){for(m.setContent(f),o=m.getNode(),s=t.getBody(),9===o.nodeType?o=h=s:h=o;h!==s;)o=h,h=h.parentNode;e=o===s?s.innerHTML:v.getOuterHTML(o),e=r.serialize(i.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(a)}))),o===s?v.setHTML(s,e):v.setOuterHTML(o,e)}else e=r.serialize(a),Cf(t,e,o);w(),_(v.get("mce_marker")),C(t.getBody()),Sf(t.dom,t.selection.getStart()),t.fire("SetContent",l),t.addVisual()}},_f=function(t){var e;return"string"!=typeof t?(e=oi.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}},Ef={insertAtCaret:function(t,e){var n=_f(e);kf(t,n.content,n.details)}},Tf=function(t){return Df(uo.body(),t)},Af=function(t,e,n){for(var i=t.dom(),r=Tt.isFunction(n)?n:yt.constant(!1);i.parentNode;){i=i.parentNode;var o=Nr.fromDom(i);if(e(o))return kt.some(o);if(r(o))break}return kt.none()},Mf=function(t,e){var n=t.dom();return n.parentNode?Rf(Nr.fromDom(n.parentNode),function(n){return!Bo.eq(t,n)&&e(n)}):kt.none()},Rf=function(t,e){return oe.find(t.dom().childNodes,yt.compose(e,Nr.fromDom)).map(Nr.fromDom)},Df=function(t,e){var n=function(t){for(var i=0;i<t.childNodes.length;i++){if(e(Nr.fromDom(t.childNodes[i])))return kt.some(Nr.fromDom(t.childNodes[i]));var r=n(t.childNodes[i]);if(r.isSome())return r}return kt.none()};return n(t.dom())},Lf={first:Tf,ancestor:Af,closest:function(t,e,n){return M(function(t){return e(t)},Af,t,e,n)},sibling:Mf,child:Rf,descendant:Df},$f=So.immutable("sections","settings"),Of=Lr.detect().deviceType.isTouch(),Pf=["lists","autolink","autosave"],If={theme:"mobile"},Nf=function(t){var e=Tt.isArray(t)?t.join(" "):t,n=oe.map(Tt.isString(e)?e.split(" "):[],_r.trim);return oe.filter(n,function(t){return t.length>0})},Bf=function(t){return oe.filter(t,yt.curry(oe.contains,Pf))},Ff=function(t,e){var n=to.bifilter(e,function(e,n){return oe.contains(t,n)});return $f(n.t,n.f)},Hf=function(t,e,n){var i=t.sections(),r=i.hasOwnProperty(e)?i[e]:{};return oi.extend({},n,r)},zf=function(t,e){return t.sections().hasOwnProperty(e)},Wf=function(t,e,n){return{id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},jf=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?oi.extend({},t.external_plugins,n):n},qf=function(t,e){return[].concat(Nf(t)).concat(Nf(e))},Uf=function(t,e,n,i){var r=Nf(n.forced_plugins),o=Nf(i.plugins),s=t&&zf(e,"mobile")?Bf(o):o,a=qf(r,s);return oi.extend(i,{plugins:a.join(" ")})},Vf=function(t,e){var n=e.settings().inline;return t&&zf(e,"mobile")&&!n},Gf=function(t,e,n,i){var r=Ff(["mobile"],i),o=oi.extend(e,n,r.settings(),Vf(t,r)?Hf(r,"mobile",If):{},{validate:!0,content_editable:r.settings().inline,external_plugins:jf(n,r.settings())});return Uf(t,r,n,o)},Yf=function(t,e,n,i,r){var o=Wf(e,n,t);return Gf(Of,o,i,r)},Kf=function(t,e,n){return kt.from(e.settings[n]).filter(t)},Xf=yt.curry(Kf,Tt.isString),Qf=function(t){var e={};return"string"==typeof t?oe.each(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(t){var n=t.split("=")
;n.length>1?e[oi.trim(n[0])]=oi.trim(n[1]):e[oi.trim(n[0])]=oi.trim(n)}):e=t,e},Zf=function(t){return function(e){return Tt.isArray(e)&&oe.forall(e,t)}},Jf=function(t,e,n,i){var r=e in t.settings?t.settings[e]:n;return"hash"===i?Qf(r):"string"===i?Kf(Tt.isString,t,e).getOr(n):"number"===i?Kf(Tt.isNumber,t,e).getOr(n):"boolean"===i?Kf(Tt.isBoolean,t,e).getOr(n):"object"===i?Kf(Tt.isObject,t,e).getOr(n):"array"===i?Kf(Tt.isArray,t,e).getOr(n):"string[]"===i?Kf(Zf(Tt.isString),t,e).getOr(n):"function"===i?Kf(Tt.isFunction,t,e).getOr(n):r},tp=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,ep=function(t){return tp.test(t)},np=function(t,e,n){return oe.filter(Fa.DOM.getParents(n.container(),"*",e),t)},ip=function(t,e,n){var i=hh(e,t),r=hh(n,t);return i&&i===r},rp=function(t,e){var n=e.container(),i=e.offset();return t?Qa(n)?ia.isText(n.nextSibling)?hc(n.nextSibling,0):hc.after(n):el(e)?hc(n,i+1):e:Qa(n)?ia.isText(n.previousSibling)?hc(n.previousSibling,n.previousSibling.data.length):hc.before(n):nl(e)?hc(n,i-1):e},op={isInlineTarget:function(t,e){var n=Xf(t,"inline_boundaries_selector").getOr("a[href],code");return Do.is(Nr.fromDom(e),n)},findRootInline:function(t,e,n){var i=np(t,e,n);return kt.from(i[i.length-1])},isRtl:function(t){return"rtl"===Fa.DOM.getStyle(t,"direction",!0)||ep(t.textContent)},isAtZwsp:function(t){return el(t)||nl(t)},normalizePosition:rp,normalizeForwards:yt.curry(rp,!0),normalizeBackwards:yt.curry(rp,!1),hasSameParentBlock:ip},sp=function(t){return function(e){return Bo.eq(t,Nr.fromDom(e.dom().parentNode))}},ap=function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)},lp={getParentBlock:function(t,e){return Bo.contains(t,e)?Lf.closest(e,function(t){return $s(t)||Ps(t)},sp(t)):kt.none()},paddEmptyBody:function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),ap(t))},willDeleteLastPositionInElement:function(t,e,n){return jl.liftN([Pc.firstPositionIn(n),Pc.lastPositionIn(n)],function(i,r){var o=op.normalizePosition(!0,i),s=op.normalizePosition(!1,r),a=op.normalizePosition(!1,e);return t?Pc.nextPosition(n,a).map(function(t){return t.isEqual(s)&&e.isEqual(o)}).getOr(!1):Pc.prevPosition(n,a).map(function(t){return t.isEqual(o)&&e.isEqual(s)}).getOr(!1)}).getOr(!0)}},cp=function(t,e,n){return Lf.ancestor(t,function(t){return Do.is(t,e)},n)},up={first:function(t){return Do.one(t)},ancestor:cp,sibling:function(t,e){return Lf.sibling(t,function(t){return Do.is(t,e)})},child:function(t,e){return Lf.child(t,function(t){return Do.is(t,e)})},descendant:function(t,e){return Do.one(e,t)},closest:function(t,e,n){return M(Do.is,cp,t,e,n)}},hp={any:function(t){return up.first(t).isSome()},ancestor:function(t,e,n){return up.ancestor(t,e,n).isSome()},sibling:function(t,e){return up.sibling(t,e).isSome()},child:function(t,e){return up.child(t,e).isSome()},descendant:function(t,e){return up.descendant(t,e).isSome()},closest:function(t,e,n){return up.closest(t,e,n).isSome()}},dp=function(t,e){var n=Nr.fromDom(t),i=Nr.fromDom(e);return hp.ancestor(i,"pre,code",yt.curry(Bo.eq,n))},fp=function(t,e){return ia.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===dp(t,e)},pp=function(t){return ia.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")},gp=function(t,e){return yl(e)&&!1===fp(t,e)||pp(e)||mp(e)},mp=ia.hasAttribute("data-mce-bookmark"),vp=ia.hasAttribute("data-mce-bogus"),yp=ia.hasAttributeValue("data-mce-bogus","all"),bp=function(t){var e,n,i=0;if(gp(t,t))return!1;if(!(n=t.firstChild))return!0;e=new w(n,t);do{if(yp(n))n=e.next(!0);else if(vp(n))n=e.next();else if(ia.isBr(n))i++,n=e.next();else{if(gp(t,n))return!1;n=e.next()}}while(n);return i<=1},wp={isEmpty:function(t){return bp(t.dom())}},xp=So.immutable("block","position"),Cp=So.immutable("from","to"),Sp=function(t,e){var n=Nr.fromDom(t),i=Nr.fromDom(e.container());return lp.getParentBlock(n,i).map(function(t){return xp(t,e)})},kp=function(t){return!1===Bo.eq(t.from().block(),t.to().block())},_p=function(t){return rs.parent(t.from().block()).bind(function(e){return rs.parent(t.to().block()).filter(function(t){return Bo.eq(e,t)})}).isSome()},Ep=function(t){return!1===ia.isContentEditableFalse(t.from().block())&&!1===ia.isContentEditableFalse(t.to().block())},Tp=function(t,e,n){return ia.isBr(n.position().getNode())&&!1===wp.isEmpty(n.block())?Pc.positionIn(!1,n.block().dom()).bind(function(i){return i.isEqual(n.position())?Pc.fromPosition(e,t,i).bind(function(e){return Sp(t,e)}):kt.some(n)}).getOr(n):n},Ap=function(t,e,n){var i=Sp(t,hc.fromRangeStart(n)),r=i.bind(function(n){return Pc.fromPosition(e,t,n.position()).bind(function(n){return Sp(t,n).map(function(n){return Tp(t,e,n)})})});return jl.liftN([i,r],Cp).filter(function(t){return kp(t)&&_p(t)&&Ep(t)})},Mp={read:function(t,e,n){return n.collapsed?Ap(t,e,n):kt.none()}},Rp=function(t){return t.slice(0,-1)},Dp=function(t,e,n){return Bo.contains(e,t)?Rp(rs.parents(t,function(t){return n(t)||Bo.eq(t,e)})):[]},Lp=function(t,e){return Dp(t,e,yt.constant(!1))},$p={parentsUntil:Dp,parents:Lp,parentsAndSelf:function(t,e){return[t].concat(Lp(t,e))}},Op=function(t){var e=rs.children(t);return oe.findIndex(e,Rs).fold(function(){return e},function(t){return e.slice(0,t)})},Pp=function(t){var e=Op(t);return oe.each(e,function(t){hf.remove(t)}),e},Ip=function(t,e){Pc.positionIn(t,e.dom()).each(function(t){var e=t.getNode();ia.isBr(e)&&hf.remove(Nr.fromDom(e))})},Np=function(t,e){var n=$p.parentsAndSelf(e,t);return oe.find(n.reverse(),wp.isEmpty).each(hf.remove)},Bp=function(t,e){var n=rs.parents(e,function(e){return Bo.eq(e,t)});return kt.from(n[n.length-2])},Fp=function(t,e){return Bo.contains(e,t)?rs.parent(t).bind(function(n){return Bo.eq(n,e)?kt.some(t):Bp(e,t)}):kt.none()},Hp=function(t,e,n){if(wp.isEmpty(n))return hf.remove(n),wp.isEmpty(e)&&mf.fillWithPaddingBr(e),Pc.firstPositionIn(e.dom());Ip(!0,e),Ip(!1,n);var i=Pp(e);return Fp(e,n).fold(function(){Np(t,e);var r=Pc.lastPositionIn(n.dom());return oe.each(i,function(t){Ru.append(n,t)}),r},function(r){var o=Pc.prevPosition(n.dom(),hc.before(r.dom()));return oe.each(i,function(t){Ru.before(r,t)}),Np(t,e),o})},zp={mergeBlocks:function(t,e,n,i){return e?Hp(t,i,n):Hp(t,n,i)}},Wp={backspaceDelete:function(t,e){var n,i=Nr.fromDom(t.getBody());return(n=Mp.read(i.dom(),e,t.selection.getRng()).bind(function(t){return zp.mergeBlocks(i,e,t.from().block(),t.to().block())})).each(function(e){t.selection.setRng(e.toRange())}),n.isSome()}},jp=function(t,e){var n=e.getRng();return jl.liftN([lp.getParentBlock(t,Nr.fromDom(n.startContainer)),lp.getParentBlock(t,Nr.fromDom(n.endContainer))],function(i,r){return!1===Bo.eq(i,r)&&(n.deleteContents(),zp.mergeBlocks(t,!0,i,r).each(function(t){e.setRng(t.toRange())}),!0)}).getOr(!1)},qp=function(t,e){var n=Nr.fromDom(e),i=yt.curry(Bo.eq,t);return Lf.ancestor(n,Bs,i).isSome()},Up=function(t,e){return qp(t,e.startContainer)||qp(t,e.endContainer)},Vp=function(t,e){var n=Pc.prevPosition(t.dom(),hc.fromRangeStart(e)).isNone(),i=Pc.nextPosition(t.dom(),hc.fromRangeEnd(e)).isNone();return!Up(t,e)&&n&&i},Gp=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},Yp=function(t){var e=Nr.fromDom(t.getBody()),n=t.selection.getRng();return Vp(e,n)?Gp(t):jp(e,t.selection)},Kp={backspaceDelete:function(t){return!t.selection.isCollapsed()&&Yp(t)}},Xp={generate:function(t){if(!Tt.isArray(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return oe.each(t,function(i,r){var o=to.keys(i);if(1!==o.length)throw new Error("one and only one name per case");var s=o[0],a=i[s];if(n[s]!==undefined)throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!Tt.isArray(a))throw new Error("case arguments must be an array");e.push(s),n[s]=function(){var n=arguments.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);for(var i=new Array(n),o=0;o<i.length;o++)i[o]=arguments[o];return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[r].apply(null,i)},match:function(t){var n=to.keys(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));if(!oe.forall(e,function(t){return oe.contains(n,t)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[s].apply(null,i)},log:function(t){console.log(t,{constructors:e,constructor:s,params:i})}}}}),n}},Qp=function(t){return Bs(Nr.fromDom(t))||Ps(Nr.fromDom(t))},Zp=Xp.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Jp=function(t,e){var n=e.getNode(!1===t),i=t?"after":"before";return ia.isElement(n)&&n.getAttribute("data-mce-caret")===i},tg=function(t,e,n,i){var r=function(e){return Ds(Nr.fromDom(e))&&!dh(n,i,t)};return Ch(!e,n).fold(function(){return Ch(e,i).fold(yt.constant(!1),r)},r)},eg=function(t,e,n,i){var r=i.getNode(!1===e);return lp.getParentBlock(Nr.fromDom(t),Nr.fromDom(n.getNode())).map(function(t){return wp.isEmpty(t)?Zp.remove(t.dom()):Zp.moveToElement(r)}).orThunk(function(){return kt.some(Zp.moveToElement(r))})},ng=function(t,e,n){return Pc.fromPosition(e,t,n).bind(function(i){return Qp(i.getNode())?kt.none():tg(t,e,n,i)?kt.none():e&&ia.isContentEditableFalse(i.getNode())?eg(t,e,n,i):!1===e&&ia.isContentEditableFalse(i.getNode(!0))?eg(t,e,n,i):e&&_h(n)?kt.some(Zp.moveToPosition(i)):!1===e&&kh(n)?kt.some(Zp.moveToPosition(i)):kt.none()})},ig=function(t,e){return t&&ia.isContentEditableFalse(e.nextSibling)?kt.some(Zp.moveToElement(e.nextSibling)):!1===t&&ia.isContentEditableFalse(e.previousSibling)?kt.some(Zp.moveToElement(e.previousSibling)):kt.none()},rg=function(t,e,n){return n.fold(function(t){return kt.some(Zp.remove(t))},function(t){return kt.some(Zp.moveToElement(t))},function(n){return dh(e,n,t)?kt.none():kt.some(Zp.moveToPosition(n))})},og=function(t,e,n){return Jp(e,n)?ig(e,n.getNode(!1===e)).fold(function(){return ng(t,e,n)},kt.some):ng(t,e,n).bind(function(e){return rg(t,n,e)})},sg=function(t,e,n){var i=bh(e?1:-1,t,n),r=hc.fromRangeStart(i);return!1===e&&_h(r)?kt.some(Zp.remove(r.getNode(!0))):e&&kh(r)?kt.some(Zp.remove(r.getNode())):og(t,e,r)},ag=function(t,e){var n=t.container(),i=t.offset();return!1===hc.isTextPosition(t)&&n===e.parentNode&&i>hc.before(e).offset()},lg=function(t,e){return ag(e,t)?hc(e.container(),e.offset()-1):e},cg=function(t){return ia.isText(t)?hc(t,0):hc.before(t)},ug=function(t){return ia.isText(t)?hc(t,t.data.length):hc.after(t)},hg=function(t){return yl(t.previousSibling)?kt.some(ug(t.previousSibling)):t.previousSibling?Pc.lastPositionIn(t.previousSibling):kt.none()},dg=function(t){return yl(t.nextSibling)?kt.some(cg(t.nextSibling)):t.nextSibling?Pc.firstPositionIn(t.nextSibling):kt.none()},fg=function(t,e){var n=hc.before(e.previousSibling?e.previousSibling:e.parentNode);return Pc.prevPosition(t,n).fold(function(){return Pc.nextPosition(t,hc.after(e))},kt.some)},pg=function(t,e){return Pc.nextPosition(t,hc.after(e)).fold(function(){return Pc.prevPosition(t,hc.before(e))},kt.some)},gg=function(t,e){return hg(e).orThunk(function(){return dg(e)}).orThunk(function(){return fg(t,e)})},mg=function(t,e){return dg(e).orThunk(function(){return hg(e)}).orThunk(function(){return pg(t,e)})},vg=function(t,e,n){return t?mg(e,n):gg(e,n)},yg=function(t,e,n){return vg(t,e,n).map(yt.curry(lg,n))},bg=function(t,e,n){n.fold(function(){t.focus()},function(n){t.selection.setRng(n.toRange(),e)})},wg=function(t){return function(e){return e.dom()===t}},xg=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(Gr.name(e))},Cg=function(t){if(wp.isEmpty(t)){var e=Nr.fromHtml('<br data-mce-bogus="1">');return hf.empty(t),Ru.append(t,e),kt.some(hc.before(e.dom()))}return kt.none()},Sg=function(t,e){return jl.liftN([rs.prevSibling(t),rs.nextSibling(t),e],function(e,n,i){var r,o=e.dom(),s=n.dom();return ia.isText(o)&&ia.isText(s)?(r=o.data.length,o.appendData(s.data),hf.remove(n),hf.remove(t),i.container()===s?hc(o,r):i):(hf.remove(t),i)}).orThunk(function(){return hf.remove(t),e})},kg={deleteElement:function(t,e,n){var i=yg(e,t.getBody(),n.dom()),r=Lf.ancestor(n,yt.curry(xg,t),wg(t.getBody())),o=Sg(n,i);t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):r.bind(Cg).fold(function(){bg(t,e,o)},function(n){bg(t,e,kt.some(n))})}},_g=function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),kg.deleteElement(t,e,Nr.fromDom(n)),!0}},Eg=function(t,e){return function(n){var i=e?hc.before(n):hc.after(n);return t.selection.setRng(i.toRange()),!0}},Tg=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},Ag=function(t,e){return sg(t.getBody(),e,t.selection.getRng()).map(function(n){return n.fold(_g(t,e),Eg(t,e),Tg(t))}).getOr(!1)},Mg=function(t){oe.each(su.descendants(t,".mce-offscreen-selection"),hf.remove)},Rg=function(t,e){var n=t.selection.getNode();return!!ia.isContentEditableFalse(n)&&(Mg(Nr.fromDom(t.getBody())),kg.deleteElement(t,e,Nr.fromDom(t.selection.getNode())),lp.paddEmptyBody(t),!0)},Dg=function(t,e){for(;e&&e!==t;){if(ia.isContentEditableTrue(e)||ia.isContentEditableFalse(e))return e;e=e.parentNode}return null},Lg={backspaceDelete:function(t,e){return t.selection.isCollapsed()?Ag(t,e):Rg(t,e)},paddEmptyElement:function(t){var e,n=Dg(t.getBody(),t.selection.getNode());return ia.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(hc.before(e).toRange())),!0}},$g=ia.isText,Og=function(t){return $g(t)&&t.data[0]===Ga.ZWSP},Pg=function(t){return $g(t)&&t.data[t.data.length-1]===Ga.ZWSP},Ig=function(t){return t.ownerDocument.createTextNode(Ga.ZWSP)},Ng=function(t){if($g(t.previousSibling))return Pg(t.previousSibling)?t.previousSibling:(t.previousSibling.appendData(Ga.ZWSP),t.previousSibling);if($g(t))return Og(t)?t:(t.insertData(0,Ga.ZWSP),t);var e=Ig(t);return t.parentNode.insertBefore(e,t),e},Bg=function(t){if($g(t.nextSibling))return Og(t.nextSibling)?t.nextSibling:(t.nextSibling.insertData(0,Ga.ZWSP),t.nextSibling);if($g(t))return Pg(t)?t:(t.appendData(Ga.ZWSP),t);var e=Ig(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},Fg=function(t,e){return t?Ng(e):Bg(e)},Hg=yt.curry(Fg,!0),zg=yt.curry(Fg,!1),Wg=function(t,e){return ia.isText(t.container())?Fg(e,t.container()):Fg(e,t.getNode())},jg=function(t,e){var n=e.get();return n&&t.container()===n&&Qa(n)},qg={renderCaret:function(t,e){return e.fold(function(e){kc.remove(t.get());var n=Hg(e);return t.set(n),kt.some(hc(n,n.length-1))},function(e){return Pc.firstPositionIn(e).map(function(e){if(jg(e,t))return hc(t.get(),1);kc.remove(t.get());var n=Wg(e,!0);return t.set(n),hc(n,1)})},function(e){return Pc.lastPositionIn(e).map(function(e){if(jg(e,t))return hc(t.get(),t.get().length-1);kc.remove(t.get());var n=Wg(e,!1);return t.set(n),hc(n,n.length-1)})},function(e){kc.remove(t.get());var n=zg(e);return t.set(n),kt.some(hc(n,1))})}},Ug={evaluateUntil:function(t,e){for(var n=0;n<t.length;n++){var i=t[n].apply(null,e);if(i.isSome())return i}return kt.none()}},Vg=Xp.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Gg=function(t,e){var n=hh(e,t);return n||t},Yg=function(t,e,n){var i=op.normalizeForwards(n),r=Gg(e,i.container());return op.findRootInline(t,r,i).fold(function(){return Pc.nextPosition(r,i).bind(yt.curry(op.findRootInline,t,r)).map(function(t){return Vg.before(t)})},kt.none)},Kg=function(t,e){return null===Bd(t,e)},Xg=function(t,e,n){return op.findRootInline(t,e,n).filter(yt.curry(Kg,e))},Qg=function(t,e,n){var i=op.normalizeBackwards(n);return Xg(t,e,i).bind(function(t){return Pc.prevPosition(t,i).isNone()?kt.some(Vg.start(t)):kt.none()})},Zg=function(t,e,n){var i=op.normalizeForwards(n);return Xg(t,e,i).bind(function(t){return Pc.nextPosition(t,i).isNone()?kt.some(Vg.end(t)):kt.none()})},Jg=function(t,e,n){var i=op.normalizeBackwards(n),r=Gg(e,i.container());return op.findRootInline(t,r,i).fold(function(){return Pc.prevPosition(r,i).bind(yt.curry(op.findRootInline,t,r)).map(function(t){return Vg.after(t)})},kt.none)},tm=function(t){return!1===op.isRtl(nm(t))},em=function(t,e,n){return Ug.evaluateUntil([Yg,Qg,Zg,Jg],[t,e,n]).filter(tm)},nm=function(t){return t.fold(yt.identity,yt.identity,yt.identity,yt.identity)},im=function(t){return t.fold(yt.constant("before"),yt.constant("start"),yt.constant("end"),yt.constant("after"))},rm=function(t){return t.fold(Vg.before,Vg.before,Vg.after,Vg.after)},om=function(t){return t.fold(Vg.start,Vg.start,Vg.end,Vg.end)},sm=function(t,e){return im(t)===im(e)&&nm(t)===nm(e)},am=function(t,e,n,i,r,o){return jl.liftN([op.findRootInline(e,n,i),op.findRootInline(e,n,r)],function(e,i){return e!==i&&op.hasSameParentBlock(n,e,i)?Vg.after(t?e:i):o}).getOr(o)},lm=function(t,e){return t.fold(yt.constant(!0),function(t){return!sm(t,e)})},cm=function(t,e,n,i,r){var o=op.normalizePosition(t,r);return Pc.fromPosition(t,n,o).map(yt.curry(op.normalizePosition,t)).fold(function(){return i.map(rm)},function(r){return em(e,n,r).map(yt.curry(am,t,e,n,o,r)).filter(yt.curry(lm,i))}).filter(tm)},um=function(t,e){return t?e.fold(yt.compose(kt.some,Vg.start),kt.none,yt.compose(kt.some,Vg.after),kt.none):e.fold(kt.none,yt.compose(kt.some,Vg.before),kt.none,yt.compose(kt.some,Vg.end))},hm=function(t,e,n,i){var r=op.normalizePosition(t,i),o=em(e,n,r);return em(e,n,r).bind(yt.curry(um,t)).orThunk(function(){return cm(t,e,n,o,i)})},dm={readLocation:em,findLocation:hm,prevLocation:yt.curry(hm,!1),nextLocation:yt.curry(hm,!0),getElement:nm,outside:rm,inside:om},fm=function(t){return Tt.isFunction(t.selection.getSel().modify)},pm=function(t,e,n){var i=t?1:-1;return e.setRng(hc(n.container(),n.offset()+i).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},gm={hasSelectionModifyApi:fm,moveByWord:function(t,e){var n=e.selection.getRng(),i=t?hc.fromRangeEnd(n):hc.fromRangeStart(n);return!!fm(e)&&(t&&el(i)?pm(!0,e.selection,i):!(t||!nl(i))&&pm(!1,e.selection,i))}},mm=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},vm=function(t){return!1!==t.settings.inline_boundaries},ym=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},bm=function(t,e,n){return qg.renderCaret(e,n).map(function(e){return mm(t,e),n})},wm=function(t,e,n){var i=t.getBody(),r=hc.fromRangeStart(t.selection.getRng()),o=yt.curry(op.isInlineTarget,t);return dm.findLocation(n,o,i,r).bind(function(n){return bm(t,e,n)})},xm=function(t,e,n){var i=oe.filter(e.select('*[data-mce-selected="inline-boundary"]'),t),r=oe.filter(n,t);oe.each(oe.difference(i,r),yt.curry(ym,!1)),oe.each(oe.difference(r,i),yt.curry(ym,!0))},Cm=function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=hc.fromRangeStart(t.selection.getRng());hc.isTextPosition(n)&&!1===op.isAtZwsp(n)&&(mm(t,kc.removeAndReposition(e.get(),n)),e.set(null))}},Sm=function(t,e,n,i){if(e.selection.isCollapsed()){var r=oe.filter(i,t);oe.each(r,function(){var i=hc.fromRangeStart(e.selection.getRng());dm.readLocation(t,e.getBody(),i).bind(function(t){return bm(e,n,t)})})}},km=function(t,e){return function(){return!!vm(e)&&gm.moveByWord(t,e)}},_m=function(t){var e=Gu(null),n=yt.curry(op.isInlineTarget,t);return t.on("NodeChange",function(i){vm(t)&&(xm(n,t.dom,i.parents),Cm(t,e),Sm(n,t,e,i.parents))}),e},Em={move:function(t,e,n){return function(){return!!vm(t)&&wm(t,e,n).isSome()}},moveNextWord:yt.curry(km,!0),movePrevWord:yt.curry(km,!1),setupSelectedState:_m,setCaretPosition:mm},Tm=function(t){return!1!==t.settings.inline_boundaries},Am=function(t,e){var n=document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n},Mm=function(t){return jl.liftN([Pc.firstPositionIn(t),Pc.lastPositionIn(t)],function(e,n){var i=op.normalizePosition(!0,e),r=op.normalizePosition(!1,n);return Pc.nextPosition(t,i).map(function(t){return t.isEqual(r)}).getOr(!0)}).getOr(!0)},Rm=function(t,e){return function(n){return qg.renderCaret(e,n).map(function(e){return Em.setCaretPosition(t,e),!0}).getOr(!1)}},Dm=function(t,e,n,i){var r=t.getBody(),o=yt.curry(op.isInlineTarget,t);t.undoManager.ignore(function(){t.selection.setRng(Am(n,i)),t.execCommand("Delete"),dm.readLocation(o,r,hc.fromRangeStart(t.selection.getRng())).map(dm.inside).map(Rm(t,e))}),t.nodeChanged()},Lm=function(t,e){var n=hh(e,t);return n||t},$m=function(t,e,n,i){var r=Lm(t.getBody(),i.container()),o=yt.curry(op.isInlineTarget,t),s=dm.readLocation(o,r,i);return s.bind(function(t){return n?t.fold(yt.constant(kt.some(dm.inside(t))),kt.none,yt.constant(kt.some(dm.outside(t))),kt.none):t.fold(kt.none,yt.constant(kt.some(dm.outside(t))),kt.none,yt.constant(kt.some(dm.inside(t))))}).map(Rm(t,e)).getOrThunk(function(){var a=Pc.navigate(n,r,i),l=a.bind(function(t){return dm.readLocation(o,r,t)});return s.isSome()&&l.isSome()?op.findRootInline(o,r,i).map(function(e){return!!Mm(e)&&(kg.deleteElement(t,n,Nr.fromDom(e)),!0)}).getOr(!1):l.bind(function(){return a.map(function(r){return n?Dm(t,e,i,r):Dm(t,e,r,i),!0})}).getOr(!1)})},Om={backspaceDelete:function(t,e,n){if(t.selection.isCollapsed()&&Tm(t)){var i=hc.fromRangeStart(t.selection.getRng());return $m(t,e,n,i)}return!1}},Pm=So.immutable("start","end"),Im=So.immutable("rng","table","cells"),Nm=Xp.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),Bm=function(t){return yt.curry(Bo.eq,t)},Fm=function(t,e){return up.closest(Nr.fromDom(t),"td,th",e)},Hm=function(t,e){return up.ancestor(t,"table",e)},zm=function(t){return!1===Bo.eq(t.start(),t.end())},Wm=function(t,e){return Hm(t.start(),e).bind(function(n){return Hm(t.end(),e).bind(function(t){return Bo.eq(n,t)?kt.some(n):kt.none()})})},jm=function(t){return su.descendants(t,"td,th")},qm=function(t,e){return Hm(t.start(),e).bind(function(e){return oe.last(jm(e)).map(function(e){return Pm(t.start(),e)})})},Um=function(t,e){var n=Fm(e.startContainer,t),i=Fm(e.endContainer,t);return e.collapsed?kt.none():jl.liftN([n,i],Pm).fold(function(){return n.fold(function(){return i.bind(function(e){return Hm(e,t).bind(function(t){return oe.head(jm(t)).map(function(t){return Pm(t,e)})})})},function(e){return Hm(e,t).bind(function(t){return oe.last(jm(t)).map(function(t){return Pm(e,t)})})})},function(e){return Vm(t,e)?kt.none():qm(e,t)})},Vm=function(t,e){return Wm(e,t).isSome()},Gm=function(t,e){var n=Fm(t.startContainer,e),i=Fm(t.endContainer,e);return jl.liftN([n,i],Pm).filter(zm).filter(function(t){return Vm(e,t)}).orThunk(function(){return Um(e,t)})},Ym=function(t,e){return Wm(t,e).map(function(e){return Im(t,e,jm(e))})},Km=function(t,e){var n=Bm(t);return Gm(e,n).bind(function(t){return Ym(t,n)})},Xm=function(t,e){return oe.findIndex(t,function(t){return Bo.eq(t,e)})},Qm=function(t){return jl.liftN([Xm(t.cells(),t.rng().start()),Xm(t.cells(),t.rng().end())],function(e,n){return t.cells().slice(e,n+1)})},Zm=function(t){return Qm(t).map(function(e){var n=t.cells();return e.length===n.length?Nm.removeTable(t.table()):Nm.emptyCells(e)})},Jm={getActionFromRange:function(t,e){return Km(t,e).bind(Zm)},getActionFromCells:function(t){return Nm.emptyCells(t)}},tv=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},ev={getRanges:tv,getSelectedNodes:function(t){return oe.bind(t,function(t){var e=Il(t);return e?[Nr.fromDom(e)]:[]})},hasMultipleRanges:function(t){return tv(t).length>1}},nv=function(t){return oe.filter(ev.getSelectedNodes(t),Bs)},iv=function(t){return su.descendants(t,"td[data-mce-selected],th[data-mce-selected]")},rv=function(t,e){var n=iv(e),i=nv(t);return n.length>0?n:i},ov={getCellsFromRanges:nv,getCellsFromElement:iv,getCellsFromElementOrRanges:rv,getCellsFromEditor:function(t){return rv(ev.getRanges(t.selection.getSel()),Nr.fromDom(t.getBody()))}},sv=function(t,e){return oe.each(e,mf.fillWithPaddingBr),t.selection.setCursorLocation(e[0].dom(),0),!0},av=function(t,e){return kg.deleteElement(t,!1,e),!0},lv=function(t,e,n){return Jm.getActionFromRange(e,n).map(function(e){return e.fold(yt.curry(av,t),yt.curry(sv,t))})},cv=function(t,e){return gv(t,e)},uv=function(t,e,n,i){return fv(e,i).fold(function(){return lv(t,e,n)},function(e){return cv(t,e)}).getOr(!1)},hv=function(t,e){var n=Nr.fromDom(t.getBody()),i=t.selection.getRng(),r=ov.getCellsFromEditor(t);return 0!==r.length?sv(t,r):uv(t,n,i,e)},dv=function(t,e){return oe.find($p.parentsAndSelf(e,t),Bs)},fv=function(t,e){return oe.find($p.parentsAndSelf(e,t),function(t){return"caption"===Gr.name(t)})},pv=function(t,e,n,i,r){return Pc.navigate(n,t.getBody(),r).bind(function(t){return dv(e,Nr.fromDom(t.getNode())).map(function(t){return!1===Bo.eq(t,i)})})},gv=function(t,e){return mf.fillWithPaddingBr(e),t.selection.setCursorLocation(e.dom(),0),kt.some(!0)},mv=function(t,e,n,i){return Pc.firstPositionIn(t.dom()).bind(function(r){return Pc.lastPositionIn(t.dom()).map(function(t){return e?n.isEqual(r)&&i.isEqual(t):n.isEqual(t)&&i.isEqual(r)})}).getOr(!0)},vv=function(t,e){return gv(t,e)},yv=function(t,e,n){return fv(t,Nr.fromDom(n.getNode())).map(function(t){return!1===Bo.eq(t,e)})},bv=function(t,e,n,i,r){return Pc.navigate(n,t.getBody(),r).bind(function(o){return mv(i,n,r,o)?vv(t,i):yv(e,i,o)}).or(kt.some(!0))},wv=function(t,e,n,i){var r=hc.fromRangeStart(t.selection.getRng());return dv(n,i).bind(function(i){return wp.isEmpty(i)?gv(t,i):pv(t,n,e,i,r)})},xv=function(t,e,n,i){var r=hc.fromRangeStart(t.selection.getRng());return wp.isEmpty(i)?gv(t,i):bv(t,n,e,i,r)},Cv=function(t,e,n){var i=Nr.fromDom(t.getBody());return fv(i,n).fold(function(){return wv(t,e,i,n)},function(n){return xv(t,e,i,n)}).getOr(!1)},Sv={backspaceDelete:function(t,e){var n=Nr.fromDom(t.selection.getStart(!0)),i=ov.getCellsFromEditor(t);return t.selection.isCollapsed()&&0===i.length?Cv(t,e,n):hv(t,n)}},kv=function(t,e){t.getDoc().execCommand(e,!1,null)},_v={deleteCommand:function(t){Lg.backspaceDelete(t,!1)||Om.backspaceDelete(t,!1)||Wp.backspaceDelete(t,!1)||Sv.backspaceDelete(t)||Kp.backspaceDelete(t,!1)||(kv(t,"Delete"),lp.paddEmptyBody(t))},forwardDeleteCommand:function(t){Lg.backspaceDelete(t,!0)||Om.backspaceDelete(t,!0)||Wp.backspaceDelete(t,!0)||Sv.backspaceDelete(t)||Kp.backspaceDelete(t,!0)||kv(t,"ForwardDelete")}},Ev=function(t,e,n){var i=function(e){return wo.getRaw(e,t)},r=function(t){return Bo.eq(Nr.fromDom(e),t)};return Lf.closest(Nr.fromDom(n),function(t){return i(t).isSome()},r).bind(i)},Tv=function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},Av=function(t,e){return/[0-9.]+px$/.test(t)?Tv(72*parseInt(t,10)/96,e||0)+"pt":t},Mv=function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},Rv=function(t,e){return kt.from(Fa.DOM.getStyle(e,t,!0))},Dv=function(t){return function(e,n){return kt.from(n).map(Nr.fromDom).filter(Gr.isElement).bind(function(n){return Ev(t,e,n.dom()).or(Rv(t,n.dom()))}).getOr("")}},Lv={getFontSize:Dv("font-size"),getFontFamily:yt.compose(Mv,Dv("font-family")),toPt:Av},$v=function(t){return Pc.firstPositionIn(t.getBody()).map(function(t){var e=t.container();return ia.isText(e)?e.parentNode:e})},Ov=function(t,e){return t.startContainer===e&&0===t.startOffset},Pv=function(t){return kt.from(t.selection.getRng()).bind(function(e){var n=t.getBody();return Ov(e,n)?kt.none():kt.from(t.selection.getStart(!0))})},Iv=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var i=_u.getFontStyleValues(t),r=_u.getFontSizeClasses(t);return r?r[n-1]||e:i[n-1]||e}return e}return e},Nv=function(t,e){t.formatter.toggle("fontname",{value:Iv(t,e)}),t.nodeChanged()},Bv=function(t){return Pv(t).fold(function(){return $v(t).map(function(e){return Lv.getFontFamily(t.getBody(),e)}).getOr("")},function(e){return Lv.getFontFamily(t.getBody(),e)})},Fv=function(t,e){t.formatter.toggle("fontsize",{value:Iv(t,e)}),t.nodeChanged()},Hv=function(t){return Pv(t).fold(function(){return $v(t).map(function(e){return Lv.getFontSize(t.getBody(),e)}).getOr("")},function(e){return Lv.getFontSize(t.getBody(),e)})},zv={isEq:function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}},Wv=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},jv=function(t,e,n){return null!==Wv(t,e,n)},qv=function(t,e,n){return jv(t,e,function(t){return t.nodeName===n})},Uv=function(t){return t&&"TABLE"===t.nodeName},Vv=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Gv=function(t,e){return Za(t)&&!1===jv(t,e,Nd)},Yv=function(t,e,n){for(var i=new w(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=i[n?"prev":"next"]();)if(ia.isBr(e))return!0},Kv=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},Xv=function(t,e){for(;e&&e!==t;){if(ia.isContentEditableFalse(e))return!0;e=e.parentNode}return!1},Qv=function(t,e,n,i,r){var o,s,a,l,c=t.getRoot(),u=t.schema.getNonEmptyElements();if(a=t.getParent(r.parentNode,t.isBlock)||c,i&&ia.isBr(r)&&e&&t.isEmpty(a))return kt.some(_(r.parentNode,t.nodeIndex(r)));for(o=new w(r,a);l=o[i?"prev":"next"]();){if("false"===t.getContentEditableParent(l)||Gv(l,c))return kt.none();if(ia.isText(l)&&l.nodeValue.length>0)return!1===qv(l,c,"A")?kt.some(_(l,i?l.nodeValue.length:0)):kt.none();if(t.isBlock(l)||u[l.nodeName.toLowerCase()])return kt.none();s=l}return n&&s?kt.some(_(s,0)):kt.none()},Zv=function(t,e,n,i){var r,o,s,a,l,c,u,h=t.getRoot(),d=!1;if(r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"],u=ia.isElement(r)&&o===r.childNodes.length,l=t.schema.getNonEmptyElements(),c=n,Za(r))return kt.none();if(ia.isElement(r)&&o>r.childNodes.length-1&&(c=!1),ia.isDocument(r)&&(r=h,o=0),r===h){if(c&&(a=r.childNodes[o>0?o-1:0])){if(Za(a))return kt.none();if(l[a.nodeName]||Uv(a))return kt.none()}if(r.hasChildNodes()){if(o=Math.min(!c&&o>0?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=ia.isText(r)&&u?r.data.length:0,!e&&r===h.lastChild&&Uv(r))return kt.none();if(Xv(h,r)||Za(r))return kt.none();if(r.hasChildNodes()&&!1===Uv(r)){a=r,s=new w(r,h);do{if(ia.isContentEditableFalse(a)||Za(a)){d=!1;break}if(ia.isText(a)&&a.nodeValue.length>0){o=c?0:a.nodeValue.length,r=a,d=!0;break}if(l[a.nodeName.toLowerCase()]&&!Vv(a)){o=t.nodeIndex(a),r=a.parentNode,c||o++,d=!0;break}}while(a=c?s.next():s.prev())}}}return e&&(ia.isText(r)&&0===o&&Qv(t,u,e,!0,r).each(function(t){r=t.container(),o=t.offset(),d=!0}),ia.isElement(r)&&((a=r.childNodes[o])||(a=r.childNodes[o-1]),!a||!ia.isBr(a)||Kv(a,"A")||Yv(t,a,!1)||Yv(t,a,!0)||Qv(t,u,e,!0,a).each(function(t){r=t.container(),o=t.offset(),d=!0}))),c&&!e&&ia.isText(r)&&o===r.nodeValue.length&&Qv(t,u,e,!1,r).each(function(t){r=t.container(),o=t.offset(),d=!0}),d?kt.some(_(r,o)):kt.none()},Jv={normalize:function(t,e){var n=e.collapsed,i=e.cloneRange(),r=_.fromRangeStart(e);return Zv(t,n,!0,i).each(function(t){n&&_.isAbove(r,t)||i.setStart(t.container(),t.offset())}),n||Zv(t,n,!1,i).each(function(t){i.setEnd(t.container(),t.offset())}),n&&i.collapse(!0),zv.isEq(e,i)?kt.none():kt.some(i)}},ty=function(t,e,n){for(var i,r=new w(e,n),o=t.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||i.length>0)return!0},ey=function(t,e,n){var i=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),e.scrollIntoView(i),t.remove(i)},ny=function(t,e,n,i){var r=t.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.setRng(r)},iy=function(t,e){var n,i,r=t.selection,o=t.dom,s=r.getRng();Jv.normalize(o,s).each(function(t){s.setStart(t.startContainer,t.startOffset),s.setEnd(t.endContainer,t.endOffset)});var a=s.startOffset,l=s.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var c=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=c&&3===l.nodeType?l.nodeValue.length:0}var u=o.getParent(l,o.isBlock),h=u?o.getParent(u.parentNode,o.isBlock):null,d=h?h.nodeName.toUpperCase():"",f=e&&e.ctrlKey;"LI"!==d||f||(u=h),l&&3===l.nodeType&&a>=l.nodeValue.length&&(ty(t.schema,l,u)||(n=o.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),i=!0)),n=o.create("br"),s.insertNode(n),ey(o,r,n),ny(o,r,n,i),t.undoManager.add()},ry=function(t,e){var n=Nr.fromTag("br");Ru.before(Nr.fromDom(e),n),t.undoManager.add()},oy=function(t,e){ay(t.getBody(),e)||Ru.after(Nr.fromDom(e),Nr.fromTag("br"));var n=Nr.fromTag("br");Ru.after(Nr.fromDom(e),n),
ey(t.dom,t.selection,n.dom()),ny(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},sy=function(t){return ia.isBr(t.getNode())},ay=function(t,e){return!!sy(hc.after(e))||Pc.nextPosition(t,hc.after(e)).map(function(t){return ia.isBr(t.getNode())}).getOr(!1)},ly=function(t){return t&&"A"===t.nodeName&&"href"in t},cy=function(t){return t.fold(yt.constant(!1),ly,ly,yt.constant(!1))},uy=function(t){var e=yt.curry(op.isInlineTarget,t),n=hc.fromRangeStart(t.selection.getRng());return dm.readLocation(e,t.getBody(),n).filter(cy)},hy=function(t,e){e.fold(yt.noop,yt.curry(ry,t),yt.curry(oy,t),yt.noop)},dy={insert:function(t,e){var n=uy(t);n.isSome()?n.each(yt.curry(hy,t)):iy(t,e)}},fy=Xp.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),py=function(t,e,n,i){return t.fold(e,n,i)},gy=function(t){return t.fold(yt.identity,yt.identity,yt.identity)},my={before:fy.before,on:fy.on,after:fy.after,cata:py,getStart:gy},vy=Xp.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),yy=So.immutable("start","soffset","finish","foffset"),by=function(t){return vy.exact(t.start(),t.soffset(),t.finish(),t.foffset())},wy=function(t){return t.match({domRange:function(t){return Nr.fromDom(t.startContainer)},relative:function(t){return my.getStart(t)},exact:function(t){return t}})},xy=function(t){var e=wy(t);return rs.defaultView(e)},Cy={domRange:vy.domRange,relative:vy.relative,exact:vy.exact,exactFromRange:by,range:yy,getWin:xy},Sy=Lr.detect().browser,ky=function(t,e){var n=Gr.isText(e)?ff.get(e).length:rs.children(e).length+1;return t>n?n:t<0?0:t},_y=function(t){return Cy.range(t.start(),ky(t.soffset(),t.start()),t.finish(),ky(t.foffset(),t.finish()))},Ey=function(t,e){return Bo.contains(t,e)||Bo.eq(t,e)},Ty=function(t){return function(e){return Ey(t,e.start())&&Ey(t,e.finish())}},Ay=function(t){return!0===t.inline||Sy.isIE()},My=function(t){return Cy.range(Nr.fromDom(t.startContainer),t.startOffset,Nr.fromDom(t.endContainer),t.endOffset)},Ry=function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?kt.from(e.getRangeAt(0)):kt.none()).map(My)},Dy=function(t){var e=rs.defaultView(t);return Ry(e.dom()).filter(Ty(t))},Ly=function(t,e){return kt.from(e).filter(Ty(t)).map(_y)},$y=function(t){var e=document.createRange();try{return e.setStart(t.start().dom(),t.soffset()),e.setEnd(t.finish().dom(),t.foffset()),kt.some(e)}catch(n){return kt.none()}},Oy=function(t){return(t.bookmark?t.bookmark:kt.none()).bind(yt.curry(Ly,Nr.fromDom(t.getBody()))).bind($y)},Py={store:function(t){var e=Ay(t)?Dy(Nr.fromDom(t.getBody())):kt.none();t.bookmark=e.isSome()?e:t.bookmark},storeNative:function(t,e){var n=Nr.fromDom(t.getBody()),i=(Ay(t)?kt.from(e):kt.none()).map(My).filter(Ty(n));t.bookmark=i.isSome()?i:t.bookmark},readRange:Ry,restore:function(t){Oy(t).each(function(e){t.selection.setRng(e)})},getRng:Oy,getBookmark:Dy,validate:Ly},Iy=function(t,e,n,i,r,o){if("false"!==t.getContentEditable(o)&&"LI"!==o.nodeName){var s=n?"margin":"padding";if(s="TABLE"===o.nodeName?"margin":s,s+="rtl"===t.getStyle(o,"direction",!0)?"Right":"Left","outdent"===e){var a=Math.max(0,parseInt(o.style[s]||0,10)-i);t.setStyle(o,s,a?a+r:"")}else a=parseInt(o.style[s]||0,10)+i+r,t.setStyle(o,s,a)}},Ny=function(t,e){var n=t.settings,i=t.dom,r=t.selection,o=t.formatter,s=/[a-z%]+$/i.exec(n.indentation)[0],a=parseInt(n.indentation,10),l=t.getParam("indent_use_margin",!1);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||(n.forced_root_block||i.getParent(r.getNode(),i.isBlock)||o.apply("div"),oe.each(r.getSelectedBlocks(),function(t){return Iy(i,e,l,a,s,t)}))},By=oi.each,Fy=oi.extend,Hy=oi.map,zy=oi.inArray,Wy=oi.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),jy=function(t){var e,n,i=this,r={},o=function(){return!1},s=function(){return!0};e=(t=t||{}).scope||i,n=t.toggleEvent||o;var a=function(n,i){var a,l,u,h;if(n=n.toLowerCase(),(i=i||{}).type=n,i.target||(i.target=e),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=s},i.stopPropagation=function(){i.isPropagationStopped=s},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=s},i.isDefaultPrevented=o,i.isPropagationStopped=o,i.isImmediatePropagationStopped=o),t.beforeFire&&t.beforeFire(i),a=r[n])for(l=0,u=a.length;l<u;l++){if((h=a[l]).once&&c(n,h.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===h.func.call(e,i))return i.preventDefault(),i}return i},l=function(t,e,s,a){var l,c,u;if(!1===e&&(e=o),e)for(e={func:e},a&&oi.extend(e,a),u=(c=t.toLowerCase().split(" ")).length;u--;)t=c[u],(l=r[t])||(l=r[t]=[],n(t,!0)),s?l.unshift(e):l.push(e);return i},c=function(t,e){var o,s,a,l,c;if(t)for(o=(l=t.toLowerCase().split(" ")).length;o--;){if(t=l[o],s=r[t],!t){for(a in r)n(a,!1),delete r[a];return i}if(s){if(e)for(c=s.length;c--;)s[c].func===e&&(s=s.slice(0,c).concat(s.slice(c+1)),r[t]=s);else s.length=0;s.length||(n(t,!1),delete r[t])}}else{for(t in r)n(t,!1);r={}}return i},u=function(t,e,n){return l(t,e,n,{once:!0})},h=function(t){return t=t.toLowerCase(),!(!r[t]||0===r[t].length)};i.fire=a,i.on=l,i.off=c,i.once=u,i.has=h};jy.isNative=function(t){return!!Wy[t.toLowerCase()]};var qy,Uy,Vy=function(t){return t._eventDispatcher||(t._eventDispatcher=new jy({scope:t,toggleEvent:function(e,n){jy.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},Gy={fire:function(t,e,n){var i=this;if(i.removed&&"remove"!==t)return e;if(e=Vy(i).fire(t,e,n),!1!==n&&i.parent)for(var r=i.parent();r&&!e.isPropagationStopped();)r.fire(t,e,!1),r=r.parent();return e},on:function(t,e,n){return Vy(this).on(t,e,n)},off:function(t,e){return Vy(this).off(t,e)},once:function(t,e){return Vy(this).once(t,e)},hasEventListeners:function(t){return Vy(this).has(t)}},Yy=function(t,e){var n=so.get(t,e);return n===undefined||""===n?[]:n.split(" ")},Ky={read:Yy,add:function(t,e,n){var i=Yy(t,e).concat([n]);so.set(t,e,i.join(" "))},remove:function(t,e,n){var i=oe.filter(Yy(t,e),function(t){return t!==n});i.length>0?so.set(t,e,i.join(" ")):so.remove(t,e)}},Xy=function(t){return Ky.read(t,"class")},Qy=function(t,e){return Ky.add(t,"class",e)},Zy=function(t,e){return Ky.remove(t,"class",e)},Jy={get:Xy,add:Qy,remove:Zy,toggle:function(t,e){oe.contains(Xy(t),e)?Zy(t,e):Qy(t,e)},supports:function(t){return t.dom().classList!==undefined}},tb=function(t){0===(Jy.supports(t)?t.dom().classList:Jy.get(t)).length&&so.remove(t,"class")},eb=function(t,e){var n=Jy.supports(t),i=t.dom().classList;return D(function(){n?i.remove(e):Jy.remove(t,e)},function(){n?i.add(e):Jy.add(t,e)},nb(t,e))},nb=function(t,e){return Jy.supports(t)&&t.dom().classList.contains(e)},ib={add:function(t,e){Jy.supports(t)?t.dom().classList.add(e):Jy.add(t,e)},remove:function(t,e){Jy.supports(t)?t.dom().classList.remove(e):Jy.remove(t,e),tb(t)},toggle:function(t,e){return Jy.supports(t)?t.dom().classList.toggle(e):Jy.toggle(t,e)},toggler:eb,has:nb},rb={firePreProcess:function(t,e){return t.fire("PreProcess",e)},firePostProcess:function(t,e){return t.fire("PostProcess",e)},fireRemove:function(t){return t.fire("remove")},fireSwitchMode:function(t,e){return t.fire("SwitchMode",{mode:e})},fireObjectResizeStart:function(t,e,n,i){t.fire("ObjectResizeStart",{target:e,width:n,height:i})},fireObjectResized:function(t,e,n,i){t.fire("ObjectResized",{target:e,width:n,height:i})}},ob=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}},sb=function(t,e,n){ib.has(t,e)&&!1===n?ib.remove(t,e):n&&ib.add(t,e)},ab=function(t,e){sb(Nr.fromDom(t.getBody()),"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable="false"):(t.readonly=!1,t.getBody().contentEditable="true",ob(t,"StyleWithCSS",!1),ob(t,"enableInlineTableEditing",!1),ob(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())},lb=function(t,e){e!==cb(t)&&(t.initialized?ab(t,"readonly"===e):t.on("init",function(){ab(t,"readonly"===e)}),rb.fireSwitchMode(t,e))},cb=function(t){return t.readonly?"readonly":"design"},ub=function(t){return!0===t.readonly},hb=Fa.DOM,db=function(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=hb.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},fb=function(t){return!t.hidden&&!t.readonly},pb=function(t,e,n){fb(t)?t.fire(e,n):ub(t)&&n.preventDefault()},gb=function(t,e){var n,i;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=db(t,e),t.settings.event_root){if(qy||(qy={},t.editorManager.on("removeEditor",function(){var e;if(!t.editorManager.activeEditor&&qy){for(e in qy)t.dom.unbind(db(t,e));qy=null}})),qy[e])return;i=function(n){for(var i=n.target,r=t.editorManager.get(),o=r.length;o--;){var s=r[o].getBody();(s===i||hb.isChildOf(i,s))&&pb(r[o],e,n)}},qy[e]=i,hb.bind(n,e,i)}else i=function(n){pb(t,e,n)},hb.bind(n,e,i),t.delegates[e]=i},mb={bindPendingEventDelegates:function(){var t=this;oi.each(t._pendingNativeEvents,function(e){gb(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(e?n.initialized?gb(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(db(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this,n=e.getBody(),i=e.dom;if(e.delegates){for(t in e.delegates)e.dom.unbind(db(e,t),t,e.delegates[t]);delete e.delegates}!e.inline&&n&&i&&(n.onload=null,i.unbind(e.getWin()),i.unbind(e.getDoc())),i&&(i.unbind(n),i.unbind(e.getContainer()))}},vb=mb=oi.extend({},Gy,mb),yb=oi.each,bb=oi.explode,wb={f9:120,f10:121,f11:122},xb=oi.makeMap("alt,ctrl,shift,meta,access"),Cb={any:function(t){return Lf.first(t).isSome()},ancestor:function(t,e,n){return Lf.ancestor(t,e,n).isSome()},closest:function(t,e,n){return Lf.closest(t,e,n).isSome()},sibling:function(t,e){return Lf.sibling(t,e).isSome()},child:function(t,e){return Lf.child(t,e).isSome()},descendant:function(t,e){return Lf.descendant(t,e).isSome()}},Sb=function(t){t.dom().focus()},kb=function(t){var e=t!==undefined?t.dom():document;return kt.from(e.activeElement).map(Nr.fromDom)},_b={hasFocus:function(t){var e=rs.owner(t).dom();return t.dom()===e.activeElement},focus:Sb,blur:function(t){t.dom().blur()},active:kb,search:function(t){return kb(rs.owner(t)).filter(function(e){return t.dom().contains(e.dom())})},focusInside:function(t){var e=rs.owner(t);kb(e).filter(function(e){return Cb.closest(e,yt.curry(Bo.eq,t))}).fold(function(){Sb(t)},yt.noop)}},Eb=function(t,e){return t.dom.getParent(e,function(e){return"true"===t.dom.getContentEditable(e)})},Tb=function(t){return t.collapsed?kt.from(Nl(t.startContainer,t.startOffset)).map(Nr.fromDom):kt.none()},Ab=function(t,e){return Tb(e).bind(function(e){return Ns(e)?kt.some(e):!1===Bo.contains(t,e)?kt.some(t):kt.none()})},Mb=function(t,e){Ab(Nr.fromDom(t.getBody()),e).bind(function(t){return Pc.firstPositionIn(t.dom())}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},Rb=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},Db=function(t){return _b.hasFocus(t)||_b.search(t).isSome()},Lb=function(t){return t.iframeElement&&_b.hasFocus(Nr.fromDom(t.iframeElement))},$b=function(t){var e=t.getBody();return e&&Db(Nr.fromDom(e))},Ob=function(t){return t.inline?$b(t):Lb(t)},Pb=function(t){var e=t.selection,n=t.settings.content_editable,i=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable();var o=Eb(t,e.getNode());if(t.$.contains(i,o))return Rb(o),Mb(t,r),void Ib(t);t.bookmark!==undefined&&!1===Ob(t)&&Py.getRng(t).each(function(e){t.selection.setRng(e),r=e}),n||(Be.opera||Rb(i),t.getWin().focus()),(Be.gecko||n)&&(Rb(i),Mb(t,r)),Ib(t)},Ib=function(t){return t.editorManager.setActive(t)},Nb={focus:function(t,e){t.removed||(e?Ib(t):Pb(t))},hasFocus:Ob},Bb=function(t,e){return e.dom()[t]},Fb=function(t,e){return parseInt(wo.get(e,t),10)},Hb=yt.curry(Bb,"clientWidth"),zb=yt.curry(Bb,"clientHeight"),Wb=yt.curry(Fb,"margin-top"),jb=yt.curry(Fb,"margin-left"),qb=function(t){return t.dom().getBoundingClientRect()},Ub=function(t,e,n){var i=Hb(t),r=zb(t);return e>=0&&n>=0&&e<=i&&n<=r},Vb=function(t,e,n,i){var r=qb(e);return{x:n-(t?r.left+e.dom().clientLeft+jb(e):0),y:i-(t?r.top+e.dom().clientTop+Wb(e):0)}},Gb=function(t){return kt.from(t).map(Nr.fromDom)},Yb={isXYInContentArea:function(t,e,n){var i=Nr.fromDom(t.getBody()),r=t.inline?i:rs.documentElement(i),o=Vb(t.inline,r,e,n);return Ub(r,o.x,o.y)},isEditorAttachedToDom:function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return Gb(e).map(function(t){return Bo.contains(rs.owner(t),t)}).getOr(!1)}},Kb=k.PluginManager,Xb=function(t,e){for(var n in Kb.urls)if(Kb.urls[n]+"/plugin"+e+".js"===t)return n;return null},Qb=function(t,e){var n=Xb(e,t.suffix);return n?"Failed to load plugin: "+n+" from url "+e:"Failed to load plugin url: "+e},Zb=function(t,e){t.notificationManager.open({type:"error",text:e})},Jb=function(t,e){t._skinLoaded?Zb(t,e):t.on("SkinLoaded",function(){Zb(t,e)})},tw={pluginLoadError:function(t,e){Jb(t,Qb(t,e))},uploadError:function(t,e){Jb(t,"Failed to upload image: "+e)},displayError:Jb,initError:function(){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var n=window.console;n&&(n.error?n.error.apply(n,arguments):n.log.apply(n,arguments))}},ew=k.PluginManager,nw=k.ThemeManager,iw={atob:function(t){return de.getOrDie("atob")(t)},requestAnimationFrame:function(t){de.getOrDie("requestAnimationFrame")(t)}},rw=function(t){return new He(function(e,n){var i=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new N;r.open("GET",t,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):i()},r.onerror=i,r.send()}catch(o){i()}})},ow=function(t){var e,n;return t=decodeURIComponent(t).split(","),(n=/data:([^;]+)/.exec(t[0]))&&(e=n[1]),{type:e,data:t[1]}},sw=function(t){return new He(function(e){var n,i,r;t=ow(t);try{n=iw.atob(t.data)}catch(UM){return void e(new F([]))}for(i=new z(n.length),r=0;r<i.length;r++)i[r]=n.charCodeAt(r);e(new F([i],{type:t.type}))})},aw={uriToBlob:function(t){return 0===t.indexOf("blob:")?rw(t):0===t.indexOf("data:")?sw(t):null},blobToDataUri:function(t){return new He(function(e){var n=new H;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})},parseDataUri:ow},lw=0,cw=function(t){return(t||"blobid")+lw++},uw=function(t,e,n,i){var r,o;0!==e.src.indexOf("blob:")?(r=aw.parseDataUri(e.src).data,(o=t.findFirst(function(t){return t.base64()===r}))?n({image:e,blobInfo:o}):aw.uriToBlob(e.src).then(function(i){o=t.create(cw(),i,r),t.add(o),n({image:e,blobInfo:o})},function(t){i(t)})):(o=t.getByUri(e.src))?n({image:e,blobInfo:o}):aw.uriToBlob(e.src).then(function(i){aw.blobToDataUri(i).then(function(s){r=aw.parseDataUri(s).data,o=t.create(cw(),i,r),t.add(o),n({image:e,blobInfo:o})})},function(t){i(t)})},hw=function(t){return t?t.getElementsByTagName("img"):[]},dw=0,fw=function(){var t=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+t()+t()+t()},pw={uuid:function(t){return t+dw+++fw()}},gw=function(t,e){return t.hasOwnProperty(e.nodeName)},mw=function(t,e){return!!ia.isText(e)||!!ia.isElement(e)&&!gw(t,e)&&!of.isBookmarkNode(e)},vw=function(t,e,n){return oe.exists($p.parents(Nr.fromDom(n),Nr.fromDom(e)),function(e){return gw(t,e.dom())})},yw=function(t,e){if(ia.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||gw(t,e.nextSibling)))return!0}return!1},bw=function(t){var e,n,i,r,o,s,a,l,c,u,h,d=t.settings,f=t.dom,p=t.selection,g=t.schema,m=g.getBlockElements(),v=p.getStart(),y=t.getBody();if(h=d.forced_root_block,v&&ia.isElement(v)&&h&&(u=y.nodeName.toLowerCase(),g.isValidChild(u,h.toLowerCase())&&!vw(m,y,v))){for(n=(e=p.getRng()).startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,c=Nb.hasFocus(t),v=y.firstChild;v;)if(mw(m,v)){if(yw(m,v)){a=v,v=v.nextSibling,f.remove(a);continue}s||(s=f.create(h,t.settings.forced_root_block_attrs),v.parentNode.insertBefore(s,v),l=!0),a=v,v=v.nextSibling,s.appendChild(a)}else s=null,v=v.nextSibling;l&&c&&(e.setStart(n,i),e.setEnd(r,o),p.setRng(e),t.nodeChanged())}},ww={setup:function(t){t.settings.forced_root_block&&t.on("NodeChange",yt.curry(bw,t))}},xw=function(t){var e=t.startContainer,n=t.startOffset;return ia.isText(e)?0===n?kt.some(Nr.fromDom(e)):kt.none():kt.from(e.childNodes[n]).map(Nr.fromDom)},Cw=function(t){var e=t.endContainer,n=t.endOffset;return ia.isText(e)?n===e.data.length?kt.some(Nr.fromDom(e)):kt.none():kt.from(e.childNodes[n-1]).map(Nr.fromDom)},Sw=function(t){return rs.firstChild(t).fold(yt.constant([t]),function(e){return[t].concat(Sw(e))})},kw=function(t){return rs.lastChild(t).fold(yt.constant([t]),function(e){return"br"===Gr.name(e)?rs.prevSibling(e).map(function(e){return[t].concat(kw(e))}).getOr([]):[t].concat(kw(e))})},_w=function(t,e){return jl.liftN([xw(e),Cw(e)],function(e,n){var i=oe.find(Sw(t),yt.curry(Bo.eq,e)),r=oe.find(kw(t),yt.curry(Bo.eq,n));return i.isSome()&&r.isSome()}).getOr(!1)},Ew=function(t,e,n,i){var r=n,o=new w(n,r),s=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==oi.trim(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(Be.ie&&Be.ie<11&&t.isBlock(n)&&t.isEmpty(n))return void(i?e.setStart(n,0):e.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},Tw=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},Aw=function(t){var e,n,i,r;return r=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},Mw=function(t){return t.inline?Aw(t.getBody()):{left:0,top:0}},Rw=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},Dw=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},r={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:r},Lw=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=Aw(t.getContentAreaContainer()),i=Dw(t);return{left:e.pageX-n.left+i.left,top:e.pageY-n.top+i.top}}return{left:e.pageX,top:e.pageY}},$w=function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}},Ow={calc:function(t,e){return $w(Mw(t),Rw(t),Lw(t,e))}},Pw=ia.isContentEditableFalse,Iw=ia.isContentEditableTrue,Nw=function(t,e){return Pw(e)&&e!==t},Bw=function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!Pw(e)},Fw=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},Hw=function(t,e,n,i){var r=e.cloneNode(!0);t.dom.setStyles(r,{width:n,height:i}),t.dom.setAttrib(r,"data-mce-selected",null);var o=t.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o},zw=function(t,e){t.parentNode!==e&&e.appendChild(t)},Ww=function(t,e,n,i,r,o){var s=0,a=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>r&&(s=e.pageX+n-r),e.pageY+i>o&&(a=e.pageY+i-o),t.style.width=n-s+"px",t.style.height=i-a+"px"},jw=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},qw=function(t){return 0===t.button},Uw=function(t){return t.element},Vw=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},Gw=function(t,e){return function(n){if(qw(n)){var i=Vn.find(e.dom.getParents(n.target),Wl.or(Pw,Iw));if(Nw(e.getBody(),i)){var r=e.dom.getPos(i),o=e.getBody(),s=e.getDoc().documentElement;t.element=i,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?o.scrollWidth:s.offsetWidth)-2,t.maxY=(e.inline?o.scrollHeight:s.offsetHeight)-2,t.relX=n.pageX-r.x,t.relY=n.pageY-r.y,t.width=i.offsetWidth,t.height=i.offsetHeight,t.ghost=Hw(e,i,t.width,t.height)}}}},Yw=function(t,e){var n=Ue.throttle(function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)},0);return function(i){var r=Math.max(Math.abs(i.screenX-t.screenX),Math.abs(i.screenY-t.screenY));if(Uw(t)&&!t.dragging&&r>10){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var o=Vw(t,Ow.calc(e,i));zw(t.ghost,e.getBody()),Ww(t.ghost,o,t.width,t.height,t.maxX,t.maxY),n(i.clientX,i.clientY)}}},Kw=function(t){var e=t.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e},Xw=function(t,e){return function(n){if(t.dragging&&Bw(e,Kw(e.selection),t.element)){var i=Fw(t.element),r=e.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,e.undoManager.transact(function(){jw(t.element),e.insertContent(e.dom.getOuterHTML(i)),e._selectionOverrides.hideFakeCaret()}))}Zw(t)}},Qw=function(t,e){return function(){t.dragging&&e.fire("dragend"),Zw(t)}},Zw=function(t){t.dragging=!1,t.element=null,jw(t.ghost)},Jw=function(t){var e,n,i,r,o,s,a={};e=Fa.DOM,s=document,n=Gw(a,t),i=Yw(a,t),r=Xw(a,t),o=Qw(a,t),t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",r),e.bind(s,"mousemove",i),e.bind(s,"mouseup",o),t.on("remove",function(){e.unbind(s,"mousemove",i),e.unbind(s,"mouseup",o)})},tx=function(t){t.on("drop",function(e){var n="undefined"!=typeof e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(Pw(n)||Pw(t.dom.getContentEditableParent(n)))&&e.preventDefault()})},ex={init:function(t){Jw(t),tx(t)}},nx=function(t){var e=function(e){return Vn.map(e,function(e){return(e=El(e)).node=t,e})};if(ia.isElement(t))return e(t.getClientRects());if(ia.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}},ix=function(t){return Vn.reduce(t,function(t,e){return t.concat(nx(e))},[])};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(Uy||(Uy={}));var rx=function(t,e,n,i){for(;i=uh(i,t,kl,e);)if(n(i))return},ox=function(t,e,n,i,r,o){var s,a,l=0,c=[],u=function(i){var o,s,u;for(u=ix([i]),-1===t&&(u=u.reverse()),o=0;o<u.length;o++)if(s=u[o],!n(s,a)){if(c.length>0&&e(s,Vn.last(c))&&l++,s.line=l,r(s))return!0;c.push(s)}};return(a=Vn.last(o.getClientRects()))?(u(s=o.getNode()),rx(t,i,u,s),c):c},sx=function(t,e){return e.line>t},ax=function(t,e){return e.line===t},lx=yt.curry(ox,Uy.Up,Rl,Dl),cx=yt.curry(ox,Uy.Down,Dl,Rl),ux=function(t,e,n,i){var r,o,s,a,l,c,u=Hh(e),h=[],d=0,f=function(t){return Vn.last(t.getClientRects())};1===t?(r=u.next,o=Dl,s=Rl,a=hc.after(i)):(r=u.prev,o=Rl,s=Dl,a=hc.before(i)),c=f(a);do{if(a.isVisible()&&!s(l=f(a),c)){if(h.length>0&&o(l,Vn.last(h))&&d++,(l=El(l)).position=a,l.line=d,n(l))return h;h.push(l)}}while(a=r(a));return h},hx=function(t){return function(e){return sx(t,e)}},dx=function(t){return function(e){return ax(t,e)}},fx=ia.isContentEditableFalse,px=uh,gx=function(t,e){return Math.abs(t.left-e)},mx=function(t,e){return Math.abs(t.right-e)},vx=function(t,e){return t>=e.left&&t<=e.right},yx=function(t,e){return Vn.reduce(t,function(t,n){var i,r;return i=Math.min(gx(t,e),mx(t,e)),r=Math.min(gx(n,e),mx(n,e)),vx(e,n)?n:vx(e,t)?t:r===i&&fx(n.node)?n:r<i?n:t})},bx=function(t,e,n,i){for(;i=px(i,t,kl,e);)if(n(i))return},wx=function(t,e){var n=[],i=function(t,i){var r;return r=Vn.filter(ix([i]),function(n){return!t(n,e)}),n=n.concat(r),0===r.length};return n.push(e),bx(Uy.Up,t,yt.curry(i,Rl),e.node),bx(Uy.Down,t,yt.curry(i,Dl),e.node),n},xx=function(t){return Vn.filter(Vn.toArray(t.getElementsByTagName("*")),Ju)},Cx=function(t,e){return{node:t.node,before:gx(t,e)<mx(t,e)}},Sx=function(t,e,n){var i,r=ix(xx(t)),o=Vn.filter(r,function(t){return n>=t.top&&n<=t.bottom});return(i=yx(o,e))&&(i=yx(wx(t,i),e))&&Ju(i.node)?Cx(i,e):null},kx={isXYWithinRange:function(t,e,n){return!n.collapsed&&oe.foldl(n.getClientRects(),function(n,i){return n||Ll(i,t,e)},!1)}},_x={adaptable:function(t,e){var n=null,i=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null,i=null)},throttle:function(){i=arguments,null===n&&(n=setTimeout(function(){t.apply(null,i),n=null,i=null},e))}}},first:function(t,e){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var i=arguments;null===n&&(n=setTimeout(function(){t.apply(null,i),n=null,i=null},e))}}},last:function(t,e){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var i=arguments;null!==n&&clearTimeout(n),n=setTimeout(function(){t.apply(null,i),n=null,i=null},e)}}}},Ex={setup:function(t){var e=_x.first(function(){if(!t.removed&&t.selection.getRng().collapsed){var e=Wc(t,t.selection.getRng(),!1);t.selection.setRng(e)}},0);t.on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()})}},Tx={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return Be.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Ax=ia.isContentEditableTrue,Mx=ia.isContentEditableFalse,Rx=_h,Dx=kh,Lx=function(t,e){for(var n=t.getBody();e&&e!==n;){if(Ax(e)||Mx(e))return e;e=e.parentNode}return null},$x=function(t){var e,n=function(e){return t.dom.isBlock(e)},i=t.getBody(),r=Zu(t.getBody(),n,function(){return Nb.hasFocus(t)}),o="sel-"+t.dom.uniqueId(),s=function(e){return t.dom.hasClass(e,"mce-offscreen-selection")},a=function(){var e=t.dom.get(o);return e?e.getElementsByTagName("*")[0]:e},l=function(e){e&&t.selection.setRng(e)},c=function(){return t.selection.getRng()},u=function(e,n,i,o){return void 0===o&&(o=!0),t.fire("ShowCaret",{target:n,direction:e,before:i}).isDefaultPrevented()?null:(o&&t.selection.scrollIntoView(n,-1===e),r.show(i,n))},h=function(t,e){return e=bh(t,i,e),-1===t?hc.fromRangeStart(e):hc.fromRangeEnd(e)},d=function(e){e.hasAttribute("data-mce-caret")&&(ll(e),l(c()),t.selection.scrollIntoView(e[0]))},f=function(){t.on("mouseup",function(e){var n=c();n.collapsed&&Yb.isXYInContentArea(t,e.clientX,e.clientY)&&l(zc(t,n,!1))}),t.on("click",function(e){var n;(n=Lx(t,e.target))&&(Mx(n)&&(e.preventDefault(),t.focus()),Ax(n)&&t.dom.isChildOf(n,t.selection.getNode())&&y())}),t.on("blur NewBlock",function(){y()}),t.on("ResizeWindow FullscreenStateChanged",function(){return r.reposition()});var n=function(t){var e=Hh(t);if(!t.firstChild)return!1;var n=hc.before(t.firstChild),i=e.next(n);return i&&!Dx(i)&&!Rx(i)},o=function(e,n){return t.dom.getParent(e,t.dom.isBlock)===t.dom.getParent(n,t.dom.isBlock)},h=function(e,i){var r=t.dom.getParent(e,t.dom.isBlock),s=t.dom.getParent(i,t.dom.isBlock);return!(!r||!t.dom.isChildOf(r,s)||!1!==Mx(Lx(t,r)))||r&&!o(r,s)&&n(r)};(function(t){var e=!1;t.on("touchstart",function(){e=!1}),t.on("touchmove",function(){e=!0}),t.on("touchend",function(n){var i=Lx(t,n.target);Mx(i)&&(e||(n.preventDefault(),v(Hc(t,i))))})})(t),t.on("mousedown",function(e){var n,r=e.target;if((r===i||"HTML"===r.nodeName||t.dom.isChildOf(r,i))&&!1!==Yb.isXYInContentArea(t,e.clientX,e.clientY))if(n=Lx(t,r))Mx(n)?(e.preventDefault(),v(Hc(t,n))):(y(),Ax(n)&&e.shiftKey||kx.isXYWithinRange(e.clientX,e.clientY,t.selection.getRng())||(w(),t.selection.placeCaretAt(e.clientX,e.clientY)));else if(!1===Ju(r)){y(),w();var o=Sx(i,e.clientX,e.clientY);if(o&&!h(e.target,o.node)){e.preventDefault();var s=u(1,o.node,o.before,!1);t.getBody().focus(),l(s)}}}),t.on("keypress",function(e){Tx.modifierPressed(e)||(e.keyCode,Mx(t.selection.getNode())&&e.preventDefault())}),t.on("getSelectionRange",function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);(n=n.cloneRange()).selectNode(e),t.range=n}}),t.on("setSelectionRange",function(t){var e;(e=v(t.range,t.forward))&&(t.range=e)}),t.on("AfterSetSelectionRange",function(t){var e=t.range;m(e)||w(),s(e.startContainer.parentNode)||y()}),t.on("copy",function(t){var e=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!Be.ie){var n=a();n&&(t.preventDefault(),e.clearData(),e.setData("text/html",n.outerHTML),e.setData("text/plain",n.outerText))}}),ex.init(t),Ex.setup(t)},p=function(){var e=t.contentStyles,n=".mce-content-body";e.push(r.getCss()),e.push(n+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+n+" *[contentEditable=false] {cursor: default;}"+n+" *[contentEditable=true] {cursor: text;}")},g=function(t){return Za(t)||ol(t)||sl(t)},m=function(t){return g(t.startContainer)||g(t.endContainer)},v=function(n,i){var r,s,a,l,c,d,f,p,g,v,y=t.$,b=t.dom;if(!n)return null;if(n.collapsed){if(!m(n))if(!1===i){if(p=h(-1,n),Ju(p.getNode(!0)))return u(-1,p.getNode(!0),!1,!1);if(Ju(p.getNode()))return u(-1,p.getNode(),!p.isAtEnd(),!1)}else{if(p=h(1,n),Ju(p.getNode()))return u(1,p.getNode(),!p.isAtEnd(),!1);if(Ju(p.getNode(!0)))return u(1,p.getNode(!0),!1,!1)}return null}return l=n.startContainer,c=n.startOffset,d=n.endOffset,3===l.nodeType&&0===c&&Mx(l.parentNode)&&(l=l.parentNode,c=b.nodeIndex(l),l=l.parentNode),1!==l.nodeType?null:(d===c+1&&(r=l.childNodes[c]),Mx(r)?(g=v=r.cloneNode(!0),(f=t.fire("ObjectSelected",{target:r,targetClone:g})).isDefaultPrevented()?null:(s=up.descendant(Nr.fromDom(t.getBody()),"#"+o).fold(function(){return y([])},function(t){return y([t.dom()])}),g=f.targetClone,0===s.length&&(s=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o)).appendTo(t.getBody()),n=t.dom.createRng(),g===v&&Be.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(g),n.setStartAfter(s[0].firstChild.firstChild),n.setEndAfter(g)):(s.empty().append("\xa0").append(g).append("\xa0"),n.setStart(s[0].firstChild,1),n.setEnd(s[0].lastChild,0)),s.css({top:b.getPos(r,t.getBody()).y}),s[0].focus(),(a=t.selection.getSel()).removeAllRanges(),a.addRange(n),oe.each(su.descendants(Nr.fromDom(t.getBody()),"*[data-mce-selected]"),function(t){so.remove(t,"data-mce-selected")}),r.setAttribute("data-mce-selected","1"),e=r,w(),n)):null)},y=function(){e&&e.removeAttribute("data-mce-selected"),up.descendant(Nr.fromDom(t.getBody()),"#"+o).each(hf.remove),e=null},b=function(){r.destroy(),e=null},w=function(){r.hide()};return Be.ceFalse&&(f(),p()),{showCaret:u,showBlockCaretContainer:d,hideFakeCaret:w,destroy:b}},Ox=function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")},Px=function(t){return t.replace(/<!--|-->/g,"")},Ix=function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))},Nx=function(t,e,n){var i,r,o,s,a=1;for(s=t.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(e);){if(i=o.lastIndex,"/"===r[1])a--;else if(!r[1]){if(r[2]in s)continue;a++}if(0===a)break}return i};!function(t){t.findEndTag=Nx}(G||(G={}));var Bx=G,Fx=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")},Hx=function(t,e){var n,i,r,o,s,a=e,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c=t.schema;for(a=Fx(t.getTempAttrs(),a),s=c.getShortEndedElements();o=l.exec(a);)i=l.lastIndex,r=o[0].length,n=s[o[1]]?i:Bx.findEndTag(c,a,i),a=a.substring(0,i-r)+a.substring(n),l.lastIndex=i-r;return Ga.trim(a)},zx={trimExternal:Hx,trimInternal:Hx},Wx=0,jx=1,qx=2,Ux={KEEP:Wx,DELETE:qx,INSERT:jx,diff:function(t,e){var n=t.length+e.length+2,i=new Array(n),r=new Array(n),o=function(t,e,n){return{start:t,end:e,diag:n}},s=function(n,i,r,o,a){var c=l(n,i,r,o);if(null===c||c.start===i&&c.diag===i-o||c.end===n&&c.diag===n-r)for(var u=n,h=r;u<i||h<o;)u<i&&h<o&&t[u]===e[h]?(a.push([Wx,t[u]]),++u,++h):i-n>o-r?(a.push([qx,t[u]]),++u):(a.push([jx,e[h]]),++h);else{s(n,c.start,r,c.start-c.diag,a);for(var d=c.start;d<c.end;++d)a.push([Wx,t[d]]);s(c.end,i,c.end-c.diag,o,a)}},a=function(n,i,r,s){for(var a=n;a-i<s&&a<r&&t[a]===e[a-i];)++a;return o(n,a,i)},l=function(n,o,s,l){var c=o-n,u=l-s;if(0===c||0===u)return null;var h,d,f,p,g,m=c-u,v=u+c,y=(v%2==0?v:v+1)/2;for(i[1+y]=n,r[1+y]=o+1,h=0;h<=y;++h){for(d=-h;d<=h;d+=2){for(f=d+y,d===-h||d!==h&&i[f-1]<i[f+1]?i[f]=i[f+1]:i[f]=i[f-1]+1,
g=(p=i[f])-n+s-d;p<o&&g<l&&t[p]===e[g];)i[f]=++p,++g;if(m%2!=0&&m-h<=d&&d<=m+h&&r[f-m]<=i[f])return a(r[f-m],d+n-s,o,l)}for(d=m-h;d<=m+h;d+=2){for(f=d+y-m,d===m-h||d!==m+h&&r[f+1]<=r[f-1]?r[f]=r[f+1]-1:r[f]=r[f-1],g=(p=r[f]-1)-n+s-d;p>=n&&g>=s&&t[p]===e[g];)r[f]=p--,g--;if(m%2==0&&-h<=d&&d<=h&&r[f]<=i[f+m])return a(r[f],d+n-s,o,l)}}},c=[];return s(0,t.length,0,e.length,c),c}},Vx=function(t){return ia.isElement(t)?t.outerHTML:ia.isText(t)?ba.encodeRaw(t.data,!1):ia.isComment(t)?"<!--"+t.data+"-->":""},Gx=function(t){var e,n,i;for(i=document.createElement("div"),e=document.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},Yx=function(t,e,n){var i=Gx(e);if(t.hasChildNodes()&&n<t.childNodes.length){var r=t.childNodes[n];r.parentNode.insertBefore(i,r)}else t.appendChild(i)},Kx=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}},Xx=function(t,e){var n=0;Vn.each(t,function(t){t[0]===Ux.KEEP?n++:t[0]===Ux.INSERT?(Yx(e,t[1],n),n++):t[0]===Ux.DELETE&&Kx(e,n)})},Qx={read:function(t){return Vn.filter(Vn.map(t.childNodes,Vx),function(t){return t.length>0})},write:function(t,e){var n=Vn.map(e.childNodes,Vx);return Xx(Ux.diff(n,t),e),e}},Zx={fromHtml:function(t,e){var n=(e||document).createElement("div");return n.innerHTML=t,rs.children(Nr.fromDom(n))},fromTags:function(t,e){return oe.map(t,function(t){return Nr.fromTag(t,e)})},fromText:function(t,e){return oe.map(t,function(t){return Nr.fromText(t,e)})},fromDom:function(t){return oe.map(t,Nr.fromDom)}},Jx=function(t){return t.dom().innerHTML},tC={get:Jx,set:function(t,e){var n=rs.owner(t).dom(),i=Nr.fromDom(n.createDocumentFragment()),r=Zx.fromHtml(e,n);lf.append(i,r),hf.empty(t),Ru.append(t,i)},getOuter:function(t){var e=Nr.fromTag("div"),n=Nr.fromDom(t.dom().cloneNode(!0));return Ru.append(e,n),Jx(e)}},eC=Gu(kt.none()),nC=function(){return eC.get().getOrThunk(function(){var t=document.implementation.createHTMLDocument("undo");return eC.set(kt.some(t)),t})},iC=function(t){return-1!==t.indexOf("</iframe>")},rC=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},oC=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},sC=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},aC=function(t){var e=Nr.fromTag("body",nC());return tC.set(e,sC(t)),oe.each(su.descendants(e,"*[data-mce-bogus]"),hf.unwrap),tC.get(e)},lC=function(t,e){return sC(t)===sC(e)},cC=function(t,e){return aC(t)===aC(e)},uC={createFragmentedLevel:rC,createCompleteLevel:oC,createFromEditor:function(t){var e,n,i;return e=Qx.read(t.getBody()),n=(i=oe.bind(e,function(e){var n=zx.trimInternal(t.serializer,e);return n.length>0?[n]:[]})).join(""),iC(n)?rC(i):oC(n)},applyToEditor:function(t,e,n){"fragmented"===e.type?Qx.write(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},isEq:function(t,e){return!(!t||!e)&&(!!lC(t,e)||cC(t,e))}},hC=function(t){return t&&/^(IMG)$/.test(t.nodeName)},dC=function(t,e,n){var i,r,o,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!hC(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(s<(o=a.childNodes).length?i=new w(a=o[s],t.getParent(a,t.isBlock)):(i=new w(a=o[o.length-1],t.getParent(a,t.isBlock))).next(!0),r=i.current();r;r=i.next())if(3===r.nodeType&&!pC(r))return n.setStart(r,0),void e.setRng(n)},fC=function(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1===t.nodeType||!pC(t))return t},pC=function(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)},gC=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},mC={isInlineBlock:hC,moveStart:dC,getNonWhiteSpaceSibling:fC,isTextBlock:function(t,e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},isValid:function(t,e,n){return t.schema.isValidChild(e,n)},isWhiteSpaceNode:pC,replaceVars:function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t},isEq:function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},normalizeStyleValue:gC,getStyle:function(t,e,n){return gC(t,t.getStyle(e,n),n)},getTextDecoration:function(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n},getParents:function(t,e,n){return t.getParents(e,n,t.getRoot())}},vC=of.isBookmarkNode,yC=mC.getParents,bC=mC.isWhiteSpaceNode,wC=mC.isTextBlock,xC=function(t,e){for(void 0===e&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)(t=t.childNodes[e])&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}},CC=function(t,e){var n=xC(t,e);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=xC(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(t=n.node).splitText(n.offset-1)}return t},SC=function(t){return"BR"===t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},kC=function(t,e){for(var n=e;n;){if(1===n.nodeType&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},_C=function(t,e,n,i){var r,o,s=n.nodeValue;return void 0===i&&(i=t?s.length:0),t?-1===(r=(r=s.lastIndexOf(" ",i))>(o=s.lastIndexOf("\xa0",i))?r:o)||e||r++:(r=s.indexOf(" ",i),o=s.indexOf("\xa0",i),r=-1!==r&&(-1===o||r<o)?r:o),r},EC=function(t,e,n,i,r,o){var s,a,l,c;if(3===n.nodeType){if(-1!==(l=_C(r,o,n,i)))return{container:n,offset:l};c=n}for(s=new w(n,t.getParent(n,t.isBlock)||e);a=s[r?"prev":"next"]();)if(3===a.nodeType){if(c=a,-1!==(l=_C(r,o,a)))return{container:a,offset:l}}else if(t.isBlock(a))break;if(c)return{container:c,offset:i=r?0:c.length}},TC=function(t,e,n,i,r){var o,s,a,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=yC(t,i),s=0;s<o.length;s++)for(a=0;a<e.length;a++)if(!("collapsed"in(l=e[a])&&l.collapsed!==n.collapsed)&&t.is(o[s],l.selector))return o[s];return i},AC=function(t,e,n,i){var r,o=t.dom,s=o.getRoot();if(e[0].wrapper||(r=o.getParent(n,e[0].block,s)),!r){var a=o.getParent(n,"LI,TD,TH");r=o.getParent(3===n.nodeType?n.parentNode:n,function(e){return e!==s&&wC(t,e)},a)}if(r&&e[0].wrapper&&(r=yC(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!mC.isEq(r,"br")););return r||n},MC=function(t,e,n,i,r,o,s){var a,l,c,u,h;if(a=l=s?n:r,u=s?"previousSibling":"nextSibling",h=t.getRoot(),3===a.nodeType&&!bC(a)&&(s?i>0:o<a.nodeValue.length))return a;for(;;){if(!e[0].block_expand&&t.isBlock(l))return l;for(c=l[u];c;c=c[u])if(!vC(c)&&!bC(c)&&!SC(c))return l;if(l===h||l.parentNode===h){a=l;break}l=l.parentNode}return a},RC={expandRng:function(t,e,n,i){var r,o=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,c=t.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=Nl(o,s)).nodeType&&(s=0),1===a.nodeType&&a.hasChildNodes()&&3===(a=Nl(a,e.collapsed?l:l-1)).nodeType&&(l=a.nodeValue.length),o=kC(c,o),a=kC(c,a),(vC(o.parentNode)||vC(o))&&3===(o=(o=vC(o)?o:o.parentNode).nextSibling||o).nodeType&&(s=0),(vC(a.parentNode)||vC(a))&&3===(a=(a=vC(a)?a:a.parentNode).previousSibling||a).nodeType&&(l=a.length),n[0].inline&&(e.collapsed&&((r=EC(c,t.getBody(),o,s,!0,i))&&(o=r.container,s=r.offset),(r=EC(c,t.getBody(),a,l,!1,i))&&(a=r.container,l=r.offset)),a=i?a:CC(a,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==s||(o=MC(c,n,o,s,a,l,!0)),n[0].inline&&3===a.nodeType&&l!==a.nodeValue.length||(a=MC(c,n,o,s,a,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=TC(c,n,e,o,"previousSibling"),a=TC(c,n,e,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=AC(t,n,o,"previousSibling"),a=AC(t,n,a,"nextSibling"),n[0].block&&(c.isBlock(o)||(o=MC(c,n,o,s,a,l,!0)),c.isBlock(a)||(a=MC(c,n,o,s,a,l,!1)))),1===o.nodeType&&(s=c.nodeIndex(o),o=o.parentNode),1===a.nodeType&&(l=c.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:s,endContainer:a,endOffset:l}}},DC=mC.isEq,LC=function(t,e,n){var i=t.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&t.dom.is(e,i[r].selector))return!0;return!1},$C=function(t,e,n,i){var r=t.dom.getRoot();return e!==r&&(e=t.dom.getParent(e,function(e){return!!LC(t,e,n)||e.parentNode===r||!!IC(t,e,n,i,!0)}),IC(t,e,n,i))},OC=function(t,e,n){return!!DC(e,n.inline)||!!DC(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)},PC=function(t,e,n,i,r,o){var s,a,l,c=n[i];if(n.onmatch)return n.onmatch(e,n,i);if(c)if("undefined"==typeof c.length){for(s in c)if(c.hasOwnProperty(s)){if(a="attributes"===i?t.getAttrib(e,s):mC.getStyle(t,e,s),r&&!a&&!n.exact)return;if((!r||n.exact)&&!DC(a,mC.normalizeStyleValue(t,mC.replaceVars(c[s],o),s)))return}}else for(l=0;l<c.length;l++)if("attributes"===i?t.getAttrib(e,c[l]):mC.getStyle(t,e,c[l]))return n;return n},IC=function(t,e,n,i,r){var o,s,a,l,c=t.formatter.get(n),u=t.dom;if(c&&e)for(s=0;s<c.length;s++)if(o=c[s],OC(t.dom,e,o)&&PC(u,e,o,"attributes",r,i)&&PC(u,e,o,"styles",r,i)){if(l=o.classes)for(a=0;a<l.length;a++)if(!t.dom.hasClass(e,l[a]))return;return o}},NC={matchNode:IC,matchName:OC,match:function(t,e,n,i){var r;return i?$C(t,i,e,n):(i=t.selection.getNode(),!!$C(t,i,e,n)||!((r=t.selection.getStart())===i||!$C(t,r,e,n)))},matchAll:function(t,e,n){var i,r=[],o={};return i=t.selection.getStart(),t.dom.getParent(i,function(i){var s,a;for(s=0;s<e.length;s++)a=e[s],!o[a]&&IC(t,i,a,n)&&(o[a]=!0,r.push(a))},t.dom.getRoot()),r},canApply:function(t,e){var n,i,r,o,s,a=t.formatter.get(e),l=t.dom;if(a)for(n=t.selection.getStart(),i=mC.getParents(l,n),o=a.length-1;o>=0;o--){if(!(s=a[o].selector)||a[o].defaultBlock)return!0;for(r=i.length-1;r>=0;r--)if(l.is(i[r],s))return!0}return!1},matchesUnInheritedFormatSelector:LC},BC=function(t,e){return t.splitText(e)},FC={split:function(t){var e=t.startContainer,n=t.startOffset,i=t.endContainer,r=t.endOffset;return e===i&&ia.isText(e)?n>0&&n<e.nodeValue.length&&(e=(i=BC(e,n)).previousSibling,r>n?(e=i=BC(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(ia.isText(e)&&n>0&&n<e.nodeValue.length&&(e=BC(e,n),n=0),ia.isText(i)&&r>0&&r<i.nodeValue.length&&(r=(i=BC(i,r).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:i,endOffset:r}}},HC=Ga.ZWSP,zC="_mce_caret",WC=function(t,e){return t.importNode(e,!0)},jC=function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==HC||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e},qC=function(t){return jC(t).length>0},UC=function(t){var e;if(t)for(t=(e=new w(t,t)).current();t;t=e.next())if(3===t.nodeType)return t;return null},VC=function(t){var e=Nr.fromTag("span");return so.setAll(e,{id:zC,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Ru.append(e,Nr.fromText(HC)),e},GC=function(t){var e=UC(t);return e&&e.nodeValue.charAt(0)===HC&&e.deleteData(0,1),e},YC=function(t,e,n,i){var r,o,s;r=e.getRng(!0),o=t.getParent(n,t.isBlock),qC(n)?(!1!==i&&(r.setStartBefore(n),r.setEndBefore(n)),t.remove(n)):(s=GC(n),r.startContainer===s&&r.startOffset>0&&r.setStart(s,r.startOffset-1),r.endContainer===s&&r.endOffset>0&&r.setEnd(s,r.endOffset-1),t.remove(n,!0)),o&&t.isEmpty(o)&&mf.fillWithPaddingBr(Nr.fromDom(o)),e.setRng(r)},KC=function(t,e,n,i,r){if(i)YC(e,n,i,r);else if(!(i=Bd(t,n.getStart())))for(;i=e.get(zC);)YC(e,n,i,!1)},XC=function(t,e,n){var i=t.dom,r=i.getParent(n,Wl.curry(mC.isTextBlock,t));r&&i.isEmpty(r)?n.parentNode.replaceChild(e,n):(mf.removeTrailingBr(Nr.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(e,n):i.insertAfter(e,n))},QC=function(t,e){return t.appendChild(e),e},ZC=function(t,e){var n=oe.foldr(t,function(t,e){return QC(t,e.cloneNode(!1))},e);return QC(n,n.ownerDocument.createTextNode(HC))},JC=function(t,e,n){var i,r,o,s,a,l,c=t.selection;s=(i=c.getRng(!0)).startOffset,l=i.startContainer.nodeValue,(r=Bd(t.getBody(),c.getStart()))&&(o=UC(r));var u=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&s>0&&s<l.length&&u.test(l.charAt(s))&&u.test(l.charAt(s-1))?(a=c.getBookmark(),i.collapse(!0),i=RC.expandRng(t,i,t.formatter.get(e)),i=FC.split(i),t.formatter.apply(e,n,i),c.moveToBookmark(a)):(r&&o.nodeValue===HC?t.formatter.apply(e,n,r):(o=(r=WC(t.getDoc(),VC(!0).dom())).firstChild,i.insertNode(r),s=1,t.formatter.apply(e,n,r)),c.setCursorLocation(o,s))},tS=function(t,e,n,i){var r,o,s,a,l,c,u,h=t.dom,d=t.selection,f=[],p=d.getRng();for(r=p.startContainer,o=p.startOffset,l=r,3===r.nodeType&&(o!==r.nodeValue.length&&(a=!0),l=l.parentNode);l;){if(NC.matchNode(t,l,e,n,i)){c=l;break}l.nextSibling&&(a=!0),f.push(l),l=l.parentNode}if(c)if(a){s=d.getBookmark(),p.collapse(!0);var g=RC.expandRng(t,p,t.formatter.get(e),!0);g=FC.split(g),t.formatter.remove(e,n,g),d.moveToBookmark(s)}else{u=Bd(t.getBody(),c);var m=VC(!1).dom(),v=ZC(f,m);XC(t,m,u||c),YC(h,d,u,!1),d.setCursorLocation(v,1),h.isEmpty(c)&&h.remove(c)}},eS=function(t,e,n,i){KC(t,e,n,null,!1),8===i&&n.isCollapsed()&&n.getStart().innerHTML===HC&&KC(t,e,n,Bd(t,n.getStart())),37!==i&&39!==i||KC(t,e,n,Bd(t,n.getStart()))},nS=function(t){var e=t.dom,n=t.selection,i=t.getBody();t.on("mouseup keydown",function(t){eS(i,e,n,t.keyCode)})},iS=function(t,e){var n=VC(!1),i=ZC(e,n.dom());return Ru.before(Nr.fromDom(t),n),hf.remove(Nr.fromDom(t)),hc(i,0)},rS=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(Gr.name(e))&&!Nd(e.dom())&&!ia.isBogus(e.dom())},oS={},sS=Vn.filter,aS=Vn.each,lS=function(t,e){aS(oS[t],function(t){t(e)})};!function(t,e){var n=oS[t];n||(oS[t]=n=[]),oS[t].push(e)}("pre",function(t){var e,n,i=t.selection.getRng(),r=function(t){return e(t.previousSibling)&&-1!==Vn.indexOf(n,t.previousSibling)},o=function(t,e){_i(e).remove(),_i(t).append("<br><br>").append(e.childNodes)};e=ia.matchNodeNames("pre"),i.collapsed||(n=t.selection.getSelectedBlocks(),aS(sS(sS(n,e),r),function(t){o(t.previousSibling,t)}))});var cS={postProcess:lS},uS=oi.each,hS=function(t,e){var n=t.childNodes;return--e>n.length-1?e=n.length-1:e<0&&(e=0),n[e]||t},dS={walk:function(t,e,n){var i,r,o,s,a,l,c,u=e.startContainer,h=e.startOffset,d=e.endContainer,f=e.endOffset;if((c=t.select("td[data-mce-selected],th[data-mce-selected]")).length>0)uS(c,function(t){n([t])});else{var p=function(t){var e;return 3===(e=t[0]).nodeType&&e===u&&h>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===f&&t.length>0&&e===d&&3===e.nodeType&&t.splice(t.length-1,1),t},g=function(t,e,n){for(var i=[];t&&t!==n;t=t[e])i.push(t);return i},m=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},v=function(t,e,i){var r=i?"nextSibling":"previousSibling";for(a=(s=t).parentNode;s&&s!==e;s=a)a=s.parentNode,(l=g(s===t?s:s[r],r)).length&&(i||l.reverse(),n(p(l)))};if(1===u.nodeType&&u.hasChildNodes()&&(u=u.childNodes[h]),1===d.nodeType&&d.hasChildNodes()&&(d=hS(d,f)),u===d)return n(p([u]));for(i=t.findCommonAncestor(u,d),s=u;s;s=s.parentNode){if(s===d)return v(u,i,!0);if(s===i)break}for(s=d;s;s=s.parentNode){if(s===u)return v(d,i);if(s===i)break}r=m(u,i)||u,o=m(d,i)||d,v(u,r,!0),(l=g(r===u?r:r.nextSibling,"nextSibling",o===d?o.nextSibling:o)).length&&n(p(l)),v(d,o)}}},fS=/^(src|href|style)$/,pS=oi.each,gS=mC.isEq,mS=function(t){return/^(TH|TD)$/.test(t.nodeName)},vS=function(t,e,n){var i,r,o;return i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],ia.isElement(i)&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),ia.isText(i)&&n&&r>=i.nodeValue.length&&(i=new w(i,t.getBody()).next()||i),ia.isText(i)&&!n&&0===r&&(i=new w(i,t.getBody()).prev()||i),i},yS=function(t,e,n,i){var r=t.create(n,i);return e.parentNode.insertBefore(r,e),r.appendChild(e),r},bS=function(t,e,n){return!!gS(e,n.inline)||!!gS(e,n.block)||(n.selector?ia.isElement(e)&&t.is(e,n.selector):void 0)},wS=function(t,e){return e.links&&"A"===t.tagName},xS=function(t,e,n,i){return!(e=mC.getNonWhiteSpaceSibling(e,n,i))||"BR"===e.nodeName||t.isBlock(e)},CS=function(t,e,n){var i,r=e.parentNode,o=t.dom,s=t.settings.forced_root_block;n.block&&(s?r===o.getRoot()&&(n.list_block&&gS(e,n.list_block)||pS(oi.grep(e.childNodes),function(e){mC.isValid(t,s,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=yS(o,e,s),o.setAttribs(i,t.settings.forced_root_block_attrs)):i=0})):o.isBlock(e)&&!o.isBlock(r)&&(xS(o,e,!1)||xS(o,e.firstChild,!0,1)||e.insertBefore(o.create("br"),e.firstChild),xS(o,e,!0)||xS(o,e.lastChild,!1,1)||e.appendChild(o.create("br")))),n.selector&&n.inline&&!gS(n.inline,e)||o.remove(e,1)},SS=function(t,e,n,i,r){var o,s,a,l=t.dom;if(!bS(l,i,e)&&!wS(i,e))return!1;if("all"!==e.remove)for(pS(e.styles,function(t,o){t=mC.normalizeStyleValue(l,mC.replaceVars(t,n),o),"number"==typeof o&&(o=t,r=0),(e.remove_similar||!r||gS(mC.getStyle(l,r,o),t))&&l.setStyle(i,o,""),a=1}),a&&""===l.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),pS(e.attributes,function(t,e){var o;if(t=mC.replaceVars(t,n),"number"==typeof e&&(e=t,r=0),!r||gS(l.getAttrib(r,e),t)){if("class"===e&&(t=l.getAttrib(i,e))&&(o="",pS(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(o+=(o?" ":"")+t)}),o))return void l.setAttrib(i,e,o);"class"===e&&i.removeAttribute("className"),fS.test(e)&&i.removeAttribute("data-mce-"+e),i.removeAttribute(e)}}),pS(e.classes,function(t){t=mC.replaceVars(t,n),r&&!l.hasClass(r,t)||l.removeClass(i,t)}),s=l.getAttribs(i),o=0;o<s.length;o++){var c=s[o].nodeName;if(0!==c.indexOf("_")&&0!==c.indexOf("data-"))return!1}return"none"!==e.remove?(CS(t,i,e),!0):void 0},kS=function(t,e,n,i,r){var o;return pS(mC.getParents(t.dom,e.parentNode).reverse(),function(e){var s;o||"_start"===e.id||"_end"===e.id||(s=NC.matchNode(t,e,n,i,r))&&!1!==s.split&&(o=e)}),o},_S=function(t,e,n,i,r,o,s,a){var l,c,u,h,d,f,p=t.dom;if(n){for(f=n.parentNode,l=i.parentNode;l&&l!==f;l=l.parentNode){for(c=p.clone(l,!1),d=0;d<e.length;d++)if(SS(t,e[d],a,c,c)){c=0;break}c&&(u&&c.appendChild(u),h||(h=c),u=c)}!o||s.mixed&&p.isBlock(n)||(i=p.split(n,i)),u&&(r.parentNode.insertBefore(u,r),h.appendChild(r))}return i},ES={removeFormat:SS,remove:function(t,e,n,i,r){var o,s,a=t.formatter.get(e),l=a[0],c=!0,u=t.dom,h=t.selection,d=function(i){var o=kS(t,i,e,n,r);return _S(t,a,o,i,i,!0,l,n)},f=function(e){var i,r,o,s,h;if(ia.isElement(e)&&u.getContentEditable(e)&&(s=c,c="true"===u.getContentEditable(e),h=!0),i=oi.grep(e.childNodes),c&&!h)for(r=0,o=a.length;r<o&&!SS(t,a[r],n,e,e);r++);if(l.deep&&i.length){for(r=0,o=i.length;r<o;r++)f(i[r]);h&&(c=s)}},p=function(t){var e=u.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return of.isBookmarkNode(n)&&(n=n[t?"firstChild":"lastChild"]),ia.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),u.remove(e,!0),n},g=function(e){var n,i,r=e.commonAncestorContainer;if(e=RC.expandRng(t,e,a,!0),l.split){if((n=vS(t,e,!0))!==(i=vS(t,e))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&mS(i)&&i.firstChild&&(i=i.firstChild||i),u.isChildOf(n,i)&&n!==i&&!u.isBlock(i)&&!mS(n)&&!mS(i))return n=yS(u,n,"span",{id:"_start","data-mce-type":"bookmark"}),d(n),void(n=p(!0));n=yS(u,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=yS(u,i,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(i),n=p(!0),i=p()}else n=i=d(n);e.startContainer=n.parentNode?n.parentNode:n,e.startOffset=u.nodeIndex(n),e.endContainer=i.parentNode?i.parentNode:i,e.endOffset=u.nodeIndex(i)+1}dS.walk(u,e,function(e){pS(e,function(e){f(e),ia.isElement(e)&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===mC.getTextDecoration(u,e.parentNode)&&SS(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})};if(i)i.nodeType?((s=u.createRng()).setStartBefore(i),s.setEndAfter(i),g(s)):g(i);else if("false"!==u.getContentEditable(h.getNode()))h.isCollapsed()&&l.inline&&!u.select("td[data-mce-selected],th[data-mce-selected]").length?tS(t,e,n,r):(o=Pd.getPersistentBookmark(t.selection,!0),g(h.getRng()),h.moveToBookmark(o),l.inline&&NC.match(t,e,n,h.getStart())&&mC.moveStart(u,h,h.getRng()),t.nodeChanged());else{i=h.getNode();for(var m=0,v=a.length;m<v&&(!a[m].ceFalseOverride||!SS(t,a[m],n,i,i));m++);}}},TS=oi.each,AS=function(t){return t&&1===t.nodeType&&!of.isBookmarkNode(t)&&!Nd(t)&&!ia.isBogus(t)},MS=function(t,e){var n;for(n=t;n;n=n[e]){if(3===n.nodeType&&0!==n.nodeValue.length)return t;if(1===n.nodeType&&!of.isBookmarkNode(n))return n}return t},RS=function(t,e,n){var i,r,o=new af(t);if(e&&n&&(e=MS(e,"previousSibling"),n=MS(n,"nextSibling"),o.compare(e,n))){for(i=e.nextSibling;i&&i!==n;)r=i,i=i.nextSibling,e.appendChild(r);return t.remove(n),oi.each(oi.grep(n.childNodes),function(t){e.appendChild(t)}),e}return n},DS=function(t,e,n){TS(t.childNodes,function(t){AS(t)&&(e(t)&&n(t),t.hasChildNodes()&&DS(t,e,n))})},LS=function(t,e){return yt.curry(function(e,n){return!(!n||!mC.getStyle(t,n,e))},e)},$S=function(t,e,n){return yt.curry(function(e,n,i){t.setStyle(i,e,n),""===i.getAttribute("style")&&i.removeAttribute("style"),OS(t,i)},e,n)},OS=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},PS=function(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=mC.getTextDecoration(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))},IS=function(t,e,n){if(e.clear_child_styles){var i=e.links?"*:not(a)":"*";TS(t.select(i,n),function(n){AS(n)&&TS(e.styles,function(e,i){t.setStyle(n,i,"")})})}},NS={mergeWithChildren:function(t,e,n,i){TS(e,function(e){TS(t.dom.select(e.inline,i),function(i){AS(i)&&ES.removeFormat(t,e,n,i,e.exact?i:null)}),IS(t.dom,e,i)})},mergeUnderlineAndColor:function(t,e,n,i){(e.styles.color||e.styles.textDecoration)&&(oi.walk(i,yt.curry(PS,t),"childNodes"),PS(t,i))},mergeBackgroundColorAndFontSize:function(t,e,n,i){e.styles&&e.styles.backgroundColor&&DS(i,LS(t,"fontSize"),$S(t,"backgroundColor",mC.replaceVars(e.styles.backgroundColor,n)))},mergeSubSup:function(t,e,n,i){"sub"!==e.inline&&"sup"!==e.inline||(DS(i,LS(t,"fontSize"),$S(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",i),!0))},mergeSiblings:function(t,e,n,i){i&&!1!==e.merge_siblings&&(i=RS(t,mC.getNonWhiteSpaceSibling(i),i),i=RS(t,i,mC.getNonWhiteSpaceSibling(i,!0)))},mergeWithParents:function(t,e,n,i,r){NC.matchNode(t,r.parentNode,n,i)&&ES.removeFormat(t,e,i,r)||e.merge_with_parents&&t.dom.getParent(r.parentNode,function(o){if(NC.matchNode(t,o,n,i))return ES.removeFormat(t,e,i,r),!0})}},BS=oi.each,FS=function(t){return t&&1===t.nodeType&&!of.isBookmarkNode(t)&&!Nd(t)&&!ia.isBogus(t)},HS=function(t,e,n,i){var r,o,s=t.formatter.get(e),a=s[0],l=!i&&t.selection.isCollapsed(),c=t.dom,u=t.selection,h=function(t,e){if(e=e||a,t){if(e.onformat&&e.onformat(t,e,n,i),BS(e.styles,function(e,i){c.setStyle(t,i,mC.replaceVars(e,n))}),e.styles){var r=c.getAttrib(t,"style");r&&t.setAttribute("data-mce-style",r)}BS(e.attributes,function(e,i){c.setAttrib(t,i,mC.replaceVars(e,n))}),BS(e.classes,function(e){e=mC.replaceVars(e,n),c.hasClass(t,e)||c.addClass(t,e)})}},d=function(t,e){var n=!1;return!!a.selector&&(BS(t,function(t){if(!("collapsed"in t&&t.collapsed!==l))return c.is(e,t.selector)&&!Nd(e)?(h(e,t),n=!0,!1):void 0}),n)},f=function(i,r,o,l){var c,u,f=[],p=!0;c=a.inline||a.block,u=i.create(c),h(u),dS.walk(i,r,function(r){var o,g=function(r){var m,v,y,b;if(b=p,m=r.nodeName.toLowerCase(),v=r.parentNode.nodeName.toLowerCase(),1===r.nodeType&&i.getContentEditable(r)&&(b=p,p="true"===i.getContentEditable(r),y=!0),mC.isEq(m,"br"))return o=0,void(a.block&&i.remove(r));if(a.wrapper&&NC.matchNode(t,r,e,n))o=0;else{if(p&&!y&&a.block&&!a.wrapper&&mC.isTextBlock(t,m)&&mC.isValid(t,v,c))return r=i.rename(r,c),h(r),f.push(r),void(o=0);if(a.selector){var w=d(s,r);if(!a.inline||w)return void(o=0)}!p||y||!mC.isValid(t,c,m)||!mC.isValid(t,v,c)||!l&&3===r.nodeType&&1===r.nodeValue.length&&65279===r.nodeValue.charCodeAt(0)||Nd(r)||a.inline&&i.isBlock(r)?(o=0,BS(oi.grep(r.childNodes),g),y&&(p=b),o=0):(o||(o=i.clone(u,!1),r.parentNode.insertBefore(o,r),f.push(o)),o.appendChild(r))}};BS(r,g)}),!0===a.links&&BS(f,function(t){var e=function(t){"A"===t.nodeName&&h(t,a),BS(oi.grep(t.childNodes),e)};e(t)}),BS(f,function(r){var o,l=function(t){var e=!1;return BS(t.childNodes,function(t){if(FS(t))return e=t,!1}),e},c=function(t){var e,n;return(e=l(t))&&!of.isBookmarkNode(e)&&NC.matchName(i,e,a)&&(n=i.clone(e,!1),h(n),i.replace(n,t,!0),i.remove(e,1)),n||t};o=function(t){var e=0;return BS(t.childNodes,function(t){mC.isWhiteSpaceNode(t)||of.isBookmarkNode(t)||e++}),e}(r),!(f.length>1)&&i.isBlock(r)||0!==o?(a.inline||a.wrapper)&&(a.exact||1!==o||(r=c(r)),NS.mergeWithChildren(t,s,n,r),NS.mergeWithParents(t,a,e,n,r),NS.mergeBackgroundColorAndFontSize(i,a,n,r),NS.mergeSubSup(i,a,n,r),NS.mergeSiblings(i,a,n,r)):i.remove(r,1)})};if("false"!==c.getContentEditable(u.getNode())){if(a){if(i)i.nodeType?d(s,i)||((o=c.createRng()).setStartBefore(i),o.setEndAfter(i),f(c,RC.expandRng(t,o,s),null,!0)):f(c,i,null,!0);else if(l&&a.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length)JC(t,e,n);else{var p=t.selection.getNode();t.settings.forced_root_block||!s[0].defaultBlock||c.getParent(p,c.isBlock)||HS(t,s[0].defaultBlock),t.selection.setRng(wf.normalize(t.selection.getRng())),r=Pd.getPersistentBookmark(t.selection,!0),f(c,RC.expandRng(t,u.getRng(),s),r),a.styles&&NS.mergeUnderlineAndColor(c,a,n,p),u.moveToBookmark(r),mC.moveStart(c,u,u.getRng()),t.nodeChanged()}cS.postProcess(e,t)}}else{i=u.getNode();for(var g=0,m=s.length;g<m;g++)if(s[g].ceFalseOverride&&c.is(i,s[g].selector))return void h(i,s[g])}},zS={applyFormat:HS},WS=oi.each,jS=function(t,e){var n={};t.set({}),e.on("NodeChange",function(i){var r=mC.getParents(e.dom,i.element),o={};r=oi.grep(r,function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}),WS(t.get(),function(t,i){WS(r,function(s){return e.formatter.matchNode(s,i,{},t.similar)?(n[i]||(WS(t,function(t){t(!0,{node:s,format:i,parents:r})}),n[i]=t),o[i]=t,!1):!NC.matchesUnInheritedFormatSelector(e,s,i)&&void 0})}),WS(n,function(t,e){o[e]||(delete n[e],WS(t,function(t){t(!1,{node:i.element,format:e,parents:r})}))})})},qS=function(t,e,n,i){var r=t.get();WS(e.split(","),function(t){r[t]||(r[t]=[],r[t].similar=i),r[t].push(n)}),t.set(r)},US={formatChanged:function(t,e,n,i,r){null===e.get()&&jS(e,t),qS(e,n,i,r)}},VS={get:function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,i){oi.each(i,function(n,i){t.setAttrib(e,i,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return oi.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){e[t]={block:t,remove:"all"}}),e}},GS=oi.each,YS=Fa.DOM,KS=function(t,e){var n,i,r,o=e&&e.schema||x({}),s=function(t,e){e.classes.length&&YS.addClass(t,e.classes.join(" ")),YS.setAttribs(t,e.attrs)},a=function(t){var e;return i="string"==typeof t?{name:t,classes:[],attrs:{}}:t,e=YS.create(i.name),s(e,i),e},l=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,i=o.getElementRule(n),r=i&&i.parentsRequired;return!(!r||!r.length)&&(e&&-1!==oi.inArray(r,e)?e:r[0])},c=function(t,e,n){var i,r,o,s=e.length>0&&e[0],u=s&&s.name;if(o=l(t,u))u===o?(r=e[0],e=e.slice(1)):r=o;else if(s)r=e[0],e=e.slice(1);else if(!n)return t;return r&&(i=a(r)).appendChild(t),n&&(i||(i=YS.create("div")).appendChild(t),oi.each(n,function(e){var n=a(e);i.insertBefore(n,t)})),c(i,e,r&&r.siblings)};return t&&t.length?(i=t[0],n=a(i),(r=YS.create("div")).appendChild(c(n,t.slice(1),i.siblings)),r):""},XS=function(t,e){return KS(ZS(t),e)},QS=function(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=oi.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(t,e,i,r,o){switch(e){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==oi.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var s=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""})),n.name=e||"div",n},ZS=function(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),oi.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(t){var e=oi.map(t.split(/(?:~\+|~|\+)/),QS),n=e.pop();return e.length&&(n.siblings=e),n}).reverse()):[]},JS={getCssText:function(t,e){var n,i,r,o,s,a,l="";if(!1===(a=t.settings.preview_styles))return"";"string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(a=e.preview)?"":(n=e.block||e.inline||"span",(o=ZS(e.selector)).length?(o[0].name||(o[0].name=n),n=e.selector,i=KS(o,t)):i=KS([n],t),r=YS.select(n,i)[0]||i.firstChild,GS(e.styles,function(t,e){(t=c(t))&&YS.setStyle(r,e,t)}),GS(e.attributes,function(t,e){(t=c(t))&&YS.setAttrib(r,e,t)}),GS(e.classes,function(t){t=c(t),YS.hasClass(r,t)||YS.addClass(r,t)}),t.fire("PreviewFormats"),YS.setStyles(i,{position:"absolute",left:-65535}),t.getBody().appendChild(i),s=YS.getStyle(t.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,GS(a.split(" "),function(e){var n=YS.getStyle(r,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=YS.getStyle(t.getBody(),e,!0),"#ffffff"===YS.toHex(n).toLowerCase())||"color"===e&&"#000000"===YS.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===s)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*s+"px"}"border"===e&&n&&(l+="padding:0 2px;"),l+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),YS.remove(i),l)},
parseSelector:ZS,selectorToHtml:XS},tk={toggle:function(t,e,n,i,r){var o=e.get(n);!NC.match(t,n,i,r)||"toggle"in o[0]&&!o[0].toggle?zS.applyFormat(t,n,i,r):ES.remove(t,n,i,r)}},ek={setup:function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}},nk=function(t,e){return e},ik=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var i={},r=0;r<e.length;r++){var o=e[r];for(var s in o)o.hasOwnProperty(s)&&(i[s]=t(i[s],o[s]))}return i}},rk=ik(function(t,e){return Tt.isObject(t)&&Tt.isObject(e)?rk(t,e):e}),ok=ik(nk),sk={deepMerge:rk,merge:ok},ak={register:function(t,e,n){t.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)(n=t[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(e,null)}),t.addAttributeFilter("src,href,style",function(t,i){for(var r,o,s=t.length,a="data-mce-"+i,l=e.url_converter,c=e.url_converter_scope;s--;)(o=(r=t[s]).attributes.map[a])!==undefined?(r.attr(i,o.length>0?o:null),r.attr(a,null)):(o=r.attributes.map[i],"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):l&&(o=l.call(c,o,i,r.name)),r.attr(i,o.length>0?o:null))}),t.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)(n=(e=t[i]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))}),t.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)"bookmark"!==(i=t[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()}),t.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=ba.decode(e.value))}),t.addNodeFilter("script,style",function(t,n){for(var i,r,o,s=t.length,a=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};s--;)r=(i=t[s]).firstChild?i.firstChild.value:"","script"===n?((o=i.attr("type"))&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===e.element_format&&r.length>0&&(i.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):"xhtml"===e.element_format&&r.length>0&&(i.firstChild.value="<!--\n"+a(r)+"\n-->")}),t.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)0===(e=t[n]).value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),t.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)7===(n=t[i]).type?n.remove():1===n.type&&("input"!==e||"type"in n.attributes.map||n.attr("type","text"))}),t.addAttributeFilter("data-mce-type",function(e){oe.each(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})},trimTrailingBr:function(t){var e,n,i=function(t){return t&&"br"===t.name};i(e=t.lastChild)&&i(n=e.prev)&&(e.remove(),n.remove())}},lk=function(t,e,n){var i,r,o,s=t.dom;return e=e.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(r=i.createHTMLDocument(""),oi.each("BODY"===e.nodeName?e.childNodes:[e],function(t){r.body.appendChild(r.importNode(t,!0))}),e="BODY"!==e.nodeName?r.body.firstChild:r.body,o=s.doc,s.doc=r),rb.firePreProcess(t,sk.merge(n,{node:e})),o&&(s.doc=o),e},ck=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},uk={process:function(t,e,n){return ck(t,n)?lk(t,e,n):e}},hk=function(t,e){oe.each(e,function(e){t.attr(e,null)})},dk=function(t,e,n){t.addNodeFilter("font",function(t){oe.each(t,function(t){var i=e.parse(t.attr("style")),r=t.attr("color"),o=t.attr("face"),s=t.attr("size");r&&(i.color=r),o&&(i["font-family"]=o),s&&(i["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(i)),hk(t,["color","face","size"])})})},fk=function(t,e){t.addNodeFilter("strike",function(t){oe.each(t,function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))})})},pk=function(t,e){var n=C();e.convert_fonts_to_spans&&dk(t,n,oi.explode(e.font_size_legacy_values)),fk(t,n)},gk={register:function(t,e){e.inline_styles&&pk(t,e)}},mk=/^[ \t\r\n]*$/,vk={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},yk=function(t,e,n){var i,r,o=n?"lastChild":"firstChild",s=n?"prev":"next";if(t[o])return t[o];if(t!==e){if(i=t[s])return i;for(r=t.parent;r&&r!==e;r=r.parent)if(i=r[s])return i}},bk=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var i,r;if(i=new t(e,vk[e]||1),n)for(r in n)i.attr(r,n[r]);return i},t.prototype.replace=function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},t.prototype.attr=function(t,e){var n,i,r=this;if("string"!=typeof t){for(i in t)r.attr(i,t[i]);return r}if(n=r.attributes){if(e!==undefined){if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),r;return r}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,r}return n.map[t]}},t.prototype.clone=function(){var e,n,i,r,o,s=this,a=new t(s.name,s.type);if(i=s.attributes){for((o=[]).map={},e=0,n=i.length;e<n;e++)"id"!==(r=i[e]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);a.attributes=o}return a.value=s.value,a.shortEnded=s.shortEnded,a},t.prototype.wrap=function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},t.prototype.unwrap=function(){var t,e,n=this;for(t=n.firstChild;t;)e=t.next,n.insert(t,n,!0),t=e;n.remove()},t.prototype.remove=function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):i.next=n,e.lastChild===t?(e.lastChild=i,i&&(i.next=null)):n.prev=i,t.parent=t.next=t.prev=null),t},t.prototype.append=function(t){var e,n=this;return t.parent&&t.remove(),(e=n.lastChild)?(e.next=t,t.prev=e,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},t.prototype.insert=function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},t.prototype.getAll=function(t){var e,n=this,i=[];for(e=n.firstChild;e;e=yk(e,n))e.name===t&&i.push(e);return i},t.prototype.empty=function(){var t,e,n,i=this;if(i.firstChild){for(t=[],n=i.firstChild;n;n=yk(n,i))t.push(n);for(e=t.length;e--;)(n=t[e]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return i.firstChild=i.lastChild=null,i},t.prototype.isEmpty=function(t,e,n){var i,r,o=this,s=o.firstChild;if(e=e||{},s)do{if(1===s.type){if(s.attributes.map["data-mce-bogus"])continue;if(t[s.name])return!1;for(i=s.attributes.length;i--;)if("name"===(r=s.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===s.type)return!1;if(3===s.type&&!mk.test(s.value))return!1;if(3===s.type&&s.parent&&e[s.parent.name]&&mk.test(s.value))return!1;if(n&&n(s))return!1}while(s=yk(s,o));return!0},t.prototype.walk=function(t){return yk(this,null,t)},t}(),wk=function(t,e,n,i){(t.padd_empty_with_br||e.insert)&&n[i.name]?i.empty().append(new bk("br",1)).shortEnded=!0:i.empty().append(new bk("#text",3)).value="\xa0"},xk=function(t){return Ck(t,"#text")&&"\xa0"===t.firstChild.value},Ck=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},Sk=function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty},kk=function(t,e,n,i){return i.isEmpty(e,n,function(e){return Sk(t,e)})},_k=function(t,e){return t&&(e[t.name]||"br"===t.name)},Ek=function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",function(t,i,r){var o,s,a,l,c,u,h,d,f=t.length,p=oi.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),m=n.getNonEmptyElements();for(p.body=1,o=0;o<f;o++)if(a=(s=t[o]).parent,p[s.parent.name]&&s===a.lastChild){for(c=s.prev;c;){if("span"!==(u=c.name)||"bookmark"!==c.attr("data-mce-type")){if("br"!==u)break;if("br"===u){s=null;break}}c=c.prev}s&&(s.remove(),kk(n,g,m,a)&&(h=n.getElementRule(a.name))&&(h.removeEmpty?a.remove():h.paddEmpty&&wk(e,r,p,a)))}else{for(l=s;a&&a.firstChild===l&&a.lastChild===l&&(l=a,!p[a.name]);)a=a.parent;l===a&&!0!==e.padd_empty_with_br&&((d=new bk("#text",3)).value="\xa0",s.replace(d))}}),t.addAttributeFilter("href",function(t){var n,i=t.length,r=function(t){return t.split(" ").filter(function(t){return t.length>0}).concat(["noopener"]).sort().join(" ")},o=function(t){var e=t?oi.trim(t):"";return/\b(noopener)\b/g.test(e)?e:r(e)};if(!e.allow_unsafe_link_target)for(;i--;)"a"===(n=t[i]).name&&"_blank"===n.attr("target")&&n.attr("rel",o(n.attr("rel")))}),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if("a"===(r=t[o]).name&&r.firstChild&&!r.attr("href")){i=r.parent,e=r.lastChild;do{n=e.prev,i.insert(e,r),e=n}while(e)}}),e.fix_list_elements&&t.addNodeFilter("ul,ol",function(t){for(var e,n,i=t.length;i--;)if("ul"===(n=(e=t[i]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var r=new bk("li",1);r.attr("style","list-style-type: none"),e.wrap(r)}}),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",function(t){for(var e,i,r,o,s,a,l,c=t.length,u=n.getValidClasses();c--;){for(i=(e=t[c]).attr("class").split(" "),s="",r=0;r<i.length;r++)o=i[r],l=!1,(a=u["*"])&&a[o]&&(l=!0),a=u[e.name],!l&&a&&a[o]&&(l=!0),l&&(s&&(s+=" "),s+=o);s.length||(s=null),e.attr("class",s)}})},Tk=oi.makeMap,Ak=oi.each,Mk=oi.explode,Rk=oi.extend,Dk=function(t,e,n){-1===oi.inArray(e,n)&&(t.addAttributeFilter(n,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),e.push(n))},Lk=function(t,e,n){return!e.no_events&&t?rb.firePostProcess(t,sk.merge(e,{content:n})).content:n},$k=function(t,e,n){var i=Ga.trim(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||Fs(Nr.fromDom(e))?i:oi.trim(i)},Ok=function(t,e,n){var i=n.selection?sk.merge({forced_root_block:!1},n):n,r=t.parse(e,i);return ak.trimTrailingBr(r),r},Pk=function(t,e,n){return A(t,e).serialize(n)},Ik=function(t,e,n,i,r){var o=Pk(e,n,i);return Lk(t,r,o)};!function(t){t.isBookmarkNode=of.isBookmarkNode}(tt||(tt={}));var Nk=tt,Bk=ia.isContentEditableFalse,Fk=ia.isContentEditableTrue,Hk=function(t,e){for(;e&&e!==t;){if(Fk(e)||Bk(e))return e;e=e.parentNode}return null},zk=function(t,e){var n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b=e.dom,w=oi.each,x=e.getDoc(),C=document,S=Math.abs,k=Math.round,_=e.getBody();o={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var E=".mce-content-body";e.contentStyles.push(E+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+E+" .mce-resizehandle:hover {background: #000}"+E+" img[data-mce-selected],"+E+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+E+" .mce-clonedresizable {position: absolute;"+(Be.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+E+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var T=function(t){return t&&("IMG"===t.nodeName||e.dom.is(t,"figure.image"))},A=function(t,e){return T(t.target)&&!kx.isXYWithinRange(t.clientX,t.clientY,e)},M=function(t){var n=t.target;A(t,e.selection.getRng())&&!t.isDefaultPrevented()&&(t.preventDefault(),e.selection.select(n))},R=function(t){return e.dom.is(t,"figure.image")?t.querySelector("img"):t},D=function(t){var n=e.settings.object_resizing;return!1!==n&&!Be.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&t!==e.getBody()&&Do.is(Nr.fromDom(t),n))},L=function(t){var o,w,x,C;o=t.screenX-a,w=t.screenY-l,g=o*s[2]+h,m=w*s[3]+d,g=g<5?5:g,m=m<5?5:m,(T(n)&&!1!==e.settings.resize_img_proportional?!Tx.modifierPressed(t):Tx.modifierPressed(t)||T(n)&&s[2]*s[3]!=0)&&(S(o)>S(w)?(m=k(g*f),g=k(m/f)):(g=k(m/f),m=k(g*f))),b.setStyles(R(i),{width:g,height:m}),x=(x=s.startPos.x+o)>0?x:0,C=(C=s.startPos.y+w)>0?C:0,b.setStyles(r,{left:x,top:C,display:"block"}),r.innerHTML=g+" &times; "+m,s[2]<0&&i.clientWidth<=g&&b.setStyle(i,"left",c+(h-g)),s[3]<0&&i.clientHeight<=m&&b.setStyle(i,"top",u+(d-m)),(o=_.scrollWidth-v)+(w=_.scrollHeight-y)!=0&&b.setStyles(r,{left:x-o,top:C-w}),p||(rb.fireObjectResizeStart(e,n,h,d),p=!0)},$=function(){p=!1;var t=function(t,i){i&&(n.style[t]||!e.schema.isValid(n.nodeName.toLowerCase(),t)?b.setStyle(R(n),t,i):b.setAttrib(R(n),t,i))};t("width",g),t("height",m),b.unbind(x,"mousemove",L),b.unbind(x,"mouseup",$),C!==x&&(b.unbind(C,"mousemove",L),b.unbind(C,"mouseup",$)),b.remove(i),b.remove(r),O(n),rb.fireObjectResized(e,n,g,m),b.setAttrib(n,"style",b.getAttrib(n,"style")),e.nodeChanged()},O=function(t){var p,S,k,E,T;P(),B(),p=b.getPos(t,_),c=p.x,u=p.y,T=t.getBoundingClientRect(),S=T.width||T.right-T.left,k=T.height||T.bottom-T.top,n!==t&&(n=t,g=m=0),E=e.fire("ObjectSelected",{target:t}),D(t)&&!E.isDefaultPrevented()?w(o,function(t,e){var o,p=function(e){a=e.screenX,l=e.screenY,h=R(n).clientWidth,d=R(n).clientHeight,f=d/h,s=t,t.startPos={x:S*t[0]+c,y:k*t[1]+u},v=_.scrollWidth,y=_.scrollHeight,i=n.cloneNode(!0),b.addClass(i,"mce-clonedresizable"),b.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,b.setStyles(i,{left:c,top:u,margin:0}),i.removeAttribute("data-mce-selected"),_.appendChild(i),b.bind(x,"mousemove",L),b.bind(x,"mouseup",$),C!==x&&(b.bind(C,"mousemove",L),b.bind(C,"mouseup",$)),r=b.add(_,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},h+" &times; "+d)};(o=b.get("mceResizeHandle"+e))&&b.remove(o),o=b.add(_,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===Be.ie&&(o.contentEditable=!1),b.bind(o,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),p(t)}),t.elm=o,b.setStyles(o,{left:S*t[0]+c-o.offsetWidth/2,top:k*t[1]+u-o.offsetHeight/2})}):P(),n.setAttribute("data-mce-selected","1")},P=function(){var t,e;for(t in B(),n&&n.removeAttribute("data-mce-selected"),o)(e=b.get("mceResizeHandle"+t))&&(b.unbind(e),b.remove(e))},I=function(n){var i,r=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};p||e.removed||(w(b.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),i="mousedown"===n.type?n.target:t.getNode(),r(i=b.$(i).closest("table,img,figure.image,hr")[0],_)&&(F(),r(t.getStart(!0),i)&&r(t.getEnd(!0),i))?O(i):P())},N=function(t){return Bk(Hk(e.getBody(),t))},B=function(){for(var t in o){var e=o[t];e.elm&&(b.unbind(e.elm),delete e.elm)}},F=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};return e.on("init",function(){F(),Be.ie&&Be.ie>=11&&(e.on("mousedown click",function(t){var n=t.target,i=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(i)||N(n)||(2!==t.button&&e.selection.select(n,"TABLE"===i),"mousedown"===t.type&&e.nodeChanged())}),e.dom.bind(_,"mscontrolselect",function(t){var n=function(t){Ue.setEditorTimeout(e,function(){e.selection.select(t)})};if(N(t.target))return t.preventDefault(),void n(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&n(t.target))}));var t=Ue.throttle(function(t){e.composing||I(t)});e.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),e.on("keyup compositionend",function(e){n&&"TABLE"===n.nodeName&&t(e)}),e.on("hide blur",P),e.on("contextmenu",M)}),e.on("remove",B),{isResizable:D,showResizeRect:O,hideResizeRect:P,updateResizeRect:I,destroy:function(){n=i=null}}},Wk=function(t){return ia.isContentEditableTrue(t)||ia.isContentEditableFalse(t)},jk=function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null},qk=function(t,e,n){var i,r,o;if(i=n.elementFromPoint(t,e),r=n.body.createTextRange(),i&&"HTML"!==i.tagName||(i=n.body),r.moveToElementText(i),(o=(o=oi.toArray(r.getClientRects())).sort(function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-(n=Math.abs(Math.max(n.top-e,n.bottom-e)))})).length>0){e=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(t,e),r.collapse(!0),r}catch(s){}}return null},Uk=function(t,e){var n=t&&t.parentElement?t.parentElement():null;return ia.isContentEditableFalse(jk(n,e,Wk))?null:t},Vk={fromPoint:function(t,e,n){var i,r,o=n;if(o.caretPositionFromPoint)(r=o.caretPositionFromPoint(t,e))&&((i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(o.body.createTextRange){i=o.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(s){i=qk(t,e,n)}return Uk(i,n.body)}return i}},Gk={processRanges:function(t,e){return oe.map(e,function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e})}},Yk=function(t,e){return Nr.fromDom(t.dom().cloneNode(e))},Kk=function(t){return Yk(t,!0)},Xk=function(t,e){var n=Nr.fromTag(e),i=so.clone(t);return so.setAll(n,i),n},Qk={shallow:function(t){return Yk(t,!1)},shallowAs:Xk,deep:Kk,copy:function(t,e){var n=Xk(t,e),i=rs.children(Kk(t));return lf.append(n,i),n},mutate:function(t,e){var n=Xk(t,e);Ru.before(t,n);var i=rs.children(t);return lf.append(n,i),hf.remove(t),n}},Zk={fromElements:function(t,e){var n=(e||document).createDocumentFragment();return oe.each(t,function(t){n.appendChild(t.dom())}),Nr.fromDom(n)}},Jk=So.immutable("element","width","rows"),t_=So.immutable("element","cells"),e_=So.immutable("x","y"),n_=function(t,e){var n=parseInt(so.get(t,e),10);return isNaN(n)?1:n},i_=function(t,e,n,i,r){for(var o=n_(r,"rowspan"),s=n_(r,"colspan"),a=t.rows(),l=n;l<n+o;l++){a[l]||(a[l]=t_(Qk.deep(i),[]));for(var c=e;c<e+s;c++)a[l].cells()[c]=l===n&&c===e?r:Qk.shallow(r)}},r_=function(t,e,n){var i=t.rows();return!!(i[n]?i[n].cells():[])[e]},o_=function(t,e,n){for(;r_(t,e,n);)e++;return e},s_=function(t){return oe.foldl(t,function(t,e){return e.cells().length>t?e.cells().length:t},0)},a_=function(t,e){for(var n=t.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(Bo.eq(r[o],e))return kt.some(e_(o,i));return kt.none()},l_=function(t,e,n,i,r){for(var o=[],s=t.rows(),a=n;a<=r;a++){var l=s[a].cells(),c=e<i?l.slice(e,i+1):l.slice(i,e+1);o.push(t_(s[a].element(),c))}return o},c_=function(t,e,n){var i=e.x(),r=e.y(),o=n.x(),s=n.y(),a=r<s?l_(t,i,r,o,s):l_(t,i,s,o,r);return Jk(t.element(),s_(a),a)},u_=function(t,e){var n=Qk.shallow(t.element()),i=Nr.fromTag("tbody");return lf.append(i,e),Ru.append(n,i),n},h_=function(t){return oe.map(t.rows(),function(t){var e=oe.map(t.cells(),function(t){var e=Qk.deep(t);return so.remove(e,"colspan"),so.remove(e,"rowspan"),e}),n=Qk.shallow(t.element());return lf.append(n,e),n})},d_={fromDom:function(t){var e=Jk(Qk.shallow(t),0,[]);return oe.each(su.descendants(t,"tr"),function(t,n){oe.each(su.descendants(t,"td,th"),function(i,r){i_(e,o_(e,r,n),n,t,i)})}),Jk(e.element(),s_(e.rows()),e.rows())},toDom:function(t){return u_(t,h_(t))},subsection:function(t,e,n){return a_(t,e).bind(function(e){return a_(t,n).map(function(n){return c_(t,e,n)})})}},f_=function(t){return oe.find(t,function(t){return"ul"===Gr.name(t)||"ol"===Gr.name(t)})},p_=function(t,e){return oe.find(t,function(t){return"li"===Gr.name(t)&&_w(t,e)}).fold(yt.constant([]),function(){return f_(t).map(function(t){return[Nr.fromTag("li"),Nr.fromTag(Gr.name(t))]}).getOr([])})},g_=function(t,e){var n=oe.foldl(e,function(t,e){return Ru.append(e,t),e},t);return e.length>0?Zk.fromElements([n]):n},m_=function(t){return Ps(t)?rs.parent(t).filter(Os).fold(yt.constant([]),function(e){return[t,e]}):Os(t)?[t]:[]},v_=function(t,e){var n=Nr.fromDom(e.commonAncestorContainer),i=$p.parentsAndSelf(n,t),r=oe.filter(i,function(t){return Ds(t)||Ms(t)}),o=p_(i,e),s=r.concat(o.length?o:m_(n));return oe.map(s,Qk.shallow)},y_=function(){return Zk.fromElements([])},b_=function(t,e){return g_(Nr.fromDom(e.cloneContents()),v_(t,e))},w_=function(t,e){return up.ancestor(e,"table",yt.curry(Bo.eq,t))},x_=function(t,e){return w_(t,e[0]).bind(function(t){var n=e[0],i=e[e.length-1],r=d_.fromDom(t);return d_.subsection(r,n,i).map(function(t){return Zk.fromElements([d_.toDom(t)])})}).getOrThunk(y_)},C_=function(t,e){return e.length>0&&e[0].collapsed?y_():b_(t,e[0])},S_={read:function(t,e){var n=ov.getCellsFromElementOrRanges(e,t);return n.length>0?x_(t,n):C_(t,e)}},k_={getContent:function(t,e){var n,i=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),s=Gk.processRanges(t,ev.getRanges(o));if((e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return t.selection.isCollapsed()?"":Ga.trim(i.text||(o.toString?o.toString():""));i.cloneContents?(n=e.contextual?S_.read(Nr.fromDom(t.getBody()),s).dom():i.cloneContents())&&r.appendChild(n):i.item!==undefined||i.htmlText!==undefined?(r.innerHTML="<br>"+(i.item?i.item(0).outerHTML:i.htmlText),r.removeChild(r.firstChild)):r.innerHTML=i.toString(),e.getInner=!0;var a=t.selection.serializer.serialize(r,e);return"tree"===e.format?a:(e.content=t.selection.isCollapsed()?"":a,t.fire("GetContent",e),e.content)}},__={setContent:function(t,e,n){var i,r,o,s=t.selection.getRng(),a=t.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=e,n.no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){if(e=n.content,s.insertNode){e+='<span id="__caret">_</span>',s.startContainer===a&&s.endContainer===a?a.body.innerHTML=e:(s.deleteContents(),0===a.body.childNodes.length?a.body.innerHTML=e:s.createContextualFragment?s.insertNode(s.createContextualFragment(e)):(r=a.createDocumentFragment(),o=a.createElement("div"),r.appendChild(o),o.outerHTML=e,s.insertNode(r))),i=t.dom.get("__caret"),(s=a.createRange()).setStartBefore(i),s.setEndBefore(i),t.selection.setRng(s),t.dom.remove("__caret");try{t.selection.setRng(s)}catch(l){}}else s.item&&(a.execCommand("Delete",!1,null),s=t.getRng()),/^\s+/.test(e)?(s.pasteHTML('<span id="__mce_tmp">_</span>'+e),t.dom.remove("__mce_tmp")):s.pasteHTML(e);n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)}},E_=function(t,e,n,i,r){var o=n?e.startContainer:e.endContainer,s=n?e.startOffset:e.endOffset;return kt.from(o).map(Nr.fromDom).map(function(t){return i&&e.collapsed?t:rs.child(t,r(t,s)).getOr(t)}).bind(function(t){return Gr.isElement(t)?kt.some(t):rs.parent(t)}).map(function(t){return t.dom()}).getOr(t)},T_=function(t,e,n){return E_(t,e,!0,n,function(t,e){return Math.min(rs.childNodesCount(t),e)})},A_=function(t,e,n){return E_(t,e,!1,n,function(t,e){return e>0?e-1:e})},M_=function(t,e){for(var n=t;t&&ia.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},R_=function(t,e){var n,i,r,o,s;return e?(i=e.startContainer,r=e.endContainer,o=e.startOffset,s=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(i===r&&s-o<2&&i.hasChildNodes()&&(n=i.childNodes[o]),3===i.nodeType&&3===r.nodeType&&(i=i.length===o?M_(i.nextSibling,!0):i.parentNode,r=0===s?M_(r.previousSibling,!1):r.parentNode,i&&i===r))?i:n&&3===n.nodeType?n.parentNode:n):t},D_=function(t,e,n,i){var r,o,s=[];if(o=t.getRoot(),n=t.getParent(n||T_(o,e,!1),t.isBlock),i=t.getParent(i||A_(o,e,!1),t.isBlock),n&&n!==o&&s.push(n),n&&i&&n!==i){r=n;for(var a=new w(n,o);(r=a.next())&&r!==i;)t.isBlock(r)&&s.push(r)}return i&&n!==i&&i!==o&&s.push(i),s},L_=function(t,e,n){return kt.from(e).map(function(e){var i=t.nodeIndex(e),r=t.createRng();return r.setStart(e.parentNode,i),r.setEnd(e.parentNode,i+1),n&&(Ew(t,r,e,!0),Ew(t,r,e,!1)),r})},$_=oi.each,O_=function(t){return!!t.select},P_=function(t){return!(!t||!t.ownerDocument)&&Bo.contains(Nr.fromDom(t.ownerDocument),Nr.fromDom(t))},I_=function(t){return!!t&&(!!O_(t)||P_(t.startContainer)&&P_(t.endContainer))},N_=function(t,e,n,i){var r,o,s,a,l,c=function(e,n){var r=t.createRng();e?(r.setStart(e,n),r.setEnd(e,n),y(r),g(!1)):(Ew(t,r,i.getBody(),!0),y(r))},u=function(t,e){return __.setContent(i,t,e)},h=function(t){return T_(i.getBody(),v(),t)},d=function(t){return A_(i.getBody(),v(),t)},f=function(e,n){return L_(t,e,n).each(y),e},p=function(){var t=v(),e=m();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},g=function(t){var e=v();e.collapse(!!t),y(e)},m=function(){return e.getSelection?e.getSelection():e.document.selection},v=function(){var n,r,o,l,c=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(i){return-1}};if(!e)return null;if(null==(l=e.document))return null;if(i.bookmark!==undefined&&!1===Nb.hasFocus(i)){var u=Py.getRng(i);if(u.isSome())return u.map(function(t){return Gk.processRanges(i,[t])[0]}).getOr(l.createRange())}try{(n=m())&&(r=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():l.createRange())}catch(h){}return(r=Gk.processRanges(i,[r])[0])||(r=l.createRange?l.createRange():l.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(o=t.getRoot(),r.setStart(o,0),r.setEnd(o,0)),s&&a&&(0===c(r.START_TO_START,r,s)&&0===c(r.END_TO_END,r,s)?r=a:(s=null,a=null)),r},y=function(t,e){var n,r;if(I_(t)){var o=O_(t)?t:null;if(o){a=null;try{o.select()}catch(l){}}else{if(n=m(),t=i.fire("SetSelectionRange",{range:t,forward:e}).range,n){a=t;try{n.removeAllRanges(),n.addRange(t)}catch(l){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),s=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||Be.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(r=t.startContainer.childNodes[t.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(r,0,r,1)),i.fire("AfterSetSelectionRange",{range:t,forward:e})}}},b=function(){var e,n,i=m();return!(i&&i.anchorNode&&i.focusNode)||((e=t.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(n=t.createRng()).setStart(i.focusNode,i.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)},w=function(){e=s=a=null,o.destroy()},x={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:i,collapse:g,setCursorLocation:c,getContent:function(t){return k_.getContent(i,t)},setContent:u,getBookmark:function(t,e){return r.getBookmark(t,e)},moveToBookmark:function(t){return r.moveToBookmark(t)},select:f,isCollapsed:p,isForward:b,setNode:function(e){return u(t.getOuterHTML(e)),e},getNode:function(){return R_(i.getBody(),v())},getSel:m,setRng:y,getRng:v,getStart:h,getEnd:d,getSelectedBlocks:function(e,n){return D_(t,v(),e,n)},normalize:function(){var e=v(),n=m();if(!ev.hasMultipleRanges(n)&&Tw(i)){var r=Jv.normalize(t,e);return r.each(function(t){y(t,b())}),r.getOr(e)}return e},selectorChanged:function(e,n){var r;return l||(l={},r={},i.on("NodeChange",function(e){var n=e.element,i=t.getParents(n,null,t.getRoot()),o={};$_(l,function(e,n){$_(i,function(s){if(t.is(s,n))return r[n]||($_(e,function(t){t(!0,{node:s,selector:n,parents:i})}),r[n]=e),o[n]=e,!1})}),$_(r,function(t,e){o[e]||(delete r[e],$_(t,function(t){t(!1,{node:n,selector:e,parents:i})}))})})),l[e]||(l[e]=[]),l[e].push(n),x},getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){return Su.scrollElementIntoView(i,t,e)},placeCaretAt:function(t,e){return y(Vk.fromPoint(t,e,i.getDoc()))},getBoundingClientRect:function(){var t=v();return t.collapsed?hc.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:w};return r=Nk(x),o=zk(x,i),x.bookmarkManager=r,x.controlSelection=o,x},B_=ia.isContentEditableFalse,F_=Il,H_=_h,z_=kh,W_=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},j_=function(t,e){var n=dh(t,e);return!(n||!ia.isBr(t.getNode()))||n},q_=function(t,e,n,i){var r,o,s,a,l=t===jc.Forwards,c=l?z_:H_;return!i.collapsed&&(r=F_(i),B_(r))?Bc(t,e,r,t===jc.Backwards,!0):(a=cl(i),c(o=Sh(t,e.getBody(),i))?Hc(e,o.getNode(!l)):(o=n(o))?c(o)?Bc(t,e,o.getNode(!l),l,!0):c(s=n(o))&&j_(o,s)?Bc(t,e,s.getNode(!l),l,!0):a?Wc(e,o.toRange(),!0):null:a?i:null)},U_=function(t,e,n,i){var r,o,s,a,l,c,u,h,d;if(d=F_(i),r=Sh(t,e.getBody(),i),o=n(e.getBody(),hx(1),r),s=Vn.filter(o,dx(1)),l=Vn.last(r.getClientRects()),(z_(r)||Eh(r))&&(d=r.getNode()),(H_(r)||Th(r))&&(d=r.getNode(!0)),!l)return null;if(c=l.left,(a=yx(s,c))&&B_(a.node))return u=Math.abs(c-a.left),h=Math.abs(c-a.right),Bc(t,e,a.node,u<h,!0);if(d){var f=ux(t,e.getBody(),hx(1),d);if(a=yx(Vn.filter(f,dx(1)),c))return Wc(e,a.position.toRange(),!0);if(a=Vn.last(Vn.filter(f,dx(0))))return Wc(e,a.position.toRange(),!0)}},V_=function(t){var e=t.dom.create(t.settings.forced_root_block);return(!Be.ie||Be.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e},G_=function(t,e,n){var i,r,o=Hh(t.getBody()),s=Wl.curry(W_,o.next),a=Wl.curry(W_,o.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(i=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?s(hc.fromRangeStart(n)):a(hc.fromRangeStart(n)))||(r=V_(t),1===e?t.$(i).after(r):t.$(i).before(r),t.selection.select(r,!0),t.selection.collapse())}},Y_=function(t,e){var n,i=Hh(t.getBody()),r=Wl.curry(W_,i.next),o=Wl.curry(W_,i.prev),s=e?jc.Forwards:jc.Backwards,a=e?r:o,l=t.selection.getRng();return(n=q_(s,t,a,l))?n:(n=G_(t,s,l))||null},K_=function(t,e){var n,i=e?1:-1,r=e?cx:lx,o=t.selection.getRng();return(n=U_(i,t,r,o))?n:(n=G_(t,i,o))||null},X_=function(t,e){return function(){var n=Y_(t,e);return!!n&&(t.selection.setRng(n),!0)}},Q_=function(t,e){return function(){var n=K_(t,e);return!!n&&(t.selection.setRng(n),!0)}},Z_=function(t){return oe.map(t,function(t){return sk.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:yt.noop},t)})},J_=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},tE=function(t,e){return oe.bind(Z_(t),function(t){return J_(t,e)?[t]:[]})},eE={match:tE,action:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,i)}},execute:function(t,e){return oe.find(tE(t,e),function(t){return t.action()})}},nE=function(t,e,n){var i=Lr.detect().os;eE.execute([{keyCode:Tx.RIGHT,action:X_(t,!0)},{keyCode:Tx.LEFT,action:X_(t,!1)},{keyCode:Tx.UP,action:Q_(t,!1)},{keyCode:Tx.DOWN,action:Q_(t,!0)},{keyCode:Tx.RIGHT,action:Uu(t,!0)},{keyCode:Tx.LEFT,action:Uu(t,!1)},{keyCode:Tx.UP,action:Vu(t,!1)},{keyCode:Tx.DOWN,action:Vu(t,!0)},{keyCode:Tx.RIGHT,action:Em.move(t,e,!0)},{keyCode:Tx.LEFT,action:Em.move(t,e,!1)},{keyCode:Tx.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Em.moveNextWord(t,e)},{keyCode:Tx.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Em.movePrevWord(t,e)}],n).each(function(){n.preventDefault()})},iE={setup:function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&nE(t,e,n)})}},rE=function(t,e){var n=$p.parentsAndSelf(e,t);return oe.findIndex(n,Rs).fold(yt.constant(n),function(t){return n.slice(0,t)})},oE=function(t){return 1===rs.children(t).length},sE=function(t,e,n,i){var r=yt.curry(rS,e),o=oe.map(oe.filter(i,r),function(t){return t.dom()});if(0===o.length)kg.deleteElement(e,t,n);else{var s=iS(n.dom(),o);e.selection.setRng(s.toRange())}},aE=function(t,e){var n=Nr.fromDom(t.getBody()),i=Nr.fromDom(t.selection.getStart()),r=oe.filter(rE(n,i),oE);return oe.last(r).map(function(n){var i=hc.fromRangeStart(t.selection.getRng());return!!lp.willDeleteLastPositionInElement(e,i,n.dom())&&(sE(e,t,n,r),!0)}).getOr(!1)},lE={backspaceDelete:function(t,e){return!!t.selection.isCollapsed()&&aE(t,e)}
},cE=function(t,e,n){eE.execute([{keyCode:Tx.BACKSPACE,action:eE.action(Lg.backspaceDelete,t,!1)},{keyCode:Tx.DELETE,action:eE.action(Lg.backspaceDelete,t,!0)},{keyCode:Tx.BACKSPACE,action:eE.action(Om.backspaceDelete,t,e,!1)},{keyCode:Tx.DELETE,action:eE.action(Om.backspaceDelete,t,e,!0)},{keyCode:Tx.BACKSPACE,action:eE.action(Kp.backspaceDelete,t,!1)},{keyCode:Tx.DELETE,action:eE.action(Kp.backspaceDelete,t,!0)},{keyCode:Tx.BACKSPACE,action:eE.action(Wp.backspaceDelete,t,!1)},{keyCode:Tx.DELETE,action:eE.action(Wp.backspaceDelete,t,!0)},{keyCode:Tx.BACKSPACE,action:eE.action(Sv.backspaceDelete,t,!1)},{keyCode:Tx.DELETE,action:eE.action(Sv.backspaceDelete,t,!0)},{keyCode:Tx.BACKSPACE,action:eE.action(lE.backspaceDelete,t,!1)},{keyCode:Tx.DELETE,action:eE.action(lE.backspaceDelete,t,!0)}],n).each(function(){n.preventDefault()})},uE=function(t,e){eE.execute([{keyCode:Tx.BACKSPACE,action:eE.action(Lg.paddEmptyElement,t)},{keyCode:Tx.DELETE,action:eE.action(Lg.paddEmptyElement,t)}],e)},hE={setup:function(t,e){t.on("keydown",function(n){!1===n.isDefaultPrevented()&&cE(t,e,n)}),t.on("keyup",function(e){!1===e.isDefaultPrevented()&&uE(t,e)})}},dE=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},fE=function(t){return kt.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},pE={moveToCaretPosition:function(t,e){var n,i,r,o,s=e,a=t.dom,l=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var c=dE(e.firstChild);c&&/^(UL|OL|DL)$/.test(c.nodeName)&&e.insertBefore(a.doc.createTextNode("\xa0"),e.firstChild)}if(r=a.createRng(),e.normalize(),e.hasChildNodes()){for(n=new w(e,e);i=n.current();){if(ia.isText(i)){r.setStart(i,0),r.setEnd(i,0);break}if(l[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}s=i,i=n.next()}i||(r.setStart(s,0),r.setEnd(s,0))}else ia.isBr(e)?e.nextSibling&&a.isBlock(e.nextSibling)?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));t.selection.setRng(r),a.remove(o),t.selection.scrollIntoView(e)}},getEditableRoot:function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},getParentBlock:fE,getParentBlockName:function(t){return fE(t).fold(yt.constant(""),function(t){return t.nodeName.toUpperCase()})},isListItemParentBlock:function(t){return fE(t).filter(function(t){return Ps(Nr.fromDom(t))}).isSome()}},gE=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},mE=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},vE=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},yE=function(t){return vE(t)&&vE(t.parentNode)},bE=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},wE=function(t,e,n){for(var i=t[n?"firstChild":"lastChild"];i&&!ia.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===e},xE={insert:function(t,e,n,i,r){var o=t.dom,s=t.selection.getRng();if(n!==t.getBody()){yE(n)&&(r="LI");var a=r?e(r):o.create("BR");if(wE(n,i,!0)&&wE(n,i,!1))mE(n,"LI")?o.insertAfter(a,bE(n)):o.replace(a,n);else if(wE(n,i,!0))mE(n,"LI")?(o.insertAfter(a,bE(n)),a.appendChild(o.doc.createTextNode(" ")),a.appendChild(n)):n.parentNode.insertBefore(a,n);else if(wE(n,i,!1))o.insertAfter(a,bE(n));else{n=bE(n);var l=s.cloneRange();l.setStartAfter(i),l.setEndAfter(n);var c=l.extractContents();"LI"===r&&gE(c,"LI")?(a=c.firstChild,o.insertAfter(c,n)):(o.insertAfter(c,n),o.insertAfter(a,n))}o.remove(i),pE.moveToCaretPosition(t,a)}}},CE=function(t){return t&&"A"===t.nodeName&&0===oi.trim(Ga.trim(t.innerText||t.textContent)).length},SE=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},kE=function(t){t.innerHTML='<br data-mce-bogus="1">'},_E=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},EE=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},TE=function(t,e,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(t.isBlock(r))return;ia.isElement(r)&&!e[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?t.remove(r):CE(r)&&t.remove(r)}},AE=function(t,e,n){return!1===ia.isText(e)?n:t?1===n&&e.data.charAt(n-1)===Ga.ZWSP?0:n:n===e.data.length-1&&e.data.charAt(n)===Ga.ZWSP?e.data.length:n},ME=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,AE(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,AE(!1,t.endContainer,t.endOffset)),e},RE=function(t){do{ia.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)},DE=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},LE=function(t,e){var n=_u.getForcedRootBlock(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&t.dom.setAttribs(e,_u.getForcedRootBlockAttrs(t))},$E=function(t,e,n,i,r){var o,s,a,l,c,u,h=e||"P",d=t.dom,f=DE(d,i);if(!(s=d.getParent(i,d.isBlock))||!EE(d,s)){if(u=(s=s||f)===t.getBody()||SE(s)?s.nodeName.toLowerCase():s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return o=d.create(h),LE(t,o),s.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==s;)l=l.parentNode;for(;l&&!d.isBlock(l);)a=l,l=l.previousSibling;if(a&&t.schema.isValidChild(u,h.toLowerCase())){for(o=d.create(h),LE(t,o),a.parentNode.insertBefore(o,a),l=a;l&&!d.isBlock(l);)c=l.nextSibling,o.appendChild(l),l=c;n.setStart(i,r),n.setEnd(i,r)}}return i},OE=function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")},PE={insert:function(t,e){var n,i,r,o,s,a,l,c,u,h,d,f,p,g=t.dom,m=t.schema,v=m.getNonEmptyElements(),y=t.selection.getRng(),b=function(e){var n,o,a,l=r,c=m.getTextInlineElements();if(e||"TABLE"===h||"HR"===h?(n=g.create(e||f),LE(t,n)):n=s.cloneNode(!1),a=n,!1===_u.shouldKeepStyles(t))g.setAttrib(n,"style",null),g.setAttrib(n,"class",null);else do{if(c[l.nodeName]){if(Nd(l))continue;o=l.cloneNode(!1),g.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((l=l.parentNode)&&l!==i);return kE(a),n},x=function(t){var e,n,i,a;if(a=AE(t,r,o),ia.isText(r)&&(t?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===s&&p&&!t)return!0;if(t&&ia.isElement(r)&&r===s.firstChild)return!0;if(_E(r,"TABLE")||_E(r,"HR"))return p&&!t||!p&&t;for(e=new w(r,s),ia.isText(r)&&(t&&0===a?e.prev():t||a!==r.nodeValue.length||e.next());n=e.current();){if(ia.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),v[i]&&"br"!==i))return!1}else if(ia.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;t?e.prev():e.next()}return!0},C=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(h)&&"HGROUP"!==d?b(f):b(),_u.shouldEndContainerOnEmptyBlock(t)&&EE(g,u)&&g.isEmpty(s)?l=g.split(u,s):g.insertAfter(l,s),pE.moveToCaretPosition(t,l)};Jv.normalize(g,y).each(function(t){y.setStart(t.startContainer,t.startOffset),y.setEnd(t.endContainer,t.endOffset)}),r=y.startContainer,o=y.startOffset,f=_u.getForcedRootBlock(t),a=e.shiftKey,ia.isElement(r)&&r.hasChildNodes()&&(p=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=p&&ia.isText(r)?r.nodeValue.length:0),(i=DE(g,r))&&((f&&!a||!f&&a)&&(r=$E(t,f,y,r,o)),s=g.getParent(r,g.isBlock),u=s?g.getParent(s.parentNode,g.isBlock):null,h=s?s.nodeName.toUpperCase():"","LI"!==(d=u?u.nodeName.toUpperCase():"")||e.ctrlKey||(s=u,u=u.parentNode,h=d),/^(LI|DT|DD)$/.test(h)&&g.isEmpty(s)?xE.insert(t,b,u,s,f):f&&s===t.getBody()||(f=f||"P",Xa(s)?(l=ll(s),g.isEmpty(s)&&kE(s),pE.moveToCaretPosition(t,l)):x()?C():x(!0)?(l=s.parentNode.insertBefore(b(),s),pE.moveToCaretPosition(t,_E(s,"HR")?l:s)):((n=ME(y).cloneRange()).setEndAfter(s),c=n.extractContents(),RE(c),l=c.firstChild,g.insertAfter(c,s),TE(g,v,l),OE(g,s),g.isEmpty(s)&&kE(s),l.normalize(),g.isEmpty(l)?(g.remove(l),C()):pE.moveToCaretPosition(t,l)),g.setAttrib(l,"id",""),t.fire("NewBlock",{newBlock:l})))}},IE=function(t,e){return pE.getParentBlock(t).filter(function(t){return e.length>0&&Do.is(Nr.fromDom(t),e)}).isSome()},NE={shouldInsertBr:function(t){return IE(t,_u.getBrNewLineSelector(t))},shouldBlockNewLine:function(t){return IE(t,_u.getNoNewLineSelector(t))}},BE=Xp.generate([{br:[]},{block:[]},{none:[]}]),FE=function(t){return NE.shouldBlockNewLine(t)},HE=function(t){return function(e){return""===_u.getForcedRootBlock(e)===t}},zE=function(t){return function(e){return pE.isListItemParentBlock(e)===t}},WE=function(t,e){return function(n){return pE.getParentBlockName(n)===t.toUpperCase()===e}},jE=function(t){return WE("pre",t)},qE=function(){return WE("summary",!0)},UE=function(t){return function(e){return _u.shouldPutBrInPre(e)===t}},VE=function(t){return NE.shouldInsertBr(t)},GE=function(t,e){return e},YE=function(t){var e=_u.getForcedRootBlock(t),n=pE.getEditableRoot(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},KE=function(t,e){return function(n,i){return oe.foldl(t,function(t,e){return t&&e(n,i)},!0)?kt.some(e):kt.none()}},XE={getAction:function(t,e){return Ug.evaluateUntil([KE([FE],BE.none()),KE([qE()],BE.br()),KE([jE(!0),UE(!1),GE],BE.br()),KE([jE(!0),UE(!1)],BE.block()),KE([jE(!0),UE(!0),GE],BE.block()),KE([jE(!0),UE(!0)],BE.br()),KE([zE(!0),GE],BE.br()),KE([zE(!0)],BE.block()),KE([HE(!0),GE,YE],BE.block()),KE([HE(!0)],BE.br()),KE([VE],BE.br()),KE([HE(!1),GE],BE.br()),KE([YE],BE.block())],[t,e.shiftKey]).getOr(BE.none())}},QE={insert:function(t,e){XE.getAction(t,e).fold(function(){dy.insert(t,e)},function(){PE.insert(t,e)},yt.noop)}},ZE=function(t){t.typing&&(t.typing=!1,t.add())},JE=function(t,e){e.isDefaultPrevented()||(e.preventDefault(),ZE(t.undoManager),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),QE.insert(t,e)}))},tT={setup:function(t){t.on("keydown",function(e){e.keyCode===Tx.ENTER&&JE(t,e)})}},eT=function(t,e){return oT(t)&&ia.isText(e.container())},nT=function(t,e){var n=e.container(),i=e.offset();n.insertData(i,"\xa0"),t.selection.setCursorLocation(n,i+1)},iT=function(t,e,n){return!!eT(n,e)&&(nT(t,e),!0)},rT=function(t){var e=yt.curry(op.isInlineTarget,t),n=hc.fromRangeStart(t.selection.getRng());return dm.readLocation(e,t.getBody(),n).map(yt.curry(iT,t,n)).getOr(!1)},oT=function(t){return t.fold(yt.constant(!1),yt.constant(!0),yt.constant(!0),yt.constant(!1))},sT={insertAtSelection:function(t){return!!t.selection.isCollapsed()&&rT(t)}},aT=function(t,e){eE.execute([{keyCode:Tx.SPACEBAR,action:eE.action(sT.insertAtSelection,t)}],e).each(function(){e.preventDefault()})},lT={setup:function(t){t.on("keydown",function(e){!1===e.isDefaultPrevented()&&aT(t,e)})}},cT=function(t){return up.descendant(Nr.fromDom(t.getBody()),"*[data-mce-caret]").fold(yt.constant(null),function(t){return t.dom()})},uT=function(t){t.selection.setRng(t.selection.getRng())},hT=function(t,e){e.hasAttribute("data-mce-caret")&&(ll(e),uT(t),t.selection.scrollIntoView(e))},dT=function(t,e){var n=cT(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void hT(t,n)):void(Ja(n)&&(hT(t,n),t.undoManager.add()))},fT={setup:function(t){t.on("keyup compositionstart",yt.curry(dT,t))}},pT={setup:function(t){var e=Em.setupSelectedState(t);fT.setup(t),iE.setup(t,e),hE.setup(t,e),tT.setup(t),lT.setup(t)}},gT=function(t){return ia.isElement(t)&&$s(Nr.fromDom(t))},mT=function(t){var e=t.selection.getRng(),n=_.fromRangeStart(e),i=_.fromRangeEnd(e);if(_.isElementPosition(n)){var r=n.container();gT(r)&&Pc.firstPositionIn(r).each(function(t){return e.setStart(t.container(),t.offset())})}_.isElementPosition(i)&&(r=n.container(),gT(r)&&Pc.lastPositionIn(r).each(function(t){return e.setEnd(t.container(),t.offset())})),t.selection.setRng(wf.normalize(e))},vT={setup:function(t){t.on("click",function(e){3===e.detail&&mT(t)})}},yT=function(t){t.on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})},bT=function(t){t.parser.addNodeFilter("details",function(t){oe.each(t,function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")})}),t.serializer.addNodeFilter("details",function(t){oe.each(t,function(t){var e=t.attr("data-mce-open");t.attr("open",Tt.isString(e)?e:null),t.attr("data-mce-open",null)})})},wT=function(t){yT(t),bT(t)},xT=Fa.DOM,CT=function(t,e){var n=Nr.fromDom(t.getDoc().head),i=Nr.fromTag("style");so.set(i,"type","text/css"),Ru.append(i,Nr.fromText(e)),Ru.append(n,i)},ST=function(t){var e=Q(t.settings,t.schema);return e.addAttributeFilter("src,href,style,tabindex",function(e,n){for(var i,r,o,s=e.length,a=t.dom;s--;)if(r=(i=e[s]).attr(n),o="data-mce-"+n,!i.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?((r=a.serializeStyle(a.parseStyle(r),i.name)).length||(r=null),i.attr(o,r),i.attr(n,r)):"tabindex"===n?(i.attr(o,r),i.attr(n,null)):i.attr(o,t.convertURL(r,n,i.name))}}),e.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)0!==(n=(e=t[i]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)}),e.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)(e=t[n]).type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var n,i=e.length,r=t.schema.getNonEmptyElements();i--;)(n=e[i]).isEmpty(r)&&0===n.getAll("br").length&&(n.append(new bk("br",1)).shortEnded=!0)}),e},kT=function(t){t.settings.auto_focus&&Ue.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)},_T=function(t){t.bindPendingEventDelegates(),t.initialized=!0,t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),kT(t)},ET=function(t){return t.inline?xT.styleSheetLoader:t.dom.styleSheetLoader},TT={initContentBody:function(t,e){var n,i,r=t.settings,o=t.getElement(),s=t.getDoc();r.inline||(t.getElement().style.visibility=t.orgVisibility),e||r.content_editable||(s.open(),s.write(t.iframeHTML),s.close()),r.content_editable&&(t.on("remove",function(){var t=this.getBody();xT.removeClass(t,"mce-content-body"),xT.removeClass(t,"mce-edit-focus"),xT.setAttrib(t,"contentEditable",null)}),xT.addClass(o,"mce-content-body"),t.contentDocument=s=r.content_document||document,t.contentWindow=r.content_window||window,t.bodyElement=o,r.content_document=r.content_window=null,r.root_name=o.nodeName.toLowerCase()),(n=t.getBody()).disabled=!0,t.readonly=r.readonly,t.readonly||(t.inline&&"static"===xT.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=t.getParam("content_editable_state",!0)),n.disabled=!1,t.editorUpload=U(t),t.schema=x(r),t.dom=Fa(s,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:r.content_editable,schema:t.schema,onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=ST(t),t.serializer=J(r,t),t.selection=N_(t.dom,t.getWin(),t.serializer,t),t.formatter=X(t),t.undoManager=Y(t),t._nodeChangeDispatcher=new V(t),t._selectionOverrides=$x(t),wT(t),vT.setup(t),pT.setup(t),ww.setup(t),t.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(s.body.spellcheck=!1,xT.setAttrib(n,"spellcheck","false")),t.quirks=et(t),t.fire("PostRender"),r.directionality&&(n.dir=r.directionality),r.nowrap&&(n.style.whiteSpace="nowrap"),r.protect&&t.on("BeforeSetContent",function(t){oi.each(r.protect,function(e){t.content=t.content.replace(e,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),t.contentStyles.length>0&&(i="",oi.each(t.contentStyles,function(t){i+=t+"\r\n"}),t.dom.addStyle(i)),ET(t).loadAll(t.contentCSS,function(){_T(t)},function(){_T(t)}),r.content_style&&CT(t,r.content_style)}},AT=Fa.DOM,MT=function(t,e){if(document.domain!==window.location.hostname&&Be.ie&&Be.ie<12){var n=pw.uuid("mce");t[n]=function(){TT.initContentBody(t)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return AT.setAttrib(e,"src",i),!0}return!1},RT=function(t){var e="number"==typeof t?t+"px":t;return e||""},DT=function(t,e,n,i){var r=Nr.fromTag("iframe");return so.setAll(r,i),so.setAll(r,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),wo.setAll(r,{width:"100%",height:RT(n),display:"block"}),r},LT=function(t){var e,n,i;return i=_u.getDocType(t)+"<html><head>",_u.getDocumentBaseUrl(t)!==t.documentBaseUrl&&(i+='<base href="'+t.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=_u.getBodyId(t),n=_u.getBodyClass(t),_u.getContentSecurityPolicy(t)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+_u.getContentSecurityPolicy(t)+'" />'),i+='</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'},$T=function(t,e){var n=t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),i=DT(t.id,n,e.height,_u.getIframeAttrs(t)).dom();i.onload=function(){i.onload=null,t.fire("load")};var r=MT(t,i);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=i,t.iframeHTML=LT(t),AT.add(e.iframeContainer,i),r},OT={init:function(t,e){var n=$T(t,e);e.editorContainer&&(AT.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=AT.isHidden(e.editorContainer)),t.getElement().style.display="none",AT.setAttrib(t.id,"aria-hidden","true"),n||TT.initContentBody(t)}},PT=Fa.DOM,IT=function(t,e,n){var i,r,o=ew.get(n);if(i=ew.urls[n]||t.documentBaseUrl.replace(/\/$/,""),n=oi.trim(n),o&&-1===oi.inArray(e,n)){if(oi.each(ew.dependencies(n),function(n){IT(t,e,n)}),t.plugins[n])return;r=new o(t,i,t.$),t.plugins[n]=r,r.init&&(r.init(t,i),e.push(n))}},NT=function(t){return t.replace(/^\-/,"")},BT=function(t){var e=[];oi.each(t.settings.plugins.split(/[ ,]/),function(n){IT(t,e,NT(n))})},FT=function(t){var e,n=t.settings.theme;Tt.isString(n)?(t.settings.theme=NT(n),e=nw.get(n),t.theme=new e(t,nw.urls[n]),t.theme.init&&t.theme.init(t,nw.urls[n]||t.documentBaseUrl.replace(/\/$/,""),t.$)):t.theme={}},HT=function(t){var e,n,i,r,o,s=t.settings,a=t.getElement();return e=s.width||PT.getStyle(a,"width")||"100%",n=s.height||PT.getStyle(a,"height")||a.offsetHeight,i=s.min_height||100,(r=/^[0-9\.]+(|px)$/i).test(""+e)&&(e=Math.max(parseInt(e,10),100)),r.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=t.theme.renderUI({targetNode:a,width:e,height:n,deltaWidth:s.delta_width,deltaHeight:s.delta_height}),s.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""))<i&&(n=i),o.height=n,o},zT=function(t){var e,n=t.getElement();return(e=t.settings.theme(t,n)).editorContainer.nodeType&&(e.editorContainer.id=e.editorContainer.id||t.id+"_parent"),e.iframeContainer&&e.iframeContainer.nodeType&&(e.iframeContainer.id=e.iframeContainer.id||t.id+"_iframecontainer"),e.height=e.iframeHeight?e.iframeHeight:n.offsetHeight,e},WT=function(t){return{editorContainer:t,iframeContainer:t}},jT=function(t){var e=PT.create("div");return PT.insertAfter(e,t),WT(e)},qT=function(t){var e=t.getElement();return t.inline?WT(null):jT(e)},UT=function(t){var e=t.settings,n=t.getElement();return t.orgDisplay=n.style.display,Tt.isString(e.theme)?HT(t):Tt.isFunction(e.theme)?zT(t):qT(t)},VT={init:function(t){var e,n=t.settings,i=t.getElement();return t.rtl=n.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||PT.getAttrib(i,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),FT(t),BT(t),e=UT(t),t.editorContainer=e.editorContainer?e.editorContainer:null,n.content_css&&oi.each(oi.explode(n.content_css),function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))}),n.content_editable?TT.initContentBody(t):OT.init(t,e)}},GT=Fa.DOM,YT=function(t){return"-"===t.charAt(0)},KT=function(t,e){var n=e.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=e.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!e.editorManager.i18n.data[n.language]&&t.add(n.language_url)},XT=function(t,e,n,i){var r=e.settings,o=r.theme;if(Tt.isString(o)){if(!YT(o)&&!nw.urls.hasOwnProperty(o)){var s=r.theme_url;s?nw.load(o,e.documentBaseURI.toAbsolute(s)):nw.load(o,"themes/"+o+"/theme"+n+".js")}t.loadQueue(function(){nw.waitFor(o,i)})}else i()},QT=function(t,e){oi.isArray(t.plugins)&&(t.plugins=t.plugins.join(" ")),oi.each(t.external_plugins,function(e,n){ew.load(n,e),t.plugins+=" "+n}),oi.each(t.plugins.split(/[ ,]/),function(t){if((t=oi.trim(t))&&!ew.urls[t])if(YT(t)){t=t.substr(1,t.length);var n=ew.dependencies(t);oi.each(n,function(t){var n={prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"};t=ew.createUrl(n,t),ew.load(t.resource,t)})}else ew.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"})})},ZT=function(t,e){var n=qa.ScriptLoader;XT(n,t,e,function(){KT(n,t),QT(t.settings,e),n.loadQueue(function(){t.removed||VT.init(t)},t,function(e){tw.pluginLoadError(t,e[0]),t.removed||VT.init(t)})})},JT={render:function(t){var e=t.settings,n=t.id,i=function(){GT.unbind(window,"ready",i),t.render()};if(rn.Event.domLoaded){if(t.getElement()&&Be.contentEditable){e.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var r=t.getElement().form||GT.getParent(n,"form");r&&(t.formElement=r,e.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(GT.insertAfter(GT.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},GT.bind(r,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!e.submit_patch||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),r._mceOldSubmit(r)})),t.windowManager=I(t),t.notificationManager=O(t),"xml"===e.encoding&&t.on("GetContent",function(t){t.save&&(t.content=GT.encode(t.content))}),e.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),e.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),ZT(t,t.suffix)}}else GT.bind(window,"ready",i)}},tA={add:function(t,e,n){var i=t.sidebars?t.sidebars:[];i.push({name:e,settings:n}),t.sidebars=i}},eA=oi.each,nA=oi.trim,iA="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),rA={ftp:21,http:80,https:443,mailto:25},oA=function(t,e){var n,i,r=this;if(t=nA(t),n=(e=r.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))r.source=t;else{var o=0===t.indexOf("//");0!==t.indexOf("/")||o||(t=(n&&n.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(i=e.base_uri?e.base_uri.path:new oA(document.location.href).directory,""==e.base_uri.protocol?t="//mce_host"+r.toAbsPath(i,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(n&&n.protocol||"http")+"://mce_host"+r.toAbsPath(i,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),eA(iA,function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),r[e]=i}),n&&(r.protocol||(r.protocol=n.protocol),r.userInfo||(r.userInfo=n.userInfo),r.port||"mce_host"!==r.host||(r.port=n.port),r.host&&"mce_host"!==r.host||(r.host=n.host),r.source=""),o&&(r.protocol="")}};oA.prototype={setPath:function(t){var e=this;t=/^(.*?)\/?(\w+)?$/.exec(t),e.path=t[0],e.directory=t[1],e.file=t[2],e.source="",e.getURI()},toRelative:function(t){var e,n=this;if("./"===t)return t;if("mce_host"!==(t=new oA(t,{base_uri:n})).host&&n.host!==t.host&&t.host||n.port!==t.port||n.protocol!==t.protocol&&""!==t.protocol)return t.getURI();var i=n.getURI(),r=t.getURI();return i===r||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===r?i:(e=n.toRelPath(n.path,t.path),t.query&&(e+="?"+t.query),t.anchor&&(e+="#"+t.anchor),e)},toAbsolute:function(t,e){return(t=new oA(t,{base_uri:this})).getURI(e&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=rA[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var n,i,r,o=0,s="";if(t=(t=t.substring(0,t.lastIndexOf("/"))).split("/"),n=e.split("/"),t.length>=n.length)for(i=0,r=t.length;i<r;i++)if(i>=n.length||t[i]!==n[i]){o=i+1;break}if(t.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=t.length||t[i]!==n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=t.length-(o-1);i<r;i++)s+="../";for(i=o-1,r=n.length;i<r;i++)s+=i!==o-1?"/"+n[i]:n[i];return s},toAbsPath:function(t,e){var n,i,r,o=0,s=[];for(i=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),eA(t,function(t){t&&s.push(t)}),t=s,n=e.length-1,s=[];n>=0;n--)0!==e[n].length&&"."!==e[n]&&(".."!==e[n]?o>0?o--:s.push(e[n]):o++);return 0!==(r=(n=t.length-o)<=0?s.reverse().join("/"):t.slice(0,n).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(t){var e,n=this;return n.source&&!t||(e="",t||(n.protocol?e+=n.protocol+"://":e+="//",n.userInfo&&(e+=n.userInfo+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port)),n.path&&(e+=n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),n.source=e),n.source}},oA.parseDataUri=function(t){var e,n;return t=decodeURIComponent(t).split(","),(n=/data:([^;]+)/.exec(t[0]))&&(e=n[1]),{type:e,data:t[1]}},oA.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e};var sA="html",aA=function(t,e){var n=_u.getForcedRootBlock(t),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(i,"")},lA=function(t,e,n){var i;if(e.format=e.format?e.format:sA,e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)i=oi.trim(zx.trimExternal(t.serializer,n.innerHTML));else if("text"===e.format)i=Ga.trim(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);i=aA(t,t.serializer.serialize(n,e))}return"text"===e.format||Fs(Nr.fromDom(n))?e.content=i:e.content=oi.trim(i),e.no_events||t.fire("GetContent",e),e.content},cA=function(t,e){return void 0===e&&(e={}),kt.from(t.getBody()).fold(yt.constant("tree"===e.format?new bk("body",11):""),function(n){return lA(t,e,n)})},uA=function(t,e){e(t),t.firstChild&&uA(t.firstChild,e),t.next&&uA(t.next,e)},hA=function(t,e,n){var i={},r={},o=[];for(var s in n.firstChild&&uA(n.firstChild,function(n){oe.each(t,function(t){t.name===n.name&&(i[t.name]?i[t.name].nodes.push(n):i[t.name]={filter:t,nodes:[n]})}),oe.each(e,function(t){"string"==typeof n.attr(t.name)&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})})}),i)i.hasOwnProperty(s)&&o.push(i[s]);for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o},dA=function(t,e,n){var i=hA(t,e,n);oe.each(i,function(t){oe.each(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})},fA="html",pA=function(t){return t instanceof bk},gA=function(t){Nb.hasFocus(t)&&Pc.firstPositionIn(t.getBody()).each(function(e){var n=e.getNode(),i=ia.isTable(n)?Pc.firstPositionIn(n).getOr(e):e;t.selection.setRng(i.toRange())})},mA=function(t,e){t.dom.setHTML(t.getBody(),e),gA(t)},vA=function(t,e,n,i){var r,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>"),(r=_u.getForcedRootBlock(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=t.dom.createHTML(r,t.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),mA(t,n),t.fire("SetContent",i)):("raw"!==i.format&&(n=A({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),i.content=Fs(Nr.fromDom(e))?n:oi.trim(n),mA(t,i.content),i.no_events||t.fire("SetContent",i)),i.content},yA=function(t,e,n,i){dA(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var r=A({validate:t.validate},t.schema).serialize(n);return i.content=Fs(Nr.fromDom(e))?r:oi.trim(r),mA(t,i.content),i.no_events||t.fire("SetContent",i),n},bA=function(t,e,n){return void 0===n&&(n={}),n.format=n.format?n.format:fA,n.set=!0,n.content=pA(e)?"":e,pA(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),kt.from(t.getBody()).fold(yt.constant(e),function(i){return pA(e)?yA(t,i,e,n):vA(t,i,e,n)})},wA=Fa.DOM,xA=function(t){wA.setStyle(t.id,"display",t.orgDisplay)},CA=function(t){return kt.from(t).each(function(t){return t.destroy()})},SA=function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)},kA=function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),wA.unbind(e,"submit reset",t.formEventDelegate))},_A=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,i=t.getBody(),r=t.getElement();i&&t.save(),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&r&&wA.remove(r.nextSibling),!t.inline&&i&&xA(t),rb.fireRemove(t),t.editorManager.remove(t),wA.remove(t.getContainer()),CA(e),CA(n),t.destroy()}},EA=function(t,e){var n=t.selection,i=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),CA(n),CA(i)),kA(t),SA(t),t.destroyed=!0):t.remove())},TA=Fa.DOM,AA=oi.extend,MA=oi.each,RA=oi.resolve,DA=Be.ie,LA=function(t,e,n){var i=this,r=i.documentBaseUrl=n.documentBaseURL,o=n.baseURI;e=Yf(i,t,r,n.defaultSettings,e),i.settings=e,k.language=e.language||"en",k.languageLoad=e.language_load,k.baseURL=n.baseURL,i.id=t,i.setDirty(!1),i.plugins={},i.documentBaseURI=new oA(e.document_base_url,{base_uri:o}),i.baseURI=o,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new L(i),i.loadedCSS={},i.editorCommands=new R(i),i.suffix=n.suffix,i.editorManager=n,i.inline=e.inline,i.buttons={},i.menuItems={},e.cache_suffix&&(Be.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,"")),!1===e.override_viewport&&(Be.overrideViewPort=!1),n.fire("SetupEditor",{editor:i}),i.execCallback("setup",i),i.$=_i.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})};LA.prototype={render:function(){JT.render(this)},focus:function(t){Nb.focus(this,t)},hasFocus:function(){return Nb.hasFocus(this)},execCallback:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,r=this,o=r.settings[t];if(o)return r.callbackLookup&&(i=r.callbackLookup[t])&&(o=i.func,i=i.scope),"string"==typeof o&&(i=(i=o.replace(/\.\w+$/,""))?RA(i):0,o=RA(o),r.callbackLookup=r.callbackLookup||{},r.callbackLookup[t]={func:o,scope:i}),o.apply(i||r,Array.prototype.slice.call(arguments,1))},translate:function(t){if(t&&oi.is(t,"string")){var e=this.settings.language||"en",n=this.editorManager.i18n;t=n.data[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,i){return n.data[e+"."+i]||"{#"+i+"}"})}return this.editorManager.translate(t)},getLang:function(t,e){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(e!==undefined?e:"{#"+t+"}")},getParam:function(t,e,n){return Jf(this,t,e,n)},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.stateSelector&&"undefined"==typeof e.active&&(e.active=!1),e.text||e.icon||(e.icon=t),n.buttons=n.buttons,e.tooltip=e.tooltip||e.title,n.buttons[t]=e},addSidebar:function(t,e){return tA.add(this,t,e)},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems=n.menuItems,n.menuItems[t]=e},addContextToolbar:function(t,e){var n,i=this
;i.contextToolbars=i.contextToolbars||[],"string"==typeof t&&(n=t,t=function(t){return i.dom.is(t,n)}),i.contextToolbars.push({id:pw.uuid("mcet"),predicate:t,items:e})},addCommand:function(t,e,n){this.editorCommands.addCommand(t,e,n)},addQueryStateHandler:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},addQueryValueHandler:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable=!0:(TA.show(t.getContainer()),TA.hide(t.id)),t.load(),t.fire("show"))},hide:function(){var t=this,e=t.getDoc();t.hidden||(DA&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable=!1,t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(TA.hide(t.getContainer()),TA.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var e,n=this,i=n.getElement();return n.removed?"":i?((t=t||{}).load=!0,e=n.setContent(i.value!==undefined?i.value:i.innerHTML,t),t.element=i,t.no_events||n.fire("LoadContent",t),t.element=i=null,e):void 0},save:function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(t=t||{}).save=!0,t.element=r,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"===t.format&&i.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=e:(i.inline||(r.innerHTML=e),(n=TA.getParent(i.id,"form"))&&MA(n.elements,function(t){if(t.name===i.id)return t.value=e,!1})),t.element=r=null,!1!==t.set_dirty&&i.setDirty(!1),e},setContent:function(t,e){return bA(this,t,e)},getContent:function(t){return cA(this,t)},insertContent:function(t,e){e&&(t=AA({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},setMode:function(t){lb(this,t)},getContainer:function(){var t=this;return t.container||(t.container=TA.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=TA.get(this.id)),this.targetElm},getWin:function(){var t,e=this;return e.contentWindow||(t=e.iframeElement)&&(e.contentWindow=t.contentWindow),e.contentWindow},getDoc:function(){var t,e=this;return e.contentDocument||(t=e.getWin())&&(e.contentDocument=t.document),e.contentDocument},getBody:function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},convertURL:function(t,e,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,r.remove_script_host)},addVisual:function(t){var e,n=this,i=n.settings,r=n.dom;t=t||n.getBody(),n.hasVisual===undefined&&(n.hasVisual=i.visual),MA(r.select("table,a",t),function(t){var o;switch(t.nodeName){case"TABLE":return e=i.visual_table_class||"mce-item-table",void((o=r.getAttrib(t,"border"))&&"0"!==o||!n.hasVisual?r.removeClass(t,e):r.addClass(t,e));case"A":return void(r.getAttrib(t,"href")||(o=r.getAttrib(t,"name")||t.id,e=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(t,e):r.removeClass(t,e)))}}),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},remove:function(){_A(this)},destroy:function(t){EA(this,t)},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},AA(LA.prototype,vb);var $A,OA,PA,IA={isEditorUIElement:function(t){return-1!==t.className.toString().indexOf("mce-")}},NA=function(t){return"nodechange"===t.type&&t.selectionChange},BA=function(t,e){var n=function(){e.throttle()};Fa.DOM.bind(document,"mouseup",n),t.on("remove",function(){Fa.DOM.unbind(document,"mouseup",n)})},FA=function(t){t.on("focusout",function(){Py.store(t)})},HA=function(t,e){t.on("mouseup touchend",function(){e.throttle()})},zA=function(t,e){Lr.detect().browser.isIE()?FA(t):HA(t,e),t.on("keyup nodechange",function(e){NA(e)||Py.store(t)})},WA={register:function(t){var e=_x.first(function(){Py.store(t)},0);t.inline&&BA(t,e),t.on("init",function(){zA(t,e)}),t.on("remove",function(){e.cancel()})}},jA=Fa.DOM,qA=function(t){return IA.isEditorUIElement(t)},UA=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==jA.getParent(e,function(e){return qA(e)||!!n&&t.dom.is(e,n)})},VA=function(){try{return document.activeElement}catch(t){return document.body}},GA=function(t,e){var n=e.editor;WA.register(n),n.on("focusin",function(){var e=this,n=t.focusedEditor;n!==e&&(n&&n.fire("blur",{focusedEditor:e}),t.setActive(e),t.focusedEditor=e,e.fire("focus",{blurredEditor:n}),e.focus(!0))}),n.on("focusout",function(){var e=this;Ue.setEditorTimeout(e,function(){var n=t.focusedEditor;UA(e,VA())||n!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),$A||($A=function(e){var n,i=t.activeEditor;n=e.target,i&&n.ownerDocument===document&&(n===document.body||UA(i,n)||t.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},jA.bind(document,"focusin",$A))},YA=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(jA.unbind(document,"focusin",$A),$A=null)},KA={setup:function(t){t.on("AddEditor",yt.curry(GA,t)),t.on("RemoveEditor",yt.curry(YA,t))},isEditorUIElement:qA,isUIElement:UA},XA={},QA="en",ZA={setCode:function(t){t&&(QA=t,this.rtl=!!this.data[t]&&"rtl"===this.data[t]._dir)},getCode:function(){return QA},rtl:!1,add:function(t,e){var n=XA[t];for(var i in n||(XA[t]=n={}),e)n[i]=e[i];this.setCode(t)},translate:function(t){var e=XA[QA]||{},n=function(t){return oi.is(t,"function")?Object.prototype.toString.call(t):i(t)?"":""+t},i=function(t){return""===t||null===t||oi.is(t,"undefined")},r=function(t){return t=n(t),oi.hasOwn(e,t)?n(e[t]):t};if(i(t))return"";if(oi.is(t,"object")&&oi.hasOwn(t,"raw"))return n(t.raw);if(oi.is(t,"array")){var o=t.slice(1);t=r(t[0]).replace(/\{([0-9]+)\}/g,function(t,e){return oi.hasOwn(o,e)?n(o[e]):t})}return r(t).replace(/{context:\w+}$/,"")},data:XA},JA=Fa.DOM,tM=oi.explode,eM=oi.each,nM=oi.extend,iM=0,rM=!1,oM=[],sM=[],aM=function(t){return"length"!==t},lM=function(t){eM(PA.get(),function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})},cM=function(t){t!==rM&&(t?_i(window).on("resize scroll",lM):_i(window).off("resize scroll",lM),rM=t)},uM=function(t){var e=sM;delete oM[t.id];for(var n=0;n<oM.length;n++)if(oM[n]===t){oM.splice(n,1);break}return sM=oe.filter(sM,function(e){return t!==e}),PA.activeEditor===t&&(PA.activeEditor=sM.length>0?sM[0]:null),PA.focusedEditor===t&&(PA.focusedEditor=null),e.length!==sM.length},hM=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(uM(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t};nM(PA={defaultSettings:{},$:_i,majorVersion:"4",minorVersion:"7.13",releaseDate:"2018-05-16",editors:oM,i18n:ZA,activeEditor:null,settings:{},setup:function(){var t,e,n,i,r=this,o="";if(e=oA.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),n=window.tinymce||window.tinyMCEPreInit)t=n.base||n.baseURL,o=n.suffix;else{for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var l=(i=s[a].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==l.indexOf(".min")&&(o=".min"),t=i.substring(0,i.lastIndexOf("/"));break}}!t&&document.currentScript&&(-1!==(i=document.currentScript.src).indexOf(".min")&&(o=".min"),t=i.substring(0,i.lastIndexOf("/")))}r.baseURL=new oA(e).toAbsolute(t),r.documentBaseURL=e,r.baseURI=new oA(r.baseURL),r.suffix=o,KA.setup(r)},overrideDefaults:function(t){var e,n;(e=t.base_url)&&(this.baseURL=new oA(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new oA(this.baseURL)),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t;var i=t.plugin_base_urls;for(var r in i)k.PluginManager.urls[r]=i[r]},init:function(t){var e,n,i=this;n=oi.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var r=function(t,e){return t.inline&&e.tagName.toLowerCase()in n},o=function(t){var e=t.id;return e||(e=(e=t.name)&&!JA.get(e)?t.name:JA.uniqueId(),t.setAttribute("id",e)),e},s=function(e){var n=t[e];if(n)return n.apply(i,Array.prototype.slice.call(arguments,2))},a=function(t,e){return e.constructor===RegExp?e.test(t.className):JA.hasClass(t,e)},l=function(t){var e,n=[];if(Be.ie&&Be.ie<11)return tw.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return eM(t.types,function(t){n=n.concat(JA.select(t.selector))}),n;if(t.selector)return JA.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":(e=t.elements||"").length>0&&eM(tM(e),function(t){var e;(e=JA.get(t))?n.push(e):eM(document.forms,function(e){eM(e.elements,function(e){e.name===t&&(t="mce_editor_"+iM++,JA.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":eM(JA.select("textarea"),function(e){t.editor_deselector&&a(e,t.editor_deselector)||t.editor_selector&&!a(e,t.editor_selector)||n.push(e)})}return n},c=function(t){e=t},u=function(){var e,n=0,a=[],h=function(t,r,o){var s=new LA(t,r,i);a.push(s),s.on("init",function(){++n===e.length&&c(a)}),s.targetElm=s.targetElm||o,s.render()};JA.unbind(window,"ready",u),s("onpageload"),e=_i.unique(l(t)),t.types?eM(t.types,function(n){oi.each(e,function(e){return!JA.is(e,n.selector)||(h(o(e),nM({},t,n),e),!1)})}):(oi.each(e,function(t){hM(i.get(t.id))}),0===(e=oi.grep(e,function(t){return!i.get(t.id)})).length?c([]):eM(e,function(e){r(t,e)?tw.initError("Could not initialize inline editor on invalid inline target element",e):h(o(e),t,e)}))};return i.settings=t,JA.bind(window,"ready",u),new He(function(t){e?t(e):c=function(e){t(e)}})},get:function(t){return 0===arguments.length?sM.slice(0):Tt.isString(t)?oe.find(sM,function(e){return e.id===t}).getOr(null):Tt.isNumber(t)&&sM[t]?sM[t]:null},add:function(t){var e=this;return oM[t.id]===t?t:(null===e.get(t.id)&&(aM(t.id)&&(oM[t.id]=t),oM.push(t),sM.push(t)),cM(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),OA||(OA=function(){e.fire("BeforeUnload")},JA.bind(window,"beforeunload",OA)),t)},createEditor:function(t,e){return this.add(new LA(t,e,this))},remove:function(t){var e,n,i=this;if(t)return Tt.isString(t)?(t=t.selector||t,void eM(JA.select(t),function(t){(n=i.get(t.id))&&i.remove(n)})):(n=t,Tt.isNull(i.get(n.id))?null:(uM(n)&&i.fire("RemoveEditor",{editor:n}),0===sM.length&&JA.unbind(window,"beforeunload",OA),n.remove(),cM(sM.length>0),n));for(e=sM.length-1;e>=0;e--)i.remove(sM[e])},execCommand:function(t,e,n){var i=this,r=i.get(n);switch(t){case"mceAddEditor":return i.get(n)||new LA(n,i.settings,i).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(i.execCommand("mceAddEditor",0,n),!0)}return!!i.activeEditor&&i.activeEditor.execCommand(t,e,n)},triggerSave:function(){eM(sM,function(t){t.save()})},addI18n:function(t,e){ZA.add(t,e)},translate:function(t){return ZA.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},Gy),PA.setup();var dM=PA;!function(t){t.compareRanges=zv.isEq,t.getCaretRangeFromPoint=Vk.fromPoint,t.getSelectedNode=Il,t.getNode=Nl}(nt||(nt={}));var fM,pM,gM=nt,mM=Math.min,vM=Math.max,yM=Math.round,bM=function(t,e,n){var i,r,o,s,a,l;return i=e.x,r=e.y,o=t.w,s=t.h,a=e.w,l=e.h,"b"===(n=(n||"").split(""))[0]&&(r+=l),"r"===n[1]&&(i+=a),"c"===n[0]&&(r+=yM(l/2)),"c"===n[1]&&(i+=yM(a/2)),"b"===n[3]&&(r-=s),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=yM(s/2)),"c"===n[4]&&(i-=yM(o/2)),SM(i,r,o,s)},wM=function(t,e,n){return SM(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},xM=function(t,e){var n,i,r,o;return n=vM(t.x,e.x),i=vM(t.y,e.y),r=mM(t.x+t.w,e.x+e.w),o=mM(t.y+t.h,e.y+e.h),r-n<0||o-i<0?null:SM(n,i,r-n,o-i)},CM=function(t,e,n){var i,r,o,s,a,l,c,u,h,d;return a=t.x,l=t.y,c=t.x+t.w,u=t.y+t.h,h=e.x+e.w,d=e.y+e.h,i=vM(0,e.x-a),r=vM(0,e.y-l),o=vM(0,c-h),s=vM(0,u-d),a+=i,l+=r,n&&(c+=i,u+=r,a-=o,l-=s),SM(a,l,(c-=o)-a,(u-=s)-l)},SM=function(t,e,n,i){return{x:t,y:e,w:n,h:i}},kM={inflate:wM,relativePosition:bM,findBestRelativePosition:function(t,e,n,i){var r,o;for(o=0;o<i.length;o++)if((r=bM(t,e,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:xM,clamp:CM,create:SM,fromClientRect:function(t){return SM(t.left,t.top,t.width,t.height)}},_M={},EM={add:function(t,e){_M[t.toLowerCase()]=e},has:function(t){return!!_M[t.toLowerCase()]},get:function(t){var e=t.toLowerCase(),n=_M.hasOwnProperty(e)?_M[e]:null;if(null===n)throw new Error("Could not find module for type: "+t);return n},create:function(t,e){var n;if("string"==typeof t?(e=e||{}).type=t:t=(e=t).type,t=t.toLowerCase(),!(n=_M[t]))throw new Error("Could not find control by type: "+t);return(n=new n(e)).type=t,n}},TM=oi.each,AM=oi.extend,MM=function(){};MM.extend=fM=function(t){var e,n,i,r=this,o=r.prototype,s=function(){var t,e,n,i=this;if(!pM&&(i.init&&i.init.apply(i,arguments),e=i.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(i,arguments)},a=function(){return this},l=function(t,e){return function(){var n,i=this,r=i._super;return i._super=o[t],n=e.apply(i,arguments),i._super=r,n}};for(n in pM=!0,e=new r,pM=!1,t.Mixins&&(TM(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),o.Mixins&&(t.Mixins=o.Mixins.concat(t.Mixins))),t.Methods&&TM(t.Methods.split(","),function(e){t[e]=a}),t.Properties&&TM(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){var e=this;return t!==undefined?(e[n]=t,e):e[n]}}),t.Statics&&TM(t.Statics,function(t,e){s[e]=t}),t.Defaults&&o.Defaults&&(t.Defaults=AM({},o.Defaults,t.Defaults)),t)"function"==typeof(i=t[n])&&o[n]?e[n]=l(n,i):e[n]=i;return s.prototype=e,s.constructor=s,s.extend=fM,s};var RM=Math.min,DM=Math.max,LM=Math.round,$M=function(t){var e={},n=0,i=0,r=0,o=function(t,e,n){var i,r,o,s;return i=0,r=0,(o=RM(t/=255,RM(e/=255,n/=255)))===(s=DM(t,DM(e,n)))?{h:0,s:0,v:100*(r=o)}:(i=(s-o)/s,r=s,{h:LM(60*((t===o?3:n===o?1:5)-(t===o?e-n:n===o?t-e:n-t)/(s-o))),s:LM(100*i),v:LM(100*r)})},s=function(t,e,o){var s,a,l,c;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,o=parseInt(o,10)/100,e=DM(0,RM(e,1)),o=DM(0,RM(o,1)),0!==e){switch(s=t/60,l=(a=o*e)*(1-Math.abs(s%2-1)),c=o-a,Math.floor(s)){case 0:n=a,i=l,r=0;break;case 1:n=l,i=a,r=0;break;case 2:n=0,i=a,r=l;break;case 3:n=0,i=l,r=a;break;case 4:n=l,i=0,r=a;break;case 5:n=a,i=0,r=l;break;default:n=i=r=0}n=LM(255*(n+c)),i=LM(255*(i+c)),r=LM(255*(r+c))}else n=i=r=LM(255*o)},a=function(){var t=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+t(n)+t(i)+t(r)},l=function(){return{r:n,g:i,b:r}},c=function(){return o(n,i,r)},u=function(t){var o;return"object"==typeof t?"r"in t?(n=t.r,i=t.g,r=t.b):"v"in t&&s(t.h,t.s,t.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(o[1],10),i=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(o[1]+o[1],16),i=parseInt(o[2]+o[2],16),r=parseInt(o[3]+o[3],16)),n=n<0?0:n>255?255:n,i=i<0?0:i>255?255:i,r=r<0?0:r>255?255:r,e};return t&&u(t),e.toRgb=l,e.toHsv=c,e.toHex=a,e.parse=u,e},OM=function(t,e){var n,i,r,o;if(e=e||'"',null===t)return"null";if("string"==(r=typeof t))return i="\bb\tt\nn\ff\rr\"\"''\\\\",e+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,r){return'"'===e&&"'"===t?t:(n=i.indexOf(r))+1?"\\"+i.charAt(n+1):(t=r.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t)})+e;if("object"===r){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(n=0,i="[";n<t.length;n++)i+=(n>0?",":"")+OM(t[n],e);return i+"]"}for(o in i="{",t)t.hasOwnProperty(o)&&(i+="function"!=typeof t[o]?(i.length>1?","+e:e)+o+e+":"+OM(t[o],e):"");return i+"}"}return""+t},PM={serialize:OM,parse:function(t){try{return JSON.parse(t)}catch(e){}}},IM={callbacks:{},count:0,send:function(t){var e=this,n=Fa.DOM,i=t.count!==undefined?t.count:e.count,r="tinymce_jsonp_"+i;e.callbacks[i]=function(o){n.remove(r),delete e.callbacks[i],t.callback(o)},n.add(n.doc.body,"script",{id:r,src:t.url,type:"text/javascript"}),e.count++}},NM={send:function(t){var e,n=0,i=function(){!t.async||4===e.readyState||n++>1e4?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,n>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):setTimeout(i,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",NM.fire("beforeInitialize",{settings:t}),e=new N){if(e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&oi.each(t.requestheaders,function(t){e.setRequestHeader(t.key,t.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),(e=NM.fire("beforeSend",{xhr:e,settings:t}).xhr).send(t.data),!t.async)return i();setTimeout(i,10)}}};oi.extend(NM,Gy);var BM=oi.extend,FM=function(t){this.settings=BM({},t),this.count=0};FM.sendRPC=function(t){return(new FM).send(t)},FM.prototype={send:function(t){var e=t.error,n=t.success;(t=BM(this.settings,t)).success=function(i,r){void 0===(i=PM.parse(i))&&(i={error:"JSON Parse error."}),i.error?e.call(t.error_scope||t.scope,i.error,r):n.call(t.success_scope||t.scope,i.result)},t.error=function(n,i){e&&e.call(t.error_scope||t.scope,n,i)},t.data=PM.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),t.content_type="application/json",NM.send(t)}};var HM=window.localStorage,zM=dM,WM={geom:{Rect:kM},util:{Promise:He,Delay:Ue,Tools:oi,VK:Tx,URI:oA,Class:MM,EventDispatcher:jy,Observable:Gy,I18n:ZA,XHR:NM,JSON:PM,JSONRequest:FM,JSONP:IM,LocalStorage:HM,Color:$M},dom:{EventUtils:rn,Sizzle:Wn,DomQuery:_i,TreeWalker:w,DOMUtils:Fa,ScriptLoader:qa,RangeUtils:gM,Serializer:J,ControlSelection:zk,BookmarkManager:Nk,Selection:N_,Event:rn.Event},html:{Styles:C,Entities:ba,Node:bk,Schema:x,SaxParser:Bx,DomParser:Q,Writer:T,Serializer:A},ui:{Factory:EM},Env:Be,AddOnManager:k,Formatter:X,UndoManager:Y,EditorCommands:R,WindowManager:I,NotificationManager:O,EditorObservable:vb,Shortcuts:L,Editor:LA,FocusManager:IA,EditorManager:dM,DOM:Fa.DOM,ScriptLoader:qa.ScriptLoader,PluginManager:k.PluginManager,ThemeManager:k.ThemeManager,trim:oi.trim,isArray:oi.isArray,is:oi.is,toArray:oi.toArray,makeMap:oi.makeMap,each:oi.each,map:oi.map,grep:oi.grep,inArray:oi.inArray,extend:oi.extend,create:oi.create,walk:oi.walk,createNS:oi.createNS,resolve:oi.resolve,explode:oi.explode,_addCacheSuffix:oi._addCacheSuffix,isOpera:Be.opera,isWebKit:Be.webkit,isIE:Be.ie,isGecko:Be.gecko,isMac:Be.mac},jM=zM=oi.extend(zM,WM),qM=function(t){if("object"==typeof module)try{module.exports=t}catch(e){}};(function(t){window.tinymce=t,window.tinyMCE=t})(jM),qM(jM)}(),function(){var t,e,n,i,r,o=[];r="undefined"!=typeof global?global:window,i=r.jQuery;var s=function(){return r.tinymce};i.fn.tinymce=function(t){var l,c,u,h=this,d="";if(!h.length)return h;if(!t)return s()?s().get(h[0].id):null;h.css("visibility","hidden");var f=function(){var e=[],r=0;n||(a(),n=!0),h.each(function(n,i){var o,a=i.id,l=t.oninit;a||(i.id=a=s().DOM.uniqueId()),s().get(a)||(o=s().createEditor(a,t),e.push(o),o.on("init",function(){var t,n=l;h.css("visibility",""),l&&++r==e.length&&("string"==typeof n&&(t=-1===n.indexOf(".")?null:s().resolve(n.replace(/\.\w+$/,"")),n=s().resolve(n)),n.apply(t||s(),e))}))}),i.each(e,function(t,e){e.render()})};if(r.tinymce||e||!(l=t.script_url))1===e?o.push(f):f();else{e=1,c=l.substring(0,l.lastIndexOf("/")),-1!=l.indexOf(".min")&&(d=".min"),r.tinymce=r.tinyMCEPreInit||{base:c,suffix:d},-1!=l.indexOf("gzip")&&(u=t.language||"en",l=l+(/\?/.test(l)?"&":"?")+"js=true&core=true&suffix="+escape(d)+"&themes="+escape(t.theme||"modern")+"&plugins="+escape(t.plugins||"")+"&languages="+(u||""),r.tinyMCE_GZ||(r.tinyMCE_GZ={start:function(){var e=function(t){s().ScriptLoader.markDone(s().baseURI.toAbsolute(t))};e("langs/"+u+".js"),e("themes/"+t.theme+"/theme"+d+".js"),e("themes/"+t.theme+"/langs/"+u+".js"),i.each(t.plugins.split(","),function(t,n){n&&(e("plugins/"+n+"/plugin"+d+".js"),e("plugins/"+n+"/langs/"+u+".js"))})},end:function(){}}));var p=document.createElement("script");p.type="text/javascript",p.onload=p.onreadystatechange=function(n){n=n||window.event,2===e||"load"!=n.type&&!/complete|loaded/.test(p.readyState)||(s().dom.Event.domLoaded=1,e=2,t.script_loaded&&t.script_loaded(),f(),i.each(o,function(t,e){e()}))},p.src=l,document.body.appendChild(p)}return h},i.extend(i.expr[":"],{tinymce:function(t){var e;return!!(t.id&&"tinymce"in r&&(e=s().get(t.id))&&e.editorManager===s())}});var a=function(){var e=function(t){"remove"===t&&this.each(function(t,e){var n=o(e);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(t,e){var n=s().get(e.id.replace(/_parent$/,""));n&&n.remove()})},n=function(t){var n,i=this;if(null!=t)e.call(i),i.each(function(e,n){var i;(i=s().get(n.id))&&i.setContent(t)});else if(0<i.length&&(n=s().get(i[0].id)))return n.getContent()},o=function(t){var e=null;return t&&t.id&&r.tinymce&&(e=s().get(t.id)),e},a=function(t){return!!(t&&t.length&&r.tinymce&&t.is(":tinymce"))},l={};i.each(["text","html","val"],function(e,r){var s=l[r]=i.fn[r],c="text"===r;i.fn[r]=function(e){var r=this;if(!a(r))return s.apply(r,arguments);if(e!==t)return n.call(r.filter(":tinymce"),e),s.apply(r.not(":tinymce"),arguments),r;var l="",u=arguments;return(c?r:r.eq(0)).each(function(t,e){var n=o(e);l+=n?c?n.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):n.getContent({save:!0}):s.apply(i(e),u)}),l}}),i.each(["append","prepend"],function(e,n){var r=l[n]=i.fn[n],s="prepend"===n;i.fn[n]=function(e){var n=this;return a(n)?e!==t?("string"==typeof e&&n.filter(":tinymce").each(function(t,n){var i=o(n);i&&i.setContent(s?e+i.getContent():i.getContent()+e)}),r.apply(n.not(":tinymce"),arguments),n):void 0:r.apply(n,arguments)}}),i.each(["remove","replaceWith","replaceAll","empty"],function(t,n){var r=l[n]=i.fn[n];i.fn[n]=function(){return e.call(this,n),r.apply(this,arguments)}}),l.attr=i.fn.attr,i.fn.attr=function(e,r){var s=this,c=arguments;if(!e||"value"!==e||!a(s))return l.attr.apply(s,c);if(r!==t)return n.call(s.filter(":tinymce"),r),l.attr.apply(s.not(":tinymce"),c),s;var u=s[0],h=o(u);return h?h.getContent({save:!0}):l.attr.apply(i(u),c)}}}();var TinyMCEActivator={editor:null,activated:!1,selector:"textarea.tinymce",height:300,activate:function(){$(this.selector).length>0&&(tinyMCE.remove(),this.editor=tinyMCE.init({selector:this.selector,toolbar:["styleselect | bold italic | undo redo, image, uploadimage | numlist, bullist | link | code | emoticons"],plugins:"image,uploadimage,link,code,preview,table,lists,emoticons",menubar:"edit insert format table tools",uploadimage_form_url:"/admin/tinymce_assets",valid_elements:"+*[*]",extended_valid_elements:"+*[*]",valid_children:"+*[*]",element_format:"html",cleanup:!1,auto_focus:!1,init_instance_callback:function(){setTimeout(function(){tinyMCE.get()[0].focus()},300)}}),this.activated=!0)}};
//! moment.js
//! version : 2.20.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Ti.apply(null,arguments)}function e(t){Ti=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t){return void 0===t}function s(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return ke(t,e,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(t){return null==t._pf&&(t._pf=d()),t._pf}function p(t){if(null==t._isValid){var e=f(t),n=Ai.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&e.bigHour===undefined),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function g(t){var e=h(NaN);return null!=t?u(f(e),t):f(e).userInvalidated=!0,e}function m(t,e){var n,i,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=f(e)),o(e._locale)||(t._locale=e._locale),Ri.length>0)for(n=0;n<Ri.length;n++)o(r=e[i=Ri[n]])||(t[i]=r);return t}function v(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Di&&(Di=!0,t.updateOffset(this),Di=!1)}function y(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function x(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&w(t[i])!==w(e[i]))&&s++;return s+o}function C(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,n){var i=!0;return u(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){for(var r,o=[],s=0;s<arguments.length;s++){if(r="","object"==typeof arguments[s]){for(var a in r+="\n["+s+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];o.push(r)}C(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function k(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),Li[e]||(C(n),Li[e]=!0)}function _(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function E(t){var e,n;for(n in t)_(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(t,e){var n,r=u({},t);for(n in e)c(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},u(r[n],t[n]),u(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)c(t,n)&&!c(e,n)&&i(t[n])&&(r[n]=u({},r[n]));return r}function A(t){null!=t&&this.set(t)}function M(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return _(i)?i.call(e,n):i}function R(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function D(){return this._invalidDate}function L(t){return this._ordinal.replace("%d",t)}function $(t,e,n,i){var r=this._relativeTime[n];return _(r)?r(t,e,n,i):r.replace(/%d/i,t)}function O(t,e){var n=this._relativeTime[t>0?"future":"past"];return _(n)?n(e):n.replace(/%s/i,e)}function P(t,e){var n=t.toLowerCase();Fi[n]=Fi[n+"s"]=Fi[e]=t}function I(t){return"string"==typeof t?Fi[t]||Fi[t.toLowerCase()]:undefined}function N(t){var e,n,i={};for(n in t)c(t,n)&&(e=I(n))&&(i[e]=t[n]);return i}function B(t,e){Hi[t]=e}function F(t){var e=[];for(var n in t)e.push({unit:n,priority:Hi[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function H(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function z(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(qi[t]=r),e&&(qi[e[0]]=function(){return H(r.apply(this,arguments),e[1],e[2])}),n&&(qi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function W(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function j(t){var e,n,i=t.match(zi);for(e=0,n=i.length;e<n;e++)qi[i[e]]?i[e]=qi[i[e]]:i[e]=W(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=_(i[r])?i[r].call(e,t):i[r];return o}}function q(t,e){return t.isValid()?(e=U(e,t.localeData()),ji[e]=ji[e]||j(e),ji[e](t)):t.localeData().invalidDate()}function U(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Wi.lastIndex=0;i>=0&&Wi.test(t);)t=t.replace(Wi,n),Wi.lastIndex=0,i-=1;return t}function V(t,e,n){lr[t]=_(e)?e:function(t){return t&&n?n:e}}function G(t,e){return c(lr,t)?lr[t](e._strict,e._locale):new RegExp(Y(t))}function Y(t){return K(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function K(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),s(e)&&(i=function(t,n){n[e]=w(t)}),n=0;n<t.length;n++)cr[t[n]]=i}function Q(t,e){X(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function Z(t,e,n){null!=e&&c(cr,t)&&cr[t](e,n._a,n,t)}function J(t){return tt(t)?366:365}function tt(t){return t%4==0&&t%100!=0||t%400==0}function et(){return tt(this.year())}function nt(e,n){return function(i){return null!=i?(rt(this,e,i),t.updateOffset(this,n),this):it(this,e)}}function it(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function rt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&tt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),lt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function ot(t){return _(this[t=I(t)])?this[t]():this}function st(t,e){if("object"==typeof t)for(var n=F(t=N(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(_(this[t=I(t)]))return this[t](e);return this}function at(t,e){return(t%e+e)%e}function lt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=at(e,12);return t+=(e-n)/12,1===n?tt(t)?29:28:31-n%7%2}function ct(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||xr).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone}function ut(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[xr.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ht(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=br.call(this._shortMonthsParse,s))?r:null:-1!==(r=br.call(this._longMonthsParse,s))?r:null:"MMM"===e?-1!==(r=br.call(this._shortMonthsParse,s))?r:-1!==(r=br.call(this._longMonthsParse,s))?r:null:-1!==(r=br.call(this._longMonthsParse,s))?r:-1!==(r=br.call(this._shortMonthsParse,s))?r:null}function dt(t,e,n){var i,r,o;if(this._monthsParseExact)return ht.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function ft(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(!s(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),lt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function pt(e){return null!=e?(ft(this,e),t.updateOffset(this,!0),this):it(this,"Month")}function gt(){return lt(this.year(),this.month())}function mt(t){return this._monthsParseExact?(c(this,"_monthsRegex")||yt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=kr),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(t){return this._monthsParseExact?(c(this,"_monthsRegex")||yt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=_r),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function yt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=K(i[e]),r[e]=K(r[e]);for(e=0;e<24;e++)o[e]=K(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function bt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function wt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function xt(t,e,n){var i=7+e-n;return-((7+wt(t,0,i).getUTCDay()-e)%7)+i-1}function Ct(t,e,n,i,r){var o,s,a=1+7*(e-1)+(7+n-i)%7+xt(t,i,r);return a<=0?s=J(o=t-1)+a:a>J(t)?(o=t+1,s=a-J(t)):(o=t,s=a),{year:o,dayOfYear:s}}function St(t,e,n){var i,r,o=xt(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?i=s+kt(r=t.year()-1,e,n):s>kt(t.year(),e,n)?(i=s-kt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function kt(t,e,n){var i=xt(t,e,n),r=xt(t+1,e,n);return(J(t)-i+r)/7}function _t(t){return St(t,this._week.dow,this._week.doy).week}function Et(){return this._week.dow}function Tt(){return this._week.doy}function At(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Mt(t){var e=St(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Rt(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Dt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Lt(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function $t(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Ot(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Pt(t,e,n){var i,r,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=br.call(this._weekdaysParse,s))?r:null:"ddd"===e?-1!==(r=br.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=br.call(this._minWeekdaysParse,s))?r:null:"dddd"===e?-1!==(r=br.call(this._weekdaysParse,s))?r:-1!==(r=br.call(this._shortWeekdaysParse,s))?r:-1!==(r=br.call(this._minWeekdaysParse,s))?r:null:"ddd"===e?-1!==(r=br.call(this._shortWeekdaysParse,s))?r:-1!==(r=br.call(this._weekdaysParse,s))?r:-1!==(r=br.call(this._minWeekdaysParse,s))?r:null:-1!==(r=br.call(this._minWeekdaysParse,s))?r:-1!==(r=br.call(this._weekdaysParse,s))?r:-1!==(r=br.call(this._shortWeekdaysParse,s))?r:null}function It(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Pt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Nt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Rt(t,this.localeData()),this.add(t-e,"d")):e}function Bt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ft(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Dt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ht(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Rr),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function zt(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Dr),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wt(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||jt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Lr),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function jt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,s=[],a=[],l=[],c=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(i),a.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(s.sort(t),a.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)a[e]=K(a[e]),l[e]=K(l[e]),c[e]=K(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function qt(){return this.hours()%12||12}function Ut(){return this.hours()||24}function Vt(t,e){z(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Gt(t,e){return e._meridiemParse}function Yt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Kt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Xt(t){return t?t.toLowerCase().replace("_","-"):t}function Qt(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=Xt(t[o]).split("-")).length,n=(n=Xt(t[o+1]))?n.split("-"):null;e>0;){if(i=Zt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&x(r,n,!0)>=e-1)break;e--}o++}return null}function Zt(t){var e=null;if(!Nr[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=$r._abbr,require("./locale/"+t),Jt(e)}catch(n){}return Nr[t]}function Jt(t,e){var n;return t&&(n=o(e)?ne(t):te(t,e))&&($r=n),$r._abbr}function te(t,e){if(null!==e){var n=Ir;if(e.abbr=t,null!=Nr[t])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Nr[t]._config;else if(null!=e.parentLocale){if(null==Nr[e.parentLocale])return Br[e.parentLocale]||(Br[e.parentLocale]=[]),Br[e.parentLocale].push({name:t,config:e}),null;n=Nr[e.parentLocale]._config}return Nr[t]=new A(T(n,e)),Br[t]&&Br[t].forEach(function(t){te(t.name,t.config)}),Jt(t),Nr[t]}return delete Nr[t],null}function ee(t,e){if(null!=e){var n,i,r=Ir;null!=(i=Zt(t))&&(r=i._config),(n=new A(e=T(r,e))).parentLocale=Nr[t],Nr[t]=n,Jt(t)}else null!=Nr[t]&&(null!=Nr[t].parentLocale?Nr[t]=Nr[t].parentLocale:null!=Nr[t]&&delete Nr[t]);return Nr[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return $r;if(!n(t)){if(e=Zt(t))return e;t=[t]}return Qt(t)}function ie(){return Mi(Nr)}function re(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[hr]<0||n[hr]>11?hr:n[dr]<1||n[dr]>lt(n[ur],n[hr])?dr:n[fr]<0||n[fr]>24||24===n[fr]&&(0!==n[pr]||0!==n[gr]||0!==n[mr])?fr:n[pr]<0||n[pr]>59?pr:n[gr]<0||n[gr]>59?gr:n[mr]<0||n[mr]>999?mr:-1,f(t)._overflowDayOfYear&&(e<ur||e>dr)&&(e=dr),f(t)._overflowWeeks&&-1===e&&(e=vr),f(t)._overflowWeekday&&-1===e&&(e=yr),f(t).overflow=e),t}function oe(t,e,n){return null!=t?t:null!=e?e:n}function se(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ae(t){var e,n,i,r,o,s=[];if(!t._d){for(i=se(t),t._w&&null==t._a[dr]&&null==t._a[hr]&&le(t),null!=t._dayOfYear&&(o=oe(t._a[ur],i[ur]),(t._dayOfYear>J(o)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=wt(o,0,t._dayOfYear),t._a[hr]=n.getUTCMonth(),t._a[dr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[fr]&&0===t._a[pr]&&0===t._a[gr]&&0===t._a[mr]&&(t._nextDay=!0,t._a[fr]=0),t._d=(t._useUTC?wt:bt).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[fr]=24),t._w&&"undefined"!=typeof t._w.d&&t._w.d!==r&&(f(t).weekdayMismatch=!0)}}function le(t){var e,n,i,r,o,s,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,s=4,n=oe(e.GG,t._a[ur],St(_e(),1,4).year),i=oe(e.W,1),((r=oe(e.E,1))<1||r>7)&&(l=!0);else{o=t._locale._week.dow,s=t._locale._week.doy;var c=St(_e(),o,s);n=oe(e.gg,t._a[ur],c.year),i=oe(e.w,c.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o}i<1||i>kt(n,o,s)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(a=Ct(n,i,r,o,s),t._a[ur]=a.year,t._dayOfYear=a.dayOfYear)}function ce(t){var e,n,i,r,o,s,a=t._i,l=Fr.exec(a)||Hr.exec(a);if(l){for(f(t).iso=!0,e=0,n=Wr.length;e<n;e++)if(Wr[e][1].exec(l[1])){r=Wr[e][0],i=!1!==Wr[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=jr.length;e<n;e++)if(jr[e][1].exec(l[3])){o=(l[2]||" ")+jr[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!zr.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),ve(t)}else t._isValid=!1}function ue(t,e,n,i,r,o){var s=[he(t),Sr.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}function he(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function de(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function fe(t,e,n){if(t&&Ar.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return f(n).weekdayMismatch=!0,n._isValid=!1,!1;return!0}function pe(t,e,n){if(t)return Vr[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return 60*((i-r)/100)+r}function ge(t){var e=Ur.exec(de(t._i));if(e){var n=ue(e[4],e[3],e[2],e[5],e[6],e[7]);if(!fe(e[1],n,t))return;t._a=n,t._tzm=pe(e[8],e[9],e[10]),t._d=wt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function me(e){var n=qr.exec(e._i);null===n?(ce(e),!1===e._isValid&&(delete e._isValid,ge(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))):e._d=new Date(+n[1])}function ve(e){if(e._f!==t.ISO_8601)if(e._f!==t.RFC_2822){e._a=[],f(e).empty=!0;var n,i,r,o,s,a=""+e._i,l=a.length,c=0;for(r=U(e._f,e._locale).match(zi)||[],n=0;n<r.length;n++)o=r[n],(i=(a.match(G(o,e))||[])[0])&&((s=a.substr(0,a.indexOf(i))).length>0&&f(e).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),qi[o]?(i?f(e).empty=!1:f(e).unusedTokens.push(o),Z(o,i,e)):e._strict&&!i&&f(e).unusedTokens.push(o);f(e).charsLeftOver=l-c,a.length>0&&f(e).unusedInput.push(a),e._a[fr]<=12&&!0===f(e).bigHour&&e._a[fr]>0&&(f(e).bigHour=undefined),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[fr]=ye(e._locale,e._a[fr],e._meridiem),ae(e),re(e)}else ge(e);else ce(e)}function ye(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function be(t){var e,n,i,r,o;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ve(e),p(e)&&(o+=f(e).charsLeftOver,o+=10*f(e).unusedTokens.length,f(e).score=o,(null==i||o<i)&&(i=o,n=e));u(t,n||e)}function we(t){if(!t._d){var e=N(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ae(t)}}function xe(t){var e=new v(re(Ce(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=undefined),e}function Ce(t){var e=t._i,i=t._f;return t._locale=t._locale||ne(t._l),null===e||i===undefined&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new v(re(e)):(a(e)?t._d=e:n(i)?be(t):i?ve(t):Se(t),p(t)||(t._d=null),t))}function Se(e){var r=e._i;o(r)?e._d=new Date(t.now()):a(r)?e._d=new Date(r.valueOf()):"string"==typeof r?me(e):n(r)?(e._a=l(r.slice(0),function(t){return parseInt(t,10)}),ae(e)):i(r)?we(e):s(r)?e._d=new Date(r):t.createFromInputFallback(e)}function ke(t,e,o,s,a){var l={};return!0!==o&&!1!==o||(s=o,o=undefined),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=undefined),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=o,l._i=t,l._f=e,l._strict=s,xe(l)}function _e(t,e,n,i){return ke(t,e,n,i,!1)}function Ee(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return _e();for(i=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](i)||(i=e[r]);return i}function Te(){return Ee("isBefore",[].slice.call(arguments,0))}function Ae(){return Ee("isAfter",[].slice.call(arguments,0))}function Me(t){for(var e in t)if(-1===br.call(Xr,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Xr.length;++i)if(t[Xr[i]]){if(n)return!1;parseFloat(t[Xr[i]])!==w(t[Xr[i]])&&(n=!0)}return!0}function Re(){return this._isValid}function De(){return Xe(NaN)}function Le(t){var e=N(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=Me(e),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ne(),this._bubble()}function $e(t){return t instanceof Le}function Oe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Pe(t,e){z(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+H(~~(t/60),2)+e+H(~~t%60,2)})}function Ie(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Qr)||["-",0,0],r=60*i[1]+w(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Ne(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(y(e)||a(e)?e.valueOf():_e(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):_e(e).local()}function Be(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Fe(e,n,i){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ie(or,e)))return this}else Math.abs(e)<16&&!i&&(e*=60);return!this._isUTC&&n&&(r=Be(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!n||this._changeInProgress?en(this,Xe(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Be(this)}function He(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function ze(t){return this.utcOffset(0,t)}function We(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Be(this),"m")),this}function je(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ie(rr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function qe(t){return!!this.isValid()&&(t=t?_e(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function Ue(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ve(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),(t=Ce(t))._a){var e=t._isUTC?h(t._a):_e(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ge(){return!!this.isValid()&&!this._isUTC}function Ye(){return!!this.isValid()&&this._isUTC}function Ke(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Xe(t,e){var n,i,r,o=t,a=null;return $e(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:s(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Zr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:w(a[dr])*n,h:w(a[fr])*n,m:w(a[pr])*n,s:w(a[gr])*n,ms:w(Oe(1e3*a[mr]))*n}):(a=Jr.exec(t))?(n="-"===a[1]?-1:(a[1],1),o={y:Qe(a[2],n),M:Qe(a[3],n),w:Qe(a[4],n),d:Qe(a[5],n),h:Qe(a[6],n),m:Qe(a[7],n),s:Qe(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Je(_e(o.from),_e(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Le(o),$e(t)&&c(t,"_locale")&&(i._locale=t._locale),i}function Qe(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ze(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Je(t,e){var n;return t.isValid()&&e.isValid()?(e=Ne(e,t),t.isBefore(e)?n=Ze(t,e):((n=Ze(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),en(this,Xe(n="string"==typeof n?+n:n,i),t),this}}function en(e,n,i,r){var o=n._milliseconds,s=Oe(n._days),a=Oe(n._months);e.isValid()&&(r=null==r||r,a&&ft(e,it(e,"Month")+a*i),s&&rt(e,"Date",it(e,"Date")+s*i),o&&e._d.setTime(e._d.valueOf()+o*i),r&&t.updateOffset(e,s||a))}function nn(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(e,n){var i=e||_e(),r=Ne(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",s=n&&(_(n[o])?n[o].call(this,i):n[o]);return this.format(s||this.localeData().calendar(o,this,_e(i)))}function on(){return new v(this)}function sn(t,e){var n=y(t)?t:_e(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(o(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function an(t,e){var n=y(t)?t:_e(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=I(o(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ln(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function cn(t,e){var n,i=y(t)?t:_e(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=I(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function un(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function hn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function dn(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Ne(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=I(e)){case"year":o=fn(this,i)/12;break;case"month":o=fn(this,i);break;case"quarter":o=fn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:b(o)}function fn(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function pn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gn(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):_(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",q(n,"Z")):q(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function mn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]';return this.format(n+i+r+o)}function vn(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=q(this,e);return this.localeData().postformat(n)}function yn(t,e){return this.isValid()&&(y(t)&&t.isValid()||_e(t).isValid())?Xe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bn(t){return this.from(_e(),t)}function wn(t,e){return this.isValid()&&(y(t)&&t.isValid()||_e(t).isValid())?Xe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function xn(t){return this.to(_e(),t)}function Cn(t){var e;return t===undefined?this._locale._abbr:(null!=(e=ne(t))&&(this._locale=e),this)}function Sn(){return this._locale}function kn(t){switch(t=I(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function _n(t){return(t=I(t))===undefined||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function En(){return this._d.valueOf()-6e4*(this._offset||0)}function Tn(){return Math.floor(this.valueOf()/1e3)}function An(){return new Date(this.valueOf())}function Mn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Rn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Dn(){return this.isValid()?this.toISOString():null}function Ln(){return p(this)}function $n(){return u({},f(this))}function On(){return f(this).overflow}function Pn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function In(t,e){z(0,[t,t.length],0,e)}function Nn(t){
return zn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Bn(t){return zn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Fn(){return kt(this.year(),1,4)}function Hn(){var t=this.localeData()._week;return kt(this.year(),t.dow,t.doy)}function zn(t,e,n,i,r){var o;return null==t?St(this,i,r).year:(e>(o=kt(t,i,r))&&(e=o),Wn.call(this,t,e,n,i,r))}function Wn(t,e,n,i,r){var o=Ct(t,e,n,i,r),s=wt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function jn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function qn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Un(t,e){e[mr]=w(1e3*("0."+t))}function Vn(){return this._isUTC?"UTC":""}function Gn(){return this._isUTC?"Coordinated Universal Time":""}function Yn(t){return _e(1e3*t)}function Kn(){return _e.apply(null,arguments).parseZone()}function Xn(t){return t}function Qn(t,e,n,i){var r=ne(),o=h().set(i,e);return r[n](o,t)}function Zn(t,e,n){if(s(t)&&(e=t,t=undefined),t=t||"",null!=e)return Qn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Qn(t,i,n,"month");return r}function Jn(t,e,n,i){"boolean"==typeof t?(s(e)&&(n=e,e=undefined),e=e||""):(n=e=t,t=!1,s(e)&&(n=e,e=undefined),e=e||"");var r,o=ne(),a=t?o._week.dow:0;if(null!=n)return Qn(e,(n+a)%7,i,"day");var l=[];for(r=0;r<7;r++)l[r]=Qn(e,(r+a)%7,i,"day");return l}function ti(t,e){return Zn(t,e,"months")}function ei(t,e){return Zn(t,e,"monthsShort")}function ni(t,e,n){return Jn(t,e,n,"weekdays")}function ii(t,e,n){return Jn(t,e,n,"weekdaysShort")}function ri(t,e,n){return Jn(t,e,n,"weekdaysMin")}function oi(){var t=this._data;return this._milliseconds=uo(this._milliseconds),this._days=uo(this._days),this._months=uo(this._months),t.milliseconds=uo(t.milliseconds),t.seconds=uo(t.seconds),t.minutes=uo(t.minutes),t.hours=uo(t.hours),t.months=uo(t.months),t.years=uo(t.years),this}function si(t,e,n,i){var r=Xe(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function ai(t,e){return si(this,t,e,1)}function li(t,e){return si(this,t,e,-1)}function ci(t){return t<0?Math.floor(t):Math.ceil(t)}function ui(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*ci(di(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=b(o/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,a+=r=b(hi(s+=b(n/24))),s-=ci(di(r)),i=b(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function hi(t){return 4800*t/146097}function di(t){return 146097*t/4800}function fi(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=I(t))||"year"===t)return e=this._days+i/864e5,n=this._months+hi(e),"month"===t?n:n/12;switch(e=this._days+Math.round(di(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function pi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN}function gi(t){return function(){return this.as(t)}}function mi(){return Xe(this)}function vi(t){return t=I(t),this.isValid()?this[t+"s"]():NaN}function yi(t){return function(){return this.isValid()?this._data[t]:NaN}}function bi(){return b(this.days()/7)}function wi(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function xi(t,e,n){var i=Xe(t).abs(),r=To(i.as("s")),o=To(i.as("m")),s=To(i.as("h")),a=To(i.as("d")),l=To(i.as("M")),c=To(i.as("y")),u=r<=Ao.ss&&["s",r]||r<Ao.s&&["ss",r]||o<=1&&["m"]||o<Ao.m&&["mm",o]||s<=1&&["h"]||s<Ao.h&&["hh",s]||a<=1&&["d"]||a<Ao.d&&["dd",a]||l<=1&&["M"]||l<Ao.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,wi.apply(null,u)}function Ci(t){return t===undefined?To:"function"==typeof t&&(To=t,!0)}function Si(t,e){return Ao[t]!==undefined&&(e===undefined?Ao[t]:(Ao[t]=e,"s"===t&&(Ao.ss=e-1),!0))}function ki(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=xi(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function _i(t){return(t>0)-(t<0)||+t}function Ei(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Mo(this._milliseconds)/1e3,i=Mo(this._days),r=Mo(this._months);e=b((t=b(n/60))/60),n%=60,t%=60;var o=b(r/12),s=r%=12,a=i,l=e,c=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",f=_i(this._months)!==_i(h)?"-":"",p=_i(this._days)!==_i(h)?"-":"",g=_i(this._milliseconds)!==_i(h)?"-":"";return d+"P"+(o?f+o+"Y":"")+(s?f+s+"M":"")+(a?p+a+"D":"")+(l||c||u?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(u?g+u+"S":"")}var Ti,Ai;Ai=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Mi,Ri=t.momentProperties=[],Di=!1,Li={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null,Mi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var $i={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Oi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Pi="Invalid date",Ii="%d",Ni=/\d{1,2}/,Bi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Fi={},Hi={},zi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Wi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ji={},qi={},Ui=/\d/,Vi=/\d\d/,Gi=/\d{3}/,Yi=/\d{4}/,Ki=/[+-]?\d{6}/,Xi=/\d\d?/,Qi=/\d\d\d\d?/,Zi=/\d\d\d\d\d\d?/,Ji=/\d{1,3}/,tr=/\d{1,4}/,er=/[+-]?\d{1,6}/,nr=/\d+/,ir=/[+-]?\d+/,rr=/Z|[+-]\d\d:?\d\d/gi,or=/Z|[+-]\d\d(?::?\d\d)?/gi,sr=/[+-]?\d+(\.\d{1,3})?/,ar=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,lr={},cr={},ur=0,hr=1,dr=2,fr=3,pr=4,gr=5,mr=6,vr=7,yr=8;z("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),P("year","y"),B("year",1),V("Y",ir),V("YY",Xi,Vi),V("YYYY",tr,Yi),V("YYYYY",er,Ki),V("YYYYYY",er,Ki),X(["YYYYY","YYYYYY"],ur),X("YYYY",function(e,n){n[ur]=2===e.length?t.parseTwoDigitYear(e):w(e)}),X("YY",function(e,n){n[ur]=t.parseTwoDigitYear(e)}),X("Y",function(t,e){e[ur]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var br,wr=nt("FullYear",!0);br=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),z("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),B("month",8),V("M",Xi),V("MM",Xi,Vi),V("MMM",function(t,e){return e.monthsShortRegex(t)}),V("MMMM",function(t,e){return e.monthsRegex(t)}),X(["M","MM"],function(t,e){e[hr]=w(t)-1}),X(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[hr]=r:f(n).invalidMonth=t});var xr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Cr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Sr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kr=ar,_r=ar;z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),B("week",5),B("isoWeek",5),V("w",Xi),V("ww",Xi,Vi),V("W",Xi),V("WW",Xi,Vi),Q(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)});var Er={dow:0,doy:6};z("d",0,"do","day"),z("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),z("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),z("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),V("d",Xi),V("e",Xi),V("E",Xi),V("dd",function(t,e){return e.weekdaysMinRegex(t)}),V("ddd",function(t,e){return e.weekdaysShortRegex(t)}),V("dddd",function(t,e){return e.weekdaysRegex(t)}),Q(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:f(n).invalidWeekday=t}),Q(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var Tr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ar="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Rr=ar,Dr=ar,Lr=ar;z("H",["HH",2],0,"hour"),z("h",["hh",2],0,qt),z("k",["kk",2],0,Ut),z("hmm",0,0,function(){return""+qt.apply(this)+H(this.minutes(),2)}),z("hmmss",0,0,function(){return""+qt.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),Vt("a",!0),Vt("A",!1),P("hour","h"),B("hour",13),V("a",Gt),V("A",Gt),V("H",Xi),V("h",Xi),V("k",Xi),V("HH",Xi,Vi),V("hh",Xi,Vi),V("kk",Xi,Vi),V("hmm",Qi),V("hmmss",Zi),V("Hmm",Qi),V("Hmmss",Zi),X(["H","HH"],fr),X(["k","kk"],function(t,e){var n=w(t);e[fr]=24===n?0:n}),X(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),X(["h","hh"],function(t,e,n){e[fr]=w(t),f(n).bigHour=!0}),X("hmm",function(t,e,n){var i=t.length-2;e[fr]=w(t.substr(0,i)),e[pr]=w(t.substr(i)),f(n).bigHour=!0}),X("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[fr]=w(t.substr(0,i)),e[pr]=w(t.substr(i,2)),e[gr]=w(t.substr(r)),f(n).bigHour=!0}),X("Hmm",function(t,e){var n=t.length-2;e[fr]=w(t.substr(0,n)),e[pr]=w(t.substr(n))}),X("Hmmss",function(t,e){var n=t.length-4,i=t.length-2;e[fr]=w(t.substr(0,n)),e[pr]=w(t.substr(n,2)),e[gr]=w(t.substr(i))});var $r,Or=/[ap]\.?m?\.?/i,Pr=nt("Hours",!0),Ir={calendar:$i,longDateFormat:Oi,invalidDate:Pi,ordinal:Ii,dayOfMonthOrdinalParse:Ni,relativeTime:Bi,months:Cr,monthsShort:Sr,week:Er,weekdays:Tr,weekdaysMin:Mr,weekdaysShort:Ar,meridiemParse:Or},Nr={},Br={},Fr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zr=/Z|[+-]\d\d(?::?\d\d)?/,Wr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],jr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qr=/^\/?Date\((\-?\d+)/i,Ur=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Gr=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=_e.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Yr=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=_e.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()}),Kr=function(){return Date.now?Date.now():+new Date},Xr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Pe("Z",":"),Pe("ZZ",""),V("Z",or),V("ZZ",or),X(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ie(or,t)});var Qr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Zr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Jr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Xe.fn=Le.prototype,Xe.invalid=De;var to=tn(1,"add"),eo=tn(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var no=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===undefined?this.localeData():this.locale(t)});z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),In("gggg","weekYear"),In("ggggg","weekYear"),In("GGGG","isoWeekYear"),In("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),V("G",ir),V("g",ir),V("GG",Xi,Vi),V("gg",Xi,Vi),V("GGGG",tr,Yi),V("gggg",tr,Yi),V("GGGGG",er,Ki),V("ggggg",er,Ki),Q(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),Q(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),z("Q",0,"Qo","quarter"),P("quarter","Q"),B("quarter",7),V("Q",Ui),X("Q",function(t,e){e[hr]=3*(w(t)-1)}),z("D",["DD",2],"Do","date"),P("date","D"),B("date",9),V("D",Xi),V("DD",Xi,Vi),V("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),X(["D","DD"],dr),X("Do",function(t,e){e[dr]=w(t.match(Xi)[0])});var io=nt("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),B("dayOfYear",4),V("DDD",Ji),V("DDDD",Gi),X(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),z("m",["mm",2],0,"minute"),P("minute","m"),B("minute",14),V("m",Xi),V("mm",Xi,Vi),X(["m","mm"],pr);var ro=nt("Minutes",!1);z("s",["ss",2],0,"second"),P("second","s"),B("second",15),V("s",Xi),V("ss",Xi,Vi),X(["s","ss"],gr);var oo,so=nt("Seconds",!1);for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),B("millisecond",16),V("S",Ji,Ui),V("SS",Ji,Vi),V("SSS",Ji,Gi),oo="SSSS";oo.length<=9;oo+="S")V(oo,nr);for(oo="S";oo.length<=9;oo+="S")X(oo,Un);var ao=nt("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var lo=v.prototype;lo.add=to,lo.calendar=rn,lo.clone=on,lo.diff=dn,lo.endOf=_n,lo.format=vn,lo.from=yn,lo.fromNow=bn,lo.to=wn,lo.toNow=xn,lo.get=ot,lo.invalidAt=On,lo.isAfter=sn,lo.isBefore=an,lo.isBetween=ln,lo.isSame=cn,lo.isSameOrAfter=un,lo.isSameOrBefore=hn,lo.isValid=Ln,lo.lang=no,lo.locale=Cn,lo.localeData=Sn,lo.max=Yr,lo.min=Gr,lo.parsingFlags=$n,lo.set=st,lo.startOf=kn,lo.subtract=eo,lo.toArray=Mn,lo.toObject=Rn,lo.toDate=An,lo.toISOString=gn,lo.inspect=mn,lo.toJSON=Dn,lo.toString=pn,lo.unix=Tn,lo.valueOf=En,lo.creationData=Pn,lo.year=wr,lo.isLeapYear=et,lo.weekYear=Nn,lo.isoWeekYear=Bn,lo.quarter=lo.quarters=jn,lo.month=pt,lo.daysInMonth=gt,lo.week=lo.weeks=At,lo.isoWeek=lo.isoWeeks=Mt,lo.weeksInYear=Hn,lo.isoWeeksInYear=Fn,lo.date=io,lo.day=lo.days=Nt,lo.weekday=Bt,lo.isoWeekday=Ft,lo.dayOfYear=qn,lo.hour=lo.hours=Pr,lo.minute=lo.minutes=ro,lo.second=lo.seconds=so,lo.millisecond=lo.milliseconds=ao,lo.utcOffset=Fe,lo.utc=ze,lo.local=We,lo.parseZone=je,lo.hasAlignedHourOffset=qe,lo.isDST=Ue,lo.isLocal=Ge,lo.isUtcOffset=Ye,lo.isUtc=Ke,lo.isUTC=Ke,lo.zoneAbbr=Vn,lo.zoneName=Gn,lo.dates=S("dates accessor is deprecated. Use date instead.",io),lo.months=S("months accessor is deprecated. Use month instead",pt),lo.years=S("years accessor is deprecated. Use year instead",wr),lo.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",He),lo.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ve);var co=A.prototype;co.calendar=M,co.longDateFormat=R,co.invalidDate=D,co.ordinal=L,co.preparse=Xn,co.postformat=Xn,co.relativeTime=$,co.pastFuture=O,co.set=E,co.months=ct,co.monthsShort=ut,co.monthsParse=dt,co.monthsRegex=vt,co.monthsShortRegex=mt,co.week=_t,co.firstDayOfYear=Tt,co.firstDayOfWeek=Et,co.weekdays=Lt,co.weekdaysMin=Ot,co.weekdaysShort=$t,co.weekdaysParse=It,co.weekdaysRegex=Ht,co.weekdaysShortRegex=zt,co.weekdaysMinRegex=Wt,co.isPM=Yt,co.meridiem=Kt,Jt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=S("moment.lang is deprecated. Use moment.locale instead.",Jt),t.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ne);var uo=Math.abs,ho=gi("ms"),fo=gi("s"),po=gi("m"),go=gi("h"),mo=gi("d"),vo=gi("w"),yo=gi("M"),bo=gi("y"),wo=yi("milliseconds"),xo=yi("seconds"),Co=yi("minutes"),So=yi("hours"),ko=yi("days"),_o=yi("months"),Eo=yi("years"),To=Math.round,Ao={ss:44,s:45,m:45,h:22,d:26,M:11},Mo=Math.abs,Ro=Le.prototype;return Ro.isValid=Re,Ro.abs=oi,Ro.add=ai,Ro.subtract=li,Ro.as=fi,Ro.asMilliseconds=ho,Ro.asSeconds=fo,Ro.asMinutes=po,Ro.asHours=go,Ro.asDays=mo,Ro.asWeeks=vo,Ro.asMonths=yo,Ro.asYears=bo,Ro.valueOf=pi,Ro._bubble=ui,Ro.clone=mi,Ro.get=vi,Ro.milliseconds=wo,Ro.seconds=xo,Ro.minutes=Co,Ro.hours=So,Ro.days=ko,Ro.weeks=bi,Ro.months=_o,Ro.years=Eo,Ro.humanize=ki,Ro.toISOString=Ei,Ro.toString=Ei,Ro.toJSON=Ei,Ro.locale=Cn,Ro.localeData=Sn,Ro.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ei),Ro.lang=no,z("X",0,0,"unix"),z("x",0,0,"valueOf"),V("x",ir),V("X",sr),X("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),X("x",function(t,e,n){n._d=new Date(w(t))}),t.version="2.20.1",e(_e),t.fn=lo,t.min=Te,t.max=Ae,t.now=Kr,t.utc=h,t.unix=Yn,t.months=ti,t.isDate=a,t.locale=Jt,t.invalid=g,t.duration=Xe,t.isMoment=y,t.weekdays=ni,t.parseZone=Kn,t.localeData=ne,t.isDuration=$e,t.monthsShort=ei,t.weekdaysMin=ri,t.defineLocale=te,t.updateLocale=ee,t.locales=ie,t.weekdaysShort=ii,t.normalizeUnits=I,t.relativeTimeRounding=Ci,t.relativeTimeThreshold=Si,t.calendarFormat=nn,t.prototype=lo,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?e(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(t.moment)}(this,function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}),
/*!
 * FullCalendar v3.9.0
 * Docs & License: https://fullcalendar.io/
 * (c) 2018 Adam Shaw
 */
function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment"),require("jquery")):"function"==typeof define&&define.amd?define(["moment","jquery"],e):"object"==typeof exports?exports.FullCalendar=e(require("moment"),require("jquery")):t.FullCalendar=e(t.moment,t.jQuery)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=236)}([function(e){e.exports=t},,function(t,e){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};e.__extends=function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}},function(t){t.exports=e},function(t,e,n){function i(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function r(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function o(){ft("body").addClass("fc-not-allowed")}function s(){ft("body").removeClass("fc-not-allowed")}function a(t,e,n){var i=Math.floor(e/t.length),r=Math.floor(e-i*(t.length-1)),o=[],s=[],a=[],c=0;l(t),t.each(function(e,n){var l=e===t.length-1?r:i,u=ft(n).outerHeight(!0);u<l?(o.push(n),s.push(u),a.push(ft(n).height())):c+=u}),n&&(e-=c,i=Math.floor(e/o.length),r=Math.floor(e-i*(o.length-1))),ft(o).each(function(t,e){var n=t===o.length-1?r:i,l=s[t],c=n-(l-a[t]);l<n&&ft(e).height(c)})}function l(t){t.height("")}function c(t){var e=0;return t.find("> *").each(function(t,n){var i=ft(n).outerWidth();i>e&&(e=i)}),e++,t.width(e),e}function u(t,e){var n,i=t.add(e);return i.css({position:"relative",left:-1}),n=t.outerHeight()-e.outerHeight(),i.css({position:"",left:""}),n}function h(t){var e=t.css("position"),n=t.parents().filter(function(){var t=ft(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&n.length?n:ft(t[0].ownerDocument||document)}function d(t,e){var n=t.offset(),i=n.left-(e?e.left:0),r=n.top-(e?e.top:0);return{left:i,right:i+t.outerWidth(),top:r,bottom:r+t.outerHeight()}}function f(t,e){var n=t.offset(),i=g(t),r=n.left+b(t,"border-left-width")+i.left-(e?e.left:0),o=n.top+b(t,"border-top-width")+i.top-(e?e.top:0);return{left:r,right:r+t[0].clientWidth,top:o,bottom:o+t[0].clientHeight}}function p(t,e){var n=t.offset(),i=n.left+b(t,"border-left-width")+b(t,"padding-left")-(e?e.left:0),r=n.top+b(t,"border-top-width")+b(t,"padding-top")-(e?e.top:0);return{left:i,right:i+t.width(),top:r,bottom:r+t.height()}}function g(t){var e,n=t[0].offsetWidth-t[0].clientWidth,i=t[0].offsetHeight-t[0].clientHeight;return n=m(n),e={left:0,right:0,top:0,bottom:i=m(i)},v()&&"rtl"===t.css("direction")?e.left=n:e.right=n,e}function m(t){return t=Math.max(0,t),t=Math.round(t)}function v(){return null===pt&&(pt=y()),pt}function y(){var t=ft("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),e=t.children().offset().left>t.offset().left;return t.remove(),e}function b(t,e){return parseFloat(t.css(e))||0}function w(t){return 1===t.which&&!t.ctrlKey}function x(t){var e=t.originalEvent.touches;return e&&e.length?e[0].pageX:t.pageX}function C(t){var e=t.originalEvent.touches;return e&&e.length?e[0].pageY:t.pageY}function S(t){return/^touch/.test(t.type)}function k(t){t.addClass("fc-unselectable").on("selectstart",E)}function _(t){t.removeClass("fc-unselectable").off("selectstart",E)}function E(t){t.preventDefault()}function T(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function A(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function M(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function R(t,e){return{left:t.left-e.left,top:t.top-e.top}}function D(t){var e,n,i=[],r=[];for("string"==typeof t?r=t.split(/\s*,\s*/):"function"==typeof t?r=[t]:ft.isArray(t)&&(r=t),e=0;e<r.length;e++)"string"==typeof(n=r[e])?i.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&i.push({func:n});return i}function L(t,e,n,i,r){var o,s;for(o=0;o<n.length;o++)if(s=$(t,e,n[o],i,r))return s;return 0}function $(t,e,n,i,r){if(n.func)return n.func(t,e);var o=t[n.field],s=e[n.field];return null==o&&i&&(o=i[n.field]),null==s&&r&&(s=r[n.field]),O(o,s)*(n.order||1)}function O(t,e){return t||e?null==e?-1:null==t?1:"string"===ft.type(t)||"string"===ft.type(e)?String(t).localeCompare(String(e)):t-e:0}function P(t,e){return dt.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days"),ms:t.time()-e.time()})}function I(t,e){return dt.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days")})}function N(t,e,n){return dt.duration(Math.round(t.diff(e,n,!0)),n)}function B(t,n){var i,r,o;for(i=0;i<e.unitsDesc.length&&!((o=H(r=e.unitsDesc[i],t,n))>=1&&ct(o));i++);return r}function F(t,e){var n=B(t);return"week"===n&&"object"==typeof e&&e.days&&(n="day"),n}function H(t,e,n){return null!=n?n.diff(e,t,!0):dt.isDuration(e)?e.as(t):e.end.diff(e.start,t,!0)}function z(t,e,n){var i;return q(n)?(e-t)/n:(i=n.asMonths(),Math.abs(i)>=1&&ct(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/n.asDays())}function W(t,e){var n,i;return q(t)||q(e)?t/e:(n=t.asMonths(),i=e.asMonths(),Math.abs(n)>=1&&ct(n)&&Math.abs(i)>=1&&ct(i)?n/i:t.asDays()/e.asDays())}function j(t,e){var n;return q(t)?dt.duration(t*e):(n=t.asMonths(),Math.abs(n)>=1&&ct(n)?dt.duration({months:n*e}):dt.duration({days:t.asDays()*e}))}function q(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function U(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function V(t){return"string"==typeof t&&/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function G(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=window.console;if(n&&n.log)return n.log.apply(n,t)}function Y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=window.console;return n&&n.warn?n.warn.apply(n,t):G.apply(null,t)}function K(t,e){var n,i,r,o,s,a,l={};if(e)for(n=0;n<e.length;n++){for(i=e[n],r=[],o=t.length-1;o>=0;o--)if("object"==typeof(s=t[o][i]))r.unshift(s);else if(s!==undefined){l[i]=s;break}r.length&&(l[i]=K(r))}for(n=t.length-1;n>=0;n--)for(i in a=t[n])i in l||(l[i]=a[i]);return l}function X(t,e){for(var n in t)Q(t,n)&&(e[n]=t[n])}function Q(t,e){return gt.call(t,e)}function Z(t,e,n){if(ft.isFunction(t)&&(t=[t]),t){var i=void 0,r=void 0;for(i=0;i<t.length;i++)r=t[i].apply(e,n)||r;return r}}function J(t,e){for(var n=0,i=0;i<t.length;)e(t[i])?(t.splice(i,1),n++):i++;return n}function tt(t,e){for(var n=0,i=0;i<t.length;)t[i]===e?(t.splice(i,1),n++):i++;return n}function et(t,e){var n,i=t.length;if(null==i||i!==e.length)return!1;for(n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function nt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++)if(t[n]!==undefined)return t[n]}function it(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function rt(t){return t.replace(/&.*?;/g,"")}function ot(t){var e=[];return ft.each(t,function(t,n){null!=n&&e.push(t+":"+n)}),e.join(";")}function st(t){var e=[];return ft.each(t,function(t,n){null!=n&&e.push(t+'="'+it(n)+'"')}),e.join(" ")}function at(t){return t.charAt(0).toUpperCase()+t.slice(1)}function lt(t,e){return t-e}function ct(t){return t%1==0}function ut(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function ht(t,e,n){var i,r,o,s,a;void 0===n&&(n=!1);var l=function(){var c=+new Date-s;c<e?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=+new Date;var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}}Object.defineProperty(e,"__esModule",{value:!0});var dt=n(0),ft=n(3);e.compensateScroll=i,e.uncompensateScroll=r,e.disableCursor=o,e.enableCursor=s,e.distributeHeight=a,e.undistributeHeight=l,e.matchCellWidths=c,e.subtractInnerElHeight=u,e.getScrollParent=h,e.getOuterRect=d,e.getClientRect=f,e.getContentRect=p,e.getScrollbarWidths=g;var pt=null;e.isPrimaryMouseButton=w,e.getEvX=x,e.getEvY=C,e.getEvIsTouch=S,e.preventSelection=k,e.allowSelection=_,e.preventDefault=E,e.intersectRects=T,e.constrainPoint=A,e.getRectCenter=M,e.diffPoints=R,e.parseFieldSpecs=D,e.compareByFieldSpecs=L,e.compareByFieldSpec=$,e.flexibleCompare=O,e.dayIDs=["sun","mon","tue","wed","thu","fri","sat"],e.unitsDesc=["year","month","week","day","hour","minute","second","millisecond"],e.diffDayTime=P,e.diffDay=I,e.diffByUnit=N,e.computeGreatestUnit=B,e.computeDurationGreatestUnit=F,e.divideRangeByDuration=z,e.divideDurationByDuration=W,e.multiplyDuration=j,e.durationHasTime=q,e.isNativeDate=U,e.isTimeString=V,e.log=G,e.warn=Y;var gt={}.hasOwnProperty;e.mergeProps=K,e.copyOwnProps=X,e.hasOwnProp=Q,e.applyAll=Z,e.removeMatching=J,e.removeExact=tt,e.isArraysEqual=et,e.firstDefined=nt,e.htmlEscape=it,e.stripHtmlEntities=rt,e.cssToStr=ot,e.attrsToStr=st,e.capitaliseFirstLetter=at,e.compareNumbers=lt,e.isInt=ct,e.proxy=ut,e.debounce=ht},function(t,e,n){function i(t,e){return t.startMs-e.startMs}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(10),s=function(){function t(t,e){this.isStart=!0,this.isEnd=!0,r.isMoment(t)&&(t=t.clone().stripZone()),r.isMoment(e)&&(e=e.clone().stripZone()),t&&(this.startMs=t.valueOf()),e&&(this.endMs=e.valueOf())}return t.invertRanges=function(e,n){var r,o,s=[],a=n.startMs;for(e.sort(i),r=0;r<e.length;r++)(o=e[r]).startMs>a&&s.push(new t(a,o.startMs)),o.endMs>a&&(a=o.endMs);return a<n.endMs&&s.push(new t(a,n.endMs)),s},t.prototype.intersect=function(e){var n=this.startMs,i=this.endMs,r=null;return null!=e.startMs&&(n=null==n?e.startMs:Math.max(n,e.startMs)),null!=e.endMs&&(i=null==i?e.endMs:Math.min(i,e.endMs)),(null==n||null==i||n<i)&&((r=new t(n,i)).isStart=this.isStart&&n===this.startMs,r.isEnd=this.isEnd&&i===this.endMs),r},t.prototype.intersectsWith=function(t){return(null==this.endMs||null==t.startMs||this.endMs>t.startMs)&&(null==this.startMs||null==t.endMs||this.startMs<t.endMs)},t.prototype.containsRange=function(t){return(null==this.startMs||null!=t.startMs&&t.startMs>=this.startMs)&&(null==this.endMs||null!=t.endMs&&t.endMs<=this.endMs)},t.prototype.containsDate=function(t){var e=t.valueOf();return(null==this.startMs||e>=this.startMs)&&(null==this.endMs||e<this.endMs)},t.prototype.constrainDate=function(t){var e=t.valueOf();return null!=this.startMs&&e<this.startMs&&(e=this.startMs),null!=this.endMs&&e>=this.endMs&&(e=this.endMs-1),e},t.prototype.equals=function(t){return this.startMs===t.startMs&&this.endMs===t.endMs},t.prototype.clone=function(){var e=new t(this.startMs,this.endMs);return e.isStart=this.isStart,e.isEnd=this.isEnd,e},t.prototype.getStart=function(){return null!=this.startMs?o["default"].utc(this.startMs).stripZone():null},t.prototype.getEnd=function(){return null!=this.endMs?o["default"].utc(this.endMs).stripZone():null},t.prototype.as=function(t){return r.utc(this.endMs).diff(r.utc(this.startMs),t,!0)},t}();e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(208),s=n(33),a=n(49),l=function(t){function e(n){var i=t.call(this)||this;return i.calendar=n,i.className=[],i.uid=String(e.uuid++),i}return i.__extends(e,t),e.parse=function(t,e){var n=new this(e);return!("object"!=typeof t||!n.applyProps(t))&&n},e.normalizeId=function(t){return t?String(t):null},e.prototype.fetch=function(){},e.prototype.removeEventDefsById=function(){},e.prototype.removeAllEventDefs=function(){},e.prototype.getPrimitive=function(){},e.prototype.parseEventDefs=function(t){var e,n,i=[];for(e=0;e<t.length;e++)(n=this.parseEventDef(t[e]))&&i.push(n);return i},e.prototype.parseEventDef=function(t){var e=this.calendar.opt("eventDataTransform"),n=this.eventDataTransform;return e&&(t=e(t,this.calendar)),n&&(t=n(t,this.calendar)),a["default"].parse(t,this)},e.prototype.applyManualStandardProps=function(t){return null!=t.id&&(this.id=e.normalizeId(t.id)),r.isArray(t.className)?this.className=t.className:"string"==typeof t.className&&(this.className=t.className.split(/\s+/)),!0},e.uuid=0,e.defineStandardProps=o["default"].defineStandardProps,e.copyVerbatimStandardProps=o["default"].copyVerbatimStandardProps,e}(s["default"]);e["default"]=l,o["default"].mixInto(l),l.defineStandardProps({id:!1,className:!1,color:!0,backgroundColor:!0,borderColor:!0,textColor:!0,editable:!0,startEditable:!0,durationEditable:!0,rendering:!0,overlap:!0,constraint:!0,allDayDefault:!0,eventDataTransform:!0})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(14),s=0,a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.listenTo=function(t,e,n){if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&this.listenTo(t,i,e[i]);else"string"==typeof e&&t.on(e+"."+this.getListenerNamespace(),r.proxy(n,this))},e.prototype.stopListeningTo=function(t,e){t.off((e||"")+"."+this.getListenerNamespace())},e.prototype.getListenerNamespace=function(){return null==this.listenerId&&(this.listenerId=s++),"_listener"+this.listenerId},e}(o["default"]);e["default"]=a},,,function(t,e,n){function i(t,e){return h.format.call(t,e)}function r(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i,r,u,h,d=t[0],f=1===t.length&&"string"==typeof d;return o.isMoment(d)||a.isNativeDate(d)||d===undefined?h=o.apply(null,t):(i=!1,r=!1,f?l.test(d)?(t=[d+="-01"],i=!0,r=!0):(u=c.exec(d))&&(i=!u[5],r=!0):s.isArray(d)&&(r=!0),h=e||i?o.utc.apply(o,t):o.apply(null,t),i?(h._ambigTime=!0,h._ambigZone=!0):n&&(r?h._ambigZone=!0:f&&h.utcOffset(d))),h._fullCalendar=!0,h}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=n(3),a=n(4),l=/^\s*\d{4}-\d\d$/,c=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,u=o.fn;e.newMomentProto=u;var h=s.extend({},u);e.oldMomentProto=h;var d=o.momentProperties;d.push("_fullCalendar"),d.push("_ambigTime"),d.push("_ambigZone"),e.oldMomentFormat=i;var f=function(){return r(arguments)};e["default"]=f,f.utc=function(){var t=r(arguments,!0);return t.hasTime()&&t.utc(),t},f.parseZone=function(){return r(arguments,!0,!0)},u.week=u.weeks=function(t){var e=this._locale._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?h.isoWeek.apply(this,arguments):h.week.apply(this,arguments)},u.time=function(t){if(!this._fullCalendar)return h.time.apply(this,arguments);if(null==t)return o.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,o.isDuration(t)||o.isMoment(t)||(t=o.duration(t));var e=0;return o.isDuration(t)&&(e=24*Math.floor(t.asDays())),this.hours(e+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},u.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this},u.hasTime=function(){return!this._ambigTime},u.stripZone=function(){var t;return this._ambigZone||(t=this._ambigTime,this.utc(!0),this._ambigTime=t||!1,this._ambigZone=!0),this},u.hasZone=function(){return!this._ambigZone},u.local=function(t){return h.local.call(this,this._ambigZone||t),this._ambigTime=!1,this._ambigZone=!1,this},u.utc=function(t){return h.utc.call(this,t),this._ambigTime=!1,this._ambigZone=!1,this},u.utcOffset=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),h.utcOffset.apply(this,arguments)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.on=function(t,e){return r(this).on(t,this._prepareIntercept(e)),this},e.prototype.one=function(t,e){return r(this).one(t,this._prepareIntercept(e)),this},e.prototype._prepareIntercept=function(t){var e=function(e,n){return t.apply(n.context||this,n.args||[])};return t.guid||(t.guid=r.guid++),e.guid=t.guid,e},e.prototype.off=function(t,e){return r(this).off(t,e),this},e.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return r(this).triggerHandler(t,{args:e}),this},e.prototype.triggerWith=function(t,e,n){return r(this).triggerHandler(t,{context:e,args:n}),this},e.prototype.hasHandlers=function(t){var e=r._data(this,"events");return e&&e[t]&&e[t].length>0},e}(n(14)["default"]);e["default"]=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.isAllDay=!1,this.unzonedRange=t,this.isAllDay=e}return t.prototype.toLegacy=function(t){return{start:t.msToMoment(this.unzonedRange.startMs,this.isAllDay),end:t.msToMoment(this.unzonedRange.endMs,this.isAllDay)}},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(34),o=n(209),s=n(17),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.buildInstances=function(){return[this.buildInstance()]},e.prototype.buildInstance=function(){return new o["default"](this,this.dateProfile)},e.prototype.isAllDay=function(){return this.dateProfile.isAllDay()},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.dateProfile=this.dateProfile,e},e.prototype.rezone=function(){var t=this.source.calendar,e=this.dateProfile;this.dateProfile=new s["default"](t.moment(e.start),e.end?t.moment(e.end):null,t)},e.prototype.applyManualStandardProps=function(e){var n=t.prototype.applyManualStandardProps.call(this,e),i=s["default"].parse(e,this.source);return!!i&&(this.dateProfile=i,null!=e.date&&(this.miscProps.date=e.date),n)},e}(r["default"]);e["default"]=a,a.defineStandardProps({start:!1,date:!1,end:!1,allDay:!1})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.mixInto=function(t){var e=this;Object.getOwnPropertyNames(this.prototype).forEach(function(n){t.prototype[n]||(t.prototype[n]=e.prototype[n])})},t.mixOver=function(t){var e=this;Object.getOwnPropertyNames(this.prototype).forEach(function(n){t.prototype[n]=e.prototype[n]})},t}();e["default"]=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.view=t._getView(),this.component=t}return t.prototype.opt=function(t){return this.view.opt(t)},t.prototype.end=function(){},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.version="3.9.0",e.internalApiVersion=12;var i=n(4);e.applyAll=i.applyAll,e.debounce=i.debounce,e.isInt=i.isInt,e.htmlEscape=i.htmlEscape,e.cssToStr=i.cssToStr,e.proxy=i.proxy,e.capitaliseFirstLetter=i.capitaliseFirstLetter,e.getOuterRect=i.getOuterRect,e.getClientRect=i.getClientRect,e.getContentRect=i.getContentRect,e.getScrollbarWidths=i.getScrollbarWidths,e.preventDefault=i.preventDefault,e.parseFieldSpecs=i.parseFieldSpecs,e.compareByFieldSpecs=i.compareByFieldSpecs,e.compareByFieldSpec=i.compareByFieldSpec,e.flexibleCompare=i.flexibleCompare,e.computeGreatestUnit=i.computeGreatestUnit,e.divideRangeByDuration=i.divideRangeByDuration,e.divideDurationByDuration=i.divideDurationByDuration,e.multiplyDuration=i.multiplyDuration,e.durationHasTime=i.durationHasTime,e.log=i.log,e.warn=i.warn,e.removeExact=i.removeExact,e.intersectRects=i.intersectRects;var r=n(47);e.formatDate=r.formatDate,e.formatRange=r.formatRange,e.queryMostGranularFormatUnit=r.queryMostGranularFormatUnit;var o=n(31);e.datepickerLocale=o.datepickerLocale,e.locale=o.locale;var s=n(10);e.moment=s["default"];var a=n(11);e.EmitterMixin=a["default"];var l=n(7);e.ListenerMixin=l["default"];var c=n(48);e.Model=c["default"];var u=n(207);e.Constraints=u["default"];var h=n(5);e.UnzonedRange=h["default"];var d=n(12);e.ComponentFootprint=d["default"];var f=n(212);e.BusinessHourGenerator=f["default"];var p=n(34);e.EventDef=p["default"];var g=n(37);e.EventDefMutation=g["default"];var m=n(38);e.EventSourceParser=m["default"];var v=n(6);e.EventSource=v["default"];var y=n(51);e.defineThemeSystem=y.defineThemeSystem;var b=n(18);e.EventInstanceGroup=b["default"];var w=n(52);e.ArrayEventSource=w["default"];var x=n(215);e.FuncEventSource=x["default"];var C=n(216);e.JsonFeedEventSource=C["default"];var S=n(36);e.EventFootprint=S["default"];var k=n(33);e.Class=k["default"];var _=n(14);e.Mixin=_["default"];var E=n(53);e.CoordCache=E["default"];var T=n(54);e.DragListener=T["default"];var A=n(20);e.Promise=A["default"];var M=n(217);e.TaskQueue=M["default"];var R=n(218);e.RenderQueue=R["default"];var D=n(39);e.Scroller=D["default"];var L=n(19);e.Theme=L["default"];var $=n(219);e.DateComponent=$["default"];var O=n(40);e.InteractiveDateComponent=O["default"];var P=n(220);e.Calendar=P["default"];var I=n(41);e.View=I["default"];var N=n(22);e.defineView=N.defineView,e.getViewConfig=N.getViewConfig;var B=n(55);e.DayTableMixin=B["default"];var F=n(56);e.BusinessHourRenderer=F["default"];var H=n(42);e.EventRenderer=H["default"];var z=n(57);e.FillRenderer=z["default"];var W=n(58);e.HelperRenderer=W["default"];var j=n(222);e.ExternalDropping=j["default"];var q=n(223);e.EventResizing=q["default"];var U=n(59);e.EventPointing=U["default"];var V=n(224);e.EventDragging=V["default"];var G=n(225);e.DateSelecting=G["default"];var Y=n(60);e.StandardInteractionsMixin=Y["default"];var K=n(226);e.AgendaView=K["default"];var X=n(227);e.TimeGrid=X["default"];var Q=n(61);e.DayGrid=Q["default"];var Z=n(62);e.BasicView=Z["default"];var J=n(229);e.MonthView=J["default"];var tt=n(230);e.ListView=tt["default"]},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=function(){function t(t,e,n){this.start=t,this.end=e||null,this.unzonedRange=this.buildUnzonedRange(n)}return t.parse=function(e,n){var i=e.start||e.date,r=e.end;if(!i)return!1;var o=n.calendar,s=o.moment(i),a=r?o.moment(r):null,l=e.allDay,c=o.opt("forceEventDuration");return!!s.isValid()&&(!a||a.isValid()&&a.isAfter(s)||(a=null),null==l&&null==(l=n.allDayDefault)&&(l=o.opt("allDayDefault")),!0===l?(s.stripTime(),a&&a.stripTime()):!1===l&&(s.hasTime()||s.time(0),a&&!a.hasTime()&&a.time(0)),!a&&c&&(a=o.getDefaultEventEnd(!s.hasTime(),s)),new t(s,a,o))},t.isStandardProp=function(t){return"start"===t||"date"===t||"end"===t||"allDay"===t},t.prototype.isAllDay=function(){return!(this.start.hasTime()||this.end&&this.end.hasTime())},t.prototype.buildUnzonedRange=function(t){var e=this.start.clone().stripZone().valueOf(),n=this.getEnd(t).stripZone().valueOf();return new i["default"](e,n)},t.prototype.getEnd=function(t){return this.end?this.end.clone():t.getDefaultEventEnd(this.isAllDay(),this.start)},t}();e["default"]=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r=n(35),o=n(211),s=function(){function t(t){this.eventInstances=t||[]}return t.prototype.getAllEventRanges=function(t){return t?this.sliceNormalRenderRanges(t):this.eventInstances.map(r.eventInstanceToEventRange)},t.prototype.sliceRenderRanges=function(t){return this.isInverse()?this.sliceInverseRenderRanges(t):this.sliceNormalRenderRanges(t)},t.prototype.sliceNormalRenderRanges=function(t){var e,n,i,r=this.eventInstances,s=[];for(e=0;e<r.length;e++)(i=(n=r[e]).dateProfile.unzonedRange.intersect(t))&&s.push(new o["default"](i,n.def,n));return s},t.prototype.sliceInverseRenderRanges=function(t){var e=this.eventInstances.map(r.eventInstanceToUnzonedRange),n=this.getEventDef();return(e=i["default"].invertRanges(e,t)).map(function(t){return new o["default"](t,n)})},t.prototype.isInverse=function(){return this.getEventDef().hasInverseRendering()},t.prototype.getEventDef=function(){return this.explicitEventDef||this.eventInstances[0].def},t}();e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=function(){function t(t){this.optionsManager=t,this.processIconOverride()}return t.prototype.processIconOverride=function(){this.iconOverrideOption&&this.setIconOverride(this.optionsManager.get(this.iconOverrideOption))},t.prototype.setIconOverride=function(t){var e,n;if(i.isPlainObject(t)){for(n in e=i.extend({},this.iconClasses),t)e[n]=this.applyIconOverridePrefix(t[n]);this.iconClasses=e}else!1===t&&(this.iconClasses={})},t.prototype.applyIconOverridePrefix=function(t){var e=this.iconOverridePrefix;return e&&0!==t.indexOf(e)&&(t=e+t),t},t.prototype.getClass=function(t){return this.classes[t]||""},t.prototype.getIconClass=function(t){var e=this.iconClasses[t];return e?this.baseIconClass+" "+e:""},t.prototype.getCustomButtonIconClass=function(t){var e;return this.iconOverrideCustomButtonOption&&(e=t[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(e):""},t}();e["default"]=r,r.prototype.classes={},r.prototype.iconClasses={},r.prototype.baseIconClass="",r.prototype.iconOverridePrefix=""},function(t,e,n){function i(t,e){t.then=function(n){return"function"==typeof n?s.resolve(n(e)):t}}function r(t){t.then=function(e,n){return"function"==typeof n&&n(),t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s={construct:function(t){var e=o.Deferred(),n=e.promise();return"function"==typeof t&&t(function(t){e.resolve(t),i(n,t)},function(){e.reject(),r(n)}),n},resolve:function(t){var e=o.Deferred().resolve(t).promise();return i(e,t),e},reject:function(){var t=o.Deferred().reject().promise();return r(t),t}};e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(16),o=n(11),s=n(7);r.touchMouseIgnoreWait=500;var a=null,l=0,c=function(){function t(){this.isTouching=!1,this.mouseIgnoreDepth=0}return t.get=function(){return a||(a=new t).bind(),a},t.needed=function(){t.get(),l++},t.unneeded=function(){--l||(a.unbind(),a=null)},t.prototype.bind=function(){var t=this;this.listenTo(i(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu}),window.addEventListener("touchmove",this.handleTouchMoveProxy=function(e){t.handleTouchMove(i.Event(e))},{passive:!1}),window.addEventListener("scroll",this.handleScrollProxy=function(e){t.handleScroll(i.Event(e))},!0)},t.prototype.unbind=function(){this.stopListeningTo(i(document)),window.removeEventListener("touchmove",this.handleTouchMoveProxy),window.removeEventListener("scroll",this.handleScrollProxy,!0)},t.prototype.handleTouchStart=function(t){this.stopTouch(t,!0),this.isTouching=!0,this.trigger("touchstart",t)},t.prototype.handleTouchMove=function(t){this.isTouching&&this.trigger("touchmove",t)},t.prototype.handleTouchCancel=function(t){this.isTouching&&(this.trigger("touchcancel",t),this.stopTouch(t))},t.prototype.handleTouchEnd=function(t){this.stopTouch(t)},t.prototype.handleMouseDown=function(t){this.shouldIgnoreMouse()||this.trigger("mousedown",t)},t.prototype.handleMouseMove=function(t){this.shouldIgnoreMouse()||this.trigger("mousemove",t)},t.prototype.handleMouseUp=function(t){this.shouldIgnoreMouse()||this.trigger("mouseup",t)},t.prototype.handleClick=function(t){this.shouldIgnoreMouse()||this.trigger("click",t)},t.prototype.handleSelectStart=function(t){this.trigger("selectstart",t)},t.prototype.handleContextMenu=function(t){this.trigger("contextmenu",t)},t.prototype.handleScroll=function(t){this.trigger("scroll",t)},t.prototype.stopTouch=function(t,e){void 0===e&&(e=!1),this.isTouching&&(this.isTouching=!1,this.trigger("touchend",t),e||this.startTouchMouseIgnore())},t.prototype.startTouchMouseIgnore=function(){var t=this,e=r.touchMouseIgnoreWait;e&&(this.mouseIgnoreDepth++,setTimeout(function(){t.mouseIgnoreDepth--},e))},t.prototype.shouldIgnoreMouse=function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)},t}();e["default"]=c,s["default"].mixInto(c),o["default"].mixInto(c)},function(t,e,n){function i(t,n){e.viewHash[t]=n}function r(t){return e.viewHash[t]}Object.defineProperty(e,"__esModule",{value:!0});var o=n(16);e.viewHash={},o.views=e.viewHash,e.defineView=i,e.getViewConfig=r},function(t,e,n){function i(t,e){return!t&&!e||!(!t||!e)&&(t.component===e.component&&r(t,e)&&r(e,t))}function r(t,e){for(var n in t)if(!/^(component|left|right|top|bottom)$/.test(n)&&t[n]!==e[n])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(4),a=function(t){function e(e,n){var i=t.call(this,n)||this;return i.component=e,i}return o.__extends(e,t),e.prototype.handleInteractionStart=function(e){var n,i,r,o=this.subjectEl;this.component.hitsNeeded(),this.computeScrollBounds(),e?(r=i={left:s.getEvX(e),top:s.getEvY(e)},o&&(n=s.getOuterRect(o),r=s.constrainPoint(r,n)),this.origHit=this.queryHit(r.left,r.top),o&&this.options.subjectCenter&&(this.origHit&&(n=s.intersectRects(this.origHit,n)||n),r=s.getRectCenter(n)),this.coordAdjust=s.diffPoints(r,i)):(this.origHit=null,this.coordAdjust=null),t.prototype.handleInteractionStart.call(this,e)},e.prototype.handleDragStart=function(e){var n;t.prototype.handleDragStart.call(this,e),(n=this.queryHit(s.getEvX(e),s.getEvY(e)))&&this.handleHitOver(n)},e.prototype.handleDrag=function(e,n,r){var o;t.prototype.handleDrag.call(this,e,n,r),i(o=this.queryHit(s.getEvX(r),s.getEvY(r)),this.hit)||(this.hit&&this.handleHitOut(),o&&this.handleHitOver(o))},e.prototype.handleDragEnd=function(e){this.handleHitDone(),t.prototype.handleDragEnd.call(this,e)},e.prototype.handleHitOver=function(t){var e=i(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},e.prototype.handleHitOut=function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},e.prototype.handleHitDone=function(){this.hit&&this.trigger("hitDone",this.hit)},e.prototype.handleInteractionEnd=function(e,n){t.prototype.handleInteractionEnd.call(this,e,n),this.origHit=null,this.hit=null,this.component.hitsNotNeeded()},e.prototype.handleScrollEnd=function(){t.prototype.handleScrollEnd.call(this),this.isDragging&&(this.component.releaseHits(),this.component.prepareHits())},e.prototype.queryHit=function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)},e}(n(54)["default"]);e["default"]=a},,,,,,,,function(t,e,n){function i(t){a.each(p,function(e,n){null==t[e]&&(t[e]=n(t))})}function r(t,n,i){var r=e.localeOptionHash[t]||(e.localeOptionHash[t]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,a.each(d,function(t,e){r[t]=e(i)});var o=a.datepicker;o&&(o.regional[n]=o.regional[t]=i,o.regional.en=o.regional[""],o.setDefaults(i))}function o(t,n){var i,r;i=e.localeOptionHash[t]||(e.localeOptionHash[t]={}),n&&(i=e.localeOptionHash[t]=u.mergeOptions([i,n])),r=s(t),a.each(f,function(t,e){null==i[t]&&(i[t]=e(r,i))}),u.globalDefaults.locale=t}function s(t){return l.localeData(t)||l.localeData("en")}Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),l=n(0),c=n(16),u=n(32),h=n(4);e.localeOptionHash={},c.locales=e.localeOptionHash;var d={buttonText:function(t){return{prev:h.stripHtmlEntities(t.prevText),next:h.stripHtmlEntities(t.nextText),today:h.stripHtmlEntities(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},f={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},p={
smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};e.populateInstanceComputableOptions=i,e.datepickerLocale=r,e.locale=o,e.getMomentLocaleData=s,o("en",u.englishDefaults)},function(t,e,n){function i(t){return r.mergeProps(t,o)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);e.globalDefaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",columnHeader:!0,defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,locale:null,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},allDayText:"all-day",agendaEventMinHeight:0,theme:!1,dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},e.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},e.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var o=["header","footer","buttonText","buttonIcons","themeButtonIcons"];e.mergeOptions=i},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=function(){function t(){}return t.extend=function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(this);return r.copyOwnProps(t,e.prototype),e},t.mixin=function(t){r.copyOwnProps(t,this.prototype)},t}();e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(208),o=function(){function t(t){this.source=t,this.className=[],this.miscProps={}}return t.parse=function(t,e){var n=new this(e);return!!n.applyProps(t)&&n},t.normalizeId=function(t){return String(t)},t.generateId=function(){return"_fc"+t.uuid++},t.prototype.clone=function(){var e=new this.constructor(this.source);return e.id=this.id,e.rawId=this.rawId,e.uid=this.uid,t.copyVerbatimStandardProps(this,e),e.className=this.className.slice(),e.miscProps=i.extend({},this.miscProps),e},t.prototype.hasInverseRendering=function(){return"inverse-background"===this.getRendering()},t.prototype.hasBgRendering=function(){var t=this.getRendering();return"inverse-background"===t||"background"===t},t.prototype.getRendering=function(){return null!=this.rendering?this.rendering:this.source.rendering},t.prototype.getConstraint=function(){return null!=this.constraint?this.constraint:null!=this.source.constraint?this.source.constraint:this.source.calendar.opt("eventConstraint")},t.prototype.getOverlap=function(){return null!=this.overlap?this.overlap:null!=this.source.overlap?this.source.overlap:this.source.calendar.opt("eventOverlap")},t.prototype.isStartExplicitlyEditable=function(){return null!=this.startEditable?this.startEditable:this.source.startEditable},t.prototype.isDurationExplicitlyEditable=function(){return null!=this.durationEditable?this.durationEditable:this.source.durationEditable},t.prototype.isExplicitlyEditable=function(){return null!=this.editable?this.editable:this.source.editable},t.prototype.toLegacy=function(){var e=i.extend({},this.miscProps);return e._id=this.uid,e.source=this.source,e.className=this.className.slice(),e.allDay=this.isAllDay(),null!=this.rawId&&(e.id=this.rawId),t.copyVerbatimStandardProps(this,e),e},t.prototype.applyManualStandardProps=function(e){return null!=e.id?this.id=t.normalizeId(this.rawId=e.id):this.id=t.generateId(),null!=e._id?this.uid=String(e._id):this.uid=t.generateId(),i.isArray(e.className)&&(this.className=e.className),"string"==typeof e.className&&(this.className=e.className.split(/\s+/)),!0},t.prototype.applyMiscProps=function(t){i.extend(this.miscProps,t)},t.uuid=0,t.defineStandardProps=r["default"].defineStandardProps,t.copyVerbatimStandardProps=r["default"].copyVerbatimStandardProps,t}();e["default"]=o,r["default"].mixInto(o),o.defineStandardProps({_id:!1,id:!1,className:!1,source:!1,title:!0,url:!0,rendering:!0,constraint:!0,overlap:!0,editable:!0,startEditable:!0,durationEditable:!0,color:!0,backgroundColor:!0,borderColor:!0,textColor:!0})},function(t,e,n){function i(t,e){var n,i=[];for(n=0;n<t.length;n++)i.push.apply(i,t[n].buildInstances(e));return i}function r(t){return new l["default"](t.dateProfile.unzonedRange,t.def,t)}function o(t){return new c["default"](new u["default"](t.unzonedRange,t.eventDef.isAllDay()),t.eventDef,t.eventInstance)}function s(t){return t.dateProfile.unzonedRange}function a(t){return t.componentFootprint}Object.defineProperty(e,"__esModule",{value:!0});var l=n(211),c=n(36),u=n(12);e.eventDefsToEventInstances=i,e.eventInstanceToEventRange=r,e.eventRangeToEventFootprint=o,e.eventInstanceToUnzonedRange=s,e.eventFootprintToComponentFootprint=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.componentFootprint=t,this.eventDef=e,n&&(this.eventInstance=n)}return t.prototype.getEventLegacy=function(){return(this.eventInstance||this.eventDef).toLegacy()},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(17),o=n(34),s=n(50),a=n(13),l=function(){function t(){}return t.createFromRawProps=function(e,n,a){var l,c,u,h,d=e.def,f={},p={},g={},m={},v=null,y=null;for(l in n)r["default"].isStandardProp(l)?f[l]=n[l]:d.isStandardProp(l)?p[l]=n[l]:d.miscProps[l]!==n[l]&&(g[l]=n[l]);return(c=r["default"].parse(f,d.source))&&(u=s["default"].createFromDiff(e.dateProfile,c,a)),p.id!==d.id&&(v=p.id),i.isArraysEqual(p.className,d.className)||(y=p.className),o["default"].copyVerbatimStandardProps(p,m),(h=new t).eventDefId=v,h.className=y,h.verbatimStandardProps=m,h.miscProps=g,u&&(h.dateMutation=u),h},t.prototype.mutateSingle=function(t){var e;return this.dateMutation&&(e=t.dateProfile,t.dateProfile=this.dateMutation.buildNewDateProfile(e,t.source.calendar)),null!=this.eventDefId&&(t.id=o["default"].normalizeId(t.rawId=this.eventDefId)),this.className&&(t.className=this.className),this.verbatimStandardProps&&a["default"].copyVerbatimStandardProps(this.verbatimStandardProps,t),this.miscProps&&t.applyMiscProps(this.miscProps),e?function(){t.dateProfile=e}:function(){}},t.prototype.setDateMutation=function(t){t&&!t.isEmpty()?this.dateMutation=t:this.dateMutation=null},t.prototype.isEmpty=function(){return!this.dateMutation},t}();e["default"]=l},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={sourceClasses:[],registerClass:function(t){this.sourceClasses.unshift(t)},parse:function(t,e){var n,i,r=this.sourceClasses;for(n=0;n<r.length;n++)if(i=r[n].parse(t,e))return i}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=function(t){function e(e){var n=t.call(this)||this;return e=e||{},n.overflowX=e.overflowX||e.overflow||"auto",n.overflowY=e.overflowY||e.overflow||"auto",n}return i.__extends(e,t),e.prototype.render=function(){this.el=this.renderEl(),this.applyOverflow()},e.prototype.renderEl=function(){return this.scrollEl=r('<div class="fc-scroller"></div>')},e.prototype.clear=function(){this.setHeight("auto"),this.applyOverflow()},e.prototype.destroy=function(){this.el.remove()},e.prototype.applyOverflow=function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},e.prototype.lockOverflow=function(t){var e=this.overflowX,n=this.overflowY;t=t||this.getScrollbarWidths(),"auto"===e&&(e=t.top||t.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=t.left||t.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":e,"overflow-y":n})},e.prototype.setHeight=function(t){this.scrollEl.height(t)},e.prototype.getScrollTop=function(){return this.scrollEl.scrollTop()},e.prototype.setScrollTop=function(t){this.scrollEl.scrollTop(t)},e.prototype.getClientWidth=function(){return this.scrollEl[0].clientWidth},e.prototype.getClientHeight=function(){return this.scrollEl[0].clientHeight},e.prototype.getScrollbarWidths=function(){return o.getScrollbarWidths(this.scrollEl)},e}(n(33)["default"]);e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(219),a=n(21),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.segSelector=".fc-event-container > *",i.dateSelectingClass&&(i.dateClicking=new i.dateClickingClass(i)),i.dateSelectingClass&&(i.dateSelecting=new i.dateSelectingClass(i)),i.eventPointingClass&&(i.eventPointing=new i.eventPointingClass(i)),i.eventDraggingClass&&i.eventPointing&&(i.eventDragging=new i.eventDraggingClass(i,i.eventPointing)),i.eventResizingClass&&i.eventPointing&&(i.eventResizing=new i.eventResizingClass(i,i.eventPointing)),i.externalDroppingClass&&(i.externalDropping=new i.externalDroppingClass(i)),i}return i.__extends(e,t),e.prototype.setElement=function(e){t.prototype.setElement.call(this,e),this.dateClicking&&this.dateClicking.bindToEl(e),this.dateSelecting&&this.dateSelecting.bindToEl(e),this.bindAllSegHandlersToEl(e)},e.prototype.removeElement=function(){this.endInteractions(),t.prototype.removeElement.call(this)},e.prototype.executeEventUnrender=function(){this.endInteractions(),t.prototype.executeEventUnrender.call(this)},e.prototype.bindGlobalHandlers=function(){t.prototype.bindGlobalHandlers.call(this),this.externalDropping&&this.externalDropping.bindToDocument()},e.prototype.unbindGlobalHandlers=function(){t.prototype.unbindGlobalHandlers.call(this),this.externalDropping&&this.externalDropping.unbindFromDocument()},e.prototype.bindDateHandlerToEl=function(t,e,n){var i=this;this.el.on(e,function(t){if(!r(t.target).is(i.segSelector+":not(.fc-helper),"+i.segSelector+":not(.fc-helper) *,.fc-more,a[data-goto]"))return n.call(i,t)})},e.prototype.bindAllSegHandlersToEl=function(t){[this.eventPointing,this.eventDragging,this.eventResizing].forEach(function(e){e&&e.bindToEl(t)})},e.prototype.bindSegHandlerToEl=function(t,e,n){var i=this;t.on(e,this.segSelector,function(t){var e=r(t.currentTarget);if(!e.is(".fc-helper")){var o=e.data("fc-seg");if(o&&!i.shouldIgnoreEventPointing())return n.call(i,o,t)}})},e.prototype.shouldIgnoreMouse=function(){return a["default"].get().shouldIgnoreMouse()},e.prototype.shouldIgnoreTouch=function(){var t=this._getView();return t.isSelected||t.selectedEvent},e.prototype.shouldIgnoreEventPointing=function(){return this.eventDragging&&this.eventDragging.isDragging||this.eventResizing&&this.eventResizing.isResizing},e.prototype.canStartSelection=function(t,e){return o.getEvIsTouch(e)&&!this.canStartResize(t,e)&&(this.isEventDefDraggable(t.footprint.eventDef)||this.isEventDefResizable(t.footprint.eventDef))},e.prototype.canStartDrag=function(t,e){return!this.canStartResize(t,e)&&this.isEventDefDraggable(t.footprint.eventDef)},e.prototype.canStartResize=function(t,e){var n=this._getView(),i=t.footprint.eventDef;return(!o.getEvIsTouch(e)||n.isEventDefSelected(i))&&this.isEventDefResizable(i)&&r(e.target).is(".fc-resizer")},e.prototype.endInteractions=function(){[this.dateClicking,this.dateSelecting,this.eventPointing,this.eventDragging,this.eventResizing].forEach(function(t){t&&t.end()})},e.prototype.isEventDefDraggable=function(t){return this.isEventDefStartEditable(t)},e.prototype.isEventDefStartEditable=function(t){var e=t.isStartExplicitlyEditable();return null==e&&null==(e=this.opt("eventStartEditable"))&&(e=this.isEventDefGenerallyEditable(t)),e},e.prototype.isEventDefGenerallyEditable=function(t){var e=t.isExplicitlyEditable();return null==e&&(e=this.opt("editable")),e},e.prototype.isEventDefResizableFromStart=function(t){return this.opt("eventResizableFromStart")&&this.isEventDefResizable(t)},e.prototype.isEventDefResizableFromEnd=function(t){return this.isEventDefResizable(t)},e.prototype.isEventDefResizable=function(t){var e=t.isDurationExplicitlyEditable();return null==e&&null==(e=this.opt("eventDurationEditable"))&&(e=this.isEventDefGenerallyEditable(t)),e},e.prototype.diffDates=function(t,e){return this.largeUnit?o.diffByUnit(t,e,this.largeUnit):o.diffDayTime(t,e)},e.prototype.isEventInstanceGroupAllowed=function(t){var e,n=this._getView(),i=this.dateProfile,r=this.eventRangesToEventFootprints(t.getAllEventRanges());for(e=0;e<r.length;e++)if(!i.validUnzonedRange.containsRange(r[e].componentFootprint.unzonedRange))return!1;return n.calendar.constraints.isEventInstanceGroupAllowed(t)},e.prototype.isExternalInstanceGroupAllowed=function(t){var e,n=this._getView(),i=this.dateProfile,r=this.eventRangesToEventFootprints(t.getAllEventRanges());for(e=0;e<r.length;e++)if(!i.validUnzonedRange.containsRange(r[e].componentFootprint.unzonedRange))return!1;for(e=0;e<r.length;e++)if(!n.calendar.constraints.isSelectionFootprintAllowed(r[e].componentFootprint))return!1;return!0},e}(s["default"]);e["default"]=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(0),s=n(4),a=n(218),l=n(221),c=n(40),u=n(21),h=n(5),d=function(t){function e(e,n){var i=t.call(this,null,n.options)||this;return i.batchRenderDepth=0,i.isSelected=!1,i.calendar=e,i.viewSpec=n,i.type=n.type,i.name=i.type,i.initRenderQueue(),i.initHiddenDays(),i.dateProfileGenerator=new i.dateProfileGeneratorClass(i),i.bindBaseRenderHandlers(),i.eventOrderSpecs=s.parseFieldSpecs(i.opt("eventOrder")),i.initialize&&i.initialize(),i}return i.__extends(e,t),e.prototype._getView=function(){return this},e.prototype.opt=function(t){return this.options[t]},e.prototype.initRenderQueue=function(){this.renderQueue=new a["default"]({event:this.opt("eventRenderWait")}),this.renderQueue.on("start",this.onRenderQueueStart.bind(this)),this.renderQueue.on("stop",this.onRenderQueueStop.bind(this)),this.on("before:change",this.startBatchRender),this.on("change",this.stopBatchRender)},e.prototype.onRenderQueueStart=function(){this.calendar.freezeContentHeight(),this.addScroll(this.queryScroll())},e.prototype.onRenderQueueStop=function(){this.calendar.updateViewSize()&&this.popScroll(),this.calendar.thawContentHeight()},e.prototype.startBatchRender=function(){this.batchRenderDepth++||this.renderQueue.pause()},e.prototype.stopBatchRender=function(){--this.batchRenderDepth||this.renderQueue.resume()},e.prototype.requestRender=function(t,e,n){this.renderQueue.queue(t,e,n)},e.prototype.whenSizeUpdated=function(t){this.renderQueue.isRunning?this.renderQueue.one("stop",t.bind(this)):t.call(this)},e.prototype.computeTitle=function(t){var e;return e=/^(year|month)$/.test(t.currentRangeUnit)?t.currentUnzonedRange:t.activeUnzonedRange,this.formatRange({start:this.calendar.msToMoment(e.startMs,t.isRangeAllDay),end:this.calendar.msToMoment(e.endMs,t.isRangeAllDay)},t.isRangeAllDay,this.opt("titleFormat")||this.computeTitleFormat(t),this.opt("titleRangeSeparator"))},e.prototype.computeTitleFormat=function(t){var e=t.currentRangeUnit;return"year"===e?"YYYY":"month"===e?this.opt("monthYearFormat"):t.currentUnzonedRange.as("days")>1?"ll":"LL"},e.prototype.setDate=function(t){var e=this.get("dateProfile"),n=this.dateProfileGenerator.build(t,undefined,!0);e&&e.activeUnzonedRange.equals(n.activeUnzonedRange)||this.set("dateProfile",n)},e.prototype.unsetDate=function(){this.unset("dateProfile")},e.prototype.fetchInitialEvents=function(t){var e=this.calendar,n=t.isRangeAllDay&&!this.usesMinMaxTime;return e.requestEvents(e.msToMoment(t.activeUnzonedRange.startMs,n),e.msToMoment(t.activeUnzonedRange.endMs,n))},e.prototype.bindEventChanges=function(){this.listenTo(this.calendar,"eventsReset",this.resetEvents)},e.prototype.unbindEventChanges=function(){this.stopListeningTo(this.calendar,"eventsReset")},e.prototype.setEvents=function(t){this.set("currentEvents",t),this.set("hasEvents",!0)},e.prototype.unsetEvents=function(){this.unset("currentEvents"),this.unset("hasEvents")},e.prototype.resetEvents=function(t){this.startBatchRender(),this.unsetEvents(),this.setEvents(t),this.stopBatchRender()},e.prototype.requestDateRender=function(t){var e=this;this.requestRender(function(){e.executeDateRender(t)},"date","init")},e.prototype.requestDateUnrender=function(){var t=this;this.requestRender(function(){t.executeDateUnrender()},"date","destroy")},e.prototype.executeDateRender=function(e){t.prototype.executeDateRender.call(this,e),this.render&&this.render(),this.trigger("datesRendered"),this.addScroll({isDateInit:!0}),this.startNowIndicator()},e.prototype.executeDateUnrender=function(){this.unselect(),this.stopNowIndicator(),this.trigger("before:datesUnrendered"),this.destroy&&this.destroy(),t.prototype.executeDateUnrender.call(this)},e.prototype.bindBaseRenderHandlers=function(){var t=this;this.on("datesRendered",function(){t.whenSizeUpdated(t.triggerViewRender)}),this.on("before:datesUnrendered",function(){t.triggerViewDestroy()})},e.prototype.triggerViewRender=function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},e.prototype.triggerViewDestroy=function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},e.prototype.requestEventsRender=function(t){var e=this;this.requestRender(function(){e.executeEventRender(t),e.whenSizeUpdated(e.triggerAfterEventsRendered)},"event","init")},e.prototype.requestEventsUnrender=function(){var t=this;this.requestRender(function(){t.triggerBeforeEventsDestroyed(),t.executeEventUnrender()},"event","destroy")},e.prototype.requestBusinessHoursRender=function(t){var e=this;this.requestRender(function(){e.renderBusinessHours(t)},"businessHours","init")},e.prototype.requestBusinessHoursUnrender=function(){var t=this;this.requestRender(function(){t.unrenderBusinessHours()},"businessHours","destroy")},e.prototype.bindGlobalHandlers=function(){t.prototype.bindGlobalHandlers.call(this),this.listenTo(u["default"].get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},e.prototype.unbindGlobalHandlers=function(){t.prototype.unbindGlobalHandlers.call(this),this.stopListeningTo(u["default"].get())},e.prototype.startNowIndicator=function(){var t,e,n,i=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit())&&(e=s.proxy(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=(new Date).valueOf(),n=this.initialNowDate.clone().startOf(t).add(1,t).valueOf()-this.initialNowDate.valueOf(),this.nowIndicatorTimeoutID=setTimeout(function(){i.nowIndicatorTimeoutID=null,e(),n=+o.duration(1,t),n=Math.max(100,n),i.nowIndicatorIntervalID=setInterval(e,n)},n))},e.prototype.updateNowIndicator=function(){this.isDatesRendered&&this.initialNowDate&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add((new Date).valueOf()-this.initialNowQueriedMs)),this.isNowIndicatorRendered=!0)},e.prototype.stopNowIndicator=function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearInterval(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},e.prototype.updateSize=function(e,n,i){this.setHeight?this.setHeight(e,n):t.prototype.updateSize.call(this,e,n,i),this.updateNowIndicator()},e.prototype.addScroll=function(t){var e=this.queuedScroll||(this.queuedScroll={});r.extend(e,t)},e.prototype.popScroll=function(){this.applyQueuedScroll(),this.queuedScroll=null},e.prototype.applyQueuedScroll=function(){this.queuedScroll&&this.applyScroll(this.queuedScroll)},e.prototype.queryScroll=function(){var t={};return this.isDatesRendered&&r.extend(t,this.queryDateScroll()),t},e.prototype.applyScroll=function(t){t.isDateInit&&this.isDatesRendered&&r.extend(t,this.computeInitialDateScroll()),this.isDatesRendered&&this.applyDateScroll(t)},e.prototype.computeInitialDateScroll=function(){return{}},e.prototype.queryDateScroll=function(){return{}},e.prototype.applyDateScroll=function(){},e.prototype.reportEventDrop=function(t,e,n,i){var r=this.calendar.eventManager.mutateEventsWithId(t.def.id,e),s=e.dateMutation;s&&(t.dateProfile=s.buildNewDateProfile(t.dateProfile,this.calendar)),this.triggerEventDrop(t,s&&s.dateDelta||o.duration(),r,n,i)},e.prototype.triggerEventDrop=function(t,e,n,i,r){this.publiclyTrigger("eventDrop",{context:i[0],args:[t.toLegacy(),e,n,r,{},this]})},e.prototype.reportExternalDrop=function(t,e,n,i,r,o){e&&this.calendar.eventManager.addEventDef(t,n),this.triggerExternalDrop(t,e,i,r,o)},e.prototype.triggerExternalDrop=function(t,e,n,i,r){this.publiclyTrigger("drop",{context:n[0],args:[t.dateProfile.start.clone(),i,r,this]}),e&&this.publiclyTrigger("eventReceive",{context:this,args:[t.buildInstance().toLegacy(),this]})},e.prototype.reportEventResize=function(t,e,n,i){var r=this.calendar.eventManager.mutateEventsWithId(t.def.id,e);t.dateProfile=e.dateMutation.buildNewDateProfile(t.dateProfile,this.calendar),this.triggerEventResize(t,e.dateMutation.endDelta,r,n,i)},e.prototype.triggerEventResize=function(t,e,n,i,r){this.publiclyTrigger("eventResize",{context:i[0],args:[t.toLegacy(),e,n,r,{},this]})},e.prototype.select=function(t,e){this.unselect(e),this.renderSelectionFootprint(t),this.reportSelection(t,e)},e.prototype.renderSelectionFootprint=function(e){this.renderSelection?this.renderSelection(e.toLegacy(this.calendar)):t.prototype.renderSelectionFootprint.call(this,e)},e.prototype.reportSelection=function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},e.prototype.triggerSelect=function(t,e){var n=this.calendar.footprintToDateProfile(t);this.publiclyTrigger("select",{context:this,args:[n.start,n.end,e,this]})},e.prototype.unselect=function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.publiclyTrigger("unselect",{context:this,args:[t,this]}))},e.prototype.selectEventInstance=function(t){this.selectedEventInstance&&this.selectedEventInstance===t||(this.unselectEventInstance(),this.getEventSegs().forEach(function(e){e.footprint.eventInstance===t&&e.el&&e.el.addClass("fc-selected")}),this.selectedEventInstance=t)},e.prototype.unselectEventInstance=function(){this.selectedEventInstance&&(this.getEventSegs().forEach(function(t){t.el&&t.el.removeClass("fc-selected")}),this.selectedEventInstance=null)},e.prototype.isEventDefSelected=function(t){return this.selectedEventInstance&&this.selectedEventInstance.def.id===t.id},e.prototype.handleDocumentMousedown=function(t){s.isPrimaryMouseButton(t)&&this.processUnselect(t)},e.prototype.processUnselect=function(t){this.processRangeUnselect(t),this.processEventUnselect(t)},e.prototype.processRangeUnselect=function(t){var e;this.isSelected&&this.opt("unselectAuto")&&((e=this.opt("unselectCancel"))&&r(t.target).closest(e).length||this.unselect(t))},e.prototype.processEventUnselect=function(t){this.selectedEventInstance&&(r(t.target).closest(".fc-selected").length||this.unselectEventInstance())},e.prototype.triggerBaseRendered=function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},e.prototype.triggerBaseUnrendered=function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},e.prototype.triggerDayClick=function(t,e,n){var i=this.calendar.footprintToDateProfile(t);this.publiclyTrigger("dayClick",{context:e,args:[i.start,n,this]})},e.prototype.isDateInOtherMonth=function(){return!1},e.prototype.getUnzonedRangeOption=function(t){var e=this.opt(t);if("function"==typeof e&&(e=e.apply(null,Array.prototype.slice.call(arguments,1))),e)return this.calendar.parseUnzonedRange(e)},e.prototype.initHiddenDays=function(){var t,e=this.opt("hiddenDays")||[],n=[],i=0;for(!1===this.opt("weekends")&&e.push(0,6),t=0;t<7;t++)(n[t]=-1!==r.inArray(t,e))||i++;if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},e.prototype.trimHiddenDays=function(t){var e=t.getStart(),n=t.getEnd();return e&&(e=this.skipHiddenDays(e)),n&&(n=this.skipHiddenDays(n,-1,!0)),null===e||null===n||e<n?new h["default"](e,n):null},e.prototype.isHiddenDay=function(t){return o.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},e.prototype.skipHiddenDays=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var i=t.clone();this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},e}(c["default"]);e["default"]=d,d.prototype.usesMinMaxTime=!1,d.prototype.dateProfileGeneratorClass=l["default"],d.watch("displayingDates",["isInDom","dateProfile"],function(t){this.requestDateRender(t.dateProfile)},function(){this.requestDateUnrender()}),d.watch("displayingBusinessHours",["displayingDates","businessHourGenerator"],function(t){this.requestBusinessHoursRender(t.businessHourGenerator)},function(){this.requestBusinessHoursUnrender()}),d.watch("initialEvents",["dateProfile"],function(t){return this.fetchInitialEvents(t.dateProfile)}),d.watch("bindingEvents",["initialEvents"],function(t){this.setEvents(t.initialEvents),this.bindEventChanges()},function(){this.unbindEventChanges(),this.unsetEvents()}),d.watch("displayingEvents",["displayingDates","hasEvents"],function(){this.requestEventsRender(this.get("currentEvents"))},function(){this.requestEventsUnrender()}),d.watch("title",["dateProfile"],function(t){return this.title=this.computeTitle(t.dateProfile)}),d.watch("legacyDateProps",["dateProfile"],function(t){var e=this.calendar,n=t.dateProfile;this.start=e.msToMoment(n.activeUnzonedRange.startMs,n.isRangeAllDay),this.end=e.msToMoment(n.activeUnzonedRange.endMs,n.isRangeAllDay),this.intervalStart=e.msToMoment(n.currentUnzonedRange.startMs,n.isRangeAllDay),this.intervalEnd=e.msToMoment(n.currentUnzonedRange.endMs,n.isRangeAllDay)})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=function(){function t(t,e){this.view=t._getView(),this.component=t,this.fillRenderer=e}return t.prototype.opt=function(t){return this.view.opt(t)},t.prototype.rangeUpdated=function(){var t,e;this.eventTimeFormat=this.opt("eventTimeFormat")||this.opt("timeFormat")||this.computeEventTimeFormat(),null==(t=this.opt("displayEventTime"))&&(t=this.computeDisplayEventTime()),null==(e=this.opt("displayEventEnd"))&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},t.prototype.render=function(t){var e,n,i,r=this.component._getDateProfile(),o=[],s=[];for(e in t)i=(n=t[e]).sliceRenderRanges(r.activeUnzonedRange),n.getEventDef().hasBgRendering()?o.push.apply(o,i):s.push.apply(s,i);this.renderBgRanges(o),this.renderFgRanges(s)},t.prototype.unrender=function(){this.unrenderBgRanges(),this.unrenderFgRanges()},t.prototype.renderFgRanges=function(t){var e=this.component.eventRangesToEventFootprints(t),n=this.component.eventFootprintsToSegs(e);n=this.renderFgSegEls(n),!1!==this.renderFgSegs(n)&&(this.fgSegs=n)},t.prototype.unrenderFgRanges=function(){this.unrenderFgSegs(this.fgSegs||[]),this.fgSegs=null},t.prototype.renderBgRanges=function(t){var e=this.component.eventRangesToEventFootprints(t),n=this.component.eventFootprintsToSegs(e);!1!==this.renderBgSegs(n)&&(this.bgSegs=n)},t.prototype.unrenderBgRanges=function(){this.unrenderBgSegs(),this.bgSegs=null},t.prototype.getSegs=function(){return(this.bgSegs||[]).concat(this.fgSegs||[])},t.prototype.renderFgSegs=function(){return!1},t.prototype.unrenderFgSegs=function(){},t.prototype.renderBgSegs=function(t){var e=this;if(!this.fillRenderer)return!1;this.fillRenderer.renderSegs("bgEvent",t,{getClasses:function(t){return e.getBgClasses(t.footprint.eventDef)},getCss:function(t){return{"background-color":e.getBgColor(t.footprint.eventDef)}},filterEl:function(t,n){return e.filterEventRenderEl(t.footprint,n)}})},t.prototype.unrenderBgSegs=function(){this.fillRenderer&&this.fillRenderer.unrender("bgEvent")},t.prototype.renderFgSegEls=function(t,e){var n=this;void 0===e&&(e=!1);var r,o=this.view.hasPublicHandlers("eventRender"),s="",a=[];if(t.length){for(r=0;r<t.length;r++)this.beforeFgSegHtml(t[r]),s+=this.fgSegHtml(t[r],e);i(s).each(function(e,r){var s=t[e],l=i(r);o&&(l=n.filterEventRenderEl(s.footprint,l)),l&&(l.data("fc-seg",s),s.el=l,a.push(s))})}return a},t.prototype.beforeFgSegHtml=function(){},t.prototype.fgSegHtml=function(){},t.prototype.getSegClasses=function(t,e,n){var i=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(this.getClasses(t.footprint.eventDef));return e&&i.push("fc-draggable"),n&&i.push("fc-resizable"),this.view.isEventDefSelected(t.footprint.eventDef)&&i.push("fc-selected"),i},t.prototype.filterEventRenderEl=function(t,e){var n=t.getEventLegacy(),r=this.view.publiclyTrigger("eventRender",{context:n,args:[n,e,this.view]});return!1===r?e=null:r&&!0!==r&&(e=i(r)),e},t.prototype.getTimeText=function(t,e,n){return this._getTimeText(t.eventInstance.dateProfile.start,t.eventInstance.dateProfile.end,t.componentFootprint.isAllDay,e,n)},t.prototype._getTimeText=function(t,e,n,i,r){return null==i&&(i=this.eventTimeFormat),null==r&&(r=this.displayEventEnd),this.displayEventTime&&!n?r&&e?this.view.formatRange({start:t,end:e},!1,i):t.format(i):""},t.prototype.computeEventTimeFormat=function(){return this.opt("smallTimeFormat")},t.prototype.computeDisplayEventTime=function(){return!0},t.prototype.computeDisplayEventEnd=function(){return!0},t.prototype.getBgClasses=function(t){var e=this.getClasses(t);return e.push("fc-bgevent"),e},t.prototype.getClasses=function(t){var e,n=this.getStylingObjs(t),i=[];for(e=0;e<n.length;e++)i.push.apply(i,n[e].eventClassName||n[e].className||[]);return i},t.prototype.getSkinCss=function(t){return{"background-color":this.getBgColor(t),"border-color":this.getBorderColor(t),color:this.getTextColor(t)}},t.prototype.getBgColor=function(t){var e,n,i=this.getStylingObjs(t);for(e=0;e<i.length&&!n;e++)n=i[e].eventBackgroundColor||i[e].eventColor||i[e].backgroundColor||i[e].color;return n||(n=this.opt("eventBackgroundColor")||this.opt("eventColor")),n},t.prototype.getBorderColor=function(t){var e,n,i=this.getStylingObjs(t);for(e=0;e<i.length&&!n;e++)n=i[e].eventBorderColor||i[e].eventColor||i[e].borderColor||i[e].color;return n||(n=this.opt("eventBorderColor")||this.opt("eventColor")),n},t.prototype.getTextColor=function(t){var e,n,i=this.getStylingObjs(t);for(e=0;e<i.length&&!n;e++)n=i[e].eventTextColor||i[e].textColor;return n||(n=this.opt("eventTextColor")),n},t.prototype.getStylingObjs=function(t){var e=this.getFallbackStylingObjs(t);return e.unshift(t),e},t.prototype.getFallbackStylingObjs=function(t){return[t.source]},t.prototype.sortEventSegs=function(t){t.sort(r.proxy(this,"compareEventSegs"))},t.prototype.compareEventSegs=function(t,e){var n=t.footprint,i=e.footprint,o=n.componentFootprint,s=i.componentFootprint,a=o.unzonedRange,l=s.unzonedRange;return a.startMs-l.startMs||l.endMs-l.startMs-(a.endMs-a.startMs)||s.isAllDay-o.isAllDay||r.compareByFieldSpecs(n.eventDef,i.eventDef,this.view.eventOrderSpecs,n.eventDef.miscProps,i.eventDef.miscProps)},t}();e["default"]=o},,,,,function(t,e,n){function i(t){return"en"!==t.locale()?t.clone().locale("en"):t}function r(t,e){return f(a(e).fakeFormatString,t)}function o(t,e,n,i,r){return t=v["default"].parseZone(t),e=v["default"].parseZone(e),s(a(n=t.localeData().longDateFormat(n)||n),t,e,i||" - ",r)}function s(t,e,n,i,r){var o,s,a,l=t.sameUnits,c=e.clone().stripZone(),u=n.clone().stripZone(),h=p(t.fakeFormatString,e),d=p(t.fakeFormatString,n),f="",m="",v="",y="",b="";for(o=0;o<l.length&&(!l[o]||c.isSame(u,l[o]));o++)f+=h[o];for(s=l.length-1;s>o&&(!l[s]||c.isSame(u,l[s]))&&(s-1!==o||"."!==h[s]);s--)m=h[s]+m;for(a=o;a<=s;a++)v+=h[a],y+=d[a];return(v||y)&&(b=r?y+i+v:v+i+y),g(f+b+m)}function a(t){return k[t]||(k[t]=l(t))}function l(t){var e=c(t);return{fakeFormatString:h(e),sameUnits:d(e)}}function c(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push.apply(n,u(e[1])):e[2]?n.push({maybe:c(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push.apply(n,u(e[5]));return n}function u(t){return". "===t?["."," "]:[t]}function h(t){var e,n,i=[]
;for(e=0;e<t.length;e++)"string"==typeof(n=t[e])?i.push("["+n+"]"):n.token?n.token in C?i.push(b+"["+n.token+"]"):i.push(n.token):n.maybe&&i.push(w+h(n.maybe)+w);return i.join(y)}function d(t){var e,n,i,r=[];for(e=0;e<t.length;e++)(n=t[e]).token?(i=S[n.token.charAt(0)],r.push(i?i.unit:"second")):n.maybe?r.push.apply(r,d(n.maybe)):r.push(null);return r}function f(t,e){return g(p(t,e).join(""))}function p(t,e){var n,i,r=[],o=v.oldMomentFormat(e,t).split(y);for(n=0;n<o.length;n++)(i=o[n]).charAt(0)===b?r.push(C[i.substring(1)](e)):r.push(i);return r}function g(t){return t.replace(x,function(t,e){return e.match(/[1-9]/)?e:""})}function m(t){var e,n,i,r,o=c(t);for(e=0;e<o.length;e++)(n=o[e]).token&&(i=S[n.token.charAt(0)])&&(!r||i.value>r.value)&&(r=i);return r?r.unit:null}Object.defineProperty(e,"__esModule",{value:!0});var v=n(10);v.newMomentProto.format=function(){return this._fullCalendar&&arguments[0]?r(this,arguments[0]):this._ambigTime?v.oldMomentFormat(i(this),"YYYY-MM-DD"):this._ambigZone?v.oldMomentFormat(i(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?v.oldMomentFormat(i(this)):v.oldMomentProto.format.apply(this,arguments)},v.newMomentProto.toISOString=function(){return this._ambigTime?v.oldMomentFormat(i(this),"YYYY-MM-DD"):this._ambigZone?v.oldMomentFormat(i(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?v.oldMomentProto.toISOString.apply(i(this),arguments):v.oldMomentProto.toISOString.apply(this,arguments)};var y="\x0B",b="\x1f",w="\x1e",x=new RegExp(w+"([^"+w+"]*)"+w,"g"),C={t:function(t){return v.oldMomentFormat(t,"a").charAt(0)},T:function(t){return v.oldMomentFormat(t,"A").charAt(0)}},S={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};e.formatDate=r,e.formatRange=o;var k={};e.queryMostGranularFormatUnit=m},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(33),o=n(11),s=n(7),a=function(t){function e(){var e=t.call(this)||this;return e._watchers={},e._props={},e.applyGlobalWatchers(),e.constructed(),e}return i.__extends(e,t),e.watch=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.prototype.hasOwnProperty("_globalWatchArgs")||(this.prototype._globalWatchArgs=Object.create(this.prototype._globalWatchArgs)),this.prototype._globalWatchArgs[t]=e},e.prototype.constructed=function(){},e.prototype.applyGlobalWatchers=function(){var t,e=this._globalWatchArgs;for(t in e)this.watch.apply(this,[t].concat(e[t]))},e.prototype.has=function(t){return t in this._props},e.prototype.get=function(t){return t===undefined?this._props:this._props[t]},e.prototype.set=function(t,e){var n;"string"==typeof t?(n={})[t]=e===undefined?null:e:n=t,this.setProps(n)},e.prototype.reset=function(t){var e,n=this._props,i={};for(e in n)i[e]=undefined;for(e in t)i[e]=t[e];this.setProps(i)},e.prototype.unset=function(t){var e,n,i={};for(e="string"==typeof t?[t]:t,n=0;n<e.length;n++)i[e[n]]=undefined;this.setProps(i)},e.prototype.setProps=function(t){var e,n,i={},r=0;for(e in t)"object"!=typeof(n=t[e])&&n===this._props[e]||(i[e]=n,r++);if(r){for(e in this.trigger("before:batchChange",i),i)n=i[e],this.trigger("before:change",e,n),this.trigger("before:change:"+e,n);for(e in i)(n=i[e])===undefined?delete this._props[e]:this._props[e]=n,this.trigger("change:"+e,n),this.trigger("change",e,n);this.trigger("batchChange",i)}},e.prototype.watch=function(t,e,n,i){var r=this;this.unwatch(t),this._watchers[t]=this._watchDeps(e,function(e){var i=n.call(r,e);i&&i.then?(r.unset(t),i.then(function(e){r.set(t,e)})):r.set(t,i)},function(e){r.unset(t),i&&i.call(r,e)})},e.prototype.unwatch=function(t){var e=this._watchers[t];e&&(delete this._watchers[t],e.teardown())},e.prototype._watchDeps=function(t,e,n){var i=this,r=0,o=t.length,s=0,a={},l=[],c=!1,u=function(){1===++r&&s===o&&(c=!0,n(a),c=!1)},h=function(t,n,i){n===undefined?(i||a[t]===undefined||s--,delete a[t]):(i||a[t]!==undefined||s++,a[t]=n),--r||s===o&&(c||e(a))},d=function(t,e){i.on(t,e),l.push([t,e])};return t.forEach(function(t){var e=!1;"?"===t.charAt(0)&&(t=t.substring(1),e=!0),d("before:change:"+t,function(n){u(t,n,e)}),d("change:"+t,function(n){h(t,n,e)})}),t.forEach(function(t){var e=!1;"?"===t.charAt(0)&&(t=t.substring(1),e=!0),i.has(t)?(a[t]=i.get(t),s++):e&&s++}),s===o&&e(a),{teardown:function(){for(var t=0;t<l.length;t++)i.off(l[t][0],l[t][1]);l=null,s===o&&n()},flash:function(){s===o&&(n(),e(a))}}},e.prototype.flash=function(t){var e=this._watchers[t];e&&e.flash()},e}(r["default"]);e["default"]=a,a.prototype._globalWatchArgs={},o["default"].mixInto(a),s["default"].mixInto(a)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(13),s=n(210);e["default"]={parse:function(t,e){return r.isTimeString(t.start)||i.isDuration(t.start)||r.isTimeString(t.end)||i.isDuration(t.end)?s["default"].parse(t,e):o["default"].parse(t,e)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(17),o=function(){function t(){this.clearEnd=!1,this.forceTimed=!1,this.forceAllDay=!1}return t.createFromDiff=function(e,n,r){function o(t,e){return r?i.diffByUnit(t,e,r):n.isAllDay()?i.diffDay(t,e):i.diffDayTime(t,e)}var s,a,l,c=e.end&&!n.end,u=e.isAllDay()&&!n.isAllDay(),h=!e.isAllDay()&&n.isAllDay();return s=o(n.start,e.start),n.end&&(a=o(n.unzonedRange.getEnd(),e.unzonedRange.getEnd()).subtract(s)),(l=new t).clearEnd=c,l.forceTimed=u,l.forceAllDay=h,l.setDateDelta(s),l.setEndDelta(a),l},t.prototype.buildNewDateProfile=function(t,e){var n=t.start.clone(),i=null,o=!1;return t.end&&!this.clearEnd?i=t.end.clone():this.endDelta&&!i&&(i=e.getDefaultEventEnd(t.isAllDay(),n)),this.forceTimed?(o=!0,n.hasTime()||n.time(0),i&&!i.hasTime()&&i.time(0)):this.forceAllDay&&(n.hasTime()&&n.stripTime(),i&&i.hasTime()&&i.stripTime()),this.dateDelta&&(o=!0,n.add(this.dateDelta),i&&i.add(this.dateDelta)),this.endDelta&&(o=!0,i.add(this.endDelta)),this.startDelta&&(o=!0,n.add(this.startDelta)),o&&(n=e.applyTimezone(n),i&&(i=e.applyTimezone(i))),!i&&e.opt("forceEventDuration")&&(i=e.getDefaultEventEnd(t.isAllDay(),n)),new r["default"](n,i,e)},t.prototype.setDateDelta=function(t){t&&t.valueOf()?this.dateDelta=t:this.dateDelta=null},t.prototype.setStartDelta=function(t){t&&t.valueOf()?this.startDelta=t:this.startDelta=null},t.prototype.setEndDelta=function(t){t&&t.valueOf()?this.endDelta=t:this.endDelta=null},t.prototype.isEmpty=function(){return!(this.clearEnd||this.forceTimed||this.forceAllDay||this.dateDelta||this.startDelta||this.endDelta)},t}();e["default"]=o},function(t,e,n){function i(t,e){a[t]=e}function r(t){return t?!0===t?s["default"]:a[t]:o["default"]}Object.defineProperty(e,"__esModule",{value:!0});var o=n(213),s=n(214),a={};e.defineThemeSystem=i,e.getThemeSystemClass=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(20),a=n(6),l=n(13),c=function(t){function e(e){var n=t.call(this,e)||this;return n.eventDefs=[],n}return i.__extends(e,t),e.parse=function(t,e){var n;return r.isArray(t.events)?n=t:r.isArray(t)&&(n={events:t}),!!n&&a["default"].parse.call(this,n,e)},e.prototype.setRawEventDefs=function(t){this.rawEventDefs=t,this.eventDefs=this.parseEventDefs(t)},e.prototype.fetch=function(t,e,n){var i,r=this.eventDefs;if(null!=this.currentTimezone&&this.currentTimezone!==n)for(i=0;i<r.length;i++)r[i]instanceof l["default"]&&r[i].rezone();return this.currentTimezone=n,s["default"].resolve(r)},e.prototype.addEventDef=function(t){this.eventDefs.push(t)},e.prototype.removeEventDefsById=function(t){return o.removeMatching(this.eventDefs,function(e){return e.id===t})},e.prototype.removeAllEventDefs=function(){this.eventDefs=[]},e.prototype.getPrimitive=function(){return this.rawEventDefs},e.prototype.applyManualStandardProps=function(e){var n=t.prototype.applyManualStandardProps.call(this,e);return this.setRawEventDefs(e.events),n},e}(a["default"]);e["default"]=c,c.defineStandardProps({events:!1})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=function(){function t(t){this.isHorizontal=!1,this.isVertical=!1,this.els=i(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?i(t.offsetParent):null}return t.prototype.build=function(){var t=this.forcedOffsetParentEl;!t&&this.els.length>0&&(t=this.els.eq(0).offsetParent()),this.origin=t?t.offset():null,this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},t.prototype.clear=function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},t.prototype.ensureBuilt=function(){this.origin||this.build()},t.prototype.buildElHorizontals=function(){var t=[],e=[];this.els.each(function(n,r){var o=i(r),s=o.offset().left,a=o.outerWidth();t.push(s),e.push(s+a)}),this.lefts=t,this.rights=e},t.prototype.buildElVerticals=function(){var t=[],e=[];this.els.each(function(n,r){var o=i(r),s=o.offset().top,a=o.outerHeight();t.push(s),e.push(s+a)}),this.tops=t,this.bottoms=e},t.prototype.getHorizontalIndex=function(t){this.ensureBuilt();var e,n=this.lefts,i=this.rights,r=n.length;for(e=0;e<r;e++)if(t>=n[e]&&t<i[e])return e},t.prototype.getVerticalIndex=function(t){this.ensureBuilt();var e,n=this.tops,i=this.bottoms,r=n.length;for(e=0;e<r;e++)if(t>=n[e]&&t<i[e])return e},t.prototype.getLeftOffset=function(t){return this.ensureBuilt(),this.lefts[t]},t.prototype.getLeftPosition=function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},t.prototype.getRightOffset=function(t){return this.ensureBuilt(),this.rights[t]},t.prototype.getRightPosition=function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},t.prototype.getWidth=function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},t.prototype.getTopOffset=function(t){return this.ensureBuilt(),this.tops[t]},t.prototype.getTopPosition=function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},t.prototype.getBottomOffset=function(t){return this.ensureBuilt(),this.bottoms[t]},t.prototype.getBottomPosition=function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},t.prototype.getHeight=function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]},t.prototype.queryBoundingRect=function(){var t;return this.els.length>0&&!(t=r.getScrollParent(this.els.eq(0))).is(document)?r.getClientRect(t):null},t.prototype.isPointInBounds=function(t,e){return this.isLeftInBounds(t)&&this.isTopInBounds(e)},t.prototype.isLeftInBounds=function(t){return!this.boundingRect||t>=this.boundingRect.left&&t<this.boundingRect.right},t.prototype.isTopInBounds=function(t){return!this.boundingRect||t>=this.boundingRect.top&&t<this.boundingRect.bottom},t}();e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(7),s=n(21),a=function(){function t(t){this.isInteracting=!1,this.isDistanceSurpassed=!1,this.isDelayEnded=!1,this.isDragging=!1,this.isTouch=!1,this.isGeneric=!1,this.shouldCancelTouchScroll=!0,this.scrollAlwaysKills=!1,this.isAutoScroll=!1,this.scrollSensitivity=30,this.scrollSpeed=200,this.scrollIntervalMs=50,this.options=t||{}}return t.prototype.startInteraction=function(t,e){if(void 0===e&&(e={}),"mousedown"===t.type){if(s["default"].get().shouldIgnoreMouse())return;if(!r.isPrimaryMouseButton(t))return;t.preventDefault()}this.isInteracting||(this.delay=r.firstDefined(e.delay,this.options.delay,0),this.minDistance=r.firstDefined(e.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,r.preventSelection(i("body")),this.isInteracting=!0,this.isTouch=r.getEvIsTouch(t),this.isGeneric="dragstart"===t.type,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=r.getEvX(t),this.originY=r.getEvY(t),this.scrollEl=r.getScrollParent(i(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},t.prototype.handleInteractionStart=function(t){this.trigger("interactionStart",t)},t.prototype.endInteraction=function(t,e){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,e),r.allowSelection(i("body")))},t.prototype.handleInteractionEnd=function(t,e){this.trigger("interactionEnd",t,e||!1)},t.prototype.bindHandlers=function(){var t=s["default"].get();this.isGeneric?this.listenTo(i(document),{drag:this.handleMove,dragstop:this.endInteraction}):this.isTouch?this.listenTo(t,{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll}):this.listenTo(t,{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(t,{selectstart:r.preventDefault,contextmenu:r.preventDefault})},t.prototype.unbindHandlers=function(){this.stopListeningTo(s["default"].get()),this.stopListeningTo(i(document))},t.prototype.startDrag=function(t,e){this.startInteraction(t,e),this.isDragging||(this.isDragging=!0,this.handleDragStart(t))},t.prototype.handleDragStart=function(t){this.trigger("dragStart",t)},t.prototype.handleMove=function(t){var e=r.getEvX(t)-this.originX,n=r.getEvY(t)-this.originY,i=this.minDistance;this.isDistanceSurpassed||e*e+n*n>=i*i&&this.handleDistanceSurpassed(t),this.isDragging&&this.handleDrag(e,n,t)},t.prototype.handleDrag=function(t,e,n){this.trigger("drag",t,e,n),this.updateAutoScroll(n)},t.prototype.endDrag=function(t){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(t))},t.prototype.handleDragEnd=function(t){this.trigger("dragEnd",t)},t.prototype.startDelay=function(t){var e=this;this.delay?this.delayTimeoutId=setTimeout(function(){e.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},t.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(t)},t.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(t)},t.prototype.handleTouchMove=function(t){this.isDragging&&this.shouldCancelTouchScroll&&t.preventDefault(),this.handleMove(t)},t.prototype.handleMouseMove=function(t){this.handleMove(t)},t.prototype.handleTouchScroll=function(t){this.isDragging&&!this.scrollAlwaysKills||this.endInteraction(t,!0)},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.options[t]&&this.options[t].apply(this,e),this["_"+t]&&this["_"+t].apply(this,e)},t.prototype.initAutoScroll=function(){var t=this.scrollEl;this.isAutoScroll=this.options.scroll&&t&&!t.is(window)&&!t.is(document),this.isAutoScroll&&this.listenTo(t,"scroll",r.debounce(this.handleDebouncedScroll,100))},t.prototype.destroyAutoScroll=function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},t.prototype.computeScrollBounds=function(){this.isAutoScroll&&(this.scrollBounds=r.getOuterRect(this.scrollEl))},t.prototype.updateAutoScroll=function(t){var e,n,i,o,s=this.scrollSensitivity,a=this.scrollBounds,l=0,c=0;a&&(e=(s-(r.getEvY(t)-a.top))/s,n=(s-(a.bottom-r.getEvY(t)))/s,i=(s-(r.getEvX(t)-a.left))/s,o=(s-(a.right-r.getEvX(t)))/s,e>=0&&e<=1?l=e*this.scrollSpeed*-1:n>=0&&n<=1&&(l=n*this.scrollSpeed),i>=0&&i<=1?c=i*this.scrollSpeed*-1:o>=0&&o<=1&&(c=o*this.scrollSpeed)),this.setScrollVel(l,c)},t.prototype.setScrollVel=function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(r.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},t.prototype.constrainScrollVel=function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},t.prototype.scrollIntervalFunc=function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},t.prototype.endAutoScroll=function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},t.prototype.handleDebouncedScroll=function(){this.scrollIntervalId||this.handleScrollEnd()},t.prototype.handleScrollEnd=function(){},t}();e["default"]=a,o["default"].mixInto(a)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.updateDayTable=function(){for(var t,e,n,i=this,r=i.view,o=r.calendar,s=o.msToUtcMoment(i.dateProfile.renderUnzonedRange.startMs,!0),a=o.msToUtcMoment(i.dateProfile.renderUnzonedRange.endMs,!0),l=-1,c=[],u=[];s.isBefore(a);)r.isHiddenDay(s)?c.push(l+.5):(l++,c.push(l),u.push(s.clone())),s.add(1,"days");if(this.breakOnWeeks){for(e=u[0].day(),t=1;t<u.length&&u[t].day()!==e;t++);n=Math.ceil(u.length/t)}else n=1,t=u.length;this.dayDates=u,this.dayIndices=c,this.daysPerRow=t,this.rowCnt=n,this.updateDayTableCols()},e.prototype.updateDayTableCols=function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.opt("columnHeaderFormat")||this.opt("columnFormat")||this.computeColHeadFormat()},e.prototype.computeColCnt=function(){return this.daysPerRow},e.prototype.getCellDate=function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},e.prototype.getCellRange=function(t,e){var n=this.getCellDate(t,e);return{start:n,end:n.clone().add(1,"days")}},e.prototype.getCellDayIndex=function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},e.prototype.getColDayIndex=function(t){return this.isRTL?this.colCnt-1-t:t},e.prototype.getDateDayIndex=function(t){var e=this.dayIndices,n=t.diff(this.dayDates[0],"days");return n<0?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},e.prototype.computeColHeadFormat=function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.opt("dayOfMonthFormat"):"dddd"},e.prototype.sliceRangeByRow=function(t){var e,n,i,r,o,s=this.daysPerRow,a=this.view.computeDayRange(t),l=this.getDateDayIndex(a.start),c=this.getDateDayIndex(a.end.clone().subtract(1,"days")),u=[];for(e=0;e<this.rowCnt;e++)i=(n=e*s)+s-1,r=Math.max(l,n),o=Math.min(c,i),(r=Math.ceil(r))<=(o=Math.floor(o))&&u.push({row:e,firstRowDayIndex:r-n,lastRowDayIndex:o-n,isStart:r===l,isEnd:o===c});return u},e.prototype.sliceRangeByDay=function(t){var e,n,i,r,o,s,a=this.daysPerRow,l=this.view.computeDayRange(t),c=this.getDateDayIndex(l.start),u=this.getDateDayIndex(l.end.clone().subtract(1,"days")),h=[];for(e=0;e<this.rowCnt;e++)for(i=(n=e*a)+a-1,r=n;r<=i;r++)o=Math.max(c,r),s=Math.min(u,r),(o=Math.ceil(o))<=(s=Math.floor(s))&&h.push({row:e,firstRowDayIndex:o-n,lastRowDayIndex:s-n,isStart:o===c,isEnd:s===u});return h},e.prototype.renderHeadHtml=function(){var t=this.view.calendar.theme;return'<div class="fc-row '+t.getClass("headerRow")+'"><table class="'+t.getClass("tableGrid")+'"><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},e.prototype.renderHeadIntroHtml=function(){return this.renderIntroHtml()},e.prototype.renderHeadTrHtml=function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},e.prototype.renderHeadDateCellsHtml=function(){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),n.push(this.renderHeadDateCellHtml(e));return n.join("")},e.prototype.renderHeadDateCellHtml=function(t,e,n){var i,o=this,s=o.view,a=o.dateProfile.activeUnzonedRange.containsDate(t),l=["fc-day-header",s.calendar.theme.getClass("widgetHeader")];return i="function"==typeof o.opt("columnHeaderHtml")?o.opt("columnHeaderHtml")(t):"function"==typeof o.opt("columnHeaderText")?r.htmlEscape(o.opt("columnHeaderText")(t)):r.htmlEscape(t.format(o.colHeadFormat)),1===o.rowCnt?l=l.concat(o.getDayClasses(t,!0)):l.push("fc-"+r.dayIDs[t.day()]),'<th class="'+l.join(" ")+'"'+(1===(a&&o.rowCnt)?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(n?" "+n:"")+">"+(a?s.buildGotoAnchorHtml({date:t,forceOff:o.rowCnt>1||1===o.colCnt},i):i)+"</th>"},e.prototype.renderBgTrHtml=function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},e.prototype.renderBgIntroHtml=function(){return this.renderIntroHtml()},e.prototype.renderBgCellsHtml=function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderBgCellHtml(n));return i.join("")},e.prototype.renderBgCellHtml=function(t,e){var n=this,i=n.view,r=n.dateProfile.activeUnzonedRange.containsDate(t),o=n.getDayClasses(t);return o.unshift("fc-day",i.calendar.theme.getClass("widgetContent")),'<td class="'+o.join(" ")+'"'+(r?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e?" "+e:"")+"></td>"},e.prototype.renderIntroHtml=function(){},e.prototype.bookendCells=function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))},e}(n(14)["default"]);e["default"]=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.component=t,this.fillRenderer=e}return t.prototype.render=function(t){var e=this.component,n=e._getDateProfile().activeUnzonedRange,i=t.buildEventInstanceGroup(e.hasAllDayBusinessHours,n),r=i?e.eventRangesToEventFootprints(i.sliceRenderRanges(n)):[];this.renderEventFootprints(r)},t.prototype.renderEventFootprints=function(t){var e=this.component.eventFootprintsToSegs(t);this.renderSegs(e),this.segs=e},t.prototype.renderSegs=function(t){this.fillRenderer&&this.fillRenderer.renderSegs("businessHours",t,{getClasses:function(){return["fc-nonbusiness","fc-bgevent"]}})},t.prototype.unrender=function(){this.fillRenderer&&this.fillRenderer.unrender("businessHours"),this.segs=null},t.prototype.getSegs=function(){return this.segs||[]},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=function(){function t(t){this.fillSegTag="div",this.component=t,this.elsByFill={}}return t.prototype.renderFootprint=function(t,e,n){this.renderSegs(t,this.component.componentFootprintToSegs(e),n)},t.prototype.renderSegs=function(t,e,n){var i;return e=this.buildSegEls(t,e,n),(i=this.attachSegEls(t,e))&&this.reportEls(t,i),e},t.prototype.unrender=function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},t.prototype.buildSegEls=function(t,e,n){var r,o=this,s="",a=[];if(e.length){for(r=0;r<e.length;r++)s+=this.buildSegHtml(t,e[r],n);i(s).each(function(t,r){var s=e[t],l=i(r);n.filterEl&&(l=n.filterEl(s,l)),l&&(l=i(l)).is(o.fillSegTag)&&(s.el=l,a.push(s))})}return a},t.prototype.buildSegHtml=function(t,e,n){var i=n.getClasses?n.getClasses(e):[],o=r.cssToStr(n.getCss?n.getCss(e):{});return"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},t.prototype.attachSegEls=function(){},t.prototype.reportEls=function(t,e){this.elsByFill[t]?this.elsByFill[t]=this.elsByFill[t].add(e):this.elsByFill[t]=i(e)},t}();e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),r=n(36),o=n(6),s=function(){function t(t,e){this.view=t._getView(),this.component=t,this.eventRenderer=e}return t.prototype.renderComponentFootprint=function(t){this.renderEventFootprints([this.fabricateEventFootprint(t)])},t.prototype.renderEventDraggingFootprints=function(t,e,n){this.renderEventFootprints(t,e,"fc-dragging",n?null:this.view.opt("dragOpacity"))},t.prototype.renderEventResizingFootprints=function(t,e){this.renderEventFootprints(t,e,"fc-resizing")},t.prototype.renderEventFootprints=function(t,e,n,i){var r,o=this.component.eventFootprintsToSegs(t),s="fc-helper "+(n||"");for(o=this.eventRenderer.renderFgSegEls(o),r=0;r<o.length;r++)o[r].el.addClass(s);if(null!=i)for(r=0;r<o.length;r++)o[r].el.css("opacity",i);this.helperEls=this.renderSegs(o,e)},t.prototype.renderSegs=function(){},t.prototype.unrender=function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},t.prototype.fabricateEventFootprint=function(t){var e,n=this.view.calendar,s=n.footprintToDateProfile(t),a=new i["default"](new o["default"](n));return a.dateProfile=s,e=a.buildInstance(),new r["default"](t,a,e)},t}();e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(21),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"click",this.handleClick.bind(this)),e.bindSegHandlerToEl(t,"mouseenter",this.handleMouseover.bind(this)),e.bindSegHandlerToEl(t,"mouseleave",this.handleMouseout.bind(this))},e.prototype.handleClick=function(t,e){!1===this.component.publiclyTrigger("eventClick",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,this.view]})&&e.preventDefault()},e.prototype.handleMouseover=function(t,e){r["default"].get().shouldIgnoreMouse()||this.mousedOverSeg||(this.mousedOverSeg=t,this.view.isEventDefResizable(t.footprint.eventDef)&&t.el.addClass("fc-allow-mouse-resize"),this.component.publiclyTrigger("eventMouseover",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,this.view]}))},e.prototype.handleMouseout=function(t,e){this.mousedOverSeg&&(this.mousedOverSeg=null,this.view.isEventDefResizable(t.footprint.eventDef)&&t.el.removeClass("fc-allow-mouse-resize"),this.component.publiclyTrigger("eventMouseout",{context:t.el[0],args:[t.footprint.getEventLegacy(),e||{},this.view]}))},e.prototype.end=function(){this.mousedOverSeg&&this.handleMouseout(this.mousedOverSeg)},e}(n(15)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(14),o=n(245),s=n(225),a=n(59),l=n(224),c=n(223),u=n(222),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(r["default"]);e["default"]=h,h.prototype.dateClickingClass=o["default"],h.prototype.dateSelectingClass=s["default"],h.prototype.eventPointingClass=a["default"],h.prototype.eventDraggingClass=l["default"],h.prototype.eventResizingClass=c["default"],h.prototype.externalDroppingClass=u["default"]},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(53),a=n(249),l=n(5),c=n(12),u=n(36),h=n(56),d=n(60),f=n(40),p=n(55),g=n(250),m=n(251),v=n(252),y=function(t){function e(e){var n=t.call(this,e)||this;return n.cellWeekNumbersVisible=!1,n.bottomCoordPadding=0,n.isRigid=!1,n.hasAllDayBusinessHours=!0,n}return i.__extends(e,t),e.prototype.componentFootprintToSegs=function(t){var e,n,i=this.sliceRangeByRow(t.unzonedRange);for(e=0;e<i.length;e++)n=i[e],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},e.prototype.renderDates=function(t){this.dateProfile=t,this.updateDayTable(),this.renderGrid()},e.prototype.unrenderDates=function(){this.removeSegPopover()},e.prototype.renderGrid=function(){var t,e,n=this.view,i=this.rowCnt,r=this.colCnt,o="";for(this.headContainerEl&&this.headContainerEl.html(this.renderHeadHtml()),t=0;t<i;t++)o+=this.renderDayRowHtml(t,this.isRigid);for(this.el.html(o),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day, .fc-disabled-day"),this.rowCoordCache=new s["default"]({els:this.rowEls,isVertical:!0}),this.colCoordCache=new s["default"]({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;t<i;t++)for(e=0;e<r;e++)this.publiclyTrigger("dayRender",{context:n,args:[this.getCellDate(t,e),this.getCellEl(t,e),n]})},e.prototype.renderDayRowHtml=function(t,e){var n=this.view.calendar.theme,i=["fc-row","fc-week",n.getClass("dayRow")];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table class="'+n.getClass("tableGrid")+'">'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},e.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.cellWeekNumbersVisible},e.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},e.prototype.renderNumberTrHtml=function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},e.prototype.renderNumberIntroHtml=function(){return this.renderIntroHtml()},e.prototype.renderNumberCellsHtml=function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderNumberCellHtml(n));return i.join("")},e.prototype.renderNumberCellHtml=function(t){var e,n,i=this.view,r="",o=this.dateProfile.activeUnzonedRange.containsDate(t),s=this.getIsDayNumbersVisible()&&o;return s||this.cellWeekNumbersVisible?((e=this.getDayClasses(t)).unshift("fc-day-top"),this.cellWeekNumbersVisible&&(n="ISO"===t._locale._fullCalendar_weekCalc?1:t._locale.firstDayOfWeek()),r+='<td class="'+e.join(" ")+'"'+(o?' data-date="'+t.format()+'"':"")+">",this.cellWeekNumbersVisible&&t.day()===n&&(r+=i.buildGotoAnchorHtml({date:t,type:"week"},{"class":"fc-week-number"},t.format("w"))),s&&(r+=i.buildGotoAnchorHtml(t,{"class":"fc-day-number"},t.format("D"))),r+="</td>"):"<td/>"},e.prototype.prepareHits=function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},e.prototype.releaseHits=function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},e.prototype.queryHit=function(t,e){if(this.colCoordCache.isLeftInBounds(t)&&this.rowCoordCache.isTopInBounds(e)){var n=this.colCoordCache.getHorizontalIndex(t),i=this.rowCoordCache.getVerticalIndex(e);if(null!=i&&null!=n)return this.getCellHit(i,n)}},e.prototype.getHitFootprint=function(t){var e=this.getCellRange(t.row,t.col);return new c["default"](new l["default"](e.start,e.end),!0)},e.prototype.getHitEl=function(t){return this.getCellEl(t.row,t.col)},e.prototype.getCellHit=function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},e.prototype.getCellEl=function(t,e){return this.cellEls.eq(t*this.colCnt+e)},e.prototype.executeEventUnrender=function(){this.removeSegPopover(),t.prototype.executeEventUnrender.call(this)},e.prototype.getOwnEventSegs=function(){return t.prototype.getOwnEventSegs.call(this).concat(this.popoverSegs||[])},e.prototype.renderDrag=function(t,e,n){var i;for(i=0;i<t.length;i++)this.renderHighlight(t[i].componentFootprint);if(t.length&&e&&e.component!==this)return this.helperRenderer.renderEventDraggingFootprints(t,e,n),!0},e.prototype.unrenderDrag=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.renderEventResize=function(t,e,n){var i;for(i=0;i<t.length;i++)this.renderHighlight(t[i].componentFootprint);this.helperRenderer.renderEventResizingFootprints(t,e,n)},e.prototype.unrenderEventResize=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},e.prototype.limitRows=function(t){var e,n,i=this.eventRenderer.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),!1!==(n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,n)},e.prototype.computeRowLevelLimit=function(t){function e(t,e){o=Math.max(o,r(e).outerHeight())}var n,i,o,s=this.rowEls.eq(t).height(),a=this.eventRenderer.rowStructs[t].tbodyEl.children();for(n=0;n<a.length;n++)if(i=a.eq(n).removeClass("fc-limited"),o=0,i.find("> td > :first-child").each(e),i.position().top+o>s)return n;return!1},e.prototype.limitRow=function(t,e){var n,i,o,s,a,l,c,u,h,d,f,p,g,m,v,y=this,b=this.eventRenderer.rowStructs[t],w=[],x=0,C=function(n){for(;x<n;)(l=y.getCellSegs(t,x,e)).length&&(h=i[e-1][x],v=y.renderMoreLink(t,x,l),m=r("<div/>").append(v),h.append(m),w.push(m[0])),x++};if(e&&e<b.segLevels.length){for(n=b.segLevels[e-1],i=b.cellMatrix,o=b.tbodyEl.children().slice(e).addClass("fc-limited").get(),s=0;s<n.length;s++){for(C((a=n[s]).leftCol),u=[],c=0;x<=a.rightCol;)l=this.getCellSegs(t,x,e),u.push(l),c+=l.length,x++;if(c){for(d=(h=i[e-1][a.leftCol]).attr("rowspan")||1,f=[],p=0;p<u.length;p++)g=r('<td class="fc-more-cell"/>').attr("rowspan",d),l=u[p],
v=this.renderMoreLink(t,a.leftCol+p,[a].concat(l)),m=r("<div/>").append(v),g.append(m),f.push(g[0]),w.push(g[0]);h.addClass("fc-limited").after(r(f)),o.push(h[0])}}C(this.colCnt),b.moreEls=r(w),b.limitedEls=r(o)}},e.prototype.unlimitRow=function(t){var e=this.eventRenderer.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},e.prototype.renderMoreLink=function(t,e,n){var i=this,o=this.view;return r('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(s){var a=i.opt("eventLimitClick"),l=i.getCellDate(t,e),c=r(s.currentTarget),u=i.getCellEl(t,e),h=i.getCellSegs(t,e),d=i.resliceDaySegs(h,l),f=i.resliceDaySegs(n,l);"function"==typeof a&&(a=i.publiclyTrigger("eventLimitClick",{context:o,args:[{date:l.clone(),dayEl:u,moreEl:c,segs:d,hiddenSegs:f},s,o]})),"popover"===a?i.showSegPopover(t,e,c,d):"string"==typeof a&&o.calendar.zoomTo(l,a)})},e.prototype.showSegPopover=function(t,e,n,i){var r,o,s=this,l=this.view,c=n.parent();r=1===this.rowCnt?l.el:this.rowEls.eq(t),o={className:"fc-more-popover "+l.calendar.theme.getClass("popover"),content:this.renderSegPopoverContent(t,e,i),parentEl:l.el,top:r.offset().top,autoHide:!0,viewportConstrain:this.opt("popoverViewportConstrain"),hide:function(){s.popoverSegs&&s.triggerBeforeEventSegsDestroyed(s.popoverSegs),s.segPopover.removeElement(),s.segPopover=null,s.popoverSegs=null}},this.isRTL?o.right=c.offset().left+c.outerWidth()+1:o.left=c.offset().left-1,this.segPopover=new a["default"](o),this.segPopover.show(),this.bindAllSegHandlersToEl(this.segPopover.el),this.triggerAfterEventSegsRendered(i)},e.prototype.renderSegPopoverContent=function(t,e,n){var i,s=this.view.calendar.theme,a=this.getCellDate(t,e).format(this.opt("dayPopoverFormat")),l=r('<div class="fc-header '+s.getClass("popoverHeader")+'"><span class="fc-close '+s.getIconClass("close")+'"></span><span class="fc-title">'+o.htmlEscape(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+s.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>'),c=l.find(".fc-event-container");for(n=this.eventRenderer.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;i<n.length;i++)this.hitsNeeded(),n[i].hit=this.getCellHit(t,e),this.hitsNotNeeded(),c.append(n[i].el);return l},e.prototype.resliceDaySegs=function(t,e){var n,i,o,s=e.clone(),a=s.clone().add(1,"days"),h=new l["default"](s,a),d=[];for(n=0;n<t.length;n++)(o=(i=t[n]).footprint.componentFootprint.unzonedRange.intersect(h))&&d.push(r.extend({},i,{footprint:new u["default"](new c["default"](o,i.footprint.componentFootprint.isAllDay),i.footprint.eventDef,i.footprint.eventInstance),isStart:i.isStart&&o.isStart,isEnd:i.isEnd&&o.isEnd}));return this.eventRenderer.sortEventSegs(d),d},e.prototype.getMoreLinkText=function(t){var e=this.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},e.prototype.getCellSegs=function(t,e,n){for(var i,r=this.eventRenderer.rowStructs[t].segMatrix,o=n||0,s=[];o<r.length;)(i=r[o][e])&&s.push(i),o++;return s},e}(f["default"]);e["default"]=y,y.prototype.eventRendererClass=g["default"],y.prototype.businessHourRendererClass=h["default"],y.prototype.helperRendererClass=m["default"],y.prototype.fillRendererClass=v["default"],d["default"].mixInto(y),p["default"].mixInto(y)},function(t,e,n){function i(t){return function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colWeekNumbersVisible=!1,e}return r.__extends(e,t),e.prototype.renderHeadIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<th class="fc-week-number '+t.calendar.theme.getClass("widgetHeader")+'" '+t.weekNumberStyleAttr()+"><span>"+s.htmlEscape(this.opt("weekNumberTitle"))+"</span></th>":""},e.prototype.renderNumberIntroHtml=function(t){var e=this.view,n=this.getCellDate(t,0);return this.colWeekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+">"+e.buildGotoAnchorHtml({date:n,type:"week",forceOff:1===this.colCnt},n.format("w"))+"</td>":""},e.prototype.renderBgIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<td class="fc-week-number '+t.calendar.theme.getClass("widgetContent")+'" '+t.weekNumberStyleAttr()+"></td>":""},e.prototype.renderIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""},e.prototype.getIsNumbersVisible=function(){return u["default"].prototype.getIsNumbersVisible.apply(this,arguments)||this.colWeekNumbersVisible},e}(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(3),s=n(4),a=n(39),l=n(41),c=n(228),u=n(61),h=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.dayGrid=i.instantiateDayGrid(),i.dayGrid.isRigid=i.hasRigidRows(),i.opt("weekNumbers")&&(i.opt("weekNumbersWithinDays")?(i.dayGrid.cellWeekNumbersVisible=!0,i.dayGrid.colWeekNumbersVisible=!1):(i.dayGrid.cellWeekNumbersVisible=!1,i.dayGrid.colWeekNumbersVisible=!0)),i.addChild(i.dayGrid),i.scroller=new a["default"]({overflowX:"hidden",overflowY:"auto"}),i}return r.__extends(e,t),e.prototype.instantiateDayGrid=function(){return new(i(this.dayGridClass))(this)},e.prototype.executeDateRender=function(e){this.dayGrid.breakOnWeeks=/year|month|week/.test(e.currentRangeUnit),t.prototype.executeDateRender.call(this,e)},e.prototype.renderSkeleton=function(){var t,e;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.scroller.render(),t=this.scroller.el.addClass("fc-day-grid-container"),e=o('<div class="fc-day-grid" />').appendTo(t),this.el.find(".fc-body > tr > td").append(t),this.dayGrid.headContainerEl=this.el.find(".fc-head-container"),this.dayGrid.setElement(e)},e.prototype.unrenderSkeleton=function(){this.dayGrid.removeElement(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var t=this.calendar.theme;return'<table class="'+t.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'"></td></tr></tbody></table>'},e.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},e.prototype.hasRigidRows=function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},e.prototype.updateSize=function(e,n,i){var r,o,a=this.opt("eventLimit"),l=this.dayGrid.headContainerEl.find(".fc-row");this.dayGrid.rowEls?(t.prototype.updateSize.call(this,e,n,i),this.dayGrid.colWeekNumbersVisible&&(this.weekNumberWidth=s.matchCellWidths(this.el.find(".fc-week-number"))),this.scroller.clear(),s.uncompensateScroll(l),this.dayGrid.removeSegPopover(),a&&"number"==typeof a&&this.dayGrid.limitRows(a),r=this.computeScrollerHeight(e),this.setGridHeight(r,n),a&&"number"!=typeof a&&this.dayGrid.limitRows(a),n||(this.scroller.setHeight(r),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(s.compensateScroll(l,o),r=this.computeScrollerHeight(e),this.scroller.setHeight(r)),this.scroller.lockOverflow(o))):n||(r=this.computeScrollerHeight(e),this.scroller.setHeight(r))},e.prototype.computeScrollerHeight=function(t){return t-s.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.setGridHeight=function(t,e){e?s.undistributeHeight(this.dayGrid.rowEls):s.distributeHeight(this.dayGrid.rowEls,t,!0)},e.prototype.computeInitialDateScroll=function(){return{top:0}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(t){t.top!==undefined&&this.scroller.setScrollTop(t.top)},e}(l["default"]);e["default"]=h,h.prototype.dateProfileGeneratorClass=c["default"],h.prototype.dayGridClass=u["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){function i(t,e,n){var i;for(i=0;i<t.length;i++)if(!e(t[i].eventInstance.toLegacy(),n?n.toLegacy():null))return!1;return!0}function r(t,e){var n,i,r,o=e.toLegacy();for(n=0;n<t.length;n++){if(!1===(r=(i=t[n].eventInstance).def.getOverlap()))return!1;if("function"==typeof r&&!r(i.toLegacy(),o))return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),s=n(12),a=n(49),l=n(6),c=n(35),u=function(){function t(t,e){this.eventManager=t,this._calendar=e}return t.prototype.opt=function(t){return this._calendar.opt(t)},t.prototype.isEventInstanceGroupAllowed=function(t){var e,n=t.getEventDef(),i=this.eventRangesToEventFootprints(t.getAllEventRanges()),r=this.getPeerEventInstances(n).map(c.eventInstanceToEventRange),o=this.eventRangesToEventFootprints(r),s=n.getConstraint(),a=n.getOverlap(),l=this.opt("eventAllow");for(e=0;e<i.length;e++)if(!this.isFootprintAllowed(i[e].componentFootprint,o,s,a,i[e].eventInstance))return!1;if(l)for(e=0;e<i.length;e++)if(!1===l(i[e].componentFootprint.toLegacy(this._calendar),i[e].getEventLegacy()))return!1;return!0},t.prototype.getPeerEventInstances=function(t){return this.eventManager.getEventInstancesWithoutId(t.id)},t.prototype.isSelectionFootprintAllowed=function(t){var e,n=this.eventManager.getEventInstances().map(c.eventInstanceToEventRange),i=this.eventRangesToEventFootprints(n);return!!this.isFootprintAllowed(t,i,this.opt("selectConstraint"),this.opt("selectOverlap"))&&(!(e=this.opt("selectAllow"))||!1!==e(t.toLegacy(this._calendar)))},t.prototype.isFootprintAllowed=function(t,e,n,o,s){var a,l;if(null!=n&&(a=this.constraintValToFootprints(n,t.isAllDay),!this.isFootprintWithinConstraints(t,a)))return!1;if(l=this.collectOverlapEventFootprints(e,t),!1===o){if(l.length)return!1}else if("function"==typeof o&&!i(l,o,s))return!1;return!(s&&!r(l,s))},t.prototype.isFootprintWithinConstraints=function(t,e){var n;for(n=0;n<e.length;n++)if(this.footprintContainsFootprint(e[n],t))return!0;return!1},t.prototype.constraintValToFootprints=function(t,e){var n;return"businessHours"===t?this.buildCurrentBusinessFootprints(e):"object"==typeof t?(n=this.parseEventDefToInstances(t))?this.eventInstancesToFootprints(n):this.parseFootprints(t):null!=t?(n=this.eventManager.getEventInstancesWithId(t),this.eventInstancesToFootprints(n)):void 0},t.prototype.buildCurrentBusinessFootprints=function(t){var e=this._calendar.view,n=e.get("businessHourGenerator"),i=e.dateProfile.activeUnzonedRange,r=n.buildEventInstanceGroup(t,i);return r?this.eventInstancesToFootprints(r.eventInstances):[]},t.prototype.eventInstancesToFootprints=function(t){var e=t.map(c.eventInstanceToEventRange);return this.eventRangesToEventFootprints(e).map(c.eventFootprintToComponentFootprint)},t.prototype.collectOverlapEventFootprints=function(t,e){var n,i=[];for(n=0;n<t.length;n++)this.footprintsIntersect(e,t[n].componentFootprint)&&i.push(t[n]);return i},t.prototype.parseEventDefToInstances=function(t){var e=this.eventManager,n=a["default"].parse(t,new l["default"](this._calendar));return!!n&&n.buildInstances(e.currentPeriod.unzonedRange)},t.prototype.eventRangesToEventFootprints=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.eventRangeToEventFootprints(t[e]));return n},t.prototype.eventRangeToEventFootprints=function(t){return[c.eventRangeToEventFootprint(t)]},t.prototype.parseFootprints=function(t){var e,n;return t.start&&((e=this._calendar.moment(t.start)).isValid()||(e=null)),t.end&&((n=this._calendar.moment(t.end)).isValid()||(n=null)),[new s["default"](new o["default"](e,n),e&&!e.hasTime()||n&&!n.hasTime())]},t.prototype.footprintContainsFootprint=function(t,e){return t.unzonedRange.containsRange(e.unzonedRange)},t.prototype.footprintsIntersect=function(t,e){return t.unzonedRange.intersectsWith(e.unzonedRange)},t}();e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.defineStandardProps=function(t){var e=this.prototype;e.hasOwnProperty("standardPropMap")||(e.standardPropMap=Object.create(e.standardPropMap)),r.copyOwnProps(t,e.standardPropMap)},e.copyVerbatimStandardProps=function(t,e){var n,i=this.prototype.standardPropMap;for(n in i)null!=t[n]&&!0===i[n]&&(e[n]=t[n])},e.prototype.applyProps=function(t){var e,n=this.standardPropMap,i={},r={};for(e in t)!0===n[e]?this[e]=t[e]:!1===n[e]?i[e]=t[e]:r[e]=t[e];return this.applyMiscProps(r),this.applyManualStandardProps(i)},e.prototype.applyManualStandardProps=function(){return!0},e.prototype.applyMiscProps=function(){},e.prototype.isStandardProp=function(t){return t in this.standardPropMap},e}(n(14)["default"]);e["default"]=o,o.prototype.standardPropMap={}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.def=t,this.dateProfile=e}return t.prototype.toLegacy=function(){var t=this.dateProfile,e=this.def.toLegacy();return e.start=t.start.clone(),e.end=t.end?t.end.clone():null,e},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(0),s=n(34),a=n(209),l=n(17),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.isAllDay=function(){return!this.startTime&&!this.endTime},e.prototype.buildInstances=function(t){for(var e,n,i,r=this.source.calendar,o=t.getStart(),s=t.getEnd(),c=[];o.isBefore(s);)this.dowHash&&!this.dowHash[o.day()]||(n=(e=r.applyTimezone(o)).clone(),i=null,this.startTime?n.time(this.startTime):n.stripTime(),this.endTime&&(i=e.clone().time(this.endTime)),c.push(new a["default"](this,new l["default"](n,i,r)))),o.add(1,"days");return c},e.prototype.setDow=function(t){this.dowHash||(this.dowHash={});for(var e=0;e<t.length;e++)this.dowHash[t[e]]=!0},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.startTime&&(e.startTime=o.duration(this.startTime)),e.endTime&&(e.endTime=o.duration(this.endTime)),this.dowHash&&(e.dowHash=r.extend({},this.dowHash)),e},e}(s["default"]);e["default"]=c,c.prototype.applyProps=function(t){var e=s["default"].prototype.applyProps.call(this,t);return t.start&&(this.startTime=o.duration(t.start)),t.end&&(this.endTime=o.duration(t.end)),t.dow&&this.setDow(t.dow),e},c.defineStandardProps({start:!1,end:!1,dow:!1})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.unzonedRange=t,this.eventDef=e,n&&(this.eventInstance=n)}return t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(35),o=n(18),s=n(210),a=n(6),l={start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},c=function(){function t(t,e){this.rawComplexDef=t,this.calendar=e}return t.prototype.buildEventInstanceGroup=function(t,e){var n,i=this.buildEventDefs(t);if(i.length)return(n=new o["default"](r.eventDefsToEventInstances(i,e))).explicitEventDef=i[0],n},t.prototype.buildEventDefs=function(t){var e,n=this.rawComplexDef,r=[],o=!1,s=[];for(!0===n?r=[{}]:i.isPlainObject(n)?r=[n]:i.isArray(n)&&(r=n,o=!0),e=0;e<r.length;e++)o&&!r[e].dow||s.push(this.buildEventDef(t,r[e]));return s},t.prototype.buildEventDef=function(t,e){var n=i.extend({},l,e);return t&&(n.start=null,n.end=null),s["default"].parse(n,new a["default"](this.calendar))},t}();e["default"]=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(19)["default"]);e["default"]=r,r.prototype.classes={widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button",cornerLeft:"fc-corner-left",cornerRight:"fc-corner-right",stateDefault:"fc-state-default",stateActive:"fc-state-active",stateDisabled:"fc-state-disabled",stateHover:"fc-state-hover",stateDown:"fc-state-down",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},r.prototype.baseIconClass="fc-icon",r.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-left-single-arrow",next:"fc-icon-right-single-arrow",prevYear:"fc-icon-left-double-arrow",nextYear:"fc-icon-right-double-arrow"},r.prototype.iconOverrideOption="buttonIcons",r.prototype.iconOverrideCustomButtonOption="icon",r.prototype.iconOverridePrefix="fc-icon-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(19)["default"]);e["default"]=r,r.prototype.classes={widget:"ui-widget",widgetHeader:"ui-widget-header",widgetContent:"ui-widget-content",buttonGroup:"fc-button-group",button:"ui-button",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",stateDefault:"ui-state-default",stateActive:"ui-state-active",stateDisabled:"ui-state-disabled",stateHover:"ui-state-hover",stateDown:"ui-state-down",today:"ui-state-highlight",popoverHeader:"ui-widget-header",popoverContent:"ui-widget-content",headerRow:"ui-widget-header",dayRow:"ui-widget-content",listView:"ui-widget-content"},r.prototype.baseIconClass="ui-icon",r.prototype.iconClasses={close:"ui-icon-closethick",prev:"ui-icon-circle-triangle-w",next:"ui-icon-circle-triangle-e",prevYear:"ui-icon-seek-prev",nextYear:"ui-icon-seek-next"},r.prototype.iconOverrideOption="themeButtonIcons",r.prototype.iconOverrideCustomButtonOption="themeIcon",r.prototype.iconOverridePrefix="ui-icon-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(20),s=n(6),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.parse=function(t,e){var n;return r.isFunction(t.events)?n=t:r.isFunction(t)&&(n={events:t}),!!n&&s["default"].parse.call(this,n,e)},e.prototype.fetch=function(t,e,n){var i=this;return this.calendar.pushLoading(),o["default"].construct(function(r){i.func.call(i.calendar,t.clone(),e.clone(),n,function(t){i.calendar.popLoading(),r(i.parseEventDefs(t))})})},e.prototype.getPrimitive=function(){return this.func},e.prototype.applyManualStandardProps=function(e){var n=t.prototype.applyManualStandardProps.call(this,e);return this.func=e.events,n},e}(s["default"]);e["default"]=a,a.defineStandardProps({events:!1})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(20),a=n(6),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.parse=function(t,e){var n;return"string"==typeof t.url?n=t:"string"==typeof t&&(n={url:t}),!!n&&a["default"].parse.call(this,n,e)},e.prototype.fetch=function(t,n,i){var a=this,l=this.ajaxSettings,c=l.success,u=l.error,h=this.buildRequestParams(t,n,i);return this.calendar.pushLoading(),s["default"].construct(function(t,n){r.ajax(r.extend({},e.AJAX_DEFAULTS,l,{url:a.url,data:h,success:function(e,i,s){var l;a.calendar.popLoading(),e?(l=o.applyAll(c,a,[e,i,s]),r.isArray(l)&&(e=l),t(a.parseEventDefs(e))):n()},error:function(t,e,i){a.calendar.popLoading(),o.applyAll(u,a,[t,e,i]),n()}}))})},e.prototype.buildRequestParams=function(t,e,n){var i,o,s,a,l=this.calendar,c=this.ajaxSettings,u={};return null==(i=this.startParam)&&(i=l.opt("startParam")),null==(o=this.endParam)&&(o=l.opt("endParam")),null==(s=this.timezoneParam)&&(s=l.opt("timezoneParam")),a=r.isFunction(c.data)?c.data():c.data||{},r.extend(u,a),u[i]=t.format(),u[o]=e.format(),n&&"local"!==n&&(u[s]=n),u},e.prototype.getPrimitive=function(){return this.url},e.prototype.applyMiscProps=function(t){this.ajaxSettings=t},e.AJAX_DEFAULTS={dataType:"json",cache:!1},e}(a["default"]);e["default"]=l,l.defineStandardProps({url:!0,startParam:!0,endParam:!0,timezoneParam:!0})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(11),r=function(){function t(){this.q=[],this.isPaused=!1,this.isRunning=!1}return t.prototype.queue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.q.push.apply(this.q,t),this.tryStart()},t.prototype.pause=function(){this.isPaused=!0},t.prototype.resume=function(){this.isPaused=!1,this.tryStart()},t.prototype.getIsIdle=function(){return!this.isRunning&&!this.isPaused},t.prototype.tryStart=function(){!this.isRunning&&this.canRunNext()&&(this.isRunning=!0,this.trigger("start"),this.runRemaining())},t.prototype.canRunNext=function(){return!this.isPaused&&this.q.length},t.prototype.runRemaining=function(){var t,e,n=this;do{if(t=this.q.shift(),(e=this.runTask(t))&&e.then)return void e.then(function(){n.canRunNext()&&n.runRemaining()})}while(this.canRunNext());this.trigger("stop"),this.isRunning=!1,this.tryStart()},t.prototype.runTask=function(t){return t()},t}();e["default"]=r,i["default"].mixInto(r)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(e){var n=t.call(this)||this;return n.waitsByNamespace=e||{},n}return i.__extends(e,t),e.prototype.queue=function(t,e,n){var i,r={func:t,namespace:e,type:n};e&&(i=this.waitsByNamespace[e]),this.waitNamespace&&(e===this.waitNamespace&&null!=i?this.delayWait(i):(this.clearWait(),this.tryStart())),this.compoundTask(r)&&(this.waitNamespace||null==i?this.tryStart():this.startWait(e,i))},e.prototype.startWait=function(t,e){this.waitNamespace=t,this.spawnWait(e)},e.prototype.delayWait=function(t){clearTimeout(this.waitId),this.spawnWait(t)},e.prototype.spawnWait=function(t){var e=this;this.waitId=setTimeout(function(){e.waitNamespace=null,e.tryStart()},t)},e.prototype.clearWait=function(){this.waitNamespace&&(clearTimeout(this.waitId),this.waitId=null,this.waitNamespace=null)},e.prototype.canRunNext=function(){if(!t.prototype.canRunNext.call(this))return!1;if(this.waitNamespace){for(var e=this.q,n=0;n<e.length;n++)if(e[n].namespace!==this.waitNamespace)return!0;return!1}return!0},e.prototype.runTask=function(t){t.func()},e.prototype.compoundTask=function(t){var e,n=this.q,i=!0;if(t.namespace&&"destroy"===t.type)for(e=n.length-1;e>=0;e--)switch(n[e].type){case"init":i=!1;case"add":case"remove":n.splice(e,1)}return i&&n.push(t),i},e}(n(217)["default"]);e["default"]=r},function(t,e,n){function i(t){var e,n,i,r=[];for(e in t)for(n=t[e].eventInstances,i=0;i<n.length;i++)r.push(n[i].toLegacy());return r}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(3),s=n(0),a=n(4),l=n(10),c=n(47),u=n(237),h=n(35),d=function(t){function e(n,i){var r=t.call(this)||this;return r.isRTL=!1,r.hitsNeededDepth=0,r.hasAllDayBusinessHours=!1,r.isDatesRendered=!1,n&&(r.view=n),i&&(r.options=i),r.uid=String(e.guid++),r.childrenByUid={},r.nextDayThreshold=s.duration(r.opt("nextDayThreshold")),r.isRTL=r.opt("isRTL"),r.fillRendererClass&&(r.fillRenderer=new r.fillRendererClass(r)),r.eventRendererClass&&(r.eventRenderer=new r.eventRendererClass(r,r.fillRenderer)),r.helperRendererClass&&r.eventRenderer&&(r.helperRenderer=new r.helperRendererClass(r,r.eventRenderer)),r.businessHourRendererClass&&r.fillRenderer&&(r.businessHourRenderer=new r.businessHourRendererClass(r,r.fillRenderer)),r}return r.__extends(e,t),e.prototype.addChild=function(t){return!this.childrenByUid[t.uid]&&(this.childrenByUid[t.uid]=t,!0)},e.prototype.removeChild=function(t){return!!this.childrenByUid[t.uid]&&(delete this.childrenByUid[t.uid],!0)},e.prototype.updateSize=function(){this.callChildren("updateSize",arguments)},e.prototype.opt=function(t){return this._getView().opt(t)},e.prototype.publiclyTrigger=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getCalendar();return n.publiclyTrigger.apply(n,t)},e.prototype.hasPublicHandlers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getCalendar();return n.hasPublicHandlers.apply(n,t)},e.prototype.executeDateRender=function(t){this.dateProfile=t,this.renderDates(t),this.isDatesRendered=!0,this.callChildren("executeDateRender",arguments)},e.prototype.executeDateUnrender=function(){this.callChildren("executeDateUnrender",arguments),this.dateProfile=null,this.unrenderDates(),this.isDatesRendered=!1},e.prototype.renderDates=function(){},e.prototype.unrenderDates=function(){},e.prototype.getNowIndicatorUnit=function(){},e.prototype.renderNowIndicator=function(){this.callChildren("renderNowIndicator",arguments)},e.prototype.unrenderNowIndicator=function(){this.callChildren("unrenderNowIndicator",arguments)},e.prototype.renderBusinessHours=function(t){this.businessHourRenderer&&this.businessHourRenderer.render(t),this.callChildren("renderBusinessHours",arguments)},e.prototype.unrenderBusinessHours=function(){this.callChildren("unrenderBusinessHours",arguments),this.businessHourRenderer&&this.businessHourRenderer.unrender()},e.prototype.executeEventRender=function(t){this.eventRenderer?(this.eventRenderer.rangeUpdated(),this.eventRenderer.render(t)):this.renderEvents&&this.renderEvents(i(t)),this.callChildren("executeEventRender",arguments)},e.prototype.executeEventUnrender=function(){this.callChildren("executeEventUnrender",arguments),this.eventRenderer?this.eventRenderer.unrender():this.destroyEvents&&this.destroyEvents()},e.prototype.getBusinessHourSegs=function(){var t=this.getOwnBusinessHourSegs();return this.iterChildren(function(e){t.push.apply(t,e.getBusinessHourSegs())}),t},e.prototype.getOwnBusinessHourSegs=function(){return this.businessHourRenderer?this.businessHourRenderer.getSegs():[]},e.prototype.getEventSegs=function(){var t=this.getOwnEventSegs();return this.iterChildren(function(e){t.push.apply(t,e.getEventSegs())}),t},e.prototype.getOwnEventSegs=function(){return this.eventRenderer?this.eventRenderer.getSegs():[]},e.prototype.triggerAfterEventsRendered=function(){this.triggerAfterEventSegsRendered(this.getEventSegs()),this.publiclyTrigger("eventAfterAllRender",{context:this,args:[this]})},e.prototype.triggerAfterEventSegsRendered=function(t){var e=this;this.hasPublicHandlers("eventAfterRender")&&t.forEach(function(t){var n;t.el&&(n=t.footprint.getEventLegacy(),e.publiclyTrigger("eventAfterRender",{context:n,args:[n,t.el,e]}))})},e.prototype.triggerBeforeEventsDestroyed=function(){this.triggerBeforeEventSegsDestroyed(this.getEventSegs())},e.prototype.triggerBeforeEventSegsDestroyed=function(t){var e=this;this.hasPublicHandlers("eventDestroy")&&t.forEach(function(t){var n;t.el&&(n=t.footprint.getEventLegacy(),e.publiclyTrigger("eventDestroy",{context:n,args:[n,t.el,e]}))})},e.prototype.showEventsWithId=function(t){this.getEventSegs().forEach(function(e){e.footprint.eventDef.id===t&&e.el&&e.el.css("visibility","")}),this.callChildren("showEventsWithId",arguments)},e.prototype.hideEventsWithId=function(t){this.getEventSegs().forEach(function(e){e.footprint.eventDef.id===t&&e.el&&e.el.css("visibility","hidden")}),this.callChildren("hideEventsWithId",arguments)},e.prototype.renderDrag=function(t,e,n){var i=!1;return this.iterChildren(function(r){r.renderDrag(t,e,n)&&(i=!0)}),i},e.prototype.unrenderDrag=function(){this.callChildren("unrenderDrag",arguments)},e.prototype.renderEventResize=function(){this.callChildren("renderEventResize",arguments)},e.prototype.unrenderEventResize=function(){this.callChildren("unrenderEventResize",arguments)},e.prototype.renderSelectionFootprint=function(t){this.renderHighlight(t),this.callChildren("renderSelectionFootprint",arguments)},e.prototype.unrenderSelection=function(){this.unrenderHighlight(),this.callChildren("unrenderSelection",arguments)},e.prototype.renderHighlight=function(t){this.fillRenderer&&this.fillRenderer.renderFootprint("highlight",t,{getClasses:function(){return["fc-highlight"]}}),this.callChildren("renderHighlight",arguments)},e.prototype.unrenderHighlight=function(){this.fillRenderer&&this.fillRenderer.unrender("highlight"),this.callChildren("unrenderHighlight",arguments)},e.prototype.hitsNeeded=function(){this.hitsNeededDepth++||this.prepareHits(),this.callChildren("hitsNeeded",arguments)},e.prototype.hitsNotNeeded=function(){this.hitsNeededDepth&&!--this.hitsNeededDepth&&this.releaseHits(),this.callChildren("hitsNotNeeded",arguments)},e.prototype.prepareHits=function(){},e.prototype.releaseHits=function(){},e.prototype.queryHit=function(t,e){var n,i,r=this.childrenByUid;for(n in r)if(i=r[n].queryHit(t,e))break;return i},e.prototype.getSafeHitFootprint=function(t){var e=this.getHitFootprint(t);return this.dateProfile.activeUnzonedRange.containsRange(e.unzonedRange)?e:null},e.prototype.getHitFootprint=function(){},e.prototype.getHitEl=function(){},e.prototype.eventRangesToEventFootprints=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.eventRangeToEventFootprints(t[e]));return n},e.prototype.eventRangeToEventFootprints=function(t){return[h.eventRangeToEventFootprint(t)]},e.prototype.eventFootprintsToSegs=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.eventFootprintToSegs(t[e]));return n},e.prototype.eventFootprintToSegs=function(t){var e,n,i,r=t.componentFootprint.unzonedRange;for(e=this.componentFootprintToSegs(t.componentFootprint),n=0;n<e.length;n++)i=e[n],r.isStart||(i.isStart=!1),r.isEnd||(i.isEnd=!1),i.footprint=t;return e},e.prototype.componentFootprintToSegs=function(){return[]},e.prototype.callChildren=function(t,e){this.iterChildren(function(n){n[t].apply(n,e)})},e.prototype.iterChildren=function(t){var e,n=this.childrenByUid;for(e in n)t(n[e])},e.prototype._getCalendar=function(){var t=this;return t.calendar||t.view.calendar},e.prototype._getView=function(){return this.view},e.prototype._getDateProfile=function(){return this._getView().get("dateProfile")},e.prototype.buildGotoAnchorHtml=function(t,e,n){var i,r,s,c;return o.isPlainObject(t)?(i=t.date,r=t.type,s=t.forceOff):i=t,c={date:(i=l["default"](i)).format("YYYY-MM-DD"),type:r||"day"},"string"==typeof e&&(n=e,e=null),e=e?" "+a.attrsToStr(e):"",n=n||"",!s&&this.opt("navLinks")?"<a"+e+' data-goto="'+a.htmlEscape(JSON.stringify(c))+'">'+n+"</a>":"<span"+e+">"+n+"</span>"},e.prototype.getAllDayHtml=function(){return this.opt("allDayHtml")||a.htmlEscape(this.opt("allDayText"))},e.prototype.getDayClasses=function(t,e){var n,i=this._getView(),r=[];return this.dateProfile.activeUnzonedRange.containsDate(t)?(r.push("fc-"+a.dayIDs[t.day()]),i.isDateInOtherMonth(t,this.dateProfile)&&r.push("fc-other-month"),n=i.calendar.getNow(),t.isSame(n,"day")?(r.push("fc-today"),!0!==e&&r.push(i.calendar.theme.getClass("today"))):t<n?r.push("fc-past"):r.push("fc-future")):r.push("fc-disabled-day"),r},e.prototype.formatRange=function(t,e,n,i){var r=t.end;return e&&(r=r.clone().subtract(1)),c.formatRange(t.start,r,n,i,this.isRTL)},e.prototype.currentRangeAs=function(t){return this._getDateProfile().currentUnzonedRange.as(t)},e.prototype.computeDayRange=function(t){var e=this._getCalendar(),n=e.msToUtcMoment(t.startMs,!0),i=e.msToUtcMoment(t.endMs),r=+i.time(),o=i.clone().stripTime();return r&&r>=this.nextDayThreshold&&o.add(1,"days"),o<=n&&(o=n.clone().add(1,"days")),{start:n,end:o}},e.prototype.isMultiDayRange=function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1},e.guid=0,e}(u["default"]);e["default"]=d},function(t,e,n){function i(t,e){return null==e?t:r.isFunction(e)?t.filter(e):(e+="",t.filter(function(t){return t.id==e||t._id===e}))}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(0),s=n(4),a=n(32),l=n(238),c=n(21),u=n(11),h=n(7),d=n(239),f=n(240),p=n(241),g=n(207),m=n(31),v=n(10),y=n(5),b=n(12),w=n(17),x=n(242),C=n(212),S=n(38),k=n(49),_=n(13),E=n(37),T=n(6),A=n(51),M=function(){function t(t,e){this.loadingLevel=0,this.ignoreUpdateViewSize=0,this.freezeContentHeightDepth=0,c["default"].needed(),this.el=t,this.viewsByType={},this.optionsManager=new f["default"](this,e),this.viewSpecManager=new p["default"](this.optionsManager,this),this.initMomentInternals(),this.initCurrentDate(),this.initEventManager(),this.constraints=new g["default"](this.eventManager,this),this.constructed()}return t.prototype.constructed=function(){},t.prototype.getView=function(){return this.view},t.prototype.publiclyTrigger=function(t,e){var n,i,o=this.opt(t);if(r.isPlainObject(e)?(n=e.context,i=e.args):r.isArray(e)&&(i=e),null==n&&(n=this.el[0]),i||(i=[]),this.triggerWith(t,n,i),o)return o.apply(n,i)},t.prototype.hasPublicHandlers=function(t){return this.hasHandlers(t)||this.opt(t)},t.prototype.option=function(t,e){var n;if("string"==typeof t){if(e===undefined)return this.optionsManager.get(t);(n={})[t]=e,this.optionsManager.add(n)}else"object"==typeof t&&this.optionsManager.add(t)},t.prototype.opt=function(t){return this.optionsManager.get(t)},t.prototype.instantiateView=function(t){var e=this.viewSpecManager.getViewSpec(t);if(!e)throw new Error('View type "'+t+'" is not valid');return new e["class"](this,e)},t.prototype.isValidViewType=function(t){
return Boolean(this.viewSpecManager.getViewSpec(t))},t.prototype.changeView=function(t,e){e&&(e.start&&e.end?this.optionsManager.recordOverrides({visibleRange:e}):this.currentDate=this.moment(e).stripZone()),this.renderView(t)},t.prototype.zoomTo=function(t,e){var n;e=e||"day",n=this.viewSpecManager.getViewSpec(e)||this.viewSpecManager.getUnitViewSpec(e),this.currentDate=t.clone(),this.renderView(n?n.type:null)},t.prototype.initCurrentDate=function(){var t=this.opt("defaultDate");this.currentDate=null!=t?this.moment(t).stripZone():this.getNow()},t.prototype.prev=function(){var t=this.view,e=t.dateProfileGenerator.buildPrev(t.get("dateProfile"));e.isValid&&(this.currentDate=e.date,this.renderView())},t.prototype.next=function(){var t=this.view,e=t.dateProfileGenerator.buildNext(t.get("dateProfile"));e.isValid&&(this.currentDate=e.date,this.renderView())},t.prototype.prevYear=function(){this.currentDate.add(-1,"years"),this.renderView()},t.prototype.nextYear=function(){this.currentDate.add(1,"years"),this.renderView()},t.prototype.today=function(){this.currentDate=this.getNow(),this.renderView()},t.prototype.gotoDate=function(t){this.currentDate=this.moment(t).stripZone(),this.renderView()},t.prototype.incrementDate=function(t){this.currentDate.add(o.duration(t)),this.renderView()},t.prototype.getDate=function(){return this.applyTimezone(this.currentDate)},t.prototype.pushLoading=function(){this.loadingLevel++||this.publiclyTrigger("loading",[!0,this.view])},t.prototype.popLoading=function(){--this.loadingLevel||this.publiclyTrigger("loading",[!1,this.view])},t.prototype.render=function(){this.contentEl?this.elementVisible()&&(this.calcSize(),this.updateViewSize()):this.initialRender()},t.prototype.initialRender=function(){var t=this,e=this.el;e.addClass("fc"),e.on("click.fc","a[data-goto]",function(e){var n=r(e.currentTarget).data("goto"),i=t.moment(n.date),o=n.type,a=t.view.opt("navLink"+s.capitaliseFirstLetter(o)+"Click");"function"==typeof a?a(i,e):("string"==typeof a&&(o=a),t.zoomTo(i,o))}),this.optionsManager.watch("settingTheme",["?theme","?themeSystem"],function(n){var i=new(A.getThemeSystemClass(n.themeSystem||n.theme))(t.optionsManager),r=i.getClass("widget");t.theme=i,r&&e.addClass(r)},function(){var n=t.theme.getClass("widget");t.theme=null,n&&e.removeClass(n)}),this.optionsManager.watch("settingBusinessHourGenerator",["?businessHours"],function(e){t.businessHourGenerator=new C["default"](e.businessHours,t),t.view&&t.view.set("businessHourGenerator",t.businessHourGenerator)},function(){t.businessHourGenerator=null}),this.optionsManager.watch("applyingDirClasses",["?isRTL","?locale"],function(t){e.toggleClass("fc-ltr",!t.isRTL),e.toggleClass("fc-rtl",t.isRTL)}),this.contentEl=r("<div class='fc-view-container'/>").prependTo(e),this.initToolbars(),this.renderHeader(),this.renderFooter(),this.renderView(this.opt("defaultView")),this.opt("handleWindowResize")&&r(window).resize(this.windowResizeProxy=s.debounce(this.windowResize.bind(this),this.opt("windowResizeDelay")))},t.prototype.destroy=function(){this.view&&this.clearView(),this.toolbarsManager.proxyCall("removeElement"),this.contentEl.remove(),this.el.removeClass("fc fc-ltr fc-rtl"),this.optionsManager.unwatch("settingTheme"),this.optionsManager.unwatch("settingBusinessHourGenerator"),this.el.off(".fc"),this.windowResizeProxy&&(r(window).unbind("resize",this.windowResizeProxy),this.windowResizeProxy=null),c["default"].unneeded()},t.prototype.elementVisible=function(){return this.el.is(":visible")},t.prototype.bindViewHandlers=function(t){var e=this;t.watch("titleForCalendar",["title"],function(n){t===e.view&&e.setToolbarsTitle(n.title)}),t.watch("dateProfileForCalendar",["dateProfile"],function(n){t===e.view&&(e.currentDate=n.dateProfile.date,e.updateToolbarButtons(n.dateProfile))})},t.prototype.unbindViewHandlers=function(t){t.unwatch("titleForCalendar"),t.unwatch("dateProfileForCalendar")},t.prototype.renderView=function(t){var e,n=this.view;this.freezeContentHeight(),n&&t&&n.type!==t&&this.clearView(),!this.view&&t&&(e=this.view=this.viewsByType[t]||(this.viewsByType[t]=this.instantiateView(t)),this.bindViewHandlers(e),e.startBatchRender(),e.setElement(r("<div class='fc-view fc-"+t+"-view' />").appendTo(this.contentEl)),this.toolbarsManager.proxyCall("activateButton",t)),this.view&&(this.view.get("businessHourGenerator")!==this.businessHourGenerator&&this.view.set("businessHourGenerator",this.businessHourGenerator),this.view.setDate(this.currentDate),e&&e.stopBatchRender()),this.thawContentHeight()},t.prototype.clearView=function(){var t=this.view;this.toolbarsManager.proxyCall("deactivateButton",t.type),this.unbindViewHandlers(t),t.removeElement(),t.unsetDate(),this.view=null},t.prototype.reinitView=function(){var t=this.view,e=t.queryScroll();this.freezeContentHeight(),this.clearView(),this.calcSize(),this.renderView(t.type),this.view.applyScroll(e),this.thawContentHeight()},t.prototype.getSuggestedViewHeight=function(){return null==this.suggestedViewHeight&&this.calcSize(),this.suggestedViewHeight},t.prototype.isHeightAuto=function(){return"auto"===this.opt("contentHeight")||"auto"===this.opt("height")},t.prototype.updateViewSize=function(t){void 0===t&&(t=!1);var e,n=this.view;if(!this.ignoreUpdateViewSize&&n)return t&&(this.calcSize(),e=n.queryScroll()),this.ignoreUpdateViewSize++,n.updateSize(this.getSuggestedViewHeight(),this.isHeightAuto(),t),this.ignoreUpdateViewSize--,t&&n.applyScroll(e),!0},t.prototype.calcSize=function(){this.elementVisible()&&this._calcSize()},t.prototype._calcSize=function(){var t=this.opt("contentHeight"),e=this.opt("height");this.suggestedViewHeight="number"==typeof t?t:"function"==typeof t?t():"number"==typeof e?e-this.queryToolbarsHeight():"function"==typeof e?e()-this.queryToolbarsHeight():"parent"===e?this.el.parent().height()-this.queryToolbarsHeight():Math.round(this.contentEl.width()/Math.max(this.opt("aspectRatio"),.5))},t.prototype.windowResize=function(t){t.target===window&&this.view&&this.view.isDatesRendered&&this.updateViewSize(!0)&&this.publiclyTrigger("windowResize",[this.view])},t.prototype.freezeContentHeight=function(){this.freezeContentHeightDepth++||this.forceFreezeContentHeight()},t.prototype.forceFreezeContentHeight=function(){this.contentEl.css({width:"100%",height:this.contentEl.height(),overflow:"hidden"})},t.prototype.thawContentHeight=function(){this.freezeContentHeightDepth--,this.contentEl.css({width:"",height:"",overflow:""}),this.freezeContentHeightDepth&&this.forceFreezeContentHeight()},t.prototype.initToolbars=function(){this.header=new d["default"](this,this.computeHeaderOptions()),this.footer=new d["default"](this,this.computeFooterOptions()),this.toolbarsManager=new l["default"]([this.header,this.footer])},t.prototype.computeHeaderOptions=function(){return{extraClasses:"fc-header-toolbar",layout:this.opt("header")}},t.prototype.computeFooterOptions=function(){return{extraClasses:"fc-footer-toolbar",layout:this.opt("footer")}},t.prototype.renderHeader=function(){var t=this.header;t.setToolbarOptions(this.computeHeaderOptions()),t.render(),t.el&&this.el.prepend(t.el)},t.prototype.renderFooter=function(){var t=this.footer;t.setToolbarOptions(this.computeFooterOptions()),t.render(),t.el&&this.el.append(t.el)},t.prototype.setToolbarsTitle=function(t){this.toolbarsManager.proxyCall("updateTitle",t)},t.prototype.updateToolbarButtons=function(t){var e=this.getNow(),n=this.view,i=n.dateProfileGenerator.build(e),r=n.dateProfileGenerator.buildPrev(n.get("dateProfile")),o=n.dateProfileGenerator.buildNext(n.get("dateProfile"));this.toolbarsManager.proxyCall(i.isValid&&!t.currentUnzonedRange.containsDate(e)?"enableButton":"disableButton","today"),this.toolbarsManager.proxyCall(r.isValid?"enableButton":"disableButton","prev"),this.toolbarsManager.proxyCall(o.isValid?"enableButton":"disableButton","next")},t.prototype.queryToolbarsHeight=function(){return this.toolbarsManager.items.reduce(function(t,e){return t+(e.el?e.el.outerHeight(!0):0)},0)},t.prototype.select=function(){this.view.select(this.buildSelectFootprint.apply(this,arguments))},t.prototype.unselect=function(){this.view&&this.view.unselect()},t.prototype.buildSelectFootprint=function(t,e){var n,i=this.moment(t).stripZone();return n=e?this.moment(e).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),new b["default"](new y["default"](i,n),!i.hasTime())},t.prototype.initMomentInternals=function(){var t=this;this.defaultAllDayEventDuration=o.duration(this.opt("defaultAllDayEventDuration")),this.defaultTimedEventDuration=o.duration(this.opt("defaultTimedEventDuration")),this.optionsManager.watch("buildingMomentLocale",["?locale","?monthNames","?monthNamesShort","?dayNames","?dayNamesShort","?firstDay","?weekNumberCalculation"],function(e){var n,i=e.weekNumberCalculation,r=e.firstDay;"iso"===i&&(i="ISO");var o=Object.create(m.getMomentLocaleData(e.locale));e.monthNames&&(o._months=e.monthNames),e.monthNamesShort&&(o._monthsShort=e.monthNamesShort),e.dayNames&&(o._weekdays=e.dayNames),e.dayNamesShort&&(o._weekdaysShort=e.dayNamesShort),null==r&&"ISO"===i&&(r=1),null!=r&&((n=Object.create(o._week)).dow=r,o._week=n),"ISO"!==i&&"local"!==i&&"function"!=typeof i||(o._fullCalendar_weekCalc=i),t.localeData=o,t.currentDate&&t.localizeMoment(t.currentDate)})},t.prototype.moment=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"local"===this.opt("timezone")?(t=v["default"].apply(null,e)).hasTime()&&t.local():t="UTC"===this.opt("timezone")?v["default"].utc.apply(null,e):v["default"].parseZone.apply(null,e),this.localizeMoment(t),t},t.prototype.msToMoment=function(t,e){var n=v["default"].utc(t);return e?n.stripTime():n=this.applyTimezone(n),this.localizeMoment(n),n},t.prototype.msToUtcMoment=function(t,e){var n=v["default"].utc(t);return e&&n.stripTime(),this.localizeMoment(n),n},t.prototype.localizeMoment=function(t){t._locale=this.localeData},t.prototype.getIsAmbigTimezone=function(){return"local"!==this.opt("timezone")&&"UTC"!==this.opt("timezone")},t.prototype.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,n=this.moment(t.toArray()),i=t.time().asMilliseconds()-n.time().asMilliseconds();return i&&(e=n.clone().add(i),t.time().asMilliseconds()-e.time().asMilliseconds()==0&&(n=e)),n},t.prototype.footprintToDateProfile=function(t,e){void 0===e&&(e=!1);var n,i=v["default"].utc(t.unzonedRange.startMs);return e||(n=v["default"].utc(t.unzonedRange.endMs)),t.isAllDay?(i.stripTime(),n&&n.stripTime()):(i=this.applyTimezone(i),n&&(n=this.applyTimezone(n))),new w["default"](i,n,this)},t.prototype.getNow=function(){var t=this.opt("now");return"function"==typeof t&&(t=t()),this.moment(t).stripZone()},t.prototype.humanizeDuration=function(t){return t.locale(this.opt("locale")).humanize()},t.prototype.parseUnzonedRange=function(t){var e=null,n=null;return t.start&&(e=this.moment(t.start).stripZone()),t.end&&(n=this.moment(t.end).stripZone()),e||n?e&&n&&n.isBefore(e)?null:new y["default"](e,n):null},t.prototype.initEventManager=function(){var t=this,e=new x["default"](this),n=this.opt("eventSources")||[],i=this.opt("events");this.eventManager=e,i&&n.unshift(i),e.on("release",function(e){t.trigger("eventsReset",e)}),e.freeze(),n.forEach(function(n){var i=S["default"].parse(n,t);i&&e.addSource(i)}),e.thaw()},t.prototype.requestEvents=function(t,e){return this.eventManager.requestEvents(t,e,this.opt("timezone"),!this.opt("lazyFetching"))},t.prototype.getEventEnd=function(t){return t.end?t.end.clone():this.getDefaultEventEnd(t.allDay,t.start)},t.prototype.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(this.defaultAllDayEventDuration):n.add(this.defaultTimedEventDuration),this.getIsAmbigTimezone()&&n.stripZone(),n},t.prototype.rerenderEvents=function(){this.view.flash("displayingEvents")},t.prototype.refetchEvents=function(){this.eventManager.refetchAllSources()},t.prototype.renderEvents=function(t,e){this.eventManager.freeze();for(var n=0;n<t.length;n++)this.renderEvent(t[n],e);this.eventManager.thaw()},t.prototype.renderEvent=function(t,e){void 0===e&&(e=!1);var n=this.eventManager,i=k["default"].parse(t,t.source||n.stickySource);i&&n.addEventDef(i,e)},t.prototype.removeEvents=function(t){var e,n=this.eventManager,r=[],o={};if(null==t)n.removeAllEventDefs();else{for(n.getEventInstances().forEach(function(t){r.push(t.toLegacy())}),r=i(r,t),e=0;e<r.length;e++)o[this.eventManager.getEventDefByUid(r[e]._id).id]=!0;for(e in n.freeze(),o)n.removeEventDefsById(e);n.thaw()}},t.prototype.clientEvents=function(t){var e=[];return this.eventManager.getEventInstances().forEach(function(t){e.push(t.toLegacy())}),i(e,t)},t.prototype.updateEvents=function(t){this.eventManager.freeze();for(var e=0;e<t.length;e++)this.updateEvent(t[e]);this.eventManager.thaw()},t.prototype.updateEvent=function(t){var e,n,i=this.eventManager.getEventDefByUid(t._id);i instanceof _["default"]&&(e=i.buildInstance(),n=E["default"].createFromRawProps(e,t,null),this.eventManager.mutateEventsWithId(i.id,n))},t.prototype.getEventSources=function(){return this.eventManager.otherSources.slice()},t.prototype.getEventSourceById=function(t){return this.eventManager.getSourceById(T["default"].normalizeId(t))},t.prototype.addEventSource=function(t){var e=S["default"].parse(t,this);e&&this.eventManager.addSource(e)},t.prototype.removeEventSources=function(t){var e,n,i=this.eventManager;if(null==t)this.eventManager.removeAllSources();else{for(e=i.multiQuerySources(t),i.freeze(),n=0;n<e.length;n++)i.removeSource(e[n]);i.thaw()}},t.prototype.removeEventSource=function(t){var e,n=this.eventManager,i=n.querySources(t);for(n.freeze(),e=0;e<i.length;e++)n.removeSource(i[e]);n.thaw()},t.prototype.refetchEventSources=function(t){var e,n=this.eventManager,i=n.multiQuerySources(t);for(n.freeze(),e=0;e<i.length;e++)n.refetchSource(i[e]);n.thaw()},t.defaults=a.globalDefaults,t.englishDefaults=a.englishDefaults,t.rtlDefaults=a.rtlDefaults,t}();e["default"]=M,u["default"].mixInto(M),h["default"].mixInto(M)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(4),o=n(5),s=function(){function t(t){this._view=t}return t.prototype.opt=function(t){return this._view.opt(t)},t.prototype.trimHiddenDays=function(t){return this._view.trimHiddenDays(t)},t.prototype.msToUtcMoment=function(t,e){return this._view.calendar.msToUtcMoment(t,e)},t.prototype.buildPrev=function(t){var e=t.date.clone().startOf(t.currentRangeUnit).subtract(t.dateIncrement);return this.build(e,-1)},t.prototype.buildNext=function(t){var e=t.date.clone().startOf(t.currentRangeUnit).add(t.dateIncrement);return this.build(e,1)},t.prototype.build=function(t,e,n){void 0===n&&(n=!1);var r,o,s,a,l,c,u=!t.hasTime(),h=null,d=null;return r=this.buildValidRange(),r=this.trimHiddenDays(r),n&&(t=this.msToUtcMoment(r.constrainDate(t),u)),o=this.buildCurrentRangeInfo(t,e),s=/^(year|month|week|day)$/.test(o.unit),a=this.buildRenderRange(this.trimHiddenDays(o.unzonedRange),o.unit,s),l=(a=this.trimHiddenDays(a)).clone(),this.opt("showNonCurrentDates")||(l=l.intersect(o.unzonedRange)),h=i.duration(this.opt("minTime")),d=i.duration(this.opt("maxTime")),(l=(l=this.adjustActiveRange(l,h,d)).intersect(r))&&(t=this.msToUtcMoment(l.constrainDate(t),u)),c=o.unzonedRange.intersectsWith(r),{validUnzonedRange:r,currentUnzonedRange:o.unzonedRange,currentRangeUnit:o.unit,isRangeAllDay:s,activeUnzonedRange:l,renderUnzonedRange:a,minTime:h,maxTime:d,isValid:c,date:t,dateIncrement:this.buildDateIncrement(o.duration)}},t.prototype.buildValidRange=function(){return this._view.getUnzonedRangeOption("validRange",this._view.calendar.getNow())||new o["default"]},t.prototype.buildCurrentRangeInfo=function(t,e){var n,i=this._view.viewSpec,o=null,s=null,a=null;return i.duration?(o=i.duration,s=i.durationUnit,a=this.buildRangeFromDuration(t,e,o,s)):(n=this.opt("dayCount"))?(s="day",a=this.buildRangeFromDayCount(t,e,n)):(a=this.buildCustomVisibleRange(t))?s=r.computeGreatestUnit(a.getStart(),a.getEnd()):(o=this.getFallbackDuration(),s=r.computeGreatestUnit(o),a=this.buildRangeFromDuration(t,e,o,s)),{duration:o,unit:s,unzonedRange:a}},t.prototype.getFallbackDuration=function(){return i.duration({days:1})},t.prototype.adjustActiveRange=function(t,e,n){var i=t.getStart(),r=t.getEnd();return this._view.usesMinMaxTime&&(e<0&&i.time(0).add(e),n>864e5&&r.time(n-864e5)),new o["default"](i,r)},t.prototype.buildRangeFromDuration=function(t,e,n,s){function a(){u=t.clone().startOf(f),h=u.clone().add(n),d=new o["default"](u,h)}var l,c,u,h,d,f=this.opt("dateAlignment");return f||((l=this.opt("dateIncrement"))?(c=i.duration(l),f=c<n?r.computeDurationGreatestUnit(c,l):s):f=s),n.as("days")<=1&&this._view.isHiddenDay(u)&&(u=this._view.skipHiddenDays(u,e)).startOf("day"),a(),this.trimHiddenDays(d)||(t=this._view.skipHiddenDays(t,e),a()),d},t.prototype.buildRangeFromDayCount=function(t,e,n){var i,r=this.opt("dateAlignment"),s=0,a=t.clone();r&&a.startOf(r),a.startOf("day"),i=(a=this._view.skipHiddenDays(a,e)).clone();do{i.add(1,"day"),this._view.isHiddenDay(i)||s++}while(s<n);return new o["default"](a,i)},t.prototype.buildCustomVisibleRange=function(t){var e=this._view.getUnzonedRangeOption("visibleRange",this._view.calendar.applyTimezone(t));return!e||null!=e.startMs&&null!=e.endMs?e:null},t.prototype.buildRenderRange=function(t){return t.clone()},t.prototype.buildDateIncrement=function(t){var e,n=this.opt("dateIncrement");return n?i.duration(n):(e=this.opt("dateAlignment"))?i.duration(1,e):t||i.duration({days:1})},t}();e["default"]=s},function(t,e,n){function i(t){var e,n,i,r,l=a.dataAttrPrefix;return l&&(l+="-"),(e=t.data(l+"event")||null)&&(null==(n=(e="object"==typeof e?o.extend({},e):{}).start)&&(n=e.time),i=e.duration,r=e.stick,delete e.start,delete e.time,delete e.duration,delete e.stick),null==n&&(n=t.data(l+"start")),null==n&&(n=t.data(l+"time")),null==i&&(i=t.data(l+"duration")),null==r&&(r=t.data(l+"stick")),{eventProps:e,startTime:n=null!=n?s.duration(n):null,duration:i=null!=i?s.duration(i):null,stick:r=Boolean(r)}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(3),s=n(0),a=n(16),l=n(4),c=n(10),u=n(7),h=n(23),d=n(13),f=n(18),p=n(6),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return r.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.bindToDocument=function(){this.listenTo(o(document),{dragstart:this.handleDragStart,sortstart:this.handleDragStart})},e.prototype.unbindFromDocument=function(){this.stopListeningTo(o(document))},e.prototype.handleDragStart=function(t,e){var n,i;this.opt("droppable")&&(n=o((e?e.item:null)||t.target),i=this.opt("dropAccept"),(o.isFunction(i)?i.call(n[0],n):n.is(i))&&(this.isDragging||this.listenToExternalDrag(n,t,e)))},e.prototype.listenToExternalDrag=function(t,e,n){var r,o=this,s=this.component,a=this.view,c=i(t);(this.dragListener=new h["default"](s,{interactionStart:function(){o.isDragging=!0},hitOver:function(t){var e,n=!0,i=t.component.getSafeHitFootprint(t);i&&(r=o.computeExternalDrop(i,c))?(e=new f["default"](r.buildInstances()),n=c.eventProps?s.isEventInstanceGroupAllowed(e):s.isExternalInstanceGroupAllowed(e)):n=!1,n||(r=null,l.disableCursor()),r&&s.renderDrag(s.eventRangesToEventFootprints(e.sliceRenderRanges(s.dateProfile.renderUnzonedRange,a.calendar)))},hitOut:function(){r=null},hitDone:function(){l.enableCursor(),s.unrenderDrag()},interactionEnd:function(e){r&&a.reportExternalDrop(r,Boolean(c.eventProps),Boolean(c.stick),t,e,n),o.isDragging=!1,o.dragListener=null}})).startDrag(e)},e.prototype.computeExternalDrop=function(t,e){var n,i=this.view.calendar,r=c["default"].utc(t.unzonedRange.startMs).stripZone();return t.isAllDay&&(e.startTime?r.time(e.startTime):r.stripTime()),e.duration&&(n=r.clone().add(e.duration)),r=i.applyTimezone(r),n&&(n=i.applyTimezone(n)),d["default"].parse(o.extend({},e.eventProps,{start:r,end:n}),new p["default"](i))},e}(n(15)["default"]);e["default"]=g,u["default"].mixInto(g),a.dataAttrPrefix=""},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(37),a=n(50),l=n(23),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.isResizing=!1,i.eventPointing=n,i}return i.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"mousedown",this.handleMouseDown.bind(this)),e.bindSegHandlerToEl(t,"touchstart",this.handleTouchStart.bind(this))},e.prototype.handleMouseDown=function(t,e){this.component.canStartResize(t,e)&&this.buildDragListener(t,r(e.target).is(".fc-start-resizer")).startInteraction(e,{distance:5})},e.prototype.handleTouchStart=function(t,e){this.component.canStartResize(t,e)&&this.buildDragListener(t,r(e.target).is(".fc-start-resizer")).startInteraction(e)},e.prototype.buildDragListener=function(t,e){var n,i,r=this,s=this.component,a=this.view,c=a.calendar,u=c.eventManager,h=t.el,d=t.footprint.eventDef,f=t.footprint.eventInstance;return this.dragListener=new l["default"](s,{scroll:this.opt("dragScroll"),subjectEl:h,interactionStart:function(){n=!1},dragStart:function(e){n=!0,r.eventPointing.handleMouseout(t,e),r.segResizeStart(t,e)},hitOver:function(n,l,h){var f,p=!0,g=s.getSafeHitFootprint(h),m=s.getSafeHitFootprint(n);g&&m&&(i=e?r.computeEventStartResizeMutation(g,m,t.footprint):r.computeEventEndResizeMutation(g,m,t.footprint))?(f=u.buildMutatedEventInstanceGroup(d.id,i),p=s.isEventInstanceGroupAllowed(f)):p=!1,p?i.isEmpty()&&(i=null):(i=null,o.disableCursor()),i&&(a.hideEventsWithId(t.footprint.eventDef.id),a.renderEventResize(s.eventRangesToEventFootprints(f.sliceRenderRanges(s.dateProfile.renderUnzonedRange,c)),t))},hitOut:function(){i=null},hitDone:function(){a.unrenderEventResize(t),a.showEventsWithId(t.footprint.eventDef.id),o.enableCursor()},interactionEnd:function(e){n&&r.segResizeStop(t,e),i&&a.reportEventResize(f,i,h,e),r.dragListener=null}})},e.prototype.segResizeStart=function(t,e){this.isResizing=!0,this.component.publiclyTrigger("eventResizeStart",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.segResizeStop=function(t,e){this.isResizing=!1,this.component.publiclyTrigger("eventResizeStop",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.computeEventStartResizeMutation=function(t,e,n){var i,r,o=n.componentFootprint.unzonedRange,l=this.component.diffDates(e.unzonedRange.getStart(),t.unzonedRange.getStart());return o.getStart().add(l)<o.getEnd()&&((i=new a["default"]).setStartDelta(l),(r=new s["default"]).setDateMutation(i),r)},e.prototype.computeEventEndResizeMutation=function(t,e,n){var i,r,o=n.componentFootprint.unzonedRange,l=this.component.diffDates(e.unzonedRange.getEnd(),t.unzonedRange.getEnd());return o.getEnd().add(l)>o.getStart()&&((i=new a["default"]).setEndDelta(l),(r=new s["default"]).setDateMutation(i),r)},e}(n(15)["default"]);e["default"]=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=n(37),s=n(50),a=n(54),l=n(23),c=n(244),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.isDragging=!1,i.eventPointing=n,i}return i.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.getSelectionDelay=function(){var t=this.opt("eventLongPressDelay");return null==t&&(t=this.opt("longPressDelay")),t},e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"mousedown",this.handleMousedown.bind(this)),e.bindSegHandlerToEl(t,"touchstart",this.handleTouchStart.bind(this))},e.prototype.handleMousedown=function(t,e){!this.component.shouldIgnoreMouse()&&this.component.canStartDrag(t,e)&&this.buildDragListener(t).startInteraction(e,{distance:5})},e.prototype.handleTouchStart=function(t,e){var n=this.component,i={delay:this.view.isEventDefSelected(t.footprint.eventDef)?0:this.getSelectionDelay()};n.canStartDrag(t,e)?this.buildDragListener(t).startInteraction(e,i):n.canStartSelection(t,e)&&this.buildSelectListener(t).startInteraction(e,i)},e.prototype.buildSelectListener=function(t){var e=this,n=this.view,i=t.footprint.eventDef,r=t.footprint.eventInstance;if(this.dragListener)return this.dragListener;var o=this.dragListener=new a["default"]({dragStart:function(){o.isTouch&&!n.isEventDefSelected(i)&&r&&n.selectEventInstance(r)},interactionEnd:function(){e.dragListener=null}});return o},e.prototype.buildDragListener=function(t){var e,n,i,o=this,s=this.component,a=this.view,u=a.calendar,h=u.eventManager,d=t.el,f=t.footprint.eventDef,p=t.footprint.eventInstance;if(this.dragListener)return this.dragListener;var g=this.dragListener=new l["default"](a,{scroll:this.opt("dragScroll"),subjectEl:d,subjectCenter:!0,interactionStart:function(i){t.component=s,e=!1,(n=new c["default"](t.el,{additionalClass:"fc-dragging",parentEl:a.el,opacity:g.isTouch?null:o.opt("dragOpacity"),revertDuration:o.opt("dragRevertDuration"),zIndex:2})).hide(),n.start(i)},dragStart:function(n){g.isTouch&&!a.isEventDefSelected(f)&&p&&a.selectEventInstance(p),e=!0,o.eventPointing.handleMouseout(t,n),o.segDragStart(t,n),a.hideEventsWithId(t.footprint.eventDef.id)},hitOver:function(e,l,c){var d,p,m,v=!0;t.hit&&(c=t.hit),d=c.component.getSafeHitFootprint(c),p=e.component.getSafeHitFootprint(e),d&&p&&(i=o.computeEventDropMutation(d,p,f))?(m=h.buildMutatedEventInstanceGroup(f.id,i),v=s.isEventInstanceGroupAllowed(m)):v=!1,v||(i=null,r.disableCursor()),i&&a.renderDrag(s.eventRangesToEventFootprints(m.sliceRenderRanges(s.dateProfile.renderUnzonedRange,u)),t,g.isTouch)?n.hide():n.show(),l&&(i=null)},hitOut:function(){a.unrenderDrag(t),n.show(),i=null},hitDone:function(){r.enableCursor()},interactionEnd:function(r){delete t.component,n.stop(!i,function(){e&&(a.unrenderDrag(t),o.segDragStop(t,r)),a.showEventsWithId(t.footprint.eventDef.id),i&&a.reportEventDrop(p,i,d,r)}),o.dragListener=null}});return g},e.prototype.segDragStart=function(t,e){this.isDragging=!0,this.component.publiclyTrigger("eventDragStart",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.segDragStop=function(t,e){this.isDragging=!1,this.component.publiclyTrigger("eventDragStop",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.computeEventDropMutation=function(t,e){var n=new o["default"];return n.setDateMutation(this.computeEventDateMutation(t,e)),n},e.prototype.computeEventDateMutation=function(t,e){var n,i,r=t.unzonedRange.getStart(),o=e.unzonedRange.getStart(),a=!1,l=!1,c=!1;return t.isAllDay!==e.isAllDay&&(a=!0,e.isAllDay?(c=!0,r.stripTime()):l=!0),n=this.component.diffDates(o,r),(i=new s["default"]).clearEnd=a,i.forceTimed=l,i.forceAllDay=c,i.setDateDelta(n),i},e}(n(15)["default"]);e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=n(23),s=n(12),a=n(5),l=function(t){function e(e){var n=t.call(this,e)||this;return n.dragListener=n.buildDragListener(),n}return i.__extends(e,t),e.prototype.end=function(){this.dragListener.endInteraction()},e.prototype.getDelay=function(){var t=this.opt("selectLongPressDelay");return null==t&&(t=this.opt("longPressDelay")),t},e.prototype.bindToEl=function(t){var e=this,n=this.component,i=this.dragListener;n.bindDateHandlerToEl(t,"mousedown",function(t){e.opt("selectable")&&!n.shouldIgnoreMouse()&&i.startInteraction(t,{distance:e.opt("selectMinDistance")})}),n.bindDateHandlerToEl(t,"touchstart",function(t){e.opt("selectable")&&!n.shouldIgnoreTouch()&&i.startInteraction(t,{delay:e.getDelay()})}),r.preventSelection(t)},e.prototype.buildDragListener=function(){var t,e=this,n=this.component;return new o["default"](n,{scroll:this.opt("dragScroll"),interactionStart:function(){t=null},dragStart:function(t){e.view.unselect(t)},hitOver:function(i,o,s){var a,l;s&&(a=n.getSafeHitFootprint(s),l=n.getSafeHitFootprint(i),(t=a&&l?e.computeSelection(a,l):null)?n.renderSelectionFootprint(t):!1===t&&r.disableCursor())},hitOut:function(){t=null,n.unrenderSelection()},hitDone:function(){r.enableCursor()},interactionEnd:function(n,i){!i&&t&&e.view.reportSelection(t,n)}})},e.prototype.computeSelection=function(t,e){var n=this.computeSelectionFootprint(t,e);return!(n&&!this.isSelectionFootprintAllowed(n))&&n},e.prototype.computeSelectionFootprint=function(t,e){var n=[t.unzonedRange.startMs,t.unzonedRange.endMs,e.unzonedRange.startMs,e.unzonedRange.endMs];return n.sort(r.compareNumbers),new s["default"](new a["default"](n[0],n[3]),t.isAllDay)},e.prototype.isSelectionFootprintAllowed=function(t){return this.component.dateProfile.validUnzonedRange.containsRange(t.unzonedRange)&&this.view.calendar.constraints.isSelectionFootprintAllowed(t)},e}(n(15)["default"]);e["default"]=l},function(t,e,n){function i(t){var e,n=[],i=[];for(e=0;e<t.length;e++)t[e].componentFootprint.isAllDay?n.push(t[e]):i.push(t[e]);return{allDay:n,timed:i}}Object.defineProperty(e,"__esModule",{value:!0});var r,o,s=n(2),a=n(0),l=n(3),c=n(4),u=n(39),h=n(41),d=n(227),f=n(61),p=5,g=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.usesMinMaxTime=!0,i.timeGrid=i.instantiateTimeGrid(),i.addChild(i.timeGrid),i.opt("allDaySlot")&&(i.dayGrid=i.instantiateDayGrid(),i.addChild(i.dayGrid)),i.scroller=new u["default"]({overflowX:"hidden",overflowY:"auto"}),i}return s.__extends(e,t),e.prototype.instantiateTimeGrid=function(){var t=new this.timeGridClass(this);return c.copyOwnProps(r,t),t},e.prototype.instantiateDayGrid=function(){var t=new this.dayGridClass(this);return c.copyOwnProps(o,t),t},e.prototype.renderSkeleton=function(){var t,e;this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.scroller.render(),t=this.scroller.el.addClass("fc-time-grid-container"),e=l('<div class="fc-time-grid" />').appendTo(t),this.el.find(".fc-body > tr > td").append(t),this.timeGrid.headContainerEl=this.el.find(".fc-head-container"),this.timeGrid.setElement(e),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight())},e.prototype.unrenderSkeleton=function(){this.timeGrid.removeElement(),this.dayGrid&&this.dayGrid.removeElement(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var t=this.calendar.theme;return'<table class="'+t.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+t.getClass("widgetHeader")+'"/>':"")+"</td></tr></tbody></table>"},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.updateSize=function(e,n,i){var r,o,s;if(t.prototype.updateSize.call(this,e,n,i),this.axisWidth=c.matchCellWidths(this.el.find(".fc-axis")),this.timeGrid.colEls){var a=this.el.find(".fc-row:not(.fc-scroller *)");this.timeGrid.bottomRuleEl.hide(),this.scroller.clear(),c.uncompensateScroll(a),this.dayGrid&&(this.dayGrid.removeSegPopover(),(r=this.opt("eventLimit"))&&"number"!=typeof r&&(r=p),r&&this.dayGrid.limitRows(r)),n||(o=this.computeScrollerHeight(e),this.scroller.setHeight(o),((s=this.scroller.getScrollbarWidths()).left||s.right)&&(c.compensateScroll(a,s),o=this.computeScrollerHeight(e),this.scroller.setHeight(o)),this.scroller.lockOverflow(s),this.timeGrid.getTotalSlatHeight()<o&&this.timeGrid.bottomRuleEl.show())}else n||(o=this.computeScrollerHeight(e),this.scroller.setHeight(o))},e.prototype.computeScrollerHeight=function(t){return t-c.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.computeInitialDateScroll=function(){var t=a.duration(this.opt("scrollTime")),e=this.timeGrid.computeTimeTop(t);return(e=Math.ceil(e))&&e++,{top:e}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(t){t.top!==undefined&&this.scroller.setScrollTop(t.top)},e.prototype.getHitFootprint=function(t){return t.component.getHitFootprint(t)},e.prototype.getHitEl=function(t){return t.component.getHitEl(t)},e.prototype.executeEventRender=function(t){var e,n,i={},r={};for(e in t)(n=t[e]).getEventDef().isAllDay()?i[e]=n:r[e]=n;this.timeGrid.executeEventRender(r),this.dayGrid&&this.dayGrid.executeEventRender(i)},e.prototype.renderDrag=function(t,e,n){var r=i(t),o=!1;return o=this.timeGrid.renderDrag(r.timed,e,n),
this.dayGrid&&(o=this.dayGrid.renderDrag(r.allDay,e,n)||o),o},e.prototype.renderEventResize=function(t,e,n){var r=i(t);this.timeGrid.renderEventResize(r.timed,e,n),this.dayGrid&&this.dayGrid.renderEventResize(r.allDay,e,n)},e.prototype.renderSelectionFootprint=function(t){t.isAllDay?this.dayGrid&&this.dayGrid.renderSelectionFootprint(t):this.timeGrid.renderSelectionFootprint(t)},e}(h["default"]);e["default"]=g,g.prototype.timeGridClass=d["default"],g.prototype.dayGridClass=f["default"],r={renderHeadIntroHtml:function(){var t,e=this.view,n=e.calendar,i=n.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs,!0);return this.opt("weekNumbers")?(t=i.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+n.theme.getClass("widgetHeader")+'" '+e.axisStyleAttr()+">"+e.buildGotoAnchorHtml({date:i,type:"week",forceOff:this.colCnt>1},c.htmlEscape(t))+"</th>"):'<th class="fc-axis '+n.theme.getClass("widgetHeader")+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.calendar.theme.getClass("widgetContent")+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},o={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.calendar.theme.getClass("widgetContent")+'" '+t.axisStyleAttr()+"><span>"+t.getAllDayHtml()+"</span></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(0),s=n(4),a=n(40),l=n(56),c=n(60),u=n(55),h=n(53),d=n(5),f=n(12),p=n(246),g=n(247),m=n(248),v=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],y=function(t){function e(e){var n=t.call(this,e)||this;return n.processOptions(),n}return i.__extends(e,t),e.prototype.componentFootprintToSegs=function(t){var e,n=this.sliceRangeByTimes(t.unzonedRange);for(e=0;e<n.length;e++)this.isRTL?n[e].col=this.daysPerRow-1-n[e].dayIndex:n[e].col=n[e].dayIndex;return n},e.prototype.sliceRangeByTimes=function(t){var e,n,i=[];for(n=0;n<this.daysPerRow;n++)(e=t.intersect(this.dayRanges[n]))&&i.push({startMs:e.startMs,endMs:e.endMs,isStart:e.isStart,isEnd:e.isEnd,dayIndex:n});return i},e.prototype.processOptions=function(){var t,e=this.opt("slotDuration"),n=this.opt("snapDuration");e=o.duration(e),n=n?o.duration(n):e,this.slotDuration=e,this.snapDuration=n,this.snapsPerSlot=e/n,t=this.opt("slotLabelFormat"),r.isArray(t)&&(t=t[t.length-1]),this.labelFormat=t||this.opt("smallTimeFormat"),t=this.opt("slotLabelInterval"),this.labelInterval=t?o.duration(t):this.computeLabelInterval(e)},e.prototype.computeLabelInterval=function(t){var e,n,i;for(e=v.length-1;e>=0;e--)if(n=o.duration(v[e]),i=s.divideDurationByDuration(n,t),s.isInt(i)&&i>1)return n;return o.duration(t)},e.prototype.renderDates=function(t){this.dateProfile=t,this.updateDayTable(),this.renderSlats(),this.renderColumns()},e.prototype.unrenderDates=function(){this.unrenderColumns()},e.prototype.renderSkeleton=function(){var t=this.view.calendar.theme;this.el.html('<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+t.getClass("widgetHeader")+'" style="display:none" />'),this.bottomRuleEl=this.el.find("hr")},e.prototype.renderSlats=function(){var t=this.view.calendar.theme;this.slatContainerEl=this.el.find("> .fc-slats").html('<table class="'+t.getClass("tableGrid")+'">'+this.renderSlatRowHtml()+"</table>"),this.slatEls=this.slatContainerEl.find("tr"),this.slatCoordCache=new h["default"]({els:this.slatEls,isVertical:!0})},e.prototype.renderSlatRowHtml=function(){for(var t,e,n,i=this.view,r=i.calendar,a=r.theme,l=this.isRTL,c=this.dateProfile,u="",h=o.duration(+c.minTime),d=o.duration(0);h<c.maxTime;)t=r.msToUtcMoment(c.renderUnzonedRange.startMs).time(h),e=s.isInt(s.divideDurationByDuration(d,this.labelInterval)),n='<td class="fc-axis fc-time '+a.getClass("widgetContent")+'" '+i.axisStyleAttr()+">"+(e?"<span>"+s.htmlEscape(t.format(this.labelFormat))+"</span>":"")+"</td>",u+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(e?"":' class="fc-minor"')+">"+(l?"":n)+'<td class="'+a.getClass("widgetContent")+'"/>'+(l?n:"")+"</tr>",h.add(this.slotDuration),d.add(this.slotDuration);return u},e.prototype.renderColumns=function(){var t=this.dateProfile,e=this.view.calendar.theme;this.dayRanges=this.dayDates.map(function(e){return new d["default"](e.clone().add(t.minTime),e.clone().add(t.maxTime))}),this.headContainerEl&&this.headContainerEl.html(this.renderHeadHtml()),this.el.find("> .fc-bg").html('<table class="'+e.getClass("tableGrid")+'">'+this.renderBgTrHtml(0)+"</table>"),this.colEls=this.el.find(".fc-day, .fc-disabled-day"),this.colCoordCache=new h["default"]({els:this.colEls,isHorizontal:!0}),this.renderContentSkeleton()},e.prototype.unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var t,e,n="";for(t=0;t<this.colCnt;t++)n+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';e=this.contentSkeletonEl=r('<div class="fc-content-skeleton"><table><tr>'+n+"</tr></table></div>"),this.colContainerEls=e.find(".fc-content-col"),this.helperContainerEls=e.find(".fc-helper-container"),this.fgContainerEls=e.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=e.find(".fc-bgevent-container"),this.highlightContainerEls=e.find(".fc-highlight-container"),this.businessContainerEls=e.find(".fc-business-container"),this.bookendCells(e.find("tr")),this.el.append(e)},e.prototype.unrenderContentSkeleton=function(){this.contentSkeletonEl&&(this.contentSkeletonEl.remove(),this.contentSkeletonEl=null,this.colContainerEls=null,this.helperContainerEls=null,this.fgContainerEls=null,this.bgContainerEls=null,this.highlightContainerEls=null,this.businessContainerEls=null)},e.prototype.groupSegsByCol=function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},e.prototype.attachSegsByCol=function(t,e){var n,i,r;for(n=0;n<this.colCnt;n++)for(i=t[n],r=0;r<i.length;r++)e.eq(n).append(i[r].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(t){if(this.colContainerEls){var e,n=this.componentFootprintToSegs(new f["default"](new d["default"](t,t.valueOf()+1),!1)),i=this.computeDateTop(t,t),o=[];for(e=0;e<n.length;e++)o.push(r('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",i).appendTo(this.colContainerEls.eq(n[e].col))[0]);n.length>0&&o.push(r('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",i).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=r(o)}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},e.prototype.updateSize=function(e,n,i){t.prototype.updateSize.call(this,e,n,i),this.slatCoordCache.build(),i&&this.updateSegVerticals([].concat(this.eventRenderer.getSegs(),this.businessSegs||[]))},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.outerHeight()},e.prototype.computeDateTop=function(t,e){return this.computeTimeTop(o.duration(t-e.clone().stripTime()))},e.prototype.computeTimeTop=function(t){var e,n,i=this.slatEls.length,r=(t-this.dateProfile.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(i,r),e=Math.floor(r),n=r-(e=Math.min(e,i-1)),this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*n},e.prototype.updateSegVerticals=function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},e.prototype.computeSegVerticals=function(t){var e,n,i,r=this.opt("agendaEventMinHeight");for(e=0;e<t.length;e++)n=t[e],i=this.dayDates[n.dayIndex],n.top=this.computeDateTop(n.startMs,i),n.bottom=Math.max(n.top+r,this.computeDateTop(n.endMs,i))},e.prototype.assignSegVerticals=function(t){var e,n;for(e=0;e<t.length;e++)(n=t[e]).el.css(this.generateSegVerticalCss(n))},e.prototype.generateSegVerticalCss=function(t){return{top:t.top,bottom:-t.bottom}},e.prototype.prepareHits=function(){this.colCoordCache.build(),this.slatCoordCache.build()},e.prototype.releaseHits=function(){this.colCoordCache.clear()},e.prototype.queryHit=function(t,e){var n=this.snapsPerSlot,i=this.colCoordCache,r=this.slatCoordCache;if(i.isLeftInBounds(t)&&r.isTopInBounds(e)){var o=i.getHorizontalIndex(t),s=r.getVerticalIndex(e);if(null!=o&&null!=s){var a=r.getTopOffset(s),l=r.getHeight(s),c=(e-a)/l,u=Math.floor(c*n),h=a+u/n*l,d=a+(u+1)/n*l;return{col:o,snap:s*n+u,component:this,left:i.getLeftOffset(o),right:i.getRightOffset(o),top:h,bottom:d}}}},e.prototype.getHitFootprint=function(t){var e,n=this.getCellDate(0,t.col),i=this.computeSnapTime(t.snap);return n.time(i),e=n.clone().add(this.snapDuration),new f["default"](new d["default"](n,e),!1)},e.prototype.computeSnapTime=function(t){return o.duration(this.dateProfile.minTime+this.snapDuration*t)},e.prototype.getHitEl=function(t){return this.colEls.eq(t.col)},e.prototype.renderDrag=function(t,e,n){var i;if(e){if(t.length)return this.helperRenderer.renderEventDraggingFootprints(t,e,n),!0}else for(i=0;i<t.length;i++)this.renderHighlight(t[i].componentFootprint)},e.prototype.unrenderDrag=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.renderEventResize=function(t,e,n){this.helperRenderer.renderEventResizingFootprints(t,e,n)},e.prototype.unrenderEventResize=function(){this.helperRenderer.unrender()},e.prototype.renderSelectionFootprint=function(t){this.opt("selectHelper")?this.helperRenderer.renderComponentFootprint(t):this.renderHighlight(t)},e.prototype.unrenderSelection=function(){this.helperRenderer.unrender(),this.unrenderHighlight()},e}(a["default"]);e["default"]=y,y.prototype.eventRendererClass=p["default"],y.prototype.businessHourRendererClass=l["default"],y.prototype.helperRendererClass=g["default"],y.prototype.fillRendererClass=m["default"],c["default"].mixInto(y),u["default"].mixInto(y)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(5),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.buildRenderRange=function(e,n,i){var o=t.prototype.buildRenderRange.call(this,e,n,i),s=this.msToUtcMoment(o.startMs,i),a=this.msToUtcMoment(o.endMs,i);return/^(year|month)$/.test(n)&&(s.startOf("week"),a.weekday()&&a.add(1,"week").startOf("week")),new r["default"](s,a)},e}(n(221)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(0),o=n(4),s=n(62),a=n(253),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.setGridHeight=function(t,e){e&&(t*=this.dayGrid.rowCnt/6),o.distributeHeight(this.dayGrid.rowEls,t,!e)},e.prototype.isDateInOtherMonth=function(t,e){return t.month()!==r.utc(e.currentUnzonedRange.startMs).month()},e}(s["default"]);e["default"]=l,l.prototype.dateProfileGeneratorClass=a["default"]},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(5),a=n(41),l=n(39),c=n(254),u=n(255),h=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.segSelector=".fc-list-item",i.scroller=new l["default"]({overflowX:"hidden",overflowY:"auto"}),i}return i.__extends(e,t),e.prototype.renderSkeleton=function(){this.el.addClass("fc-list-view "+this.calendar.theme.getClass("listView")),this.scroller.render(),this.scroller.el.appendTo(this.el),this.contentEl=this.scroller.scrollEl},e.prototype.unrenderSkeleton=function(){this.scroller.destroy()},e.prototype.updateSize=function(e,n,i){t.prototype.updateSize.call(this,e,n,i),this.scroller.clear(),n||this.scroller.setHeight(this.computeScrollerHeight(e))},e.prototype.computeScrollerHeight=function(t){return t-o.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.renderDates=function(t){for(var e=this.calendar,n=e.msToUtcMoment(t.renderUnzonedRange.startMs,!0),i=e.msToUtcMoment(t.renderUnzonedRange.endMs,!0),r=[],o=[];n<i;)r.push(n.clone()),o.push(new s["default"](n,n.clone().add(1,"day"))),n.add(1,"day");this.dayDates=r,this.dayRanges=o},e.prototype.componentFootprintToSegs=function(t){var e,n,i,r=this.dayRanges,o=[];for(e=0;e<r.length;e++)if((n=t.unzonedRange.intersect(r[e]))&&(i={startMs:n.startMs,endMs:n.endMs,isStart:n.isStart,isEnd:n.isEnd,dayIndex:e},o.push(i),!i.isEnd&&!t.isAllDay&&e+1<r.length&&t.unzonedRange.endMs<r[e+1].startMs+this.nextDayThreshold)){i.endMs=t.unzonedRange.endMs,i.isEnd=!0;break}return o},e.prototype.renderEmptyMessage=function(){this.contentEl.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+o.htmlEscape(this.opt("noEventsMessage"))+"</div></div></div>")},e.prototype.renderSegList=function(t){var e,n,i,o=this.groupSegsByDay(t),s=r('<table class="fc-list-table '+this.calendar.theme.getClass("tableList")+'"><tbody/></table>'),a=s.find("tbody");for(e=0;e<o.length;e++)if(n=o[e])for(a.append(this.dayHeaderHtml(this.dayDates[e])),this.eventRenderer.sortEventSegs(n),i=0;i<n.length;i++)a.append(n[i].el);this.contentEl.empty().append(s)},e.prototype.groupSegsByDay=function(t){var e,n,i=[];for(e=0;e<t.length;e++)(i[(n=t[e]).dayIndex]||(i[n.dayIndex]=[])).push(n);return i},e.prototype.dayHeaderHtml=function(t){var e=this.opt("listDayFormat"),n=this.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+t.format("YYYY-MM-DD")+'"><td class="'+(this.calendar.theme.getClass("tableListHeading")||this.calendar.theme.getClass("widgetHeader"))+'" colspan="3">'+(e?this.buildGotoAnchorHtml(t,{"class":"fc-list-heading-main"},o.htmlEscape(t.format(e))):"")+(n?this.buildGotoAnchorHtml(t,{"class":"fc-list-heading-alt"},o.htmlEscape(t.format(n))):"")+"</td></tr>"},e}(a["default"]);e["default"]=h,h.prototype.eventRendererClass=c["default"],h.prototype.eventPointingClass=u["default"]},,,,,,function(t,e,n){var i=n(3),r=n(16),o=n(4),s=n(220);n(10),n(47),n(256),n(257),n(260),n(261),n(262),n(263),i.fullCalendar=r,i.fn.fullCalendar=function(t){var e=Array.prototype.slice.call(arguments,1),n=this;return this.each(function(r,a){var l,c=i(a),u=c.data("fullCalendar");"string"==typeof t?"getCalendar"===t?r||(n=u):"destroy"===t?u&&(u.destroy(),c.removeData("fullCalendar")):u?i.isFunction(u[t])?(l=u[t].apply(u,e),r||(n=l),"destroy"===t&&c.removeData("fullCalendar")):o.warn("'"+t+"' is an unknown FullCalendar method."):o.warn("Attempting to call a FullCalendar method on an element with no calendar."):u||(u=new s["default"](c,t),c.data("fullCalendar",u),u.render())}),n},t.exports=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.setElement=function(t){this.el=t,this.bindGlobalHandlers(),this.renderSkeleton(),this.set("isInDom",!0)},e.prototype.removeElement=function(){this.unset("isInDom"),this.unrenderSkeleton(),this.unbindGlobalHandlers(),this.el.remove()},e.prototype.bindGlobalHandlers=function(){},e.prototype.unbindGlobalHandlers=function(){},e.prototype.renderSkeleton=function(){},e.prototype.unrenderSkeleton=function(){},e}(n(48)["default"]);e["default"]=r},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.items=t||[]}return t.prototype.proxyCall=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=[];return this.items.forEach(function(n){i.push(n[t].apply(n,e))}),i},t}();e["default"]=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=function(){function t(t,e){this.el=null,this.viewsWithButtons=[],this.calendar=t,this.toolbarOptions=e}return t.prototype.setToolbarOptions=function(t){this.toolbarOptions=t},t.prototype.render=function(){var t=this.toolbarOptions.layout,e=this.el;t?(e?e.empty():e=this.el=i("<div class='fc-toolbar "+this.toolbarOptions.extraClasses+"'/>"),e.append(this.renderSection("left")).append(this.renderSection("right")).append(this.renderSection("center")).append('<div class="fc-clear"/>')):this.removeElement()},t.prototype.removeElement=function(){this.el&&(this.el.remove(),this.el=null)},t.prototype.renderSection=function(t){var e=this,n=this.calendar,o=n.theme,s=n.optionsManager,a=n.viewSpecManager,l=i('<div class="fc-'+t+'"/>'),c=this.toolbarOptions.layout[t],u=s.get("customButtons")||{},h=s.overrides.buttonText||{},d=s.get("buttonText")||{};return c&&i.each(c.split(" "),function(t,s){var c,f=i(),p=!0;i.each(s.split(","),function(t,s){var l,c,g,m,v,y,b,w,x;"title"===s?(f=f.add(i("<h2>&nbsp;</h2>")),p=!1):((l=u[s])?(g=function(t){l.click&&l.click.call(w[0],t)},(m=o.getCustomButtonIconClass(l))||(m=o.getIconClass(s))||(v=l.text)):(c=a.getViewSpec(s))?(e.viewsWithButtons.push(s),g=function(){n.changeView(s)},(v=c.buttonTextOverride)||(m=o.getIconClass(s))||(v=c.buttonTextDefault)):n[s]&&(g=function(){n[s]()},(v=h[s])||(m=o.getIconClass(s))||(v=d[s])),g&&(b=["fc-"+s+"-button",o.getClass("button"),o.getClass("stateDefault")],v?(y=r.htmlEscape(v),x=""):m&&(y="<span class='"+m+"'></span>",x=' aria-label="'+s+'"'),w=i('<button type="button" class="'+b.join(" ")+'"'+x+">"+y+"</button>").click(function(t){w.hasClass(o.getClass("stateDisabled"))||(g(t),(w.hasClass(o.getClass("stateActive"))||w.hasClass(o.getClass("stateDisabled")))&&w.removeClass(o.getClass("stateHover")))}).mousedown(function(){w.not("."+o.getClass("stateActive")).not("."+o.getClass("stateDisabled")).addClass(o.getClass("stateDown"))}).mouseup(function(){w.removeClass(o.getClass("stateDown"))}).hover(function(){w.not("."+o.getClass("stateActive")).not("."+o.getClass("stateDisabled")).addClass(o.getClass("stateHover"))},function(){w.removeClass(o.getClass("stateHover")).removeClass(o.getClass("stateDown"))}),f=f.add(w)))}),p&&f.first().addClass(o.getClass("cornerLeft")).end().last().addClass(o.getClass("cornerRight")).end(),f.length>1?(c=i("<div/>"),p&&c.addClass(o.getClass("buttonGroup")),c.append(f),l.append(c)):l.append(f)}),l},t.prototype.updateTitle=function(t){this.el&&this.el.find("h2").text(t)},t.prototype.activateButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").addClass(this.calendar.theme.getClass("stateActive"))},t.prototype.deactivateButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").removeClass(this.calendar.theme.getClass("stateActive"))},t.prototype.disableButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").prop("disabled",!0).addClass(this.calendar.theme.getClass("stateDisabled"))},t.prototype.enableButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").prop("disabled",!1).removeClass(this.calendar.theme.getClass("stateDisabled"))},t.prototype.getViewsWithButtons=function(){return this.viewsWithButtons},t}();e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=n(4),s=n(32),a=n(31),l=function(t){function e(e,n){var i=t.call(this)||this;return i._calendar=e,i.overrides=r.extend({},n),i.dynamicOverrides={},i.compute(),i}return i.__extends(e,t),e.prototype.add=function(t){var e,n=0;for(e in this.recordOverrides(t),t)n++;if(1===n){if("height"===e||"contentHeight"===e||"aspectRatio"===e)return void this._calendar.updateViewSize(!0);if("defaultDate"===e)return;if("businessHours"===e)return;if(/^(event|select)(Overlap|Constraint|Allow)$/.test(e))return;if("timezone"===e)return void this._calendar.view.flash("initialEvents")}this._calendar.renderHeader(),this._calendar.renderFooter(),this._calendar.viewsByType={},this._calendar.reinitView()},e.prototype.compute=function(){var t,e,n,i;t=o.firstDefined(this.dynamicOverrides.locale,this.overrides.locale),(e=a.localeOptionHash[t])||(t=s.globalDefaults.locale,e=a.localeOptionHash[t]||{}),n=o.firstDefined(this.dynamicOverrides.isRTL,this.overrides.isRTL,e.isRTL,s.globalDefaults.isRTL)?s.rtlDefaults:{},this.dirDefaults=n,this.localeDefaults=e,i=s.mergeOptions([s.globalDefaults,n,e,this.overrides,this.dynamicOverrides]),a.populateInstanceComputableOptions(i),this.reset(i)},e.prototype.recordOverrides=function(t){var e;for(e in t)this.dynamicOverrides[e]=t[e];this._calendar.viewSpecManager.clearCache(),this.compute()},e}(n(48)["default"]);e["default"]=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(3),o=n(22),s=n(4),a=n(32),l=n(31),c=function(){function t(t,e){this.optionsManager=t,this._calendar=e,this.clearCache()}return t.prototype.clearCache=function(){this.viewSpecCache={}},t.prototype.getViewSpec=function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},t.prototype.getUnitViewSpec=function(t){var e,n,i;if(-1!==r.inArray(t,s.unitsDesc))for(e=this._calendar.header.getViewsWithButtons(),r.each(o.viewHash,function(t){e.push(t)}),n=0;n<e.length;n++)if((i=this.getViewSpec(e[n]))&&i.singleUnit===t)return i},t.prototype.buildViewSpec=function(t){for(var e,n,r,l,c,u=this.optionsManager.overrides.views||{},h=[],d=[],f=[],p=t;p;)e=o.viewHash[p],n=u[p],p=null,"function"==typeof e&&(e={"class":e}),e&&(h.unshift(e),d.unshift(e.defaults||{}),r=r||e.duration,p=p||e.type),n&&(f.unshift(n),r=r||n.duration,p=p||n.type);return(e=s.mergeProps(h)).type=t,!!e["class"]&&((r=r||this.optionsManager.dynamicOverrides.duration||this.optionsManager.overrides.duration)&&(l=i.duration(r)).valueOf()&&(c=s.computeDurationGreatestUnit(l,r),e.duration=l,e.durationUnit=c,1===l.as(c)&&(e.singleUnit=c,f.unshift(u[c]||{}))),e.defaults=a.mergeOptions(d),e.overrides=a.mergeOptions(f),this.buildViewSpecOptions(e),this.buildViewSpecButtonText(e,t),e)},t.prototype.buildViewSpecOptions=function(t){var e=this.optionsManager;t.options=a.mergeOptions([a.globalDefaults,t.defaults,e.dirDefaults,e.localeDefaults,e.overrides,t.overrides,e.dynamicOverrides]),l.populateInstanceComputableOptions(t.options)},t.prototype.buildViewSpecButtonText=function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.buttonTextKey?i[t.buttonTextKey]:null)||(t.singleUnit?i[t.singleUnit]:null)}var i=this.optionsManager;t.buttonTextOverride=n(i.dynamicOverrides)||n(i.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(i.localeDefaults)||n(i.dirDefaults)||t.defaults.buttonText||n(a.globalDefaults)||(t.duration?this._calendar.humanizeDuration(t.duration):null)||e},t}();e["default"]=c},function(t,e,n){function i(t,e){return t.getPrimitive()===e.getPrimitive()}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(4),s=n(243),a=n(52),l=n(6),c=n(38),u=n(13),h=n(18),d=n(11),f=n(7),p=function(){function t(t){this.calendar=t,this.stickySource=new a["default"](t),this.otherSources=[]}return t.prototype.requestEvents=function(t,e,n,i){return!i&&this.currentPeriod&&this.currentPeriod.isWithinRange(t,e)&&n===this.currentPeriod.timezone||this.setPeriod(new s["default"](t,e,n)),this.currentPeriod.whenReleased()},t.prototype.addSource=function(t){this.otherSources.push(t),this.currentPeriod&&this.currentPeriod.requestSource(t)},t.prototype.removeSource=function(t){o.removeExact(this.otherSources,t),this.currentPeriod&&this.currentPeriod.purgeSource(t)},t.prototype.removeAllSources=function(){this.otherSources=[],this.currentPeriod&&this.currentPeriod.purgeAllSources()},t.prototype.refetchSource=function(t){var e=this.currentPeriod;e&&(e.freeze(),e.purgeSource(t),e.requestSource(t),e.thaw())},t.prototype.refetchAllSources=function(){var t=this.currentPeriod;t&&(t.freeze(),t.purgeAllSources(),t.requestSources(this.getSources()),t.thaw())},t.prototype.getSources=function(){return[this.stickySource].concat(this.otherSources)},t.prototype.multiQuerySources=function(t){t?r.isArray(t)||(t=[t]):t=[];var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.querySources(t[e]));return n},t.prototype.querySources=function(t){var e,n,o=this.otherSources;for(e=0;e<o.length;e++)if((n=o[e])===t)return[n];return(n=this.getSourceById(l["default"].normalizeId(t)))?[n]:(t=c["default"].parse(t,this.calendar))?r.grep(o,function(e){return i(t,e)}):void 0},t.prototype.getSourceById=function(t){return r.grep(this.otherSources,function(e){return e.id&&e.id===t})[0]},t.prototype.setPeriod=function(t){this.currentPeriod&&(this.unbindPeriod(this.currentPeriod),this.currentPeriod=null),this.currentPeriod=t,this.bindPeriod(t),t.requestSources(this.getSources())},t.prototype.bindPeriod=function(t){this.listenTo(t,"release",function(t){this.trigger("release",t)})},t.prototype.unbindPeriod=function(t){this.stopListeningTo(t)},t.prototype.getEventDefByUid=function(t){if(this.currentPeriod)return this.currentPeriod.getEventDefByUid(t)},t.prototype.addEventDef=function(t,e){e&&this.stickySource.addEventDef(t),this.currentPeriod&&this.currentPeriod.addEventDef(t)},t.prototype.removeEventDefsById=function(t){this.getSources().forEach(function(e){e.removeEventDefsById(t)}),this.currentPeriod&&this.currentPeriod.removeEventDefsById(t)},t.prototype.removeAllEventDefs=function(){this.getSources().forEach(function(t){t.removeAllEventDefs()}),this.currentPeriod&&this.currentPeriod.removeAllEventDefs()},t.prototype.mutateEventsWithId=function(t,e){var n,i=this.currentPeriod,r=[];return i?(i.freeze(),(n=i.getEventDefsById(t)).forEach(function(t){i.removeEventDef(t),r.push(e.mutateSingle(t)),i.addEventDef(t)}),i.thaw(),function(){i.freeze();for(var t=0;t<n.length;t++)i.removeEventDef(n[t]),r[t](),i.addEventDef(n[t]);i.thaw()}):function(){}},t.prototype.buildMutatedEventInstanceGroup=function(t,e){var n,i,r=this.getEventDefsById(t),o=[];for(n=0;n<r.length;n++)(i=r[n].clone())instanceof u["default"]&&(e.mutateSingle(i),o.push.apply(o,i.buildInstances()));return new h["default"](o)},t.prototype.freeze=function(){this.currentPeriod&&this.currentPeriod.freeze()},t.prototype.thaw=function(){this.currentPeriod&&this.currentPeriod.thaw()},t.prototype.getEventDefsById=function(t){return this.currentPeriod.getEventDefsById(t)},t.prototype.getEventInstances=function(){return this.currentPeriod.getEventInstances()},t.prototype.getEventInstancesWithId=function(t){return this.currentPeriod.getEventInstancesWithId(t)},t.prototype.getEventInstancesWithoutId=function(t){return this.currentPeriod.getEventInstancesWithoutId(t)},t}();e["default"]=p,d["default"].mixInto(p),f["default"].mixInto(p)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(20),s=n(11),a=n(5),l=n(18),c=function(){function t(t,e,n){this.pendingCnt=0,this.freezeDepth=0,this.stuntedReleaseCnt=0,this.releaseCnt=0,this.start=t,this.end=e,this.timezone=n,this.unzonedRange=new a["default"](t.clone().stripZone(),e.clone().stripZone()),this.requestsByUid={},this.eventDefsByUid={},this.eventDefsById={},this.eventInstanceGroupsById={}}return t.prototype.isWithinRange=function(t,e){return!t.isBefore(this.start)&&!e.isAfter(this.end)},t.prototype.requestSources=function(t){this.freeze();for(var e=0;e<t.length;e++)this.requestSource(t[e]);this.thaw()},t.prototype.requestSource=function(t){var e=this,n={source:t,status:"pending",eventDefs:null};this.requestsByUid[t.uid]=n,this.pendingCnt+=1,t.fetch(this.start,this.end,this.timezone).then(function(t){"cancelled"!==n.status&&(n.status="completed",n.eventDefs=t,e.addEventDefs(t),e.pendingCnt--,e.tryRelease())},function(){"cancelled"!==n.status&&(n.status="failed",e.pendingCnt--,e.tryRelease())})},t.prototype.purgeSource=function(t){var e=this.requestsByUid[t.uid];e&&(delete this.requestsByUid[t.uid],"pending"===e.status?(e.status="cancelled",this.pendingCnt--,this.tryRelease()):"completed"===e.status&&e.eventDefs.forEach(this.removeEventDef.bind(this)))},t.prototype.purgeAllSources=function(){var t,e,n=this.requestsByUid,i=0;for(t in n)"pending"===(e=n[t]).status?e.status="cancelled":"completed"===e.status&&i++;this.requestsByUid={},this.pendingCnt=0,i&&this.removeAllEventDefs()},t.prototype.getEventDefByUid=function(t){return this.eventDefsByUid[t]},t.prototype.getEventDefsById=function(t){var e=this.eventDefsById[t];return e?e.slice():[]},t.prototype.addEventDefs=function(t){for(var e=0;e<t.length;e++)this.addEventDef(t[e])},t.prototype.addEventDef=function(t){var e,n=this.eventDefsById,i=t.id,r=n[i]||(n[i]=[]),o=t.buildInstances(this.unzonedRange);for(r.push(t),this.eventDefsByUid[t.uid]=t,e=0;e<o.length;e++)this.addEventInstance(o[e],i)},t.prototype.removeEventDefsById=function(t){var e=this;this.getEventDefsById(t).forEach(function(t){e.removeEventDef(t)})},t.prototype.removeAllEventDefs=function(){var t=i.isEmptyObject(this.eventDefsByUid);this.eventDefsByUid={},this.eventDefsById={},this.eventInstanceGroupsById={},t||this.tryRelease()},t.prototype.removeEventDef=function(t){var e=this.eventDefsById,n=e[t.id];delete this.eventDefsByUid[t.uid],n&&(r.removeExact(n,t),n.length||delete e[t.id],this.removeEventInstancesForDef(t))},t.prototype.getEventInstances=function(){var t,e=this.eventInstanceGroupsById,n=[];for(t in e)n.push.apply(n,e[t].eventInstances);return n},t.prototype.getEventInstancesWithId=function(t){var e=this.eventInstanceGroupsById[t];return e?e.eventInstances.slice():[]},t.prototype.getEventInstancesWithoutId=function(t){var e,n=this.eventInstanceGroupsById,i=[];for(e in n)e!==t&&i.push.apply(i,n[e].eventInstances);return i},t.prototype.addEventInstance=function(t,e){var n=this.eventInstanceGroupsById;(n[e]||(n[e]=new l["default"])).eventInstances.push(t),this.tryRelease()},t.prototype.removeEventInstancesForDef=function(t){var e,n=this.eventInstanceGroupsById,i=n[t.id];i&&(e=r.removeMatching(i.eventInstances,function(e){return e.def===t}),i.eventInstances.length||delete n[t.id],e&&this.tryRelease())},t.prototype.tryRelease=function(){this.pendingCnt||(this.freezeDepth?this.stuntedReleaseCnt++:this.release())},t.prototype.release=function(){this.releaseCnt++,this.trigger("release",this.eventInstanceGroupsById)},t.prototype.whenReleased=function(){var t=this;return this.releaseCnt?o["default"].resolve(this.eventInstanceGroupsById):o["default"].construct(function(e){t.one("release",e)})},t.prototype.freeze=function(){this.freezeDepth++||(this.stuntedReleaseCnt=0)},t.prototype.thaw=function(){--this.freezeDepth||!this.stuntedReleaseCnt||this.pendingCnt||this.release()},t}();e["default"]=c,s["default"].mixInto(c)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(7),s=function(){function t(t,e){this.isFollowing=!1,this.isHidden=!1,this.isAnimating=!1,this.options=e=e||{},this.sourceEl=t,this.parentEl=e.parentEl?i(e.parentEl):t.parent()}return t.prototype.start=function(t){this.isFollowing||(this.isFollowing=!0,this.y0=r.getEvY(t),this.x0=r.getEvX(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),r.getEvIsTouch(t)?this.listenTo(i(document),"touchmove",this.handleMove):this.listenTo(i(document),"mousemove",this.handleMove))},t.prototype.stop=function(t,e){var n=this,r=this.options.revertDuration,o=function(){n.isAnimating=!1,n.removeElement(),n.top0=n.left0=null,e&&e()};this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(i(document)),t&&r&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:r,complete:o})):o())},t.prototype.getEl=function(){var t=this.el;return t||((t=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex})).addClass("fc-unselectable"),t.appendTo(this.parentEl)),t},t.prototype.removeElement=function(){this.el&&(this.el.remove(),this.el=null)},t.prototype.updatePosition=function(){var t,e;this.getEl(),null==this.top0&&(t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},t.prototype.handleMove=function(t){this.topDelta=r.getEvY(t)-this.y0,this.leftDelta=r.getEvX(t)-this.x0,this.isHidden||this.updatePosition()},t.prototype.hide=function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},t.prototype.show=function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())},t}();e["default"]=s,o["default"].mixInto(s)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(23),o=function(t){function e(e){var n=t.call(this,e)||this;return n.dragListener=n.buildDragListener(),n}return i.__extends(e,t),e.prototype.end=function(){this.dragListener.endInteraction()},e.prototype.bindToEl=function(t){
var e=this.component,n=this.dragListener;e.bindDateHandlerToEl(t,"mousedown",function(t){e.shouldIgnoreMouse()||n.startInteraction(t)}),e.bindDateHandlerToEl(t,"touchstart",function(t){e.shouldIgnoreTouch()||n.startInteraction(t)})},e.prototype.buildDragListener=function(){var t,e=this,n=this.component,i=new r["default"](n,{scroll:this.opt("dragScroll"),interactionStart:function(){t=i.origHit},hitOver:function(e,n){n||(t=null)},hitOut:function(){t=null},interactionEnd:function(i,r){var o;!r&&t&&(o=n.getSafeHitFootprint(t))&&e.view.triggerDayClick(o,n.getHitEl(t),i)}});return i.shouldCancelTouchScroll=!1,i.scrollAlwaysKills=!0,i},e}(n(15)["default"]);e["default"]=o},function(t,e,n){function i(t){var e,n,i,r=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&s(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function r(t){var e,n,i,r,o;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for((r=n[i]).forwardSegs=[],o=e+1;o<t.length;o++)s(r,t[o],r.forwardSegs)}function o(t){var e,n,i=t.forwardSegs,r=0;if(t.forwardPressure===undefined){for(e=0;e<i.length;e++)o(n=i[e]),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function s(t,e,n){void 0===n&&(n=[]);for(var i=0;i<e.length;i++)a(t,e[i])&&n.push(e[i]);return n}function a(t,e){return t.bottom>e.top&&t.top<e.bottom}Object.defineProperty(e,"__esModule",{value:!0});var l=n(2),c=n(4),u=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.timeGrid=e,i}return l.__extends(e,t),e.prototype.renderFgSegs=function(t){this.renderFgSegsIntoContainers(t,this.timeGrid.fgContainerEls)},e.prototype.renderFgSegsIntoContainers=function(t,e){var n,i;for(n=this.timeGrid.groupSegsByCol(t),i=0;i<this.timeGrid.colCnt;i++)this.updateFgSegCoords(n[i]);this.timeGrid.attachSegsByCol(n,e)},e.prototype.unrenderFgSegs=function(){this.fgSegs&&this.fgSegs.forEach(function(t){t.el.remove()})},e.prototype.computeEventTimeFormat=function(){return this.opt("noMeridiemTimeFormat")},e.prototype.computeDisplayEventEnd=function(){return!0},e.prototype.fgSegHtml=function(t,e){var n,i,r,o=this.view,s=o.calendar,a=t.footprint.componentFootprint,l=a.isAllDay,u=t.footprint.eventDef,h=o.isEventDefDraggable(u),d=!e&&t.isStart&&o.isEventDefResizableFromStart(u),f=!e&&t.isEnd&&o.isEventDefResizableFromEnd(u),p=this.getSegClasses(t,h,d||f),g=c.cssToStr(this.getSkinCss(u));if(p.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayRange(a.unzonedRange)){if(t.isStart||t.isEnd){var m=s.msToMoment(t.startMs),v=s.msToMoment(t.endMs);n=this._getTimeText(m,v,l),i=this._getTimeText(m,v,l,"LT"),r=this._getTimeText(m,v,l,null,!1)}}else n=this.getTimeText(t.footprint),i=this.getTimeText(t.footprint,"LT"),r=this.getTimeText(t.footprint,null,!1);return'<a class="'+p.join(" ")+'"'+(u.url?' href="'+c.htmlEscape(u.url)+'"':"")+(g?' style="'+g+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+c.htmlEscape(r)+'" data-full="'+c.htmlEscape(i)+'"><span>'+c.htmlEscape(n)+"</span></div>":"")+(u.title?'<div class="fc-title">'+c.htmlEscape(u.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(f?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},e.prototype.updateFgSegCoords=function(t){this.timeGrid.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.timeGrid.assignSegVerticals(t),this.assignFgSegHorizontals(t)},e.prototype.computeFgSegHorizontals=function(t){var e,n,s;if(this.sortEventSegs(t),r(e=i(t)),n=e[0]){for(s=0;s<n.length;s++)o(n[s]);for(s=0;s<n.length;s++)this.computeFgSegForwardBack(n[s],0,0)}},e.prototype.computeFgSegForwardBack=function(t,e,n){var i,r=t.forwardSegs;if(t.forwardCoord===undefined)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<r.length;i++)this.computeFgSegForwardBack(r[i],0,t.forwardCoord)},e.prototype.sortForwardSegs=function(t){t.sort(c.proxy(this,"compareForwardSegs"))},e.prototype.compareForwardSegs=function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},e.prototype.assignFgSegHorizontals=function(t){var e,n;for(e=0;e<t.length;e++)(n=t[e]).el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},e.prototype.generateFgSegHorizontalCss=function(t){var e,n,i=this.opt("slotEventOverlap"),r=t.backwardCoord,o=t.forwardCoord,s=this.timeGrid.generateSegVerticalCss(t),a=this.timeGrid.isRTL;return i&&(o=Math.min(1,r+2*(o-r))),a?(e=1-o,n=r):(e=r,n=1-o),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*n+"%",i&&t.forwardPressure&&(s[a?"marginLeft":"marginRight"]=20),s},e}(n(42)["default"]);e["default"]=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.renderSegs=function(t,e){var n,i,o,s=[];for(this.eventRenderer.renderFgSegsIntoContainers(t,this.component.helperContainerEls),n=0;n<t.length;n++)i=t[n],e&&e.col===i.col&&(o=e.el,i.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")})),s.push(i.el[0]);return r(s)},e}(n(58)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.attachSegEls=function(t,e){var n,i=this.component;return"bgEvent"===t?n=i.bgContainerEls:"businessHours"===t?n=i.businessContainerEls:"highlight"===t&&(n=i.highlightContainerEls),i.updateSegVerticals(e),i.attachSegsByCol(i.groupSegsByCol(e),n),e.map(function(t){return t.el[0]})},e}(n(57)["default"]);e["default"]=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(7),s=function(){function t(t){this.isHidden=!0,this.margin=10,this.options=t||{}}return t.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},t.prototype.hide=function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},t.prototype.render=function(){var t=this,e=this.options;this.el=i('<div class="fc-popover"/>').addClass(e.className||"").css({top:0,left:0}).append(e.content).appendTo(e.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),e.autoHide&&this.listenTo(i(document),"mousedown",this.documentMousedown)},t.prototype.documentMousedown=function(t){this.el&&!i(t.target).closest(this.el).length&&this.hide()},t.prototype.removeElement=function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(i(document),"mousedown")},t.prototype.position=function(){var t,e,n,o,s,a=this.options,l=this.el.offsetParent().offset(),c=this.el.outerWidth(),u=this.el.outerHeight(),h=i(window),d=r.getScrollParent(this.el);o=a.top||0,s=a.left!==undefined?a.left:a.right!==undefined?a.right-c:0,d.is(window)||d.is(document)?(d=h,t=0,e=0):(t=(n=d.offset()).top,e=n.left),t+=h.scrollTop(),e+=h.scrollLeft(),!1!==a.viewportConstrain&&(o=Math.min(o,t+d.outerHeight()-u-this.margin),o=Math.max(o,t+this.margin),s=Math.min(s,e+d.outerWidth()-c-this.margin),s=Math.max(s,e+this.margin)),this.el.css({top:o-l.top,left:s-l.left})},t.prototype.trigger=function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},t}();e["default"]=s,o["default"].mixInto(s)},function(t,e,n){function i(t,e){var n,i;for(n=0;n<e.length;n++)if((i=e[n]).leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function r(t,e){return t.leftCol-e.leftCol}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(3),a=n(4),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.dayGrid=e,i}return o.__extends(e,t),e.prototype.renderBgRanges=function(e){e=s.grep(e,function(t){return t.eventDef.isAllDay()}),t.prototype.renderBgRanges.call(this,e)},e.prototype.renderFgSegs=function(t){var e=this.rowStructs=this.renderSegRows(t);this.dayGrid.rowEls.each(function(t,n){s(n).find(".fc-content-skeleton > table").append(e[t].tbodyEl)})},e.prototype.unrenderFgSegs=function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},e.prototype.renderSegRows=function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)i.push(this.renderSegRow(n,e[n]));return i},e.prototype.renderSegRow=function(t,e){function n(t){for(;o<t;)(u=(v[i-1]||[])[o])?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=s("<td/>"),a.append(u)),m[i][o]=u,v[i][o]=u,o++}var i,r,o,a,l,c,u,h=this.dayGrid.colCnt,d=this.buildSegLevels(e),f=Math.max(1,d.length),p=s("<tbody/>"),g=[],m=[],v=[];for(i=0;i<f;i++){if(r=d[i],o=0,a=s("<tr/>"),g.push([]),m.push([]),v.push([]),r)for(l=0;l<r.length;l++){for(n((c=r[l]).leftCol),u=s('<td class="fc-event-container"/>').append(c.el),c.leftCol!==c.rightCol?u.attr("colspan",c.rightCol-c.leftCol+1):v[i][o]=u;o<=c.rightCol;)m[i][o]=u,g[i][o]=c,o++;a.append(u)}n(h),this.dayGrid.bookendCells(a),p.append(a)}return{row:t,tbodyEl:p,cellMatrix:m,segMatrix:g,segLevels:d,segs:e}},e.prototype.buildSegLevels=function(t){var e,n,o,s=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(n=t[e],o=0;o<s.length&&i(n,s[o]);o++);n.level=o,(s[o]||(s[o]=[])).push(n)}for(o=0;o<s.length;o++)s[o].sort(r);return s},e.prototype.groupSegRows=function(t){var e,n=[];for(e=0;e<this.dayGrid.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n},e.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},e.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},e.prototype.fgSegHtml=function(t,e){var n,i,r=this.view,o=t.footprint.eventDef,s=t.footprint.componentFootprint.isAllDay,l=r.isEventDefDraggable(o),c=!e&&s&&t.isStart&&r.isEventDefResizableFromStart(o),u=!e&&s&&t.isEnd&&r.isEventDefResizableFromEnd(o),h=this.getSegClasses(t,l,c||u),d=a.cssToStr(this.getSkinCss(o)),f="";return h.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getTimeText(t.footprint))&&(f='<span class="fc-time">'+a.htmlEscape(n)+"</span>"),i='<span class="fc-title">'+(a.htmlEscape(o.title||"")||"&nbsp;")+"</span>",'<a class="'+h.join(" ")+'"'+(o.url?' href="'+a.htmlEscape(o.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(this.dayGrid.isRTL?i+" "+f:f+" "+i)+"</div>"+(c?'<div class="fc-resizer fc-start-resizer" />':"")+(u?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},e}(n(42)["default"]);e["default"]=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.renderSegs=function(t,e){var n,i=[];return n=this.eventRenderer.renderSegRows(t),this.component.rowEls.each(function(t,o){var s,a,l=r(o),c=r('<div class="fc-helper-skeleton"><table/></div>');e&&e.row===t?a=e.el.position().top:((s=l.find(".fc-content-skeleton tbody")).length||(s=l.find(".fc-content-skeleton table")),a=s.position().top),c.css("top",a).find("table").append(n[t].tbodyEl),l.append(c),i.push(c[0])}),r(i)},e}(n(58)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fillSegTag="td",e}return i.__extends(e,t),e.prototype.attachSegEls=function(t,e){var n,i,r,o=[];for(n=0;n<e.length;n++)i=e[n],r=this.renderFillRow(t,i),this.component.rowEls.eq(i.row).append(r),o.push(r[0]);return o},e.prototype.renderFillRow=function(t,e){var n,i,o,s=this.component.colCnt,a=e.leftCol,l=e.rightCol+1;return n="businessHours"===t?"bgevent":t.toLowerCase(),o=(i=r('<div class="fc-'+n+'-skeleton"><table><tr/></table></div>')).find("tr"),a>0&&o.append('<td colspan="'+a+'"/>'),o.append(e.el.attr("colspan",l-a)),l<s&&o.append('<td colspan="'+(s-l)+'"/>'),this.component.bookendCells(o),i},e}(n(57)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(228),o=n(5),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.buildRenderRange=function(e,n,i){var r,s=t.prototype.buildRenderRange.call(this,e,n,i),a=this.msToUtcMoment(s.startMs,i),l=this.msToUtcMoment(s.endMs,i);return this.opt("fixedWeekCount")&&(r=Math.ceil(l.diff(a,"weeks",!0)),l.add(6-r,"weeks")),new o["default"](a,l)},e}(r["default"]);e["default"]=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(4),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.renderFgSegs=function(t){t.length?this.component.renderSegList(t):this.component.renderEmptyMessage()},e.prototype.fgSegHtml=function(t){var e,n=this.view,i=n.calendar,o=i.theme,s=t.footprint,a=s.eventDef,l=s.componentFootprint,c=a.url,u=["fc-list-item"].concat(this.getClasses(a)),h=this.getBgColor(a);return e=l.isAllDay?n.getAllDayHtml():n.isMultiDayRange(l.unzonedRange)?t.isStart||t.isEnd?r.htmlEscape(this._getTimeText(i.msToMoment(t.startMs),i.msToMoment(t.endMs),l.isAllDay)):n.getAllDayHtml():r.htmlEscape(this.getTimeText(s)),c&&u.push("fc-has-url"),'<tr class="'+u.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+o.getClass("widgetContent")+'">'+(e||"")+"</td>":"")+'<td class="fc-list-item-marker '+o.getClass("widgetContent")+'"><span class="fc-event-dot"'+(h?' style="background-color:'+h+'"':"")+'></span></td><td class="fc-list-item-title '+o.getClass("widgetContent")+'"><a'+(c?' href="'+r.htmlEscape(c)+'"':"")+">"+r.htmlEscape(a.title||"")+"</a></td></tr>"},e.prototype.computeEventTimeFormat=function(){return this.opt("mediumTimeFormat")},e}(n(42)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(3),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.handleClick=function(e,n){var i;t.prototype.handleClick.call(this,e,n),r(n.target).closest("a[href]").length||(i=e.footprint.eventDef.url)&&!n.isDefaultPrevented()&&(window.location.href=i)},e}(n(59)["default"]);e["default"]=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(38),r=n(52),o=n(215),s=n(216);i["default"].registerClass(r["default"]),i["default"].registerClass(o["default"]),i["default"].registerClass(s["default"])},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(51),r=n(213),o=n(214),s=n(258),a=n(259);i.defineThemeSystem("standard",r["default"]),i.defineThemeSystem("jquery-ui",o["default"]),i.defineThemeSystem("bootstrap3",s["default"]),i.defineThemeSystem("bootstrap4",a["default"])},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(19)["default"]);e["default"]=r,r.prototype.classes={widget:"fc-bootstrap3",tableGrid:"table-bordered",tableList:"table",tableListHeading:"active",buttonGroup:"btn-group",button:"btn btn-default",stateActive:"active",stateDisabled:"disabled",today:"alert alert-info",popover:"panel panel-default",popoverHeader:"panel-heading",popoverContent:"panel-body",headerRow:"panel-default",dayRow:"panel-default",listView:"panel panel-default"},r.prototype.baseIconClass="glyphicon",r.prototype.iconClasses={close:"glyphicon-remove",prev:"glyphicon-chevron-left",next:"glyphicon-chevron-right",prevYear:"glyphicon-backward",nextYear:"glyphicon-forward"},r.prototype.iconOverrideOption="bootstrapGlyphicons",r.prototype.iconOverrideCustomButtonOption="bootstrapGlyphicon",r.prototype.iconOverridePrefix="glyphicon-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(19)["default"]);e["default"]=r,r.prototype.classes={widget:"fc-bootstrap4",tableGrid:"table-bordered",tableList:"table",tableListHeading:"table-active",buttonGroup:"btn-group",button:"btn btn-primary",stateActive:"active",stateDisabled:"disabled",today:"alert alert-info",popover:"card card-primary",popoverHeader:"card-header",popoverContent:"card-body",headerRow:"table-bordered",dayRow:"table-bordered",listView:"card card-primary"},r.prototype.baseIconClass="fa",r.prototype.iconClasses={close:"fa-times",prev:"fa-chevron-left",next:"fa-chevron-right",prevYear:"fa-angle-double-left",nextYear:"fa-angle-double-right"},r.prototype.iconOverrideOption="bootstrapFontAwesome",r.prototype.iconOverrideCustomButtonOption="bootstrapFontAwesome",r.prototype.iconOverridePrefix="fa-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),r=n(62),o=n(229);i.defineView("basic",{"class":r["default"]}),i.defineView("basicDay",{type:"basic",duration:{days:1}}),i.defineView("basicWeek",{type:"basic",duration:{weeks:1}}),i.defineView("month",{"class":o["default"],duration:{months:1},defaults:{fixedWeekCount:!0}})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),r=n(226);i.defineView("agenda",{"class":r["default"],defaults:{allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0}}),i.defineView("agendaDay",{type:"agenda",duration:{days:1}}),i.defineView("agendaWeek",{type:"agenda",duration:{weeks:1}})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),r=n(230);i.defineView("list",{"class":r["default"],buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}}),i.defineView("listDay",{type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}}),i.defineView("listWeek",{type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}}),i.defineView("listMonth",{type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}}),i.defineView("listYear",{type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0})}])}),
/*!
 * FullCalendar v3.9.0
 * Docs & License: https://fullcalendar.io/
 * (c) 2018 Adam Shaw
 */
function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("fullcalendar"),require("jquery")):"function"==typeof define&&define.amd?define(["fullcalendar","jquery"],e):"object"==typeof exports?e(require("fullcalendar"),require("jquery")):e(t.FullCalendar,t.jQuery)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=266)}({1:function(e){e.exports=t},2:function(t,e){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};e.__extends=function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}},266:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(267);i.EventSourceParser.registerClass(r["default"]),i.GcalEventSource=r["default"]},267:function(t,e,n){function i(t){var e;return/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(t)?t:(e=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(t))||(e=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(t))?decodeURIComponent(e[1]):void 0}function r(t,e){return t.replace(/(\?.*?)?(#|$)/,function(t,n,i){return(n?n+"&":"?")+e+i})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(3),a=n(1),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.parse=function(t,e){var n;return"object"==typeof t?n=t:"string"==typeof t&&(n={url:t}),!!n&&a.EventSource.parse.call(this,n,e)},e.prototype.fetch=function(t,e,n){var i=this,r=this.buildUrl(),o=this.buildRequestParams(t,e,n),l=this.ajaxSettings||{},c=l.success;return o?(this.calendar.pushLoading(),a.Promise.construct(function(t,e){s.ajax(s.extend({},a.JsonFeedEventSource.AJAX_DEFAULTS,l,{url:r,data:o,success:function(n,r,l){var u,h;i.calendar.popLoading(),n.error?(i.reportError("Google Calendar API: "+n.error.message,n.error.errors),e()):n.items&&(u=i.gcalItemsToRawEventDefs(n.items,o.timeZone),h=a.applyAll(c,i,[n,r,l]),s.isArray(h)&&(u=h),t(i.parseEventDefs(u)))},error:function(t,n,r){i.reportError("Google Calendar network failure: "+n,[t,r]),i.calendar.popLoading(),e()}}))})):a.Promise.reject()},e.prototype.gcalItemsToRawEventDefs=function(t,e){var n=this;return t.map(function(t){return n.gcalItemToRawEventDef(t,e)})},e.prototype.gcalItemToRawEventDef=function(t,e){var n=t.htmlLink||null;return n&&e&&(n=r(n,"ctz="+e)),{id:t.id,title:t.summary,start:t.start.dateTime||t.start.date,end:t.end.dateTime||t.end.date,url:n,location:t.location,description:t.description}},e.prototype.buildUrl=function(){return e.API_BASE+"/"+encodeURIComponent(this.googleCalendarId)+"/events?callback=?"},e.prototype.buildRequestParams=function(t,e,n){var i,r=this.googleCalendarApiKey||this.calendar.opt("googleCalendarApiKey");return r?(t.hasZone()||(t=t.clone().utc().add(-1,"day")),e.hasZone()||(e=e.clone().utc().add(1,"day")),i=s.extend(this.ajaxSettings.data||{},{key:r,timeMin:t.format(),timeMax:e.format(),singleEvents:!0,maxResults:9999}),n&&"local"!==n&&(i.timeZone=n.replace(" ","_")),i):(this.reportError("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),null)},e.prototype.reportError=function(t,e){var n=this.calendar,i=n.opt("googleCalendarError"),r=e||[{message:t}];this.googleCalendarError&&this.googleCalendarError.apply(n,r),i&&i.apply(n,r),a.warn.apply(null,[t].concat(e||[]))},e.prototype.getPrimitive=function(){return this.googleCalendarId},e.prototype.applyManualStandardProps=function(t){var e=a.EventSource.prototype.applyManualStandardProps.apply(this,arguments),n=t.googleCalendarId;return null==n&&t.url&&(n=i(t.url)),null!=n&&(this.googleCalendarId=n,e)},e.prototype.applyMiscProps=function(t){this.ajaxSettings||(this.ajaxSettings={}),s.extend(this.ajaxSettings,t)},e.API_BASE="https://www.googleapis.com/calendar/v3/calendars",e}(a.EventSource);e["default"]=l,l.defineStandardProps({url:!1,googleCalendarId:!1,googleCalendarApiKey:!0,googleCalendarError:!0})},3:function(t){t.exports=e}})}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment"),require("fullcalendar")):"function"==typeof define&&define.amd?define(["moment","fullcalendar"],e):"object"==typeof exports?e(require("moment"),require("fullcalendar")):e(t.moment,t.FullCalendar)}("undefined"!=typeof self?self:this,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=113)}({0:function(e){e.exports=t},1:function(t){t.exports=e},113:function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0}),n(114);var i=n(1);i.datepickerLocale("es","es",{closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],dayNames:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],dayNamesShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],dayNamesMin:["D","L","M","X","J","V","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""}),i.locale("es",{buttonText:{month:"Mes",week:"Semana",day:"D\xeda",list:"Agenda"},allDayHtml:"Todo<br/>el d\xeda",eventLimitText:"m\xe1s",noEventsMessage:"No hay eventos para mostrar"})},114:function(t,e,n){!function(t,e){e(n(0))}(0,function(t){var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})})}})}),function(t){var e=0,n=function(){return(new Date).getTime()+e++},i=function(t){return"["+t+"]$1"},r=function(t){return"_"+t+"_$1"},o=function(e,n,i){return e?"function"==typeof e?(n&&console.warn("association-insertion-traversal is ignored, because association-insertion-node is given as a function."),e(i)):"string"==typeof e?n?i[n](e):"this"==e?i:t(e):void 0:i.parent()};t(document).on("click",".add_fields",function(e){e.preventDefault();var s=t(this),a=s.data("association"),l=s.data("associations"),c=s.data("association-insertion-template"),u=s.data("association-insertion-method")||s.data("association-insertion-position")||"before",h=s.data("association-insertion-node"),d=s.data("association-insertion-traversal"),f=parseInt(s.data("count"),10),p=new RegExp("\\[new_"+a+"\\](.*?\\s)","g"),g=new RegExp("_new_"+a+"_(\\w*)","g"),m=n(),v=c.replace(p,i(m)),y=[],b=e;for(v==c&&(p=new RegExp("\\[new_"+l+"\\](.*?\\s)","g"),g=new RegExp("_new_"+l+"_(\\w*)","g"),v=c.replace(p,i(m))),y=[v=v.replace(g,r(m))],f=isNaN(f)?1:Math.max(f,1),f-=1;f;)m=n(),v=(v=c.replace(p,i(m))).replace(g,r(m)),y.push(v),f-=1;var w=o(h,d,s);w&&0!=w.length||console.warn("Couldn't find the element to insert the template. Make sure your `data-association-insertion-*` on `link_to_add_association` is correct."),t.each(y,function(e,n){var i=t(n),r=jQuery.Event("cocoon:before-insert");if(w.trigger(r,[i,b]),!r.isDefaultPrevented()){w[u](i);w.trigger("cocoon:after-insert",[i,b])}})}),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var n=t(this),i=n.data("wrapper-class")||"nested-fields",r=n.closest("."+i),o=r.parent(),s=e;e.preventDefault(),e.stopPropagation();var a=jQuery.Event("cocoon:before-remove");if(o.trigger(a,[r,s]),!a.isDefaultPrevented()){var l=o.data("remove-timeout")||0;setTimeout(function(){n.hasClass("dynamic")?r.detach():(n.prev("input[type=hidden]").val("1"),r.hide()),o.trigger("cocoon:after-remove",[r,s])},l)}}),t(document).on("ready page:load turbolinks:load",function(){t(".remove_fields.existing.destroyed").each(function(){var e=t(this),n=e.data("wrapper-class")||"nested-fields";e.closest("."+n).hide()})})}(jQuery),$(document).on("turbolinks:load",function(){$(".alert:not(.sticky)").delay(5e3).slideUp(500,function(){$(".alert:not(.sticky)").alert("close")})}),
/*!
 * jQuery Raty - A Star Rating Plugin
 *
 * The MIT License
 *
 * author:  Washington Botelho
 * github:  wbotelhos/raty
 * version: 2.8.0
 *
 */
function(t){"use strict";var e={init:function(n){return this.each(function(){this.self=t(this),e.destroy.call(this.self),this.opt=t.extend(!0,{},t.fn.raty.defaults,n,this.self.data()),e._adjustCallback.call(this),e._adjustNumber.call(this),e._adjustHints.call(this),this.opt.score=e._adjustedScore.call(this,this.opt.score),"img"!==this.opt.starType&&e._adjustStarType.call(this),e._adjustPath.call(this),e._createStars.call(this),this.opt.cancel&&e._createCancel.call(this),this.opt.precision&&e._adjustPrecision.call(this),e._createScore.call(this),e._apply.call(this,this.opt.score),e._setTitle.call(this,this.opt.score),e._target.call(this,this.opt.score),this.opt.readOnly?e._lock.call(this):(this.style.cursor="pointer",e._binds.call(this))})},_adjustCallback:function(){for(var t=["number","readOnly","score","scoreName","target","path"],e=0;e<t.length;e++)"function"==typeof this.opt[t[e]]&&(this.opt[t[e]]=this.opt[t[e]].call(this))},_adjustedScore:function(t){return t?e._between(t,0,this.opt.number):t},_adjustHints:function(){if(this.opt.hints||(this.opt.hints=[]),this.opt.halfShow||this.opt.half)for(var t=this.opt.precision?10:2,e=0;e<this.opt.number;e++){var n=this.opt.hints[e];"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),this.opt.hints[e]=[];for(var i=0;i<t;i++){var r=n[i],o=n[n.length-1];o===undefined&&(o=null),this.opt.hints[e][i]=r===undefined?o:r}}},_adjustNumber:function(){this.opt.number=e._between(this.opt.number,1,this.opt.numberMax)},_adjustPath:function(){this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.charAt(this.opt.path.length-1)&&(this.opt.path+="/")},_adjustPrecision:function(){this.opt.half=!0},_adjustStarType:function(){var t=["cancelOff","cancelOn","starHalf","starOff","starOn"];this.opt.path="";for(var e=0;e<t.length;e++)this.opt[t[e]]=this.opt[t[e]].replace(".","-")},_apply:function(t){e._fill.call(this,t),t&&(t>0&&this.score.val(t),e._roundStars.call(this,t))},_between:function(t,e,n){return Math.min(Math.max(parseFloat(t),e),n)},_binds:function(){this.cancel&&(e._bindOverCancel.call(this),e._bindClickCancel.call(this),e._bindOutCancel.call(this)),e._bindOver.call(this),e._bindClick.call(this),e._bindOut.call(this)},_bindClick:function(){var n=this;n.stars.on("click.raty",function(i){var r=!0,o=n.opt.half||n.opt.precision?n.self.data("score"):this.alt||t(this).data("alt");n.opt.click&&(r=n.opt.click.call(n,+o,i)),(r||r===undefined)&&(n.opt.half&&!n.opt.precision&&(o=e._roundHalfScore.call(n,o)),e._apply.call(n,o))})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var t=this;t.self.on("mouseleave.raty",function(n){var i=+t.score.val()||undefined;e._apply.call(t,i),e._target.call(t,i,n),e._resetTitle.call(t),t.opt.mouseout&&t.opt.mouseout.call(t,i,n)})},_bindOutCancel:function(){var t=this;t.cancel.on("mouseleave.raty",function(n){var i=t.opt.cancelOff;if("img"!==t.opt.starType&&(i=t.opt.cancelClass+" "+i),e._setIcon.call(t,this,i),t.opt.mouseout){var r=+t.score.val()||undefined;t.opt.mouseout.call(t,r,n)}})},_bindOver:function(){var t=this,n=t.opt.half?"mousemove.raty":"mouseover.raty";t.stars.on(n,function(n){var i=e._getScoreByPosition.call(t,n,this);e._fill.call(t,i),t.opt.half&&(e._roundStars.call(t,i,n),e._setTitle.call(t,i,n),t.self.data("score",i)),e._target.call(t,i,n),t.opt.mouseover&&t.opt.mouseover.call(t,i,n)})},_bindOverCancel:function(){var t=this;t.cancel.on("mouseover.raty",function(n){var i=t.opt.path+t.opt.starOff,r=t.opt.cancelOn;"img"===t.opt.starType?t.stars.attr("src",i):(r=t.opt.cancelClass+" "+r,t.stars.attr("class",i)),e._setIcon.call(t,this,r),e._target.call(t,null,n),t.opt.mouseover&&t.opt.mouseover.call(t,null)})},_buildScoreField:function(){return t("<input />",{name:this.opt.scoreName,type:"hidden"}).appendTo(this)},_createCancel:function(){var e=this.opt.path+this.opt.cancelOff,n=t("<"+this.opt.starType+" />",{title:this.opt.cancelHint,"class":this.opt.cancelClass});"img"===this.opt.starType?n.attr({src:e,alt:"x"}):n.attr("data-alt","x").addClass(e),"left"===this.opt.cancelPlace?this.self.prepend("&#160;").prepend(n):this.self.append("&#160;").append(n),this.cancel=n},_createScore:function(){var n=t(this.opt.targetScore);this.score=n.length?n:e._buildScoreField.call(this)},_createStars:function(){for(var n=1;n<=this.opt.number;n++){var i=e._nameForIndex.call(this,n),r={alt:n,src:this.opt.path+this.opt[i]};"img"!==this.opt.starType&&(r={"data-alt":n,"class":r.src}),r.title=e._getHint.call(this,n),t("<"+this.opt.starType+" />",r).appendTo(this),this.opt.space&&this.self.append(n<this.opt.number?"&#160;":"")}this.stars=this.self.children(this.opt.starType)},_error:function(e){t(this).text(e),t.error(e)},_fill:function(t){for(var n=0,i=1;i<=this.stars.length;i++){var r,o=this.stars[i-1],s=e._turnOn.call(this,i,t);if(this.opt.iconRange&&this.opt.iconRange.length>n){var a=this.opt.iconRange[n];r=e._getRangeIcon.call(this,a,s),i<=a.range&&e._setIcon.call(this,o,r),i===a.range&&n++}else r=this.opt[s?"starOn":"starOff"],e._setIcon.call(this,o,r)}},_getFirstDecimal:function(t){var e=t.toString().split(".")[1],n=0;return e&&(n=parseInt(e.charAt(0),10),"9999"===e.slice(1,5)&&n++),n},_getRangeIcon:function(t,e){return e?t.on||this.opt.starOn:t.off||this.opt.starOff},_getScoreByPosition:function(n,i){var r=parseInt(i.alt||i.getAttribute("data-alt"),10);if(this.opt.half){var o=e._getWidth.call(this);r=r-1+parseFloat((n.pageX-t(i).offset().left)/o)}return r},_getHint:function(t,n){if(0!==t&&!t)return this.opt.noRatedMsg;var i=e._getFirstDecimal.call(this,t),r=Math.ceil(t),o=this.opt.hints[(r||1)-1],s=o,a=!n||this.move;return this.opt.precision?(a&&(i=0===i?9:i-1),s=o[i]):(this.opt.halfShow||this.opt.half)&&(s=o[i=a&&0===i?1:i>5?1:0]),""===s?"":s||t},_getWidth:function(){var t=this.stars[0].width||parseFloat(this.stars.eq(0).css("font-size"));return t||e._error.call(this,"Could not get the icon width!"),t},_lock:function(){var t=e._getHint.call(this,this.score.val());this.style.cursor="",this.title=t,this.score.prop("readonly",!0),this.stars.prop("title",t),this.cancel&&this.cancel.hide(),this.self.data("readonly",!0)},_nameForIndex:function(t){return this.opt.score&&this.opt.score>=t?"starOn":"starOff"},_resetTitle:function(){for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1)},_roundHalfScore:function(t){var n=parseInt(t,10),i=e._getFirstDecimal.call(this,t);return 0!==i&&(i=i>5?1:.5),n+i},_roundStars:function(t,n){var i,r=(t%1).toFixed(2);if(n||this.move?i=r>.5?"starOn":"starHalf":r>this.opt.round.down&&(i="starOn",this.opt.halfShow&&r<this.opt.round.up?i="starHalf":r<this.opt.round.full&&(i="starOff")),i){var o=this.opt[i],s=this.stars[Math.ceil(t)-1];e._setIcon.call(this,s,o)}},_setIcon:function(t,e){t["img"===this.opt.starType?"src":"className"]=this.opt.path+e},_setTarget:function(t,e){e&&(e=this.opt.targetFormat.toString().replace("{score}",e)),t.is(":input")?t.val(e):t.html(e)},_setTitle:function(t,n){if(t){var i=parseInt(Math.ceil(t),10);this.stars[i-1].title=e._getHint.call(this,t,n)}},_target:function(n,i){if(this.opt.target){var r=t(this.opt.target);r.length||e._error.call(this,"Target selector invalid or missing!");var o=i&&"mouseover"===i.type;if(n===undefined)n=this.opt.targetText;else if(null===n)n=o?this.opt.cancelHint:this.opt.targetText;else{"hint"===this.opt.targetType?n=e._getHint.call(this,n,i):this.opt.precision&&(n=parseFloat(n).toFixed(1));var s=i&&"mousemove"===i.type;o||s||this.opt.targetKeep||(n=this.opt.targetText)}e._setTarget.call(this,r,n)}},_turnOn:function(t,e){return this.opt.single?t===e:t<=e},_unlock:function(){this.style.cursor="pointer",this.removeAttribute("title"),this.score.removeAttr("readonly"),this.self.data("readonly",!1);for(var t=0;t<this.opt.number;t++)this.stars[t].title=e._getHint.call(this,t+1);this.cancel&&this.cancel.css("display","")},cancel:function(n){return this.each(function(){var i=t(this);!0!==i.data("readonly")&&(e[n?"click":"score"].call(i,null),this.score.removeAttr("value"))})},click:function(n){return this.each(function(){!0!==t(this).data("readonly")&&(n=e._adjustedScore.call(this,n),e._apply.call(this,n),this.opt.click&&this.opt.click.call(this,n,t.Event("click")),e._target.call(this,n))})},destroy:function(){return this.each(function(){var e=t(this),n=e.data("raw");n?e.off(".raty").empty().css({cursor:n.style.cursor}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var t,e=[];return this.each(function(){t=this.score.val(),e.push(t?+t:undefined)}),e.length>1?e:e[0]},move:function(n){return this.each(function(){var i=parseInt(n,10),r=e._getFirstDecimal.call(this,n);i>=this.opt.number&&(i=this.opt.number-1,r=10);var o=e._getWidth.call(this)/10,s=t(this.stars[i]),a=s.offset().left+o*r,l=t.Event("mousemove",{pageX:a});this.move=!0,s.trigger(l),this.move=!1})},readOnly:function(n){return this.each(function(){var i=t(this);i.data("readonly")!==n&&(n?(i.off(".raty").children(this.opt.starType).off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),i.data("readonly",n))})},reload:function(){return e.set.call(this,{})},score:function(){var n=t(this);return arguments.length?e.setScore.apply(n,arguments):e.getScore.call(n)},set:function(e){return this.each(function(){t(this).raty(t.extend({},this.opt,e))})},setScore:function(n){return this.each(function(){!0!==t(this).data("readonly")&&(n=e._adjustedScore.call(this,n),e._apply.call(this,n),e._target.call(this,n))})}};t.fn.raty=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist!"):e.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelClass:"raty-cancel",cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:undefined,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:undefined,mouseout:undefined,mouseover:undefined,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:undefined,precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:undefined,scoreName:"score",single:!1,space:!0,starHalf:"/star-half.png",starOff:"/assets/star-off-69f6605e6959a7d1c6bc1b125aca882594da46d61d33169269dcc4d9d91c1e78.png",starOn:"/assets/star-on-90841e4556ae6d018adb2e2457b344c09c4791442eca6665af8e3e33bd023956.png",starType:"img",target:undefined,targetFormat:"{score}",targetKeep:!1,targetScore:undefined,targetText:"",targetType:"hint"}}(jQuery),
/*!
 * Select2 4.0.3
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var n,i,r;return e&&e.requirejs||(e?i=e:e={},function(t){function e(t,e){return w.call(t,e)}function o(t,e){var n,i,r,o,s,a,l,c,u,h,d,f=e&&e.split("/"),p=y.map,g=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(s=(t=t.split("/")).length-1,y.nodeIdCompat&&C.test(t[s])&&(t[s]=t[s].replace(C,"")),t=f.slice(0,f.length-1).concat(t),u=0;u<t.length;u+=1)if("."===(d=t[u]))t.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||g)&&p){for(u=(n=t.split("/")).length;u>0;u-=1){if(i=n.slice(0,u).join("/"),f)for(h=f.length;h>0;h-=1)if((r=p[f.slice(0,h).join("/")])&&(r=r[i])){o=r,a=u;break}if(o)break;!l&&g&&g[i]&&(l=g[i],c=u)}!o&&l&&(o=l,a=c),o&&(n.splice(0,a,o),t=n.join("/"))}return t}function s(e,n){return function(){var i=x.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),f.apply(t,i.concat([e,n]))}}function a(t){return function(e){return o(e,t)}}function l(t){return function(e){m[t]=e}}function c(n){if(e(v,n)){var i=v[n];delete v[n],b[n]=!0,d.apply(t,i)}if(!e(m,n)&&!e(b,n))throw new Error("No "+n);return m[n]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function h(t){return function(){return y&&y.config&&y.config[t]||{}}}var d,f,p,g,m={},v={},y={},b={},w=Object.prototype.hasOwnProperty,x=[].slice,C=/\.js$/;p=function(t,e){var n,i=u(t),r=i[0];return t=i[1],r&&(n=c(r=o(r,e))),r?t=n&&n.normalize?n.normalize(t,a(e)):o(t,e):(r=(i=u(t=o(t,e)))[0],t=i[1],r&&(n=c(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},g={require:function(t){return s(t)},exports:function(t){var e=m[t];return void 0!==e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:h(t)}}},d=function(n,i,r,o){var a,u,h,d,f,y,w=[],x=typeof r;if(o=o||n,"undefined"===x||"function"===x){for(i=!i.length&&r.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if("require"===(u=(d=p(i[f],o)).f))w[f]=g.require(n);else if("exports"===u)w[f]=g.exports(n),y=!0;else if("module"===u)a=w[f]=g.module(n);else if(e(m,u)||e(v,u)||e(b,u))w[f]=c(u);else{if(!d.p)throw new Error(n+" missing "+u);d.p.load(d.n,s(o,!0),l(u),{}),w[f]=m[u]}h=r?r.apply(m[n],w):undefined,n&&(a&&a.exports!==t&&a.exports!==m[n]?m[n]=a.exports:h===t&&y||(m[n]=h))}else n&&(m[n]=r)},n=i=f=function(e,n,i,r,o){if("string"==typeof e)return g[e]?g[e](n):c(p(e,n).f);if(!e.splice){if((y=e).deps&&f(y.deps,y.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=r,r=o),r?d(t,e,n,i):setTimeout(function(){d(t,e,n,i)},4),f},f.config=function(t){return f(t)},n._defined=m,(r=function(t,n,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");n.splice||(i=n,n=[]),e(m,t)||e(v,t)||(v[t]=[t,n,i])}).amd={jQuery:!0}}(),e.requirejs=n,e.require=i,e.define=r),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e){"function"==typeof e[i]&&("constructor"!==i&&n.push(i))}return n}var n={Extend:function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Decorate:function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,r=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=i}var o=e(n),s=e(t);n.displayName=t.displayName,i.prototype=new r;for(var a=0;a<s.length;a++){var l=s[a];i.prototype[l]=t.prototype[l]}for(var c=function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var r=n.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),r.apply(this,arguments)}},u=0;u<o.length;u++){var h=o[u];i.prototype[h]=c(h)}return i}},i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;n<t;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=t[e]),i=i[o]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);i.append(n(r(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],r=this.option(i);e.push(r)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var e=t(this),n=t.data(this,"data"),r=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(r,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};for(var r in e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]),i){var o=i[r];n.setAttribute(r,o)}if(e.children){var s=t(n),a=document.createElement("strong");a.className="select2-results__group";t(a);this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],h=this.option(u);l.push(h)}var d=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});d.append(l),s.append(a),s.append(d)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e){var n=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var r=i-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var s=n.$results.offset().top,a=o.offset().top,l=n.$results.scrollTop()+(a-s);0===r?n.$results.scrollTop(0):a-s<0&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t)+1;if(!(i>=e.length)){var r=e.eq(i);r.trigger("mouseenter");var o=n.$results.offset().top+n.$results.outerHeight(!1),s=r.offset().top+r.outerHeight(!1),a=n.$results.scrollTop()+s-o;0===i?n.$results.scrollTop(0):s>o&&n.$results.scrollTop(a)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&i<=n.$results.height();r?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),r=i.data("data");"true"!==i.attr("aria-selected")?n.trigger("select",{originalEvent:e,data:r}):n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:r}):n.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:e,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,r=this.$results.scrollTop()+(i-n),o=i-n;r-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):t(n).append(o)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t){var e=this,i=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e._handleBlur(t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",i),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target).closest(".select2");t(".select2.select2-container--open").each(function(){var e=t(this);this!=n[0]&&e.data("element").select2("close")})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},i.prototype.bind=function(t){var e=this;i.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("focus",function(){t.isOpen()||e.$selection.focus()}),t.on("selection:update",function(t){e.update(t.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t("<span></span>")},i.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i),n.prop("title",e.title||e.text)}else this.clear()},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(){var e=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(n){if(!e.options.get("disabled")){var i=t(this).parent().data("data");e.trigger("unselect",{originalEvent:n,data:i})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var r=t[i],o=this.selectionContainer(),s=this.display(r,o);o.append(s),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");n.appendMany(a,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),r=0;r<i.length;r++){var o={data:i[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,e,i){var r=this;t.call(this,e,i),e.on("open",function(){r.$search.trigger("focus")}),e.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),e.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),e.on("disable",function(){r.$search.prop("disabled",!0)}),e.on("focus",function(){r.$search.trigger("focus")}),e.on("results:focus",function(t){r.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===r.$search.val()){var e=r.$searchContainer.prev(".select2-selection__choice");if(e.length>0){var i=e.data("data");r.searchRemoveChoice(i),t.preventDefault()}}});var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){s?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)}})},i.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").innerWidth():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,o)){n=n||{};var i=t.Event("select2:"+e,{params:n});r.$element.trigger(i),-1!==t.inArray(e,s)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q",
"\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"}}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+t.generateChars(4),i},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),r=i.item(t);e.push(r)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];(t=[t]).push.apply(t,i);for(var o=0;o<t.length;o++){var s=t[o].id;-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("change");this.current(function(i){for(var r=[],o=0;o<i.length;o++){var s=i[o].id;s!==t.id&&-1===n.inArray(s,r)&&r.push(s)}e.$element.val(r),e.$element.trigger("change")})}},i.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],r=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),s=r.matches(t,o);null!==s&&i.push(s)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:(e=document.createElement("option")).textContent!==undefined?e.textContent=t.text:e.innerText=t.text,t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),r=this._normalizeItem(t);return r.element=e,n.data(e,"data",r),i},i.prototype.item=function(t){var e={};if(null!=(e=n.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),r=[],o=0;o<i.length;o++){var s=n(i[o]),a=this.item(s);r.push(a)}e.children=r}return(e=this._normalizeItem(e)).element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t});var e={selected:!1,disabled:!1};return null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var r=this,o=this.$element.find("option"),s=o.map(function(){return r.item(n(this)).id}).get(),a=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,s)>=0){var u=o.filter(i(c)),h=this.item(u),d=n.extend(!0,{},c,h),f=this.option(d);u.replaceWith(f)}else{var p=this.option(c);if(c.children){var g=this.convertToOptions(c.children);e.appendMany(p,g)}a.push(p)}}return a},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var r=n.ajax(t);return r.then(e),r.fail(i),r}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=o.transport(o,function(i){var o=r.processResults(i,t);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)},function(){i.status&&"0"===i.status||r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var r=i.get("tags"),o=i.get("createTag");o!==undefined&&(this.createTag=o);var s=i.get("insertTag");if(s!==undefined&&(this.insertTag=s),e.call(this,n,i),t.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],c=this._normalizeItem(l),u=this.option(c);this.$element.append(u)}}return e.prototype.query=function(t,e,n){function i(t,o){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!i({results:l.children},!0);if(l.text===e.term||c)return!o&&(t.data=s,void n(t))}if(o)return!0;var u=r.createTag(e);if(null!=u){var h=r.option(u);h.attr("data-select2-tag",!0),r.addOptions([h]),r.insertTag(s,u)}t.results=s,n(t)}var r=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,i):t.call(this,e,n)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");i!==undefined&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){function r(e){var n=s._normalizeItem(e);if(!s.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=s.option(n);i.attr("data-select2-tag",!0),s._removeOldTags(),s.addOptions([i])}o(n)}function o(t){s.trigger("select",{data:t})}var s=this;n.term=n.term||"";var a=this.tokenizer(n,this.options,r);a.term!==n.term&&(this.$search.length&&(this.$search.val(a.term),this.$search.focus()),n.term=a.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,r){for(var o=i.get("tokenSeparators")||[],s=n.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var c=s[a];if(-1!==t.inArray(c,o)){var u=s.substr(0,a),h=l(t.extend({},n,{term:u}));null!=h?(r(h),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(r){var o=null!=r?r.length:0;i.maximumSelectionLength>0&&o>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),n.on("focus",function(){n.isOpen()&&r.$search.focus()}),n.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(r.showSearch(t)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var r=e[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var r=this;e.call(this,n,i),n.on("query",function(t){r.lastParams=t,r.loading=!0}),n.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);!r.loading&&e&&(r.$results.offset().top+r.$results.outerHeight(!1)+50>=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1)&&r.loadMore())})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=i.get("dropdownParent")||t(document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this,r=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(o,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(o+" "+s+" "+a,function(){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,s="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(r),t(window).off(r+" "+o+" "+s)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<o.top-a.height,u=l.bottom>o.bottom+a.height,h={left:o.left,top:s.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var f=d.offset();h.top-=f.top,h.left-=f.left,n||i||(r="below"),u||!c||n?!c&&u&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(h.top=s.top-f.top-a.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var r=e[i];r.children?n+=t(r.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=Infinity),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var r=i.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,r,o,s,a,l,c,u,h,d,f,p,g,m,v,y,b,w,x,C,S,k,_,E,T,A){function M(){this.reset()}return M.prototype.apply=function(h){if(null==(h=t.extend(!0,{},this.defaults,h)).dataAdapter){if(null!=h.ajax?h.dataAdapter=p:null!=h.data?h.dataAdapter=f:h.dataAdapter=d,h.minimumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,v)),h.maximumInputLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,y)),h.maximumSelectionLength>0&&(h.dataAdapter=c.Decorate(h.dataAdapter,b)),h.tags&&(h.dataAdapter=c.Decorate(h.dataAdapter,g)),null==h.tokenSeparators&&null==h.tokenizer||(h.dataAdapter=c.Decorate(h.dataAdapter,m)),null!=h.query){var A=e(h.amdBase+"compat/query");h.dataAdapter=c.Decorate(h.dataAdapter,A)}if(null!=h.initSelection){var M=e(h.amdBase+"compat/initSelection");h.dataAdapter=c.Decorate(h.dataAdapter,M)}}if(null==h.resultsAdapter&&(h.resultsAdapter=n,null!=h.ajax&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,S)),null!=h.placeholder&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,C)),h.selectOnClose&&(h.resultsAdapter=c.Decorate(h.resultsAdapter,E))),null==h.dropdownAdapter){if(h.multiple)h.dropdownAdapter=w;else{var R=c.Decorate(w,x);h.dropdownAdapter=R}if(0!==h.minimumResultsForSearch&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,_)),h.closeOnSelect&&(h.dropdownAdapter=c.Decorate(h.dropdownAdapter,T)),null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass){var D=e(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=c.Decorate(h.dropdownAdapter,D)}h.dropdownAdapter=c.Decorate(h.dropdownAdapter,k)}if(null==h.selectionAdapter){if(h.multiple?h.selectionAdapter=r:h.selectionAdapter=i,null!=h.placeholder&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,o)),h.allowClear&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,s)),h.multiple&&(h.selectionAdapter=c.Decorate(h.selectionAdapter,a)),null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass){var L=e(h.amdBase+"compat/containerCss");h.selectionAdapter=c.Decorate(h.selectionAdapter,L)}h.selectionAdapter=c.Decorate(h.selectionAdapter,l)}if("string"==typeof h.language)if(h.language.indexOf("-")>0){var $=h.language.split("-")[0];h.language=[h.language,$]}else h.language=[h.language];if(t.isArray(h.language)){var O=new u;h.language.push("en");for(var P=h.language,I=0;I<P.length;I++){var N=P[I],B={};try{B=u.loadPath(N)}catch(z){try{N=this.defaults.amdLanguageBase+N,B=u.loadPath(N)}catch(W){h.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+N+'" could not be automatically loaded. A fallback will be used instead.');continue}}O.extend(B)}h.translations=O}else{var F=u.loadPath(this.defaults.amdLanguageBase+"en"),H=new u(h.language);H.extend(F),h.translations=H}return h},M.prototype.reset=function(){function e(t){function e(t){return h[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(i,r){if(""===t.trim(i.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),s=r.children.length-1;s>=0;s--){null==n(i,r.children[s])&&o.children.splice(s,1)}return o.children.length>0?o:n(i,o)}var a=e(r.text).toUpperCase(),l=e(i.term).toUpperCase();return a.indexOf(l)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:A,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},M.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var r=c._convertData(i);t.extend(this.defaults,r)},new M}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r={};r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var o=e.extend(!0,{},r);for(var s in o=i._convertData(o))e.inArray(s,n)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],o[s]):this.options[s]=o[s]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var r=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),r.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._syncA),t.each(n,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,r){-1===t.inArray(i,n)&&e.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(t,e){var n=!1,i=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var r=0;r<e.addedNodes.length;r++){e.addedNodes[r].selected&&(n=!0)}else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){i.trigger("selection:update",{data:t})})}},r.prototype.trigger=function(t,e){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(e===undefined&&(e={}),t in i){var o=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,o,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")
},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},r}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,n,i){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=n[e].apply(n,o)}),t.inArray(e,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),
/*! Select2 4.0.3 | https://github.com/select2/select2/blob/master/LICENSE.md */
function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var t=jQuery.fn.select2.amd;t.define("select2/i18n/es",[],function(){return{errorLoading:function(){return"La carga fall\xf3"},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Por favor, elimine "+e+" car";return n+=1==e?"\xe1cter":"acteres"},inputTooShort:function(t){var e=t.minimum-t.input.length,n="Por favor, introduzca "+e+" car";return n+=1==e?"\xe1cter":"acteres"},loadingMore:function(){return"Cargando m\xe1s resultados\u2026"},maximumSelected:function(t){var e="S\xf3lo puede seleccionar "+t.maximum+" elemento";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No se encontraron resultados"},searching:function(){return"Buscando\u2026"}}}),t.define,t.require}(),function(){function t(t){var e=n;t&&(n[t]||(n[t]={}),e=n[t]),e.define&&e.define.packaged||(i.original=e.define,e.define=i,e.define.packaged=!0),e.require&&e.require.packaged||(o.original=e.require,e.require=o,e.require.packaged=!0)}var e="ace",n=function(){return this}();if(!n&&"undefined"!=typeof window&&(n=window),e||"undefined"==typeof requirejs){var i=function(t,e,n){"string"==typeof t?(2==arguments.length&&(n=e),i.modules[t]||(i.payloads[t]=n,i.modules[t]=null)):i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};i.modules={},i.payloads={};var r=function(t,e,n){if("string"==typeof e){var i=a(t,e);if(i!=undefined)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(e)){for(var r=[],s=0,l=e.length;s<l;++s){var c=a(t,e[s]);if(c==undefined&&o.original)return;r.push(c)}return n&&n.apply(null,r)||!0}},o=function(t,e){var n=r("",t,e);return n==undefined&&o.original?o.original.apply(this,arguments):n},s=function(t,e){if(-1!==e.indexOf("!")){var n=e.split("!");return s(t,n[0])+"!"+s(t,n[1])}if("."==e.charAt(0))for(e=t.split("/").slice(0,-1).join("/")+"/"+e;-1!==e.indexOf(".")&&i!=e;){var i=e;e=e.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return e},a=function(t,e){e=s(t,e);var n=i.modules[e];if(!n){if("function"==typeof(n=i.payloads[e])){var o={},a={id:e,uri:"",exports:o,packaged:!0};o=n(function(t,n){return r(e,t,n)},o,a)||a.exports,i.modules[e]=o,delete i.payloads[e]}n=i.modules[e]=o||n}return n};t(e)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(){"use strict";function t(t){return(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":"")}function e(t,e,n){if(Array.prototype.indexOf)return t.indexOf(e,n);for(var i=n||0;i<t.length;i++)if(t[i]===e)return i;return-1}var n={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},i=n.exec.call(/()??/,"")[1]===undefined,r=function(){var t=/^/g;return n.test.call(t,""),!t.lastIndex}();r&&i||(RegExp.prototype.exec=function(o){var s,a,l=n.exec.apply(this,arguments);if("string"==typeof o&&l){if(!i&&l.length>1&&e(l,"")>-1&&(a=RegExp(this.source,n.replace.call(t(this),"g","")),n.replace.call(o.slice(l.index),a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===undefined&&(l[t]=undefined)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)(s=this._xregexp.captureNames[c-1])&&(l[s]=l[c]);!r&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},r||(RegExp.prototype.test=function(t){var e=n.exec.call(this,t);return e&&this.global&&!e[0].length&&this.lastIndex>e.index&&this.lastIndex--,!!e}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function t(){}function e(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}function n(t){return(t=+t)!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var i=h.call(arguments,1),r=function(){if(this instanceof r){var t=n.apply(this,i.concat(h.call(arguments)));return Object(t)===t?t:this}return n.apply(e,i.concat(h.call(arguments)))};return n.prototype&&(t.prototype=n.prototype,r.prototype=new t,t.prototype=null),r});var i,r,o,s,a,l=Function.prototype.call,c=Array.prototype,u=Object.prototype,h=c.slice,d=l.bind(u.toString),f=l.bind(u.hasOwnProperty);if((a=f(u,"__defineGetter__"))&&(i=l.bind(u.__defineGetter__),r=l.bind(u.__defineSetter__),o=l.bind(u.__lookupGetter__),s=l.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function t(t){var e=new Array(t+2);return e[0]=e[1]=0,e}var e,n=[];if(n.splice.apply(n,t(20)),n.splice.apply(n,t(26)),e=n.length,n.splice(5,0,"XXX"),n.length,e+1==n.length)return!0}()){var p=Array.prototype.splice;Array.prototype.splice=function(t,e){return arguments.length?p.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(h.call(arguments,2))):[]}}else Array.prototype.splice=function(t,e){var n=this.length;t>0?t>n&&(t=n):null==t?t=0:t<0&&(t=Math.max(n+t,0)),t+e<n||(e=n-t);var i=this.slice(t,t+e),r=h.call(arguments,2),o=r.length;if(t===n)o&&this.push.apply(this,r);else{var s=Math.min(e,n-t),a=t+s,l=a+o-s,c=n-a,u=n-s;if(l<a)for(var d=0;d<c;++d)this[l+d]=this[a+d];else if(l>a)for(d=c;d--;)this[l+d]=this[a+d];if(o&&t===u)this.length=u,this.push.apply(this,r);else for(this.length=u+o,d=0;d<o;++d)this[t+d]=r[d]}return i};Array.isArray||(Array.isArray=function(t){return"[object Array]"==d(t)});var g,m=Object("a"),v="a"!=m[0]||!(0 in m);if(Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=L(this),n=v&&"[object String]"==d(this)?this.split(""):e,i=arguments[1],r=-1,o=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError;for(;++r<o;)r in n&&t.call(i,n[r],r,e)}),Array.prototype.map||(Array.prototype.map=function(t){var e=L(this),n=v&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0,r=Array(i),o=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var s=0;s<i;s++)s in n&&(r[s]=t.call(o,n[s],s,e));return r}),Array.prototype.filter||(Array.prototype.filter=function(t){var e,n=L(this),i=v&&"[object String]"==d(this)?this.split(""):n,r=i.length>>>0,o=[],s=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var a=0;a<r;a++)a in i&&(e=i[a],t.call(s,e,a,n)&&o.push(e));return o}),Array.prototype.every||(Array.prototype.every=function(t){var e=L(this),n=v&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)if(o in n&&!t.call(r,n[o],o,e))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var e=L(this),n=v&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0,r=arguments[1];if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)if(o in n&&t.call(r,n[o],o,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=L(this),n=v&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o++];break}if(++o>=i)throw new TypeError("reduce of empty array with no initial value")}for(;o<i;o++)o in n&&(r=t.call(void 0,r,n[o],o,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=L(this),n=v&&"[object String]"==d(this)?this.split(""):e,i=n.length>>>0;if("[object Function]"!=d(t))throw new TypeError(t+" is not a function");if(!i&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,o=i-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in n){r=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do{o in this&&(r=t.call(void 0,r,n[o],o,e))}while(o--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var e=v&&"[object String]"==d(this)?this.split(""):L(this),i=e.length>>>0;if(!i)return-1;var r=0;for(arguments.length>1&&(r=n(arguments[1])),r=r>=0?r:Math.max(0,i+r);r<i;r++)if(r in e&&e[r]===t)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var e=v&&"[object String]"==d(this)?this.split(""):L(this),i=e.length>>>0;if(!i)return-1;var r=i-1;for(arguments.length>1&&(r=Math.min(r,n(arguments[1]))),r=r>=0?r:i-Math.abs(r);r>=0;r--)if(r in e&&t===e[r])return r;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){return t.__proto__||(t.constructor?t.constructor.prototype:u)}),!Object.getOwnPropertyDescriptor){var y="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(y+t);if(f(t,e)){var n;if(n={enumerable:!0,configurable:!0},a){var i=t.__proto__;t.__proto__=u;var r=o(t,e),l=s(t,e);if(t.__proto__=i,r||l)return r&&(n.get=r),l&&(n.set=l),n}return n.value=t[e],n}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),Object.create)||(g=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var t={};for(var e in t)t[e]=null;return t.constructor=t.hasOwnProperty=t.propertyIsEnumerable=t.isPrototypeOf=t.toLocaleString=t.toString=t.valueOf=t.__proto__=null,t},Object.create=function(t,e){var n;if(null===t)n=g();else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var i=function(){};i.prototype=t,(n=new i).__proto__=t}return void 0!==e&&Object.defineProperties(n,e),n});if(Object.defineProperty){var b=e({}),w="undefined"==typeof document||e(document.createElement("div"));if(!b||!w)var x=Object.defineProperty}if(!Object.defineProperty||x){var C="Property description must be an object: ",S="Object.defineProperty called on non-object: ",k="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,e,n){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(S+t);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(C+n);if(x)try{return x.call(Object,t,e,n)}catch(l){}if(f(n,"value"))if(a&&(o(t,e)||s(t,e))){var c=t.__proto__;t.__proto__=u,delete t[e],t[e]=n.value,t.__proto__=c}else t[e]=n.value;else{if(!a)throw new TypeError(k);f(n,"get")&&i(t,e,n.get),f(n,"set")&&r(t,e,n.set)}return t}}Object.defineProperties||(Object.defineProperties=function(t,e){for(var n in e)f(e,n)&&Object.defineProperty(t,n,e[n]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch($){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)===t)throw new TypeError;for(var e="";f(t,e);)e+="?";t[e]=!0;var n=f(t,e);return delete t[e],n}),!Object.keys){var _=!0,E=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],T=E.length;for(var A in{toString:null})_=!1;Object.keys=function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var e=[];for(var n in t)f(t,n)&&e.push(n);if(_)for(var i=0,r=T;i<r;i++){var o=E[i];f(t,o)&&e.push(o)}return e}}Date.now||(Date.now=function(){return(new Date).getTime()});var M="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||M.trim()){M="["+M+"]";var R=new RegExp("^"+M+M+"*"),D=new RegExp(M+M+"*$");String.prototype.trim=function(){return String(this).replace(R,"").replace(D,"")}}var L=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(t){"use strict";t("./regexp"),t("./es5-shim"),"undefined"!=typeof Element&&!Element.prototype.remove&&Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,e){"use strict";if(e.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},e.getOS=function(){return e.isMac?e.OS.MAC:e.isLinux?e.OS.LINUX:e.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),i=navigator.userAgent;e.isWin="win"==n,e.isMac="mac"==n,e.isLinux="linux"==n,e.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),e.isOldIE=e.isIE&&e.isIE<9,e.isGecko=e.isMozilla=i.match(/ Gecko\/\d+/),e.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),e.isWebKit=parseFloat(i.split("WebKit/")[1])||undefined,e.isChrome=parseFloat(i.split(" Chrome/")[1])||undefined,e.isEdge=parseFloat(i.split(" Edge/")[1])||undefined,e.isAIR=i.indexOf("AdobeAIR")>=0,e.isIPad=i.indexOf("iPad")>=0,e.isAndroid=i.indexOf("Android")>=0,e.isChromeOS=i.indexOf(" CrOS ")>=0,e.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream,e.isIOS&&(e.isMac=!0),e.isMobile=e.isIPad||e.isAndroid}}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(t,e){"use strict";var n=t("./useragent"),i="http://www.w3.org/1999/xhtml";if(e.buildDom=function o(t,e,n){if("string"==typeof t&&t){var i=document.createTextNode(t);return e&&e.appendChild(i),i}if(!Array.isArray(t))return t;if("string"!=typeof t[0]||!t[0]){for(var r=[],s=0;s<t.length;s++){var a=o(t[s],e,n);a&&r.push(a)}return r}var l=document.createElement(t[0]),c=t[1],u=1;c&&"object"==typeof c&&!Array.isArray(c)&&(u=2);for(s=u;s<t.length;s++)o(t[s],l,n);return 2==u&&Object.keys(c).forEach(function(t){var e=c[t];"class"===t?l.className=Array.isArray(e)?e.join(" "):e:"function"==typeof e||"value"==t?l[t]=e:"ref"===t?n&&(n[e]=l):null!=e&&l.setAttribute(t,e)}),e&&e.appendChild(l),l},e.getDocumentHead=function(t){return t||(t=document),t.head||t.getElementsByTagName("head")[0]||t.documentElement},e.createElement=function(t,e){return document.createElementNS?document.createElementNS(e||i,t):document.createElement(t)},e.removeChildren=function(t){t.innerHTML=""},e.createTextNode=function(t,e){return(e?e.ownerDocument:document).createTextNode(t)},e.createFragment=function(t){return(t?t.ownerDocument:document).createDocumentFragment()},e.hasCssClass=function(t,e){return-1!==(t.className+"").split(/\s+/g).indexOf(e)},e.addCssClass=function(t,n){e.hasCssClass(t,n)||(t.className+=" "+n)},e.removeCssClass=function(t,e){for(var n=t.className.split(/\s+/g);;){var i=n.indexOf(e);if(-1==i)break;n.splice(i,1)}t.className=n.join(" ")},e.toggleCssClass=function(t,e){for(var n=t.className.split(/\s+/g),i=!0;;){var r=n.indexOf(e);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(e),t.className=n.join(" "),i},e.setCssClass=function(t,n,i){i?e.addCssClass(t,n):e.removeCssClass(t,n)},e.hasCssString=function(t,e){var n,i=0;if(n=(e=e||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===t)return!0},e.importCssString=function(t,n,i){var r=i&&i.getRootNode?i.getRootNode():document,o=r.ownerDocument||r;if(n&&e.hasCssString(n,r))return null;n&&(t+="\n/*# sourceURL=ace/css/"+n+" */");var s=e.createElement("style");s.appendChild(o.createTextNode(t)),n&&(s.id=n),r==o&&(r=e.getDocumentHead(o)),r.insertBefore(s,r.firstChild)},e.importCssStylsheet=function(t,n){e.buildDom(["link",{rel:"stylesheet",href:t}],e.getDocumentHead(n))},e.scrollbarWidth=function(t){var n=e.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=e.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=t.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},"undefined"==typeof document&&(e.importCssString=function(){}),e.computedStyle=function(t){return window.getComputedStyle(t,"")||{}},e.setStyle=function(t,e,n){t[e]!==n&&(t[e]=n)},e.HAS_CSS_ANIMATION=!1,e.HAS_CSS_TRANSFORMS=!1,e.HI_DPI=!n.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,"undefined"!=typeof document){var r=document.createElement("div");e.HI_DPI&&r.style.transform!==undefined&&(e.HAS_CSS_TRANSFORMS=!0),!n.isEdge&&"undefined"!=typeof r.style.animationName&&(e.HAS_CSS_ANIMATION=!0),r=null}e.HAS_CSS_TRANSFORMS?e.translate=function(t,e,n){t.style.transform="translate("+Math.round(e)+"px, "+Math.round(n)+"px)"}:e.translate=function(t,e,n){t.style.top=Math.round(n)+"px",t.style.left=Math.round(e)+"px"}}),ace.define("ace/lib/oop",["require","exports","module"],function(t,e){"use strict";e.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})},e.mixin=function(t,e){for(var n in e)t[n]=e[n];return t},e.implement=function(t,n){e.mixin(t,n)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(t,e){"use strict";t("./fixoldbrowsers");var n=t("./oop"),i=function(){var t,e,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(e in i.FUNCTION_KEYS)t=i.FUNCTION_KEYS[e].toLowerCase(),i[t]=parseInt(e,10);for(e in i.PRINTABLE_KEYS)t=i.PRINTABLE_KEYS[e].toLowerCase(),i[t]=parseInt(e,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i["return"],i.escape=i.esc,i.del=i["delete"],i[173]="-",function(){for(var t=["cmd","ctrl","alt","shift"],e=Math.pow(2,t.length);e--;)i.KEY_MODS[e]=t.filter(function(t){return e&i.KEY_MODS[t]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(e,i),e.keyCodeToString=function(t){var e=i[t];return"string"!=typeof e&&(e=String.fromCharCode(t)),e.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e){"use strict";function n(t,e,n){var i=l(e);if(!o.isMac&&s){if(e.getModifierState&&(e.getModifierState("OS")||e.getModifierState("Win"))&&(i|=8),s.altGr){if(3==(3&i))return;s.altGr=0}if(18===n||17===n){var c="location"in e?e.location:e.keyLocation;if(17===n&&1===c)1==s[n]&&(a=e.timeStamp);else if(18===n&&3===i&&2===c){e.timeStamp-a<50&&(s.altGr=!0)}}}if((n in r.MODIFIER_KEYS&&(n=-1),8&i&&n>=91&&n<=93&&(n=-1),!i&&13===n)&&(3===(c="location"in e?e.location:e.keyLocation)&&(t(e,i,-n),e.defaultPrevented)))return;if(o.isChromeOS&&8&i){if(t(e,i,n),e.defaultPrevented)return;i&=-9}return!!(i||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&t(e,i,n)}function i(){s=Object.create(null)}var r=t("./keys"),o=t("./useragent"),s=null,a=0;e.addListener=function(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1);if(t.attachEvent){var i=function(){n.call(t,window.event)};n._wrapper=i,t.attachEvent("on"+e,i)}},e.removeListener=function(t,e,n){if(t.removeEventListener)return t.removeEventListener(e,n,!1);t.detachEvent&&t.detachEvent("on"+e,n._wrapper||n)},e.stopEvent=function(t){return e.stopPropagation(t),e.preventDefault(t),!1},e.stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},e.getButton=function(t){return"dblclick"==t.type?0:"contextmenu"==t.type||o.isMac&&t.ctrlKey&&!t.altKey&&!t.shiftKey?2:t.preventDefault?t.button:{1:0,2:2,4:1}[t.button]},e.capture=function(t,n,i){function r(t){n&&n(t),i&&i(t),e.removeListener(document,"mousemove",n,!0),e.removeListener(document,"mouseup",r,!0),e.removeListener(document,"dragstart",r,!0)}return e.addListener(document,"mousemove",n,!0),e.addListener(document,"mouseup",r,!0),e.addListener(document,"dragstart",r,!0),r},e.addTouchMoveListener=function(t,n){var i,r;e.addListener(t,"touchstart",function(t){var e=t.touches[0];i=e.clientX,r=e.clientY}),e.addListener(t,"touchmove",function(t){var e=t.touches;if(!(e.length>1)){var o=e[0];t.wheelX=i-o.clientX,t.wheelY=r-o.clientY,i=o.clientX,r=o.clientY,n(t)}})},e.addMouseWheelListener=function(t,n){"onmousewheel"in t?e.addListener(t,"mousewheel",function(t){var e=8;t.wheelDeltaX!==undefined?(t.wheelX=-t.wheelDeltaX/e,t.wheelY=-t.wheelDeltaY/e):(t.wheelX=0,t.wheelY=-t.wheelDelta/e),n(t)}):"onwheel"in t?e.addListener(t,"wheel",function(t){var e=.35;switch(t.deltaMode){case t.DOM_DELTA_PIXEL:t.wheelX=t.deltaX*e||0,t.wheelY=t.deltaY*e||0;break;case t.DOM_DELTA_LINE:case t.DOM_DELTA_PAGE:t.wheelX=5*(t.deltaX||0),t.wheelY=5*(t.deltaY||0)}n(t)}):e.addListener(t,"DOMMouseScroll",function(t){t.axis&&t.axis==t.HORIZONTAL_AXIS?(t.wheelX=5*(t.detail||0),t.wheelY=0):(t.wheelX=0,t.wheelY=5*(t.detail||0)),n(t)})},e.addMultiMouseDownListener=function(t,n,i,r){function s(t){if(0!==e.getButton(t)?h=0:t.detail>1?++h>4&&(h=1):h=1,o.isIE){var s=Math.abs(t.clientX-l)>5||Math.abs(t.clientY-c)>5;u&&!s||(h=1),u&&clearTimeout(u),u=setTimeout(function(){u=null},n[h-1]||600),1==h&&(l=t.clientX,c=t.clientY)}if(t._clicks=h,i[r]("mousedown",t),h>4)h=0;else if(h>1)return i[r](d[h],t)}function a(t){h=2,u&&clearTimeout(u),u=setTimeout(function(){u=null},n[h-1]||600),i[r]("mousedown",t),i[r](d[h],t)}var l,c,u,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(t)||(t=[t]),t.forEach(function(t){e.addListener(t,"mousedown",s),o.isOldIE&&e.addListener(t,"dblclick",a)})};var l=!o.isMac||!o.isOpera||"KeyboardEvent"in window?function(t){return 0|(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0)}:function(t){return 0|(t.metaKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.ctrlKey?8:0)};if(e.getModifierString=function(t){return r.KEY_MODS[l(t)]},e.addCommandKeyListener=function(t,r){var a=e.addListener;if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var l=null;a(t,"keydown",function(t){l=t.keyCode}),a(t,"keypress",function(t){return n(r,t,l)})}else{var c=null;a(t,"keydown",function(t){s[t.keyCode]=(s[t.keyCode]||0)+1;var e=n(r,t,t.keyCode);return c=t.defaultPrevented,e}),a(t,"keypress",function(t){c&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)&&(e.stopEvent(t),c=null)}),a(t,"keyup",function(t){s[t.keyCode]=null}),s||(i(),a(window,"focus",i))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var c=1;e.nextTick=function(t,n){n=n||window;var i="zero-timeout-message-"+c++,r=function(o){o.data==i&&(e.stopPropagation(o),e.removeListener(n,"message",r),t())};e.addListener(n,"message",r),n.postMessage(i,"*")}}e.$idleBlocked=!1,e.onIdle=function(t,n){return setTimeout(function i(){e.$idleBlocked?setTimeout(i,100):t()},n)},e.$idleBlockId=null,e.blockIdle=function(t){e.$idleBlockId&&clearTimeout(e.$idleBlockId),e.$idleBlocked=!0,e.$idleBlockId=setTimeout(function(){e.$idleBlocked=!1},t||100)},e.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),e.nextFrame?e.nextFrame=e.nextFrame.bind(window):e.nextFrame=function(t){setTimeout(t,17)}}),ace.define("ace/range",["require","exports","module"],function(t,e){"use strict";var n=function(t,e){return t.row-e.row||t.column-e.column},i=function(t,e,n,i){this.start={row:t,column:e},this.end={row:n,column:i}};(function(){this.isEqual=function(t){return this.start.row===t.start.row&&this.end.row===t.end.row&&this.start.column===t.start.column&&this.end.column===t.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(t,e){return 0==this.compare(t,e)},this.compareRange=function(t){var e,n=t.end,i=t.start;return 1==(e=this.compare(n.row,n.column))?1==(e=this.compare(i.row,i.column))?2:0==e?1:0:-1==e?-2:-1==(e=this.compare(i.row,i.column))?-1:1==e?42:0},this.comparePoint=function(t){return this.compare(t.row,t.column)},this.containsRange=function(t){return 0==this.comparePoint(t.start)&&0==this.comparePoint(t.end)},this.intersects=function(t){var e=this.compareRange(t);return-1==e||0==e||1==e},this.isEnd=function(t,e){return this.end.row==t&&this.end.column==e},this.isStart=function(t,e){return this.start.row==t&&this.start.column==e},this.setStart=function(t,e){"object"==typeof t?(this.start.column=t.column,this.start.row=t.row):(this.start.row=t,this.start.column=e)},this.setEnd=function(t,e){"object"==typeof t?(this.end.column=t.column,this.end.row=t.row):(this.end.row=t,this.end.column=e)},this.inside=function(t,e){return 0==this.compare(t,e)&&(!this.isEnd(t,e)&&!this.isStart(t,e))},this.insideStart=function(t,e){return 0==this.compare(t,e)&&!this.isEnd(t,e)},this.insideEnd=function(t,e){return 0==this.compare(t,e)&&!this.isStart(t,e)},this.compare=function(t,e){return this.isMultiLine()||t!==this.start.row?t<this.start.row?-1:t>this.end.row?1:this.start.row===t?e>=this.start.column?0:-1:this.end.row===t?e<=this.end.column?0:1:0:e<this.start.column?-1:e>this.end.column?1:0},this.compareStart=function(t,e){return this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.compareEnd=function(t,e){return this.end.row==t&&this.end.column==e?1:this.compare(t,e)},this.compareInside=function(t,e){return this.end.row==t&&this.end.column==e?1:this.start.row==t&&this.start.column==e?-1:this.compare(t,e)},this.clipRows=function(t,e){if(this.end.row>e)var n={row:e+1,column:0};else if(this.end.row<t)n={row:t,column:0};if(this.start.row>e)var r={row:e+1,column:0};else if(this.start.row<t)r={row:t,column:0};return i.fromPoints(r||this.start,n||this.end)},this.extend=function(t,e){var n=this.compare(t,e);if(0==n)return this;if(-1==n)var r={row:t,column:e};else var o={row:t,column:e};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(t){var e=t.documentToScreenPosition(this.start),n=t.documentToScreenPosition(this.end);return new i(e.row,e.column,n.row,n.column)},this.moveBy=function(t,e){this.start.row+=t,this.start.column+=e,this.end.row+=t,this.end.column+=e}}).call(i.prototype),i.fromPoints=function(t,e){return new i(t.row,t.column,e.row,e.column)},i.comparePoints=n,i.comparePoints=function(t,e){return t.row-e.row||t.column-e.column},e.Range=i}),ace.define("ace/lib/lang",["require","exports","module"],function(t,e){"use strict";e.last=function(t){return t[t.length-1]},e.stringReverse=function(t){return t.split("").reverse().join("")},e.stringRepeat=function(t,e){for(var n="";e>0;)1&e&&(n+=t),(e>>=1)&&(t+=t);return n};var n=/^\s\s*/,i=/\s\s*$/;e.stringTrimLeft=function(t){return t.replace(n,"")},e.stringTrimRight=function(t){return t.replace(i,"")},e.copyObject=function(t){var e={};for(var n in t)e[n]=t[n];return e},e.copyArray=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&"object"==typeof t[n]?e[n]=this.copyObject(t[n]):e[n]=t[n];return e},e.deepCopy=function r(t){if("object"!=typeof t||!t)return t;var e;if(Array.isArray(t)){e=[];for(var n=0;n<t.length;n++)e[n]=r(t[n]);return e}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var n in e={},t)e[n]=r(t[n]);return e},e.arrayToMap=function(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=1;return e},e.createMap=function(t){var e=Object.create(null);for(var n in t)e[n]=t[n];return e},e.arrayRemove=function(t,e){for(var n=0;n<=t.length;n++)e===t[n]&&t.splice(n,1)},e.escapeRegExp=function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},e.escapeHTML=function(t){return(""+t).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},e.getMatchOffsets=function(t,e){var n=[];return t.replace(e,function(t){n.push({offset:arguments[arguments.length-2],length:t.length})}),n},e.deferredCall=function(t){var e=null,n=function(){e=null,t()},i=function(t){return i.cancel(),e=setTimeout(n,t||0),i};return i.schedule=i,i.call=function(){return this.cancel(),t(),i},i.cancel=function(){return clearTimeout(e),e=null,i},i.isPending=function(){return e},i},e.delayedCall=function(t,e){var n=null,i=function(){n=null,t()},r=function(t){null==n&&(n=setTimeout(i,t||e))};return r.delay=function(t){n&&clearTimeout(n),n=setTimeout(i,t||e)},r.schedule=r,r.call=function(){this.cancel(),t()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}}),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(t,e){"use strict";var n=t("../lib/event"),i=t("../lib/useragent"),r=t("../lib/dom"),o=t("../lib/lang"),s=t("../lib/keys"),a=s.KEY_MODS,l=i.isChrome<18,c=i.isIE,u=function(t,e){function u(t){if(!y){if(y=!0,E)e=0,i=t?0:f.value.length-1;else var e=4,i=5;try{f.setSelectionRange(e,i)}catch(n){}y=!1}}function h(){y||(f.value=p,i.isWebKit&&S.schedule())}function d(){clearTimeout(F),F=setTimeout(function(){b&&(f.style.cssText=b,b=""),null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())},0)}var f=r.createElement("textarea");f.className=i.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",i.isTouchPad&&f.setAttribute("x-palm-disable-auto-cap",!0),f.setAttribute("wrap","off"),f.setAttribute("autocorrect","off"),f.setAttribute("autocapitalize","off"),f.setAttribute("spellcheck",!1),f.style.opacity="0",t.insertBefore(f,t.firstChild);var p="\n aaaa a\n",g=!1,m=!1,v=!1,y=!1,b="",w=!0;try{var x=document.activeElement===f}catch(q){}n.addListener(f,"blur",function(t){e.onBlur(t),x=!1}),n.addListener(f,"focus",function(t){x=!0,e.onFocus(t),u()}),this.focus=function(){if(b)return f.focus();f.style.position="fixed",f.focus()},this.blur=function(){f.blur()},this.isFocused=function(){return x};var C=o.delayedCall(function(){x&&u(w)}),S=o.delayedCall(function(){y||(f.value=p,x&&u())});i.isWebKit||e.addEventListener("changeSelection",function(){e.selection.isEmpty()!=w&&(w=!w,C.schedule())}),h(),x&&e.onFocus();var k=function(t){return 0===t.selectionStart&&t.selectionEnd===t.value.length},_=function(){k(f)?(e.selectAll(),u()):E&&u(e.selection.isEmpty())},E=null;this.setInputHandler=function(t){E=t},this.getInputHandler=function(){return E};var T=!1,A=function(t){4===f.selectionStart&&5===f.selectionEnd||(E&&(t=E(t),E=null),v?(u(),t&&e.onPaste(t),v=!1):t==p.substr(0)&&4===f.selectionStart?T?e.execCommand("del",{source:"ace"}):e.execCommand("backspace",{source:"ace"}):g||(t.substring(0,9)==p&&t.length>p.length?t=t.substr(9):t.substr(0,4)==p.substr(0,4)?t=t.substr(4,t.length-p.length+1):t.charAt(t.length-1)==p.charAt(0)&&(t=t.slice(0,-1)),t!=p.charAt(0)&&t.charAt(t.length-1)==p.charAt(0)&&(t=t.slice(0,-1)),
t&&e.onTextInput(t)),g&&(g=!1),T&&(T=!1))},M=function(){if(!y){var t=f.value;A(t),h()}},R=function(t,e,n){var i=t.clipboardData||window.clipboardData;if(i&&!l){var r=c||n?"Text":"text/plain";try{return e?!1!==i.setData(r,e):i.getData(r)}catch(t){if(!n)return R(t,e,!0)}}},D=function(t,r){var o=e.getCopyText();if(!o)return n.preventDefault(t);R(t,o)?(i.isIOS&&(m=r,f.value="\n aa"+o+"a a\n",f.setSelectionRange(4,4+o.length),g={value:o}),r?e.onCut():e.onCopy(),i.isIOS||n.preventDefault(t)):(g=!0,f.value=o,f.select(),setTimeout(function(){g=!1,h(),u(),r?e.onCut():e.onCopy()}))},L=function(t){D(t,!0)},$=function(t){D(t,!1)},O=function(t){var r=R(t);"string"==typeof r?(r&&e.onPaste(r,t),i.isIE&&setTimeout(u),n.preventDefault(t)):(f.value="",v=!0)};n.addCommandKeyListener(f,e.onCommandKey.bind(e)),n.addListener(f,"select",_),n.addListener(f,"input",M),n.addListener(f,"cut",L),n.addListener(f,"copy",$),n.addListener(f,"paste",O);var P=function(){y||!e.onCompositionStart||e.$readOnly||((y={}).canUndo=e.session.$undoManager,e.onCompositionStart(),setTimeout(I,0),e.on("mousedown",N),y.canUndo&&!e.selection.isEmpty()&&(e.insert(""),e.session.markUndoGroup(),e.selection.clearSelection()),e.session.markUndoGroup())},I=function(){if(y&&e.onCompositionUpdate&&!e.$readOnly){var t=f.value.replace(/\x01/g,"");if(y.lastValue!==t&&(e.onCompositionUpdate(t),y.lastValue&&e.undo(),y.canUndo&&(y.lastValue=t),y.lastValue)){var n=e.selection.getRange();e.insert(y.lastValue),e.session.markUndoGroup(),y.range=e.selection.getRange(),e.selection.setRange(n),e.selection.clearSelection()}}},N=function(t){if(e.onCompositionEnd&&!e.$readOnly){var n=y;y=!1;var r=setTimeout(function(){r=null;var t=f.value.replace(/\x01/g,"");y||(t==n.lastValue?h():!n.lastValue&&t&&(h(),A(t)))});E=function(t){return r&&clearTimeout(r),(t=t.replace(/\x01/g,""))==n.lastValue?"":(n.lastValue&&r&&e.undo(),t)},e.onCompositionEnd(),e.removeListener("mousedown",N),"compositionend"==t.type&&n.range&&e.selection.setRange(n.range),(!!i.isChrome&&i.isChrome>=53||!!i.isWebKit&&i.isWebKit>=603)&&M()}},B=o.delayedCall(I,50);n.addListener(f,"compositionstart",P),n.addListener(f,"compositionupdate",function(){B.schedule()}),n.addListener(f,"keyup",function(){B.schedule()}),n.addListener(f,"keydown",function(){B.schedule()}),n.addListener(f,"compositionend",N),this.getElement=function(){return f},this.setReadOnly=function(t){f.readOnly=t},this.onContextMenu=function(t){T=!0,u(e.selection.isEmpty()),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,o){b||(b=f.style.cssText),f.style.cssText=(o?"z-index:100000;":"")+"height:"+f.style.height+";"+(i.isIE?"opacity:0.1;":"");var s=e.container.getBoundingClientRect(),a=r.computedStyle(e.container),l=s.top+(parseInt(a.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),u=s.bottom-l-f.clientHeight-2,h=function(t){f.style.left=t.clientX-c-2+"px",f.style.top=Math.min(t.clientY-l-2,u)+"px"};h(t),"mousedown"==t.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),clearTimeout(F),i.isWin&&n.capture(e.container,h,d))},this.onContextMenuClose=d;var F,H=function(t){e.textInput.onContextMenu(t),d()};if(n.addListener(f,"mouseup",H),n.addListener(f,"mousedown",function(t){t.preventDefault(),d()}),n.addListener(e.renderer.scroller,"contextmenu",H),n.addListener(f,"contextmenu",H),i.isIOS){var z=null,W=!1;t.addEventListener("keydown",function(){z&&clearTimeout(z),W=!0}),t.addEventListener("keyup",function(){z=setTimeout(function(){W=!1},100)});var j=function(){if(document.activeElement===f&&!W){if(m)return setTimeout(function(){m=!1},100);var t=f.selectionStart,n=f.selectionEnd;if(f.setSelectionRange(4,5),t==n)switch(t){case 0:e.onCommandKey(null,0,s.up);break;case 1:e.onCommandKey(null,0,s.home);break;case 2:e.onCommandKey(null,a.option,s.left);break;case 4:e.onCommandKey(null,0,s.left);break;case 5:e.onCommandKey(null,0,s.right);break;case 7:e.onCommandKey(null,a.option,s.right);break;case 8:e.onCommandKey(null,0,s.end);break;case 9:e.onCommandKey(null,0,s.down)}else{switch(n){case 6:e.onCommandKey(null,a.shift,s.right);break;case 7:e.onCommandKey(null,a.shift|a.option,s.right);break;case 8:e.onCommandKey(null,a.shift,s.end);break;case 9:e.onCommandKey(null,a.shift,s.down)}switch(t){case 0:e.onCommandKey(null,a.shift,s.up);break;case 1:e.onCommandKey(null,a.shift,s.home);break;case 2:e.onCommandKey(null,a.shift|a.option,s.left);break;case 3:e.onCommandKey(null,a.shift,s.left)}}}};document.addEventListener("selectionchange",j),e.on("destroy",function(){document.removeEventListener("selectionchange",j)})}};e.TextInput=u}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(t,e){"use strict";var n=t("../lib/event"),i=t("../lib/useragent"),r=t("../lib/dom"),o=t("../lib/lang"),s=i.isChrome<18,a=i.isIE,l=i.isChrome>63,c=400,u=t("./textinput_ios").TextInput,h=function(t,e){function h(){if(!y&&!b&&(E||R)){y=!0;var t=e.selection,n=t.getRange(),i=t.cursor.row,r=n.start.column,o=n.end.column,s=e.session.getLine(i);if(n.start.row!=i){var a=e.session.getLine(i-1);r=n.start.row<i-1?0:r,o+=a.length+1,s=a+"\n"+s}else if(n.end.row!=i){var l=e.session.getLine(i+1);o=n.end.row>i+1?l.length:o,o+=s.length+1,s=s+"\n"+l}s.length>c&&(r<c&&o<c?s=s.slice(0,c):(s="\n",r=0,o=1));var u=s+"\n\n";if(u!=S&&(g.value=S=u,k=_=u.length),R&&(k=g.selectionStart,_=g.selectionEnd),_!=o||k!=r)try{g.setSelectionRange(r,o),k=r,_=o}catch(m){}y=!1}}function d(){C=!0,g.blur(),g.focus(),C=!1}function f(t){27==t.keyCode&&g.value.length<g.selectionStart&&(y||(S=g.value),k=_=-1,h()),z()}function p(){clearTimeout(W),W=setTimeout(function(){w&&(g.style.cssText=w,w=""),null==e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=!0,e.renderer.$moveTextAreaToCursor())},0)}if(i.isIOS)return u.call(this,t,e);var g=r.createElement("textarea");g.className="ace_text-input",g.setAttribute("wrap","off"),g.setAttribute("autocorrect","off"),g.setAttribute("autocapitalize","off"),g.setAttribute("spellcheck",!1),g.style.opacity="0",t.insertBefore(g,t.firstChild);var m=!1,v=!1,y=!1,b=!1,w="";i.isMobile||(g.style.fontSize="1px");var x=!1,C=!1,S="",k=0,_=0;try{var E=document.activeElement===g}catch(q){}n.addListener(g,"blur",function(t){C||(e.onBlur(t),E=!1)}),n.addListener(g,"focus",function(t){C||(E=!0,e.onFocus(t),h())}),this.$focusScroll=!1,this.focus=function(){if(w||l||"browser"==this.$focusScroll)return g.focus({preventScroll:!0});if(document.documentElement.contains(g)){var t=g.style.top;g.style.position="fixed",g.style.top="0px";var e=0!=g.getBoundingClientRect().top,n=[];if(e)for(var i=g.parentElement;i&&1==i.nodeType;)n.push(i),i.setAttribute("ace_nocontext",!0),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement;g.focus({preventScroll:!0}),e&&n.forEach(function(t){t.removeAttribute("ace_nocontext")}),setTimeout(function(){g.style.position="","0px"==g.style.top&&(g.style.top=t)},0)}},this.blur=function(){g.blur()},this.isFocused=function(){return E},e.on("beforeEndOperation",function(){e.curOp&&"insertstring"==e.curOp.command.name||(y&&(S=g.value="",H()),h())}),E&&e.onFocus();var T=function(t){return 0===t.selectionStart&&t.selectionEnd>=S.length&&t.value===S&&S&&t.selectionEnd!==_},A=function(){y||(m?m=!1:T(g)&&(e.selectAll(),h()))},M=null;this.setInputHandler=function(t){M=t},this.getInputHandler=function(){return M};var R=!1,D=function(t,n){if(R&&(R=!1),v)return h(),t&&e.onPaste(t),v=!1,"";for(var i=g.selectionStart,r=g.selectionEnd,o=k,s=S.length-_,a=t,l=t.length-i,c=t.length-r,u=0;o>0&&S[u]==t[u];)u++,o--;for(a=a.slice(u),u=1;s>0&&S.length-u>k-1&&S[S.length-u]==t[t.length-u];)u++,s--;return l-=u-1,c-=u-1,a=a.slice(0,a.length-u+1),n||l!=a.length||o||s||c?(b=!0,a&&!o&&!s&&!l&&!c||x?e.onTextInput(a):e.onTextInput(a,{extendLeft:o,extendRight:s,restoreStart:l,restoreEnd:c}),b=!1,S=t,k=i,_=r,a):""},L=function(){if(y)return F();var t=g.value,e=D(t,!0);(t.length>c+100||/\n/.test(e))&&h()},$=function(t,e,n){var i=t.clipboardData||window.clipboardData;if(i&&!s){var r=a||n?"Text":"text/plain";try{return e?!1!==i.setData(r,e):i.getData(r)}catch(t){if(!n)return $(t,e,!0)}}},O=function(t,i){var r=e.getCopyText();if(!r)return n.preventDefault(t);$(t,r)?(i?e.onCut():e.onCopy(),n.preventDefault(t)):(m=!0,g.value=r,g.select(),setTimeout(function(){m=!1,h(),i?e.onCut():e.onCopy()}))},P=function(t){O(t,!0)},I=function(t){O(t,!1)},N=function(t){var r=$(t);"string"==typeof r?(r&&e.onPaste(r,t),i.isIE&&setTimeout(h),n.preventDefault(t)):(g.value="",v=!0)};n.addCommandKeyListener(g,e.onCommandKey.bind(e)),n.addListener(g,"select",A),n.addListener(g,"input",L),n.addListener(g,"cut",P),n.addListener(g,"copy",I),n.addListener(g,"paste",N),(!("oncut"in g)||!("oncopy"in g)||!("onpaste"in g))&&n.addListener(t,"keydown",function(t){if((!i.isMac||t.metaKey)&&t.ctrlKey)switch(t.keyCode){case 67:I(t);break;case 86:N(t);break;case 88:P(t)}});var B=function(){if(!y&&e.onCompositionStart&&!e.$readOnly&&(y={},!x)){setTimeout(F,0),e.on("mousedown",d);var t=e.getSelectionRange();t.end.row=t.start.row,t.end.column=t.start.column,y.markerRange=t,y.selectionStart=k,e.onCompositionStart(y),y.useTextareaForIME?(g.value="",S="",k=0,_=0):(g.msGetInputContext&&(y.context=g.msGetInputContext()),g.getInputContext&&(y.context=g.getInputContext()))}},F=function(){if(y&&e.onCompositionUpdate&&!e.$readOnly){if(x)return d();if(y.useTextareaForIME)e.onCompositionUpdate(g.value);else{var t=g.value;D(t),y.markerRange&&(y.context&&(y.markerRange.start.column=y.selectionStart=y.context.compositionStartOffset),y.markerRange.end.column=y.markerRange.start.column+_-y.selectionStart)}}},H=function(t){e.onCompositionEnd&&!e.$readOnly&&(y=!1,e.onCompositionEnd(),e.off("mousedown",d),t&&L())},z=o.delayedCall(F,50).schedule.bind(null,null);n.addListener(g,"compositionstart",B),n.addListener(g,"compositionupdate",F),n.addListener(g,"keyup",f),n.addListener(g,"keydown",z),n.addListener(g,"compositionend",H),this.getElement=function(){return g},this.setCommandMode=function(t){x=t,g.readOnly=!1},this.setReadOnly=function(t){x||(g.readOnly=t)},this.setCopyWithEmptySelection=function(t){t},this.onContextMenu=function(t){R=!0,h(),e._emit("nativecontextmenu",{target:e,domEvent:t}),this.moveToMouse(t,!0)},this.moveToMouse=function(t,o){w||(w=g.style.cssText),g.style.cssText=(o?"z-index:100000;":"")+(i.isIE?"opacity:0.1;":"")+"text-indent: -"+(k+_)*e.renderer.characterWidth*.5+"px;";var s=e.container.getBoundingClientRect(),a=r.computedStyle(e.container),l=s.top+(parseInt(a.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),u=s.bottom-l-g.clientHeight-2,h=function(t){g.style.left=t.clientX-c-2+"px",g.style.top=Math.min(t.clientY-l-2,u)+"px"};h(t),"mousedown"==t.type&&(e.renderer.$keepTextAreaAtCursor&&(e.renderer.$keepTextAreaAtCursor=null),clearTimeout(W),i.isWin&&n.capture(e.container,h,p))},this.onContextMenuClose=p;var W,j=function(t){e.textInput.onContextMenu(t),p()};n.addListener(g,"mouseup",j),n.addListener(g,"mousedown",function(t){t.preventDefault(),p()}),n.addListener(e.renderer.scroller,"contextmenu",j),n.addListener(g,"contextmenu",j)};e.TextInput=h}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(t,e){"use strict";function n(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),e.setDefaultHandler("touchmove",this.onTouchMove.bind(t)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(e){t[e]=this[e]},this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function i(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}function r(t,e){if(t.start.row==t.end.row)var n=2*e.column-t.start.column-t.end.column;else if(t.start.row!=t.end.row-1||t.start.column||t.end.column)n=2*e.row-t.start.row-t.end.row;else var n=e.column-4;return n<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}var o=t("../lib/useragent"),s=0,a=250;(function(){this.onMouseDown=function(t){var e=t.inSelection(),n=t.getDocumentPosition();this.mousedownEvent=t;var i=this.editor,r=t.getButton();return 0!==r?((i.getSelectionRange().isEmpty()||1==r)&&i.selection.moveToPosition(n),void(2==r&&(i.textInput.onContextMenu(t.domEvent),o.isMozilla||t.preventDefault()))):(this.mousedownEvent.time=Date.now(),!e||i.isFocused()||(i.focus(),!this.$focusTimeout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(t),this.startSelect(n,t.domEvent._clicks>1),t.preventDefault()):(this.setState("focusWait"),void this.captureMouse(t)))},this.startSelect=function(t,e){t=t||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(t):e||n.selection.moveToPosition(t),e||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var t,e=this.editor,n=e.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)t=this.$clickSelection.end;else if(1==i)t=this.$clickSelection.start;else{var o=r(this.$clickSelection,n);n=o.cursor,t=o.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(n),e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(t){var e,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[t](i.row,i.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==s&&a<=0)e=this.$clickSelection.end,o.end.row==i.row&&o.end.column==i.column||(i=o.start);else if(1==a&&s>=0)e=this.$clickSelection.start,o.start.row==i.row&&o.start.column==i.column||(i=o.end);else if(-1==s&&1==a)i=o.end,e=o.start;else{var l=r(this.$clickSelection,i);i=l.cursor,e=l.anchor}n.selection.setSelectionAnchor(e.row,e.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var t=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),e=Date.now();(t>s||e-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(t){var e=t.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(e);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(t){var e=t.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(e.row,e.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(t){if(!t.getAccelKey()){t.getShiftKey()&&t.wheelY&&!t.wheelX&&(t.wheelX=t.wheelY,t.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=t.domEvent.timeStamp,r=i-n.t,o=r?t.wheelX/r:n.vx,s=r?t.wheelY/r:n.vy;r<a&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var l=Math.abs(o/s),c=!1;if(l>=1&&e.renderer.isScrollableBy(t.wheelX*t.speed,0)&&(c=!0),l<=1&&e.renderer.isScrollableBy(0,t.wheelY*t.speed)&&(c=!0),c)n.allowed=i;else if(i-n.allowed<a){Math.abs(o)<=1.1*Math.abs(n.vx)&&Math.abs(s)<=1.1*Math.abs(n.vy)?(c=!0,n.allowed=i):n.allowed=0}return n.t=i,n.vx=o,n.vy=s,c?(e.renderer.scrollBy(t.wheelX*t.speed,t.wheelY*t.speed),t.stop()):void 0}},this.onTouchMove=function(t){this.editor._emit("mousewheel",t)}}).call(n.prototype),e.DefaultHandlers=n}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(t,e){"use strict";function n(t){this.isOpen=!1,this.$element=null,this.$parentNode=t}t("./lib/oop");var i=t("./lib/dom");(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(t){this.getElement().textContent=t},this.setHtml=function(t){this.getElement().innerHTML=t},this.setPosition=function(t,e){this.getElement().style.left=t+"px",this.getElement().style.top=e+"px"},this.setClassName=function(t){i.addCssClass(this.getElement(),t)},this.show=function(t,e,n){null!=t&&this.setText(t),null!=e&&null!=n&&this.setPosition(e,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(n.prototype),e.Tooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(t,e){"use strict";function n(t){function e(){var e=l.getDocumentPosition().row,i=h.$annotations[e];if(!i)return n();if(e==u.session.getLength()){var r=u.renderer.pixelToScreenCoordinates(0,l.y).row,s=l.$pos;if(r>u.session.documentToScreenRow(s.row,s.column))return n()}if(c!=i)if(c=i.text.join("<br/>"),d.setHtml(c),d.show(),u._signal("showGutterTooltip",d),u.on("mousewheel",n),t.$tooltipFollowsMouse)o(l);else{var a=l.domEvent.target.getBoundingClientRect(),f=d.getElement().style;f.left=a.right+"px",f.top=a.bottom+"px"}}function n(){a&&(a=clearTimeout(a)),c&&(d.hide(),c=null,u._signal("hideGutterTooltip",d),u.removeEventListener("mousewheel",n))}function o(t){d.setPosition(t.x,t.y)}var a,l,c,u=t.editor,h=u.renderer.$gutterLayer,d=new i(u.container);t.editor.setDefaultHandler("guttermousedown",function(e){if(u.isFocused()&&0==e.getButton()&&"foldWidgets"!=h.getRegion(e)){var n=e.getDocumentPosition().row,i=u.session.selection;if(e.getShiftKey())i.selectTo(n,0);else{if(2==e.domEvent.detail)return u.selectAll(),e.preventDefault();t.$clickSelection=u.selection.getLineRange(n)}return t.setState("selectByLines"),t.captureMouse(e),e.preventDefault()}}),t.editor.setDefaultHandler("guttermousemove",function(i){var s=i.domEvent.target||i.domEvent.srcElement;if(r.hasCssClass(s,"ace_fold-widget"))return n();c&&t.$tooltipFollowsMouse&&o(i),l=i,a||(a=setTimeout(function(){a=null,l&&!t.isMousePressed?e():n()},50))}),s.addListener(u.renderer.$gutter,"mouseout",function(){l=null,c&&!a&&(a=setTimeout(function(){a=null,n()},50))}),u.on("changeSession",n)}function i(t){a.call(this,t)}var r=t("../lib/dom"),o=t("../lib/oop"),s=t("../lib/event"),a=t("../tooltip").Tooltip;o.inherits(i,a),function(){this.setPosition=function(t,e){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();(t+=15)+r>n&&(t-=t+r-n),(e+=15)+o>i&&(e-=20+o),a.prototype.setPosition.call(this,t,e)}}.call(i.prototype),e.GutterHandler=n}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e){"use strict";var n=t("../lib/event"),i=t("../lib/useragent"),r=e.MouseEvent=function(t,e){this.domEvent=t,this.editor=e,this.x=this.clientX=t.clientX,this.y=this.clientY=t.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var t=this.editor.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var e=this.getDocumentPosition();this.$inSelection=t.contains(e.row,e.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=i.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,e){"use strict";function n(t){function e(t,e){var n=Date.now(),r=!e||t.row!=e.row,o=!e||t.column!=e.column;!T||r||o?(m.moveCursorToPosition(t),T=n,A={x:b,y:w}):i(A.x,A.y,b,w)>c?T=null:n-T>=l&&(m.renderer.scrollCursorIntoView(),T=null)}function n(t,e){var n=Date.now(),i=m.renderer.layerConfig.lineHeight,r=m.renderer.layerConfig.characterWidth,o=m.renderer.scroller.getBoundingClientRect(),s={x:{left:b-o.left,right:o.right-b},y:{top:w-o.top,bottom:o.bottom-w}},l=Math.min(s.x.left,s.x.right),c=Math.min(s.y.top,s.y.bottom),u={row:t.row,column:t.column};l/r<=2&&(u.column+=s.x.left<s.x.right?-3:2),c/i<=1&&(u.row+=s.y.top<s.y.bottom?-1:1);var h=t.row!=u.row,d=t.column!=u.column,f=!e||t.row!=e.row;h||d&&!f?E?n-E>=a&&m.renderer.scrollCursorIntoView(u):E=n:E=null}function u(){var t=S;e(S=m.renderer.screenToTextCoordinates(b,w),t),n(S,t)}function h(){C=m.selection.toOrientedRange(),y=m.session.addMarker(C,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(x),u(),x=setInterval(u,20),R=0,o.addListener(document,"mousemove",f)}function d(){clearInterval(x),m.session.removeMarker(y),y=null,m.selection.fromOrientedRange(C),m.isFocused()&&!_&&m.renderer.$cursorLayer.setBlinking(!m.getReadOnly()),C=null,S=null,R=0,E=null,T=null,o.removeListener(document,"mousemove",f)}function f(){null==D&&(D=setTimeout(function(){null!=D&&y&&d()},20))}function p(t){var e=t.types;return!e||Array.prototype.some.call(e,function(t){return"text/plain"==t||"Text"==t})}function g(t){var e=["copy","copymove","all","uninitialized"],n=["move","copymove","linkmove","all","uninitialized"],i=s.isMac?t.altKey:t.ctrlKey,r="uninitialized";try{r=t.dataTransfer.effectAllowed.toLowerCase()}catch(t){}var o="none";return i&&e.indexOf(r)>=0?o="copy":n.indexOf(r)>=0?o="move":e.indexOf(r)>=0&&(o="copy"),o}var m=t.editor,v=r.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",s.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(e){t[e]=this[e]},this),m.addEventListener("mousedown",this.onMouseDown.bind(t));var y,b,w,x,C,S,k,_,E,T,A,M=m.container,R=0;this.onDragStart=function(t){if(this.cancelDrag||!M.draggable){var e=this;return setTimeout(function(){e.startSelect(),e.captureMouse(t)},0),t.preventDefault()}C=m.getSelectionRange();var n=t.dataTransfer;n.effectAllowed=m.getReadOnly()?"copy":"copyMove",s.isOpera&&(m.container.appendChild(v),v.scrollTop=0),n.setDragImage&&n.setDragImage(v,0,0),s.isOpera&&m.container.removeChild(v),n.clearData(),n.setData("Text",m.session.getTextRange()),_=!0,this.setState("drag")},this.onDragEnd=function(t){if(M.draggable=!1,_=!1,this.setState(null),!m.getReadOnly()){var e=t.dataTransfer.dropEffect;!k&&"move"==e&&m.session.remove(m.getSelectionRange()),m.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(t){if(!m.getReadOnly()&&p(t.dataTransfer))return b=t.clientX,w=t.clientY,y||h(),R++,t.dataTransfer.dropEffect=k=g(t),o.preventDefault(t)},this.onDragOver=function(t){if(!m.getReadOnly()&&p(t.dataTransfer))return b=t.clientX,w=t.clientY,y||(h(),R++),null!==D&&(D=null),t.dataTransfer.dropEffect=k=g(t),o.preventDefault(t)},this.onDragLeave=function(t){if(--R<=0&&y)return d(),k=null,o.preventDefault(t)},this.onDrop=function(t){if(S){var e=t.dataTransfer;if(_)switch(k){case"move":C=C.contains(S.row,S.column)?{start:S,end:S}:m.moveText(C,S);break;case"copy":C=m.moveText(C,S,!0)}else{var n=e.getData("Text");C={start:S,end:m.session.insert(S,n)},m.focus(),k=null}return d(),o.preventDefault(t)}},o.addListener(M,"dragstart",this.onDragStart.bind(t)),o.addListener(M,"dragend",this.onDragEnd.bind(t)),o.addListener(M,"dragenter",this.onDragEnter.bind(t)),o.addListener(M,"dragover",this.onDragOver.bind(t)),o.addListener(M,"dragleave",this.onDragLeave.bind(t)),o.addListener(M,"drop",this.onDrop.bind(t));var D=null}function i(t,e,n,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))}var r=t("../lib/dom"),o=t("../lib/event"),s=t("../lib/useragent"),a=200,l=200,c=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor;t.container.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var e=s.isWin?"default":"move";t.renderer.setCursorStyle(e),this.setState("dragReady")},this.onMouseDrag=function(){var t=this.editor.container;s.isIE&&"dragReady"==this.state&&(i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,n=t.inSelection(),i=t.getButton();if(1===(t.domEvent.detail||1)&&0===i&&n){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in r&&(r.unselectable="on"),e.getDragDelay()){if(s.isWebKit)this.cancelDrag=!0,e.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(n.prototype),e.DragdropHandler=n}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,e){"use strict";var n=t("./dom");e.get=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&e(n.responseText)},n.send(null)},e.loadScript=function(t,e){var i=n.getDocumentHead(),r=document.createElement("script");r.src=t,i.appendChild(r),r.onload=r.onreadystatechange=function(t,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||e())}},e.qualifyURL=function(t){var e=document.createElement("a");return e.href=t,e.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,e){"use strict";var n={},i=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(t,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[t]||[],o=this._defaultHandlers[t];if(n.length||o){"object"==typeof e&&e||(e={}),e.type||(e.type=t),e.stopPropagation||(e.stopPropagation=i),e.preventDefault||(e.preventDefault=r),n=n.slice();for(var s=0;s<n.length&&(n[s](e,this),!e.propagationStopped);s++);return o&&!e.defaultPrevented?o(e,this):void 0}},n._signal=function(t,e){var n=(this._eventRegistry||{})[t];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](e,this)}},n.once=function(t,e){var n=this;e&&this.addEventListener(t,function i(){n.removeEventListener(t,i),e.apply(null,arguments)})},n.setDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[t]){var i=n[t],r=n._disabled_[t];r||(n._disabled_[t]=r=[]),r.push(i);var o=r.indexOf(e);-1!=o&&r.splice(o,1)}n[t]=e},n.removeDefaultHandler=function(t,e){var n=this._defaultHandlers;if(n){var i=n._disabled_[t];if(n[t]==e)i&&this.setDefaultHandler(t,i.pop());else if(i){var r=i.indexOf(e);-1!=r&&i.splice(r,1)}}},n.on=n.addEventListener=function(t,e,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[t];return i||(i=this._eventRegistry[t]=[]),-1==i.indexOf(e)&&i[n?"unshift":"push"](e),e},n.off=n.removeListener=n.removeEventListener=function(t,e){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[t];if(n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}},n.removeAllListeners=function(t){this._eventRegistry&&(this._eventRegistry[t]=[])},e.EventEmitter=n}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e){"no use strict";function n(){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function i(t,e){var n=new Error(t);n.data=e,"object"==typeof console&&console.error&&console.error(n),setTimeout(function(){throw n})}var r=t("./oop"),o=t("./event_emitter").EventEmitter,s={setOptions:function(t){Object.keys(t).forEach(function(e){this.setOption(e,t[e])},this)},getOptions:function(t){var e={};if(t)Array.isArray(t)||(e=t,t=Object.keys(e));else{var n=this.$options;t=Object.keys(n).filter(function(t){return!n[t].hidden})}return t.forEach(function(t){e[t]=this.getOption(t)},this),e},setOption:function(t,e){if(this["$"+t]!==e){var i=this.$options[t];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].setOption(t,e):(i.handlesSet||(this["$"+t]=e),void(i&&i.set&&i.set.call(this,e))):n('misspelled option "'+t+'"')}},getOption:function(t){var e=this.$options[t];return e?e.forwardTo?this[e.forwardTo]&&this[e.forwardTo].getOption(t):e&&e.get?e.get.call(this):this["$"+t]:n('misspelled option "'+t+'"')}},a=function(){this.$defaultOptions={}};(function(){r.implement(this,o),this.defineOptions=function(t,e,n){return t.$options||(this.$defaultOptions[e]=t.$options={}),Object.keys(n).forEach(function(e){var i=n[e];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=e),t.$options[i.name]=i,"initialValue"in i&&(t["$"+i.name]=i.initialValue)}),r.implement(t,s),this},this.resetOptions=function(t){Object.keys(t.$options).forEach(function(e){var n=t.$options[e];"value"in n&&t.setOption(e,n.value)})},this.setDefaultValue=function(t,e,n){var i=this.$defaultOptions[t]||(this.$defaultOptions[t]={});i[e]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,e,n):i[e].value=n)},this.setDefaultValues=function(t,e){Object.keys(e).forEach(function(n){this.setDefaultValue(t,n,e[n])},this)},this.warn=n,this.reportError=i}).call(a.prototype),e.AppConfig=a}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(t,e,n){"no use strict";function i(i){if(l&&l.document){c.packaged=i||t.packaged||n.packaged||l.define&&define.packaged;for(var o={},s="",a=document.currentScript||document._currentScript,u=(a&&a.ownerDocument||document).getElementsByTagName("script"),h=0;h<u.length;h++){var d=u[h],f=d.src||d.getAttribute("src");if(f){for(var p=d.attributes,g=0,m=p.length;g<m;g++){var v=p[g];0===v.name.indexOf("data-ace-")&&(o[r(v.name.replace(/^data-ace-/,""))]=v.value)}var y=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(s=y[1])}}for(var b in s&&(o.base=o.base||s,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)"undefined"!=typeof o[b]&&e.set(b,o[b])}}function r(t){return t.replace(/-(.)/g,function(t,e){
return e.toUpperCase()})}var o=t("./lib/lang"),s=(t("./lib/oop"),t("./lib/net")),a=t("./lib/app_config").AppConfig;n.exports=e=new a;var l=function(){return this||"undefined"!=typeof window&&window}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};e.get=function(t){if(!c.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return c[t]},e.set=function(t,e){if(!c.hasOwnProperty(t))throw new Error("Unknown config key: "+t);c[t]=e},e.all=function(){return o.copyObject(c)},e.$modes={},e.moduleUrl=function(t,e){if(c.$moduleUrls[t])return c.$moduleUrls[t];var n=t.split("/"),i="snippets"==(e=e||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==e&&"-"==i){var o=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");r=r.replace(o,"")}(!r||r==e)&&n.length>1&&(r=n[n.length-2]);var s=c[e+"Path"];return null==s?s=c.basePath:"/"==i&&(e=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+e+i+r+this.get("suffix")},e.setModuleUrl=function(t,e){return c.$moduleUrls[t]=e},e.$loading={},e.loadModule=function(n,i){var r,o;Array.isArray(n)&&(o=n[0],n=n[1]);try{r=t(n)}catch(l){}if(r&&!e.$loading[n])return i&&i(r);if(e.$loading[n]||(e.$loading[n]=[]),e.$loading[n].push(i),!(e.$loading[n].length>1)){var a=function(){t([n],function(t){e._emit("load.module",{name:n,module:t});var i=e.$loading[n];e.$loading[n]=null,i.forEach(function(e){e&&e(t)})})};if(!e.get("packaged"))return a();s.loadScript(e.moduleUrl(n,o),a),u()}};var u=function(){!c.basePath&&!c.workerPath&&!c.modePath&&!c.themePath&&!Object.keys(c.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),u=function(){})};e.init=i}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(t,e){"use strict";var n=t("../lib/event"),i=t("../lib/useragent"),r=t("./default_handlers").DefaultHandlers,o=t("./default_gutter_handler").GutterHandler,s=t("./mouse_event").MouseEvent,a=t("./dragdrop_handler").DragdropHandler,l=t("../config"),c=function(t){var e=this;this.editor=t,new r(this),new o(this),new a(this);var s=function(){(!document.hasFocus||!document.hasFocus()||!t.isFocused()&&document.activeElement==(t.textInput&&t.textInput.getElement()))&&window.focus(),t.focus()},l=t.renderer.getMouseEventTarget();n.addListener(l,"click",this.onMouseEvent.bind(this,"click")),n.addListener(l,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener([l,t.renderer.scrollBarV&&t.renderer.scrollBarV.inner,t.renderer.scrollBarH&&t.renderer.scrollBarH.inner,t.textInput&&t.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),n.addMouseWheelListener(t.container,this.onMouseWheel.bind(this,"mousewheel")),n.addTouchMoveListener(t.container,this.onTouchMove.bind(this,"touchmove"));var c=t.renderer.$gutter;n.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(l,"mousedown",s),n.addListener(c,"mousedown",s),i.isIE&&t.renderer.scrollBarV&&(n.addListener(t.renderer.scrollBarV.element,"mousedown",s),n.addListener(t.renderer.scrollBarH.element,"mousedown",s)),t.on("mousemove",function(n){if(!e.state&&!e.$dragDelay&&e.$dragEnabled){var i=t.renderer.screenToTextCoordinates(n.x,n.y),r=t.session.selection.getRange(),o=t.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};(function(){this.onMouseEvent=function(t,e){this.editor._emit(t,new s(e,this.editor))},this.onMouseMove=function(t,e){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(t,new s(e,this.editor))},this.onMouseWheel=function(t,e){var n=new s(e,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.onTouchMove=function(t,e){var n=new s(e,this.editor);n.speed=1,n.wheelX=e.wheelX,n.wheelY=e.wheelY,this.editor._emit(t,n)},this.setState=function(t){this.state=t},this.captureMouse=function(t,e){this.x=t.x,this.y=t.y,this.isMousePressed=!0;var r=this.editor,o=this.editor.renderer;o.$keepTextAreaAtCursor&&(o.$keepTextAreaAtCursor=null);var a=this,l=function(t){if(t)return i.isWebKit&&!t.which&&a.releaseMouse?a.releaseMouse():(a.x=t.clientX,a.y=t.clientY,e&&e(t),a.mouseEvent=new s(t,a.editor),void(a.$mouseMoved=!0))},c=function(t){r.off("beforeEndOperation",h),clearInterval(d),u(),a[a.state+"End"]&&a[a.state+"End"](t),a.state="",null==o.$keepTextAreaAtCursor&&(o.$keepTextAreaAtCursor=!0,o.$moveTextAreaToCursor()),a.isMousePressed=!1,a.$onCaptureMouseMove=a.releaseMouse=null,t&&a.onMouseEvent("mouseup",t),r.endOperation()},u=function(){a[a.state]&&a[a.state](),a.$mouseMoved=!1};if(i.isOldIE&&"dblclick"==t.domEvent.type)return setTimeout(function(){c(t)});var h=function(){a.releaseMouse&&r.curOp.command.name&&r.curOp.selectionChanged&&(a[a.state+"End"]&&a[a.state+"End"](),a.state="",a.releaseMouse())};r.on("beforeEndOperation",h),r.startOperation({command:{name:"mouse"}}),a.$onCaptureMouseMove=l,a.releaseMouse=n.capture(this.editor.container,l,c);var d=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&n.stopEvent(e.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)}}).call(c.prototype),l.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:i.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),e.MouseHandler=c}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(t,e){"use strict";function n(t){t.on("click",function(e){var n=e.getDocumentPosition(),r=t.session,o=r.getFoldAt(n.row,n.column,1);o&&(e.getAccelKey()?r.removeFold(o):r.expandFold(o),e.stop());var s=e.domEvent&&e.domEvent.target;s&&i.hasCssClass(s,"ace_inline_button")&&i.hasCssClass(s,"ace_toggle_wrap")&&(r.setOption("wrap",!0),t.renderer.scrollCursorIntoView())}),t.on("gutterclick",function(e){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(e)){var n=e.getDocumentPosition().row,i=t.session;i.foldWidgets&&i.foldWidgets[n]&&t.session.onFoldWidgetClick(n,e),t.isFocused()||t.focus(),e.stop()}}),t.on("gutterdblclick",function(e){if("foldWidgets"==t.renderer.$gutterLayer.getRegion(e)){var n=e.getDocumentPosition().row,i=t.session,r=i.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){n=o.start.row;var s=i.getFoldAt(n,i.getLine(n).length,1);s?i.removeFold(s):(i.addFold("...",o),t.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}e.stop()}})}var i=t("../lib/dom");e.FoldHandler=n}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,e){"use strict";var n=t("../lib/keys"),i=t("../lib/event"),r=function(t){this.$editor=t,this.$data={editor:t},this.$handlers=[],this.setDefaultHandler(t.commands)};(function(){this.setDefaultHandler=function(t){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=t,this.addKeyboardHandler(t,0)},this.setKeyboardHandler=function(t){var e=this.$handlers;if(e[e.length-1]!=t){for(;e[e.length-1]&&e[e.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(e[e.length-1]);this.addKeyboardHandler(t,1)}},this.addKeyboardHandler=function(t,e){if(t){"function"==typeof t&&!t.handleKeyboard&&(t.handleKeyboard=t);var n=this.$handlers.indexOf(t);-1!=n&&this.$handlers.splice(n,1),e==undefined?this.$handlers.push(t):this.$handlers.splice(e,0,t),-1==n&&t.attach&&t.attach(this.$editor)}},this.removeKeyboardHandler=function(t){var e=this.$handlers.indexOf(t);return-1!=e&&(this.$handlers.splice(e,1),t.detach&&t.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,e=t.editor;return this.$handlers.map(function(n){return n.getStatusText&&n.getStatusText(e,t)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(t,e,n,r){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,t,e,n,r))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,r))&&r&&-1!=t&&1!=o.passEvent&&1!=o.command.passEvent&&i.stopEvent(r),s)););return!s&&-1==t&&(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,e)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(t,e,i){var r=n.keyCodeToString(i);this.$callKeyboardHandlers(e,r,i,t)},this.onTextInput=function(t){this.$callKeyboardHandlers(-1,t)}}).call(r.prototype),e.KeyBinding=r}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(t,e){"use strict";function n(t,e,n,i){var f=s?d:h,p=null,g=null,m=null,v=0,y=null,b=-1,C=null,k=null,_=[];if(!i)for(C=0,i=[];C<n;C++)i[C]=o(t[C]);for(a=s,l=!1,!1,c=!1,u=!1,k=0;k<n;k++){if(p=v,_[k]=g=r(t,i,_,k),y=240&(v=f[p][g]),v&=15,e[k]=m=f[v][5],y>0)if(16==y){for(C=b;C<k;C++)e[C]=1;b=-1}else b=-1;if(f[v][6])-1==b&&(b=k);else if(b>-1){for(C=b;C<k;C++)e[C]=m;b=-1}i[k]==w&&(e[k]=0),a|=m}if(u)for(C=0;C<n;C++)if(i[C]==x){e[C]=s;for(var E=C-1;E>=0&&i[E]==S;E--)e[E]=s}}function i(t,e,n){if(!(a<t))if(1!=t||s!=p||c)for(var i,r,o,l,u=n.length,h=0;h<u;){if(e[h]>=t){for(i=h+1;i<u&&e[i]>=t;)i++;for(r=h,o=i-1;r<o;r++,o--)l=n[r],n[r]=n[o],n[o]=l;h=i}h++}else n.reverse()}function r(t,e,n,i){var r,o,a,h,d=e[i];switch(d){case g:case m:l=!1;case b:case y:return d;case v:return l?y:v;case C:return l=!0,!0,m;case S:return b;case k:return i<1||i+1>=e.length||(r=n[i-1])!=v&&r!=y||(o=e[i+1])!=v&&o!=y?b:(l&&(o=y),o==r?o:b);case _:return(r=i>0?n[i-1]:w)==v&&i+1<e.length&&e[i+1]==v?v:b;case E:if(i>0&&n[i-1]==v)return v;if(l)return b;for(h=i+1,a=e.length;h<a&&e[h]==E;)h++;return h<a&&e[h]==v?v:b;case T:for(a=e.length,h=i+1;h<a&&e[h]==T;)h++;if(h<a){var f=t[i],p=f>=1425&&f<=2303||64286==f;if(r=e[h],p&&(r==m||r==C))return m}return i<1||(r=e[i-1])==w?b:n[i-1];case w:return l=!1,c=!0,s;case x:return u=!0,b;case A:case M:case D:case L:case R:l=!1;case $:return b}}function o(t){var e=t.charCodeAt(0),n=e>>8;return 0==n?e>191?g:O[e]:5==n?/[\u0591-\u05f4]/.test(t)?m:g:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(t)?T:/[\u0660-\u0669\u066b-\u066c]/.test(t)?y:1642==e?E:/[\u06f0-\u06f9]/.test(t)?v:C:32==n&&e<=8287?P[255&e]:254==n&&e>=65136?C:b}var s=0,a=0,l=!1,c=!1,u=!1,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f=0,p=1,g=0,m=1,v=2,y=3,b=4,w=5,x=6,C=7,S=8,k=9,_=10,E=11,T=12,A=13,M=14,R=15,D=16,L=17,$=18,O=[$,$,$,$,$,$,$,$,$,x,w,x,S,w,$,$,$,$,$,$,$,$,$,$,$,$,$,$,w,w,w,x,S,b,b,E,E,E,b,b,b,b,b,_,k,_,k,k,v,v,v,v,v,v,v,v,v,v,k,b,b,b,b,b,b,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b,b,b,b,b,b,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b,b,b,b,$,$,$,$,$,$,w,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,k,b,E,E,E,E,b,b,b,b,g,b,b,$,b,b,E,E,v,v,b,g,b,b,b,v,g,b,b,b,b,b],P=[S,S,S,S,S,S,S,S,S,S,S,$,$,$,g,m,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,S,w,A,M,R,D,L,k,E,E,E,E,E,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,k,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,S];e.L=g,e.R=m,e.EN=v,e.ON_R=3,e.AN=4,e.R_H=5,e.B=6,e.RLE=7,e.DOT="\xb7",e.doBidiReorder=function(t,r,o){if(t.length<2)return{};var a=t.split(""),l=new Array(a.length),c=new Array(a.length),u=[];s=o?p:f,n(a,u,a.length,r);for(var h=0;h<l.length;l[h]=h,h++);i(2,u,l),i(1,u,l);for(h=0;h<l.length-1;h++)r[h]===y?u[h]=e.AN:u[h]===m&&(r[h]>C&&r[h]<A||r[h]===b||r[h]===$)?u[h]=e.ON_R:h>0&&"\u0644"===a[h-1]&&/\u0622|\u0623|\u0625|\u0627/.test(a[h])&&(u[h-1]=u[h]=e.R_H,h++);a[a.length-1]===e.DOT&&(u[a.length-1]=e.B),"\u202b"===a[0]&&(u[0]=e.RLE);for(h=0;h<l.length;h++)c[h]=u[l[h]];return{logicalFromVisual:l,bidiLevels:c}},e.hasBidiCharacters=function(t,e){for(var n=!1,i=0;i<t.length;i++)e[i]=o(t.charAt(i)),!n&&(e[i]==m||e[i]==C||e[i]==y)&&(n=!0);return n},e.getVisualFromLogicalIdx=function(t,e){for(var n=0;n<e.logicalFromVisual.length;n++)if(e.logicalFromVisual[n]==t)return n;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(t,e){"use strict";var n=t("./lib/bidiutil"),i=t("./lib/lang"),r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,o=function(t){this.session=t,this.bidiMap={},this.currentRow=null,this.bidiUtil=n,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=r.test(t.getValue())};(function(){this.isBidiRow=function(t,e,n){return!!this.seenBidi&&(t!==this.currentRow&&(this.currentRow=t,this.updateRowLine(e,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(t){this.seenBidi?this.currentRow=null:"insert"==t.action&&r.test(t.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var t=0,e=this.session.$screenRowCache;if(e.length){var n=this.session.$getRowCacheIndex(e,this.currentRow);n>=0&&(t=this.session.$docRowCache[n])}return t},this.getSplitIndex=function(){var t=0,e=this.session.$screenRowCache;if(e.length)for(var n,i=this.session.$getRowCacheIndex(e,this.currentRow);this.currentRow-t>0&&(n=this.session.$getRowCacheIndex(e,this.currentRow-t-1))===i;)i=n,t++;else t=this.currentRow;return t},this.updateRowLine=function(t,e){t===undefined&&(t=this.getDocumentRow());var r=t===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(t),this.isRtlDir=this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[t];o&&(e===undefined&&(e=this.getSplitIndex()),e>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[n.L],this.line=e<o.length?this.line.substring(o[e-1],o[e]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[e])),e==o.length&&(this.line+=this.showInvisibles?r:n.DOT)}else this.line+=this.showInvisibles?r:n.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(t,e){return"\t"===t||a.isFullWidth(t.charCodeAt(0))?(s="\t"===t?a.getScreenTabSize(e+l):2,l+=s-1,i.stringRepeat(n.DOT,s)):t}),this.isRtlDir&&(this.fontMetrics.$main.innerHTML=this.line.charAt(this.line.length-1)==n.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var t=[];n.hasBidiCharacters(this.line,t)||this.isRtlDir?this.bidiMap=n.doBidiReorder(this.line,t,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(t){if(this.characterWidth!==t.$characterSize.width){this.fontMetrics=t;var e=this.characterWidth=t.$characterSize.width,i=t.$measureCharWidth("\u05d4");this.charWidths[n.L]=this.charWidths[n.EN]=this.charWidths[n.ON_R]=e,this.charWidths[n.R]=this.charWidths[n.AN]=i,this.charWidths[n.R_H]=.45*i,this.charWidths[n.B]=this.charWidths[n.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(t){this.showInvisibles=t,this.currentRow=null},this.setEolChar=function(t){this.EOL=t},this.setContentWidth=function(t){this.contentWidth=t},this.isRtlLine=function(t){return t!=undefined?this.session.getLine(t).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(t,e){for(var n=t.getCursorPosition(),i=t.selection.getSelectionAnchor().row;i<=n.row;i++)e||t.session.getLine(i).charAt(0)!==t.session.$bidiHandler.RLE?e&&t.session.getLine(i).charAt(0)!==t.session.$bidiHandler.RLE&&t.session.doc.insert({column:0,row:i},t.session.$bidiHandler.RLE):t.session.doc.removeInLine(i,0,1)},this.getPosLeft=function(t){t-=this.wrapIndent;var e=this.line.charAt(0)===this.RLE?1:0,i=t>e?this.session.getOverwrite()?t:t-1:e,r=n.getVisualFromLogicalIdx(i,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&t<=e&&o[r]%2!=0&&r++;for(var a=0;a<r;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&t>e&&o[r]%2==0&&(s+=this.charWidths[o[r]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(t,e){var n,i=this.bidiMap,r=i.bidiLevels,o=[],s=0,a=Math.min(t,e)-this.wrapIndent,l=Math.max(t,e)-this.wrapIndent,c=!1,u=!1,h=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,f=0;f<r.length;f++)d=i.logicalFromVisual[f],n=r[f],(c=d>=a&&d<l)&&!u?h=s:!c&&u&&o.push({left:h,width:s-h}),s+=this.charWidths[n],u=c;if(c&&f===r.length&&o.push({left:h,width:s-h}),this.isRtlDir)for(var p=0;p<o.length;p++)o[p].left+=this.rtlLineOffset;return o},this.offsetToCol=function(t){this.isRtlDir&&(t-=this.rtlLineOffset);var e=0,n=(t=Math.max(t,0),0),i=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[i]];for(this.wrapIndent&&(t-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);t>n+o/2;){if(n+=o,i===r.length-1){o=0;break}o=this.charWidths[r[++i]]}return i>0&&r[i-1]%2!=0&&r[i]%2==0?(t<n&&i--,e=this.bidiMap.logicalFromVisual[i]):i>0&&r[i-1]%2==0&&r[i]%2!=0?e=1+(t>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===o&&r[i-1]%2==0||!this.isRtlDir&&0===i&&r[i]%2!=0?e=1+this.bidiMap.logicalFromVisual[i]:(i>0&&r[i-1]%2!=0&&0!==o&&i--,e=this.bidiMap.logicalFromVisual[i]),0===e&&this.isRtlDir&&e++,e+this.wrapIndent}}).call(o.prototype),e.BidiHandler=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,e){"use strict";var n=t("./lib/oop"),i=t("./lib/lang"),r=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,s=function(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var e=this;this.cursor.on("change",function(t){e.$cursorChanged=!0,e.$silent||e._emit("changeCursor"),!e.$isEmpty&&!e.$silent&&e._emit("changeSelection"),!e.$keepDesiredColumnOnChange&&t.old.column!=t.value.column&&(e.$desiredColumn=null)}),this.anchor.on("change",function(){e.$anchorChanged=!0,!e.$isEmpty&&!e.$silent&&e._emit("changeSelection")})};(function(){n.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(t,e){this.$isEmpty=!1,this.anchor.setPosition(t,e)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var t=this.anchor,e=this.lead;return t.row>e.row||t.row==e.row&&t.column>e.column},this.getRange=function(){var t=this.anchor,e=this.lead;return this.$isEmpty?o.fromPoints(e,e):this.isBackwards()?o.fromPoints(e,t):o.fromPoints(t,e)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(t,e){var n=e?t.end:t.start,i=e?t.start:t.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(t,e,n,i){var r=this.$isEmpty,s=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,e),this.cursor.setPosition(n,i),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||s)&&this._emit("changeSelection")},this.$moveSelection=function(t){var e=this.lead;this.$isEmpty&&this.setSelectionAnchor(e.row,e.column),t.call(this)},this.selectTo=function(t,e){this.$moveSelection(function(){this.moveCursorTo(t,e)})},this.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},this.moveTo=function(t,e){this.clearSelection(),this.moveCursorTo(t,e)},this.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(t,e){if(void 0===e){var n=t||this.lead;t=n.row,e=n.column}return this.session.getWordRange(t,e)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var t=this.getCursor(),e=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(e)},this.getLineRange=function(t,e){var n,i="number"==typeof t?t:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===e?new o(i,0,n,this.session.getLine(n).length):new o(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(t,e,n){var i=t.column,r=t.column+e;return n<0&&(i=t.column-e,r=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(i,r).split(" ").length-1==e},this.moveCursorLeft=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,-1))this.moveCursorTo(t.start.row,t.start.column);else if(0===e.column)e.row>0&&this.moveCursorTo(e.row-1,this.doc.getLine(e.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(e,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var t,e=this.lead.getPosition();if(t=this.session.getFoldAt(e.row,e.column,1))this.moveCursorTo(t.end.row,t.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();e=this.lead;this.wouldMoveIntoSoftTab(e,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var t=this.lead.row,e=this.lead.column,n=this.session.documentToScreenRow(t,e),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(t,null,i.row,i.column).match(/^\s*/);r[0].length!=e&&!this.session.$useEmacsStyleLineStart&&(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var t=this.lead,e=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==e.column){var n=this.session.getLine(e.row);if(e.column==n.length){var i=n.search(/\s+$/);i>0&&(e.column=i)}}this.moveCursorTo(e.row,e.column)},this.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,e=this.doc.getLine(t).length;this.moveCursorTo(t,e)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(t,e,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(e+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(e)),e>=n.length)return this.moveCursorTo(t,n.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(e+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,e)}},this.moveCursorLongWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))this.moveCursorTo(t.start.row,t.start.column);else{var r=this.session.getFoldStringAt(e,n,-1);null==r&&(r=this.doc.getLine(e).substring(0,n));var o=i.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(e,0),this.moveCursorLeft(),void(e>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,n)}},this.$shortWordEndIndex=function(t){var e,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(t))n=this.session.tokenRe.lastIndex;else{for(;(e=t[n])&&i.test(e);)n++;if(n<1)for(r.lastIndex=0;(e=t[n])&&!r.test(e);)if(r.lastIndex=0,n++,i.test(e)){if(n>2){n--;break}for(;(e=t[n])&&i.test(e);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var t=this.lead.row,e=this.lead.column,n=this.doc.getLine(t),i=n.substring(e),r=this.session.getFoldAt(t,e,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(e==n.length){var o=this.doc.getLength();do{t++,i=this.doc.getLine(t)}while(t<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),e=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(t,e+s)},this.moveCursorShortWordLeft=function(){var t,e=this.lead.row,n=this.lead.column;if(t=this.session.getFoldAt(e,n,-1))return this.moveCursorTo(t.start.row,t.start.column);var r=this.session.getLine(e).substring(0,n);if(0===n){do{e--,r=this.doc.getLine(e)}while(e>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var o=i.stringReverse(r),s=this.$shortWordEndIndex(o);return this.moveCursorTo(e,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(t,e){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===e&&(0!==t&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);var r=this.session.screenToDocumentPosition(i.row+t,i.column,n);0!==t&&0===e&&r.row===this.lead.row&&r.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[r.row]&&(r.row>0||t>0)&&r.row++,this.moveCursorTo(r.row,r.column+e,0===e)},this.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},this.moveCursorTo=function(t,e,n){var i=this.session.getFoldAt(t,e,1);i&&(t=i.start.row,e=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(r.charAt(e))&&r.charAt(e-1)&&(this.lead.row==t&&this.lead.column==e+1?e-=1:e+=1),this.lead.setPosition(t,e),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(t,e,n){var i=this.session.screenToDocumentPosition(t,e);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(t){var e=this.getRange();return t?(t.start.column=e.start.column,t.start.row=e.start.row,t.end.column=e.end.column,t.end.row=e.end.row):t=e,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},this.getRangeOfMovements=function(t){var e=this.getCursor();try{t(this);var i=this.getCursor();return o.fromPoints(e,i)}catch(n){return o.fromPoints(e,e)}finally{this.moveCursorToPosition(e)}},this.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(t){var e=t.clone();return e.isBackwards=t.cursor==t.start,e});else(t=this.getRange()).isBackwards=this.isBackwards();return t},this.fromJSON=function(t){if(t.start==undefined){if(this.rangeList){this.toSingleRange(t[0]);for(var e=t.length;e--;){var n=o.fromPoints(t[e].start,t[e].end);t[e].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}t=t[0]}this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},this.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var e=this.ranges.length;e--;)if(!this.ranges[e].isEqual(t[e]))return!1;return!0}}).call(s.prototype),e.Selection=s}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(t,e){"use strict";var n=t("./config"),i=2e3,r=function(t){for(var e in this.states=t,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[e],i=[],r=0,o=this.matchMappings[e]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"==typeof c.token&&!c.onMatch&&(c.onMatch=h>1?this.$applyToken:c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(t,e){return"\\"+(parseInt(e,10)+r+1)}):(h=1,u=this.removeCapturingGroups(c.regex)),!c.splitRegex&&"string"!=typeof c.token&&a.push(c)),o[r]=l,r+=h,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach(function(t){t.splitRegex=this.createSplitterRegexp(t.regex,s)},this),this.regExps[e]=new RegExp("("+i.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(t){i=0|t},this.$applyToken=function(t){var e=this.splitRegex.exec(t).slice(1),n=this.token.apply(this,e);if("string"==typeof n)return[{type:n,value:t}];for(var i=[],r=0,o=n.length;r<o;r++)e[r]&&(i[i.length]={type:n[r],value:e[r]});return i},this.$arrayTokens=function(t){if(!t)return[];var e=this.splitRegex.exec(t);if(!e)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;r<o;r++)e[r+1]&&(n[n.length]={type:i[r],value:e[r+1]});return n},this.removeCapturingGroups=function(t){return t.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(t,e){return e?"(?:":t})},this.createSplitterRegexp=function(t,e){if(-1!=t.indexOf("(?=")){var n=0,i=!1,r={};t.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(t,e,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),t}),null!=r.end&&/^\)*$/.test(t.substr(r.end))&&(t=t.substring(0,r.start)+t.substr(r.end))}return"^"!=t.charAt(0)&&(t="^"+t),"$"!=t.charAt(t.length-1)&&(t+="$"),new RegExp(t,(e||"").replace("g",""))},this.getLineTokens=function(t,e){if(e&&"string"!=typeof e)"#tmp"===(e=(n=e.slice(0))[0])&&(n.shift(),e=n.shift());else var n=[];var r=e||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(t);){var f=s.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var v=t.substring(u,m-g.length);d.type==f?d.value+=v:(d.type&&c.push(d),d={type:f,value:v})}for(var y=0;y<l.length-2;y++)if(l[y+1]!==undefined){f=(p=o[s[y]]).onMatch?p.onMatch(g,r,n,t):p.token,p.next&&(r="string"==typeof p.next?p.next:p.next(r,n),
(o=this.states[r])||(this.reportError("state doesn't exist",r),r="start",o=this.states[r]),s=this.matchMappings[r],u=m,(a=this.regExps[r]).lastIndex=m),p.consumeLineEnd&&(u=m);break}if(g)if("string"==typeof f)p&&!1===p.merge||d.type!==f?(d.type&&c.push(d),d={type:f,value:g}):d.value+=g;else if(f){d.type&&c.push(d),d={type:null,value:""};for(y=0;y<f.length;y++)c.push(f[y])}if(u==t.length)break;if(u=m,h++>i){for(h>2*t.length&&this.reportError("infinite loop with in ace tokenizer",{startState:e,line:t});u<t.length;)d.type&&c.push(d),d={value:t.substring(u,u+=2e3),type:"overflow"};r="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},this.reportError=n.reportError}).call(r.prototype),e.Tokenizer=r}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(t,e){"use strict";var n=t("../lib/lang"),i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(t,e){if(e)for(var n in t){for(var i=t[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(e)&&(o.next=e+o.next),o.nextState&&0!==o.nextState.indexOf(e)&&(o.nextState=e+o.nextState))}this.$rules[e+n]=i}else for(var n in t)this.$rules[n]=t[n]},this.getRules=function(){return this.$rules},this.embedRules=function(t,e,i,r,o){var s="function"==typeof t?(new t).getRules():t;if(r)for(var a=0;a<r.length;a++)r[a]=e+r[a];else for(var l in r=[],s)r.push(e+l);if(this.addRules(s,e),i){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<r.length;a++)c.apply(this.$rules[r[a]],n.deepCopy(i))}this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var t=function(t,e){return("start"!=t||e.length)&&e.unshift(this.nextState,t),this.nextState},e=function(t,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){function n(o){var s=r[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),r[h]&&(h+=i++)),r[h]=u,l.next=h,n(h)}else"pop"==u&&(l.next=e);if(l.push&&(l.nextState=l.next||l.push,l.next=t,delete l.push),l.rules)for(var d in l.rules)r[d]?r[d].push&&r[d].push.apply(r[d],l.rules[d]):r[d]=l.rules[d];var f="string"==typeof l?l:l.include;if(f&&(c=Array.isArray(f)?f.map(function(t){return r[t]}):r[f]),c){var p=[a,1].concat(c);l.noEscape&&(p=p.filter(function(t){return!t.next})),s.splice.apply(s,p),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var i=0,r=this.$rules;Object.keys(r).forEach(n,this)},this.createKeywordMapper=function(t,e,n,i){var r=Object.create(null);return Object.keys(t).forEach(function(e){var o=t[e];n&&(o=o.toLowerCase());for(var s=o.split(i||"|"),a=s.length;a--;)r[s[a]]=e}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),t=null,n?function(t){return r[t.toLowerCase()]||e}:function(t){return r[t]||e}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),e.TextHighlightRules=i}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,e){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(t,e,n){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[t]:this.$behaviours[t]={}}this.$behaviours[t][e]=n},this.addBehaviours=function(t){for(var e in t)for(var n in t[e])this.add(e,n,t[e][n])},this.remove=function(t){this.$behaviours&&this.$behaviours[t]&&delete this.$behaviours[t]},this.inherit=function(t,e){if("function"==typeof t)var n=(new t).getBehaviours(e);else n=t.getBehaviours(e);this.addBehaviours(n)},this.getBehaviours=function(t){if(!t)return this.$behaviours;for(var e={},n=0;n<t.length;n++)this.$behaviours[t[n]]&&(e[t[n]]=this.$behaviours[t[n]]);return e}}).call(n.prototype),e.Behaviour=n}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(t,e){"use strict";var n=t("./range").Range,i=function(t,e,n){this.$session=t,this.$row=e,this.$rowTokens=t.getTokens(e);var i=t.getTokenAt(e,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var t;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,t||(t=this.$session.getLength()),this.$row>=t)return this.$row=t-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var t=this.$rowTokens,e=this.$tokenIndex,n=t[e].start;if(n!==undefined)return n;for(n=0;e>0;)n+=t[e-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],e=this.getCurrentTokenColumn();return new n(this.$row,e,this.$row,e+t.value.length)}}).call(i.prototype),e.TokenIterator=i}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,e){"use strict";var n,i=t("../../lib/oop"),r=t("../behaviour").Behaviour,o=t("../../token_iterator").TokenIterator,s=t("../../lib/lang"),a=["text","paren.rparen","punctuation.operator"],l=["text","paren.rparen","punctuation.operator","comment"],c={},u={'"':'"',"'":"'"},h=function(t){var e=-1;if(t.multiSelect&&(e=t.selection.index,c.rangeCount!=t.multiSelect.rangeCount&&(c={rangeCount:t.multiSelect.rangeCount})),c[e])return n=c[e];n=c[e]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},d=function(t,e,n,i){var r=t.end.row-t.start.row;return{text:n+e+i,selection:[0,t.start.column+1,r,t.end.column+(r?0:1)]}},f=function(t){this.add("braces","insertion",function(e,i,r,o,a){var l=r.getCursorPosition(),c=o.doc.getLine(l.row);if("{"==a){h(r);var u=r.getSelectionRange(),p=o.doc.getTextRange(u);if(""!==p&&"{"!==p&&r.getWrapBehavioursEnabled())return d(u,p,"{","}");if(f.isSaneInsertion(r,o))return/[\]\}\)]/.test(c[l.column])||r.inMultiSelectMode||t&&t.braces?(f.recordAutoInsert(r,o,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(r,o,"{"),{text:"{",selection:[1,1]})}else if("}"==a){if(h(r),"}"==c.substring(l.column,l.column+1))if(null!==o.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&f.isAutoInsertedClosing(l,c,a))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==a||"\r\n"==a){h(r);var g="";if(f.isMaybeInsertedClosing(l,c)&&(g=s.stringRepeat("}",n.maybeInsertedBrackets),f.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var m=o.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var v=this.$getIndent(o.getLine(m.row))}else{if(!g)return void f.clearMaybeInsertedClosing();v=this.$getIndent(c)}var y=v+o.getTabString();return{text:"\n"+y+"\n"+v+g,selection:[1,y.length,1,y.length]}}f.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(t,e,i,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(h(i),"}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(t,e,n,i,r){if("("==r){h(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return d(o,s,"(",")");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){h(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1))if(null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(t,e,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(h(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("brackets","insertion",function(t,e,n,i,r){if("["==r){h(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return d(o,s,"[","]");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){h(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1))if(null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(t,e,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(h(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r}),this.add("string_dquotes","insertion",function(t,e,n,i,r){var o=i.$mode.$quotes||u;if(1==r.length&&o[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;h(n);var s=r,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(""!==l&&(1!=l.length||!o[l])&&n.getWrapBehavioursEnabled())return d(a,l,s,s);if(!l){var c=n.getCursorPosition(),f=i.doc.getLine(c.row),p=f.substring(c.column-1,c.column),g=f.substring(c.column,c.column+1),m=i.getTokenAt(c.row,c.column),v=i.getTokenAt(c.row,c.column+1);if("\\"==p&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),w=!v||/string|escape/.test(v.type);if(g==s)(y=b!==w)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var x=i.$mode.tokenRe;x.lastIndex=0;var C=x.test(p);x.lastIndex=0;var S=x.test(p);if(C||S)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;y=!0}return{text:y?s+s:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(t,e,n,i,r){var o=i.$mode.$quotes||u,s=i.doc.getTextRange(r);if(!r.isMultiLine()&&o.hasOwnProperty(s)&&(h(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r})};f.isSaneInsertion=function(t,e){var n=t.getCursorPosition(),i=new o(e,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",a)){var r=new o(e,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",a))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",l)},f.$matchTokenType=function(t,e){return e.indexOf(t.type||t)>-1},f.recordAutoInsert=function(t,e,i){var r=t.getCursorPosition(),o=e.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+o.substr(r.column),n.autoInsertedBrackets++},f.recordMaybeInsert=function(t,e,i){var r=t.getCursorPosition(),o=e.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=o.substr(0,r.column)+i,n.maybeInsertedLineEnd=o.substr(r.column),n.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(t,e,i){return n.autoInsertedBrackets>0&&t.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&e.substr(t.column)===n.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(t,e){return n.maybeInsertedBrackets>0&&t.row===n.maybeInsertedRow&&e.substr(t.column)===n.maybeInsertedLineEnd&&e.substr(0,t.column)==n.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},i.inherits(f,r),e.CstyleBehaviour=f}),ace.define("ace/unicode",["require","exports","module"],function(t,e){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],i=0,r=[],o=0;o<n.length;o+=2)r.push(i+=n[o]),n[o+1]&&r.push(45,i+=n[o+1]);e.wordChars=String.fromCharCode.apply(null,r)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,e){"use strict";var n=t("../config"),i=t("../tokenizer").Tokenizer,r=t("./text_highlight_rules").TextHighlightRules,o=t("./behaviour/cstyle").CstyleBehaviour,s=t("../unicode"),a=t("../lib/lang"),l=t("../token_iterator").TokenIterator,c=t("../range").Range,u=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+s.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(t,e,n,i){function r(t){for(var e=n;e<=i;e++)t(o.getLine(e),e)}var o=e.doc,s=!0,l=!0,c=Infinity,u=e.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))m=this.lineCommentStart.map(a.escapeRegExp).join("|"),p=this.lineCommentStart[0];else m=a.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),h=e.getUseSoftTabs();b=function(t,e){var n=t.match(m);if(n){var i=n[1].length,r=n[0].length;!f(t,i,r)&&" "==n[0][r-1]&&r--,o.removeInLine(e,i,r)}};var d=p+" ",f=(y=function(t,e){s&&!/\S/.test(t)||(f(t,c,c)?o.insertInLine({row:e,column:c},d):o.insertInLine({row:e,column:c},p))},w=function(t){return m.test(t)},function(t,e,n){for(var i=0;e--&&" "==t.charAt(e);)i++;if(i%u!=0)return!1;for(i=0;" "==t.charAt(n++);)i++;return u>2?i%u!=u-1:i%u==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,g=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+a.escapeRegExp(p)+")"),v=new RegExp("(?:"+a.escapeRegExp(g)+")\\s*$"),y=function(t,e){w(t,e)||s&&!/\S/.test(t)||(o.insertInLine({row:e,column:t.length},g),o.insertInLine({row:e,column:c},p))},b=function(t,e){var n;(n=t.match(v))&&o.removeInLine(e,t.length-n[0].length,t.length),(n=t.match(m))&&o.removeInLine(e,n[1].length,n[0].length)},w=function(t,n){if(m.test(t))return!0;for(var i=e.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}var x=Infinity;r(function(t,e){var n=t.search(/\S/);-1!==n?(n<c&&(c=n),l&&!w(t,e)&&(l=!1)):x>t.length&&(x=t.length)}),c==Infinity&&(c=x,s=!1,l=!1),h&&c%u!=0&&(c=Math.floor(c/u)*u),r(l?b:y)},this.toggleBlockComment=function(t,e,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=(g=new l(e,i.row,i.column)).getCurrentToken(),u=(e.selection,e.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var h,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(r.start))){var f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;h=new c(f,p,f,p+r.start.length);break}a=g.stepBackward()}var g;for(a=(g=new l(e,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(r.end))){f=g.getCurrentTokenRow(),p=g.getCurrentTokenColumn()+m;d=new c(f,p,f,p+r.end.length);break}a=g.stepForward()}d&&e.remove(d),h&&(e.remove(h),o=h.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,e.insert(n.end,r.end),e.insert(n.start,r.start);u.start.row==o&&(u.start.column+=s),u.end.row==o&&(u.end.column+=s),e.selection.fromOrientedRange(u)}},this.getNextLineIndent=function(t,e){return this.$getIndent(e)},this.checkOutdent=function(){return!1},this.autoOutdent=function(){},this.$getIndent=function(t){return t.match(/^\s*/)[0]},this.createWorker=function(){return null},this.createModeDelegates=function(t){for(var e in this.$embeds=[],this.$modes={},t)if(t[e]){var i=t[e],r=i.prototype.$id,o=n.$modes[r];o||(n.$modes[r]=o=new i),n.$modes[e]||(n.$modes[e]=o),this.$embeds.push(e),this.$modes[e]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(e=0;e<s.length;e++)!function(t){var n=s[e],i=t[n];t[s[e]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(t,e,n){var i=e[0];if("string"!=typeof i){if(Array.isArray(i[2])){var r=i[2][i[2].length-1];if(s=this.$modes[r])return s[t].apply(s,[i[1]].concat([].slice.call(e,1)))}i=i[0]}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var s,a=i.split(this.$embeds[o]);if(!a[0]&&a[1])return e[0]=a[1],(s=this.$modes[this.$embeds[o]])[t].apply(s,e)}var l=n.apply(this,e);return n?l:undefined},this.transformAction=function(t,e){if(this.$behaviour){var n=this.$behaviour.getBehaviours();for(var i in n)if(n[i][e]){var r=n[i][e].apply(this,arguments);if(r)return r}}},this.getKeywords=function(t){if(!this.completionKeywords){var e=this.$tokenizer.rules,n=[];for(var i in e)for(var r=e[i],o=0,s=r.length;o<s;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;a<l;a++)if(/keyword|support|storage/.test(r[o].token[a])){i=r[o].regex.match(/\(.+?\)/g)[a];n.push(i.substr(1,i.length-2))}this.completionKeywords=n}return t?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(){return(this.$keywordList||this.$createKeywordList()).map(function(t){return{name:t,value:t,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),e.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(t,e){"use strict";e.applyDelta=function(t,e){var n=e.start.row,i=e.start.column,r=t[n]||"";switch(e.action){case"insert":if(1===e.lines.length)t[n]=r.substring(0,i)+e.lines[0]+r.substring(i);else{var o=[n,1].concat(e.lines);t.splice.apply(t,o),t[n]=r.substring(0,i)+t[n],t[n+e.lines.length-1]+=r.substring(i)}break;case"remove":var s=e.end.column,a=e.end.row;n===a?t[n]=r.substring(0,i)+r.substring(s):t.splice(n,a-n+1,r.substring(0,i)+t[a].substring(s))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e){"use strict";var n=t("./lib/oop"),i=t("./lib/event_emitter").EventEmitter,r=e.Anchor=function(t,e,n){this.$onChange=this.onChange.bind(this),this.attach(t),void 0===n?this.setPosition(e.row,e.column):this.setPosition(e,n)};(function(){function t(t,e,n){var i=n?t.column<=e.column:t.column<e.column;return t.row<e.row||t.row==e.row&&i}function e(e,n,i){var r="insert"==e.action,o=(r?1:-1)*(e.end.row-e.start.row),s=(r?1:-1)*(e.end.column-e.start.column),a=e.start,l=r?a:e.end;return t(n,a,i)?{row:n.row,column:n.column}:t(l,n,!i)?{row:n.row+o,column:n.column+(n.row==l.row?s:0)}:{row:a.row,column:a.column}}n.implement(this,i),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=e(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(t,e,n){var i;if(i=n?{row:t,column:e}:this.$clipPositionToDocument(t,e),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(t,e){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):t<0?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,e))),e<0&&(n.column=0),n}}).call(r.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,e){"use strict";var n=t("./lib/oop"),i=t("./apply_delta").applyDelta,r=t("./lib/event_emitter").EventEmitter,o=t("./range").Range,s=t("./anchor").Anchor,a=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){n.implement(this,r),this.setValue=function(t){var e=this.getLength()-1;this.remove(new o(0,0,e,this.getLine(e).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,e){return new s(this,t,e)},0==="aaa".split(/a/).length?this.$split=function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=e?e[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,e){return this.$lines.slice(t,e+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var e;if(t.start.row===t.end.row)e=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(e=this.getLines(t.start.row,t.end.row))[0]=(e[0]||"").substring(t.start.column);var n=e.length-1;t.end.row-t.start.row==n&&(e[n]=e[n].substring(0,t.end.column))}return e},this.insertLines=function(t,e){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,e)},this.removeLines=function(t,e){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,e)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,e){return this.getLength()<=1&&this.$detectNewLine(e),this.insertMergedLines(t,this.$split(e))},this.insertInLine=function(t,e){var n=this.clippedPos(t.row,t.column),i=this.pos(t.row,t.column+e.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[e]},!0),this.clonePos(i)},this.clippedPos=function(t,e){var n=this.getLength();t===undefined?t=n:t<0?t=0:t>=n&&(t=n-1,e=undefined);var i=this.getLine(t);return e==undefined&&(e=i.length),{row:t,column:e=Math.min(Math.max(e,0),i.length)}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,e){return{row:t,column:e}},this.$clipPosition=function(t){var e=this.getLength();return t.row>=e?(t.row=Math.max(0,e-1),t.column=this.getLine(e-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,e){var n=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(e=e.concat([""]),n=0):(e=[""].concat(e),t--,n=this.$lines[t].length),this.insertMergedLines({row:t,column:n},e)},this.insertMergedLines=function(t,e){var n=this.clippedPos(t.row,t.column),i={row:n.row+e.length-1,column:(1==e.length?n.column:0)+e[e.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:e}),this.clonePos(i)},this.remove=function(t){var e=this.clippedPos(t.start.row,t.start.column),n=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:e,end:n,action:"remove",lines:this.getLinesForRange({start:e,end:n})}),this.clonePos(e)},this.removeInLine=function(t,e,n){var i=this.clippedPos(t,e),r=this.clippedPos(t,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(t,e){t=Math.min(Math.max(0,t),this.getLength()-1);var n=(e=Math.min(Math.max(0,e),this.getLength()-1))==this.getLength()-1&&t>0,i=e<this.getLength()-1,r=n?t-1:t,s=n?this.getLine(r).length:0,a=i?e+1:e,l=i?0:this.getLine(a).length,c=new o(r,s,a,l),u=this.$lines.slice(t,e+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,e){return t instanceof o||(t=o.fromPoints(t.start,t.end)),0===e.length&&t.isEmpty()?t.start:e==this.getTextRange(t)?t.end:(this.remove(t),e?this.insert(t.start,e):t.start)},this.applyDeltas=function(t){for(var e=0;e<t.length;e++)this.applyDelta(t[e])},this.revertDeltas=function(t){for(var e=t.length-1;e>=0;e--)this.revertDelta(t[e])},this.applyDelta=function(t,e){var n="insert"==t.action;(n?t.lines.length<=1&&!t.lines[0]:!o.comparePoints(t.start,t.end))||(n&&t.lines.length>2e4?this.$splitAndapplyLargeDelta(t,2e4):(i(this.$lines,t,e),this._signal("change",t)))},this.$splitAndapplyLargeDelta=function(t,e){for(var n=t.lines,i=n.length-e+1,r=t.start.row,o=t.start.column,s=0,a=0;s<i;s=a){a+=e-1;var l=n.slice(s,a);l.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:t.action,lines:l},!0)}t.lines=n.slice(s),t.start.row=r+s,t.start.column=o,this.applyDelta(t,!0)},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=e||0,o=n.length;r<o;r++)if((t-=n[r].length+i)<0)return{row:r,column:t+n[r].length+i};return{row:o-1,column:t+n[o-1].length+i}},this.positionToIndex=function(t,e){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(t.row,n.length),s=e||0;s<o;++s)r+=n[s].length+i;return r+t.column}}).call(a.prototype),e.Document=a}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,e){"use strict";var n=t("./lib/oop"),i=t("./lib/event_emitter").EventEmitter,r=function(t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=t;var e=this;this.$worker=function(){if(e.running){for(var t=new Date,n=e.currentLine,i=-1,r=e.doc,o=n;e.lines[n];)n++;var s=r.getLength(),a=0;for(e.running=!1;n<s;){e.$tokenizeRow(n),i=n;do{n++}while(e.lines[n]);if(++a%5==0&&new Date-t>20){e.running=setTimeout(e.$worker,20);break}}e.currentLine=n,-1==i&&(i=n),o<=i&&e.fireUpdateEvent(o,i)}}};(function(){n.implement(this,i),this.setTokenizer=function(t){this.tokenizer=t,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(t){this.doc=t,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(t,e){var n={first:t,last:e};this._signal("update",{data:n})},this.start=function(t){this.currentLine=Math.min(t||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.lines[e]=null;else if("remove"==t.action)this.lines.splice(e,n+1,null),this.states.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(e,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(t){return this.lines[t]||this.$tokenizeRow(t)},this.getState=function(t){return this.currentLine==t&&this.$tokenizeRow(t),this.states[t]||"start"},this.$tokenizeRow=function(t){var e=this.doc.getLine(t),n=this.states[t-1],i=this.tokenizer.getLineTokens(e,n,t);return this.states[t]+""!=i.state+""?(this.states[t]=i.state,this.lines[t+1]=null,this.currentLine>t+1&&(this.currentLine=t+1)):this.currentLine==t&&(this.currentLine=t+1),this.lines[t]=i.tokens}}).call(r.prototype),e.BackgroundTokenizer=r}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e){"use strict";var n=t("./lib/lang"),i=(t("./lib/oop"),t("./range").Range),r=function(t,e,n){this.setRegexp(t),this.clazz=e,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(t){this.regExp+""!=t+""&&(this.regExp=t,this.cache=[])},this.update=function(t,e,r,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;l<=a;l++){var c=this.cache[l];null==c&&((c=n.getMatchOffsets(r.getLine(l),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(t){return new i(l,t.offset,l,t.offset+t.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)e.drawSingleLineMarker(t,c[u].toScreenRange(r),this.clazz,o)}}}).call(r.prototype),e.SearchHighlight=r}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,e){"use strict";function n(t,e){this.foldData=t,Array.isArray(e)?this.folds=e:e=this.folds=[e];var n=e[e.length-1];this.range=new i(e[0].start.row,e[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}var i=t("../range").Range;(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach(function(e){e.start.row+=t,e.end.row+=t})},this.addFold=function(t){if(t.sameRow){
if(t.start.row<this.startRow||t.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(t),this.folds.sort(function(t,e){return-t.range.compareEnd(e.start.row,e.start.column)}),this.range.compareEnd(t.start.row,t.start.column)>0?(this.end.row=t.end.row,this.end.column=t.end.column):this.range.compareStart(t.end.row,t.end.column)<0&&(this.start.row=t.start.row,this.start.column=t.start.column)}else if(t.start.row==this.end.row)this.folds.push(t),this.end.row=t.end.row,this.end.column=t.end.column;else{if(t.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(t),this.start.row=t.start.row,this.start.column=t.start.column}t.foldLine=this},this.containsRow=function(t){return t>=this.start.row&&t<=this.end.row},this.walk=function(t,e,n){var i,r,o=0,s=this.folds,a=!0;null==e&&(e=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(-1==(r=(i=s[l]).range.compareStart(e,n)))return void t(null,e,n,o,a);if(!t(null,i.start.row,i.start.column,o,a)&&t(i.placeholder,i.start.row,i.start.column,o)||0===r)return;a=!i.sameRow,o=i.end.column}t(null,e,n,o,a)},this.getNextFoldTo=function(t,e){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(t,e)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(t,e,n){var i,r,o=this.getNextFoldTo(t,e);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=e&&i.start.row!=t)window.console&&window.console.log(t,e,i);else if(i.start.row==t){var s=(r=this.folds).indexOf(i);for(0===s&&(this.start.column+=n);s<r.length;s++){if((i=r[s]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(t,e){var i=this.getNextFoldTo(t,e);if(!i||"inside"==i.kind)return null;var r=i.fold,o=this.folds,s=this.foldData,a=o.indexOf(r),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new n(s,o=o.splice(a,o.length-a));return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(t){for(var e=t.folds,n=0;n<e.length;n++)this.addFold(e[n]);var i=this.foldData;i.splice(i.indexOf(t),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach(function(e){t.push("  "+e.toString())}),t.push("]"),t.join("\n")},this.idxToPosition=function(t){for(var e=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((t-=i.start.column-e)<0)return{row:i.start.row,column:i.start.column+t};if((t-=i.placeholder.length)<0)return i.start;e=i.end.column}return{row:this.end.row,column:this.end.column+t}}}).call(n.prototype),e.FoldLine=n}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,e){"use strict";var n=t("./range").Range.comparePoints,i=function(){this.ranges=[]};(function(){this.comparePoints=n,this.pointIndex=function(t,e,i){for(var r=this.ranges,o=i||0;o<r.length;o++){var s=r[o],a=n(t,s.end);if(!(a>0)){var l=n(t,s.start);return 0===a?e&&0!==l?-o-2:o:l>0||0===l&&!e?o:-o-1}}return-o-1},this.add=function(t){var e=!t.isEmpty(),n=this.pointIndex(t.start,e);n<0&&(n=-n-1);var i=this.pointIndex(t.end,e,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,t)},this.addList=function(t){for(var e=[],n=t.length;n--;)e.push.apply(e,this.add(t[n]));return e},this.substractPoint=function(t){var e=this.pointIndex(t);if(e>=0)return this.ranges.splice(e,1)},this.merge=function(){for(var t,e=[],i=this.ranges,r=(i=i.sort(function(t,e){return n(t.start,e.start)}))[0],o=1;o<i.length;o++){t=r,r=i[o];var s=n(t.end,r.start);s<0||(0!=s||t.isEmpty()||r.isEmpty())&&(n(t.end,r.end)<0&&(t.end.row=r.end.row,t.end.column=r.end.column),i.splice(o,1),e.push(r),r=t,o--)}return this.ranges=i,e},this.contains=function(t,e){return this.pointIndex({row:t,column:e})>=0},this.containsPoint=function(t){return this.pointIndex(t)>=0},this.rangeAtPoint=function(t){var e=this.pointIndex(t);if(e>=0)return this.ranges[e]},this.clipRows=function(t,e){var n=this.ranges;if(n[0].start.row>e||n[n.length-1].start.row<t)return[];var i=this.pointIndex({row:t,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:e,column:0},i);r<0&&(r=-r-1);for(var o=[],s=i;s<r;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(t){this.session&&this.detach(),this.session=t,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(t){for(var e=t.start,n=t.end,i=e.row,r=n.row,o=this.ranges,s=0,a=o.length;s<a;s++){if((u=o[s]).end.row>=i)break}if("insert"==t.action)for(var l=r-i,c=-e.column+n.column;s<a;s++){if((u=o[s]).start.row>i)break;if(u.start.row==i&&u.start.column>=e.column&&(u.start.column!=e.column||!this.$insertRight)&&(u.start.column+=c,u.start.row+=l),u.end.row==i&&u.end.column>=e.column){if(u.end.column==e.column&&this.$insertRight)continue;u.end.column==e.column&&c>0&&s<a-1&&u.end.column>u.start.column&&u.end.column==o[s+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=i-r,c=e.column-n.column;s<a;s++){if((u=o[s]).start.row>r)break;u.end.row<r&&(u.end.row=i,u.end.column=e.column),(u.start.row<r||u.start.row==r&&u.start.column<=n.colum)&&(u.start.row=i,u.start.column=e.column),u.end.row==r&&(u.end.column<=n.column?(l||u.end.column>e.column)&&(u.end.column=e.column,u.end.row=e.row):(u.end.column+=c,u.end.row+=l)),u.start.row==r&&(u.start.column<=n.column?(l||u.start.column>e.column)&&(u.start.column=e.column,u.start.row=e.row):(u.start.column+=c,u.start.row+=l))}if(0!=l&&s<a)for(;s<a;s++){var u;(u=o[s]).start.row+=l,u.end.row+=l}}}).call(i.prototype),e.RangeList=i}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(t,e){"use strict";function n(t,e){t.row-=e.row,0==t.row&&(t.column-=e.column)}function i(t,e){n(t.start,e),n(t.end,e)}function r(t,e){0==t.row&&(t.column+=e.column),t.row+=e.row}function o(t,e){r(t.start,e),r(t.end,e)}t("../range").Range;var s=t("../range_list").RangeList,a=t("../lib/oop"),l=e.Fold=function(t,e){this.foldLine=null,this.placeholder=e,this.range=t,this.start=t.start,this.end=t.end,this.sameRow=t.start.row==t.end.row,this.subFolds=this.ranges=[]};a.inherits(l,s),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach(function(e){e.setFoldLine(t)})},this.clone=function(){var t=this.range.clone(),e=new l(t,this.placeholder);return this.subFolds.forEach(function(t){e.subFolds.push(t.clone())}),e.collapseChildren=this.collapseChildren,e},this.addSubFold=function(t){if(!this.range.isEqual(t)){if(!this.range.containsRange(t))throw new Error("A fold can't intersect already existing fold"+t.range+this.range);i(t,this.start);for(var e=t.start.row,n=t.start.column,r=0,o=-1;r<this.subFolds.length&&1==(o=this.subFolds[r].range.compare(e,n));r++);var s=this.subFolds[r];if(0==o)return s.addSubFold(t);e=t.range.end.row,n=t.range.end.column;var a=r;for(o=-1;a<this.subFolds.length&&1==(o=this.subFolds[a].range.compare(e,n));a++);this.subFolds[a];if(0==o)throw new Error("A fold can't intersect already existing fold"+t.range+this.range);this.subFolds.splice(r,a-r,t);return t.setFoldLine(this.foldLine),t}},this.restoreRange=function(t){return o(t,this.start)}}.call(l.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(t,e){"use strict";function n(){this.getFoldAt=function(t,e,n){var i=this.getFoldLine(t);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o];if(s.range.contains(t,e)){if(1==n&&s.range.isEnd(t,e))continue;if(-1==n&&s.range.isStart(t,e))continue;return s}}},this.getFoldsInRange=function(t){var e=t.start,n=t.end,i=this.$foldData,r=[];e.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var s=i[o].range.compareRange(t);if(2!=s){if(-2==s)break;for(var a=i[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(t)))break;if(2!=s){if(42==s)break;r.push(c)}}}}return e.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var e=[];t.forEach(function(t){e=e.concat(this.getFoldsInRange(t))},this)}else e=this.getFoldsInRange(t);return e},this.getAllFolds=function(){for(var t=[],e=this.$foldData,n=0;n<e.length;n++)for(var i=0;i<e[n].folds.length;i++)t.push(e[n].folds[i]);return t},this.getFoldStringAt=function(t,e,n,i){if(!(i=i||this.getFoldLine(t)))return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){var l=(o=i.folds[a]).range.compareEnd(t,e);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,e-s.end.column):1==n?r.substring(e-s.end.column):r},this.getFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=t&&r.end.row>=t)return r;if(r.end.row>t)return null}return null},this.getNextFoldLine=function(t,e){var n=this.$foldData,i=0;for(e&&(i=n.indexOf(e)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=t)return r}return null},this.getFoldedRowCount=function(t,e){for(var n=this.$foldData,i=e-t+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=e){a<e&&(a>=t?i-=e-a:i=0);break}s>=t&&(i-=a>=t?s-a:s-t+1)}return i},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(t,e){return t.start.row-e.start.row}),t},this.addFold=function(t,e){var n,i=this.$foldData,s=!1;t instanceof o?n=t:(n=new o(e,t)).collapseChildren=e.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column;if(a<c||a==c&&l<=u-2){var h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var f=this.getFoldsInRange(n.range);f.length>0&&(this.removeFolds(f),f.forEach(function(t){n.addSubFold(t)}));for(var p=0;p<i.length;p++){var g=i[p];if(c==g.start.row){g.addFold(n),s=!0;break}if(a==g.end.row){if(g.addFold(n),s=!0,!n.sameRow){var m=i[p+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return s||(g=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n}throw new Error("The range has to be at least 2 characters width")},this.addFolds=function(t){t.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(t){var e=t.foldLine,n=e.start.row,i=e.end.row,r=this.$foldData,o=e.folds;if(1==o.length)r.splice(r.indexOf(e),1);else if(e.range.isEnd(t.end.row,t.end.column))o.pop(),e.end.row=o[o.length-1].end.row,e.end.column=o[o.length-1].end.column;else if(e.range.isStart(t.start.row,t.start.column))o.shift(),e.start.row=o[0].start.row,e.start.column=o[0].start.column;else if(t.sameRow)o.splice(o.indexOf(t),1);else{var s=e.split(t.start.row,t.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);e.forEach(function(t){this.removeFold(t)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(t,e){var n,r;if(null==t?(n=new i(0,0,this.getLength(),0),e=!0):n="number"==typeof t?new i(t,0,t,this.getLine(t).length):"row"in t?i.fromPoints(t,t):t,r=this.getFoldsInRangeList(n),e)this.removeFolds(r);else for(var o=r;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(n);if(r.length)return r},this.isRowFolded=function(t,e){return!!this.getFoldLine(t,e)},this.getRowFoldEnd=function(t,e){var n=this.getFoldLine(t,e);return n?n.end.row:t},this.getRowFoldStart=function(t,e){var n=this.getFoldLine(t,e);return n?n.start.row:t},this.getFoldDisplayLine=function(t,e,n,i,r){null==i&&(i=t.start.row),null==r&&(r=0),null==e&&(e=t.end.row),null==n&&(n=this.getLine(e).length);var o=this.doc,s="";return t.walk(function(t,e,n,a){if(!(e<i)){if(e==i){if(n<r)return;a=Math.max(r,a)}s+=null!=t?t:o.getLine(e).substring(a,n)}},e,n),s},this.getDisplayLine=function(t,e,n,i){var r,o=this.getFoldLine(t);return o?this.getFoldDisplayLine(o,t,e,n,i):(r=this.doc.getLine(t)).substring(i||0,e||r.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(e){var n=e.folds.map(function(t){return t.clone()});return new r(t,n)})},this.toggleFold=function(t){var e,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(e=this.getFoldAt(r.row,r.column))return void this.expandFold(e);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var o=this.getFoldsInRange(i);if(t&&o.length)return void this.expandFolds(o);1==o.length&&(e=o[0])}if(e||(e=this.getFoldAt(i.start.row,i.start.column)),e&&e.range.toString()==i.toString())this.expandFold(e);else{var s="...";if(!i.isMultiLine()){if((s=this.getTextRange(i)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,i)}},this.getCommentFoldRange=function(t,e,n){var r=new s(this,t,e),o=r.getCurrentToken(),a=o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new i;if(1!=n){do{o=r.stepBackward()}while(o&&l.test(o.type));r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+2,r=new s(this,t,e),-1!=n){var u=-1;do{if(o=r.stepForward(),-1==u){var h=this.getState(r.$row);l.test(h)||(u=r.$row)}else if(r.$row>u)break}while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn()+o.value.length-2,c}},this.foldAll=function(t,e,i){i==undefined&&(i=1e5);var r=this.foldWidgets;if(r){e=e||this.getLength();for(var o=t=t||0;o<e;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]){var s=this.getFoldWidgetRange(o);if(s&&s.isMultiLine()&&s.end.row<=e&&s.start.row>=t){o=s.end.row;try{var a=this.addFold("...",s);a&&(a.collapseChildren=i)}catch(n){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,"manual"==t&&this.unfold();var e=this.$foldMode;this.$setFolding(null),this.$setFolding(e)}},this.$setFolding=function(t){this.$foldMode!=t&&(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),t&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(t,e){var n=this.foldWidgets;if(!n||e&&n[t])return{};for(var i,r=t-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=t)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(t,e){var n={children:(e=e.domEvent).shiftKey,all:e.ctrlKey||e.metaKey,siblings:e.altKey};if(!this.$toggleFoldWidget(t,n)){var i=e.target||e.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,e){if(this.getFoldWidget){var n=this.getFoldWidget(t),i=this.getLine(t),r="end"===n?-1:1,o=this.getFoldAt(t,-1===r?0:i.length,r);if(o)return e.children||e.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(t,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(e.siblings){var a=this.getParentFoldRangeData(t);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,e.all?1e4:0)}else e.children?(c=s?s.end.row:this.getLength(),this.foldAll(t+1,c,e.all?1e4:0)):s&&(e.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var e=this.$toggleFoldWidget(t,{});if(!e){var n=this.getParentFoldRangeData(t,!0);if(e=n.range||n.firstRange){t=e.start.row;var i=this.getFoldAt(t,this.getLine(t).length,1);i?this.removeFold(i):this.addFold("...",e)}}},this.updateFoldWidgets=function(t){var e=t.start.row,n=t.end.row-e;if(0===n)this.foldWidgets[e]=null;else if("remove"==t.action)this.foldWidgets.splice(e,n+1,null);else{var i=Array(n+1);i.unshift(e,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(t){var e=t.data;e.first!=e.last&&this.foldWidgets.length>e.first&&this.foldWidgets.splice(e.first,this.foldWidgets.length)}}var i=t("../range").Range,r=t("./fold_line").FoldLine,o=t("./fold").Fold,s=t("../token_iterator").TokenIterator;e.Folding=n}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,e){"use strict";function n(){this.findMatchingBracket=function(t,e){if(0==t.column)return null;var n=e||this.getLine(t.row).charAt(t.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],t):this.$findOpeningBracket(i[2],t):null},this.getBracketRange=function(t){var e,n=this.getLine(t.row),i=!0,o=n.charAt(t.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(t.column),t={row:t.row,column:t.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],t)))return null;e=r.fromPoints(t,a),i||(e.end.column++,e.start.column--),e.cursor=e.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],t)))return null;e=r.fromPoints(a,t),i||(e.start.column++,e.end.column--),e.cursor=e.start}return e},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(t,e,n){var r=this.$brackets[t],o=1,s=new i(this,e.row,e.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==t&&(o+=1);l-=1}do{a=s.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(t,e,n){var r=this.$brackets[t],o=1,s=new i(this,e.row,e.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=e.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==t&&(o+=1);l+=1}do{a=s.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}var i=t("../token_iterator").TokenIterator,r=t("../range").Range;e.BracketMatch=n}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,e){"use strict";var n=t("./lib/oop"),i=t("./lib/lang"),r=t("./bidihandler").BidiHandler,o=t("./config"),s=t("./lib/event_emitter").EventEmitter,a=t("./selection").Selection,l=t("./mode/text").Mode,c=t("./range").Range,u=t("./document").Document,h=t("./background_tokenizer").BackgroundTokenizer,d=t("./search_highlight").SearchHighlight,f=function(t,e){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++f.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new u(t)),this.setDocument(t),this.selection=new a(this),this.$bidiHandler=new r(this),o.resetOptions(this),this.setMode(e),o._signal("session",this)};f.$uid=0,function(){function t(t){return!(t<4352)&&(t>=4352&&t<=4447||t>=4515&&t<=4519||t>=4602&&t<=4607||t>=9001&&t<=9002||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12283||t>=12288&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12589||t>=12593&&t<=12686||t>=12688&&t<=12730||t>=12736&&t<=12771||t>=12784&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=13054||t>=13056&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=55216&&t<=55238||t>=55243&&t<=55291||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=65281&&t<=65376||t>=65504&&t<=65510)}n.implement(this,s),this.setDocument=function(t){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=t,t.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(t){if(!t)return this.$docRowCache=[],void(this.$screenRowCache=[]);var e=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,t)+1;e>n&&(this.$docRowCache.splice(n,e),this.$screenRowCache.splice(n,e))},this.$getRowCacheIndex=function(t,e){for(var n=0,i=t.length-1;n<=i;){var r=n+i>>1,o=t[r];if(e>o)n=r+1;else{if(!(e<o))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(t){var e=t.data;this.$resetRowCache(e.start.row)},this.onChange=function(t){this.$modified=!0,this.$bidiHandler.onChange(t),this.$resetRowCache(t.start.row);var e=this.$updateInternalDataOnChange(t);!this.$fromUndo&&this.$undoManager&&(e&&e.length&&(this.$undoManager.add({action:"removeFolds",folds:e},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(t,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",t)},this.setValue=function(t){this.doc.setValue(t),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(t){return this.bgTokenizer.getState(t)},this.getTokens=function(t){return this.bgTokenizer.getTokens(t)},this.getTokenAt=function(t,e){var n,i=this.bgTokenizer.getTokens(t),r=0;if(null==e){var o=i.length-1;r=this.getLine(t).length}else for(o=0;o<i.length&&!((r+=i[o].value.length)>=e);o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(t){if(this.$undoManager=t,this.$informUndoManager&&this.$informUndoManager.cancel(),t){var e=this;t.addSession(this),this.$syncInformUndoManager=function(){e.$informUndoManager.cancel(),e.mergeUndoDeltas=!1},this.$informUndoManager=i.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?i.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(t){this.setOption("useSoftTabs",t)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(t){this.setOption("tabSize",t)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(t){return this.$useSoftTabs&&t.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(t){this.setOption("navigateWithinSoftTabs",t)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(t){this.setOption("overwrite",t)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(t,e){this.$decorations[t]||(this.$decorations[t]=""),this.$decorations[t]+=" "+e,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(t,e){this.$decorations[t]=(this.$decorations[t]||"").replace(" "+e,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(t){this.$breakpoints=[];for(var e=0;e<t.length;e++)this.$breakpoints[t[e]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(t,e){e===undefined&&(e="ace_breakpoint"),e?this.$breakpoints[t]=e:delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(t){delete this.$breakpoints[t],this._signal("changeBreakpoint",{})},this.addMarker=function(t,e,n,i){var r=this.$markerId++,o={range:t,type:n||"line",renderer:"function"==typeof n?n:null,clazz:e,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(t,e){if(t.update){var n=this.$markerId++;return t.id=n,t.inFront=!!e,e?(this.$frontMarkers[n]=t,this._signal("changeFrontMarker")):(this.$backMarkers[n]=t,this._signal("changeBackMarker")),t}},this.removeMarker=function(t){var e=this.$frontMarkers[t]||this.$backMarkers[t];e&&(delete(e.inFront?this.$frontMarkers:this.$backMarkers)[t],this._signal(e.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(t){return t?this.$frontMarkers:this.$backMarkers},this.highlight=function(t){if(!this.$searchHighlight){var e=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(e)}this.$searchHighlight.setRegexp(t)},this.highlightLines=function(t,e,n,i){"number"!=typeof e&&(n=e,e=t),n||(n="ace_step");var r=new c(t,0,e,Infinity);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(t){this.$annotations=t,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(t){var e=t.match(/^.*?(\r?\n)/m);this.$autoNewLine=e?e[1]:"\n"},this.getWordRange=function(t,e){var n=this.getLine(t),i=!1;if(e>0&&(i=!!n.charAt(e-1).match(this.tokenRe)),i||(i=!!n.charAt(e).match(this.tokenRe)),i)var r=this.tokenRe;else if(/^\s+$/.test(n.slice(e-1,e+1)))r=/\s/;else r=this.nonTokenRe;var o=e;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(r));o++}for(var s=e;s<n.length&&n.charAt(s).match(r);)s++;return new c(t,o,t,s)},this.getAWordRange=function(t,e){for(var n=this.getWordRange(t,e),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(t){this.doc.setNewLineMode(t)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(t){this.setOption("useWorker",t)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(t){var e=t.data;this.bgTokenizer.start(e.first),this._signal("tokenizerUpdate",t)},this.$modes=o.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(t,e){if(t&&"object"==typeof t){if(t.getTokenizer)return this.$onChangeMode(t);var n=t,i=n.path}else i=t||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(e&&e());this.$modeId=i,o.loadModule(["mode",i],function(t){if(this.$modeId!==i)return e&&e();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):t&&t.Mode&&(t=new t.Mode(n),n||(this.$modes[i]=t,t.$id=i),this.$onChangeMode(t)),e&&e()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(t,e){if(e||(this.$modeId=t.$id),this.$mode!==t){this.$mode=t,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=t.getTokenizer();if(n.addEventListener!==undefined){var i=this.onReloadTokenizer.bind(this);n.addEventListener("update",i)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new h(n);var r=this;this.bgTokenizer.addEventListener("update",function(t){r._signal("tokenizerUpdate",t)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=t.tokenRe,this.nonTokenRe=t.nonTokenRe,e||(t.attachToSession&&t.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(t.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(t){this.$scrollTop===t||isNaN(t)||(this.$scrollTop=t,this._signal("changeScrollTop",t))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(t){this.$scrollLeft===t||isNaN(t)||(this.$scrollLeft=t,this._signal("changeScrollLeft",t))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach(function(e){e&&e.screenWidth>t&&(t=e.screenWidth)}),this.lineWidgetWidth=t},this.$computeWidth=function(t){if(this.$modified||t){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var e=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:Infinity,a=e.length,l=0;l<a;l++){if(l>s){if((l=o.end.row+1)>=a)break;s=(o=this.$foldData[r++])?o.start.row:Infinity}null==n[l]&&(n[l]=this.$getStringScreenWidth(e[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(t){return this.doc.getLine(t)},this.getLines=function(t,e){return this.doc.getLines(t,e)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(t){return this.doc.getTextRange(t||this.selection.getRange())},this.insert=function(t,e){return this.doc.insert(t,e)},this.remove=function(t){return this.doc.remove(t)},this.removeFullLines=function(t,e){return this.doc.removeFullLines(t,e)},this.undoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=t.length-1;-1!=n;n--){var i=t[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!e&&this.$undoSelect&&(t.selectionBefore?this.selection.fromJSON(t.selectionBefore):this.selection.setRange(this.$getUndoSelection(t,!0))),this.$fromUndo=!1}},this.redoChanges=function(t,e){if(t.length){this.$fromUndo=!0;for(var n=0;n<t.length;n++){var i=t[n];("insert"==i.action||"remove"==i.action)&&this.doc.applyDelta(i)}
!e&&this.$undoSelect&&(t.selectionAfter?this.selection.fromJSON(t.selectionAfter):this.selection.setRange(this.$getUndoSelection(t,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(t){this.$undoSelect=t},this.$getUndoSelection=function(t,e){function n(t){return e?"insert"!==t.action:"insert"===t.action}for(var i,r,o=0;o<t.length;o++){var s=t[o];s.start&&(i?n(s)?(r=s.start,-1==i.compare(r.row,r.column)&&i.setStart(r),r=s.end,1==i.compare(r.row,r.column)&&i.setEnd(r),!0):(r=s.start,-1==i.compare(r.row,r.column)&&(i=c.fromPoints(s.start,s.start)),!1):n(s)?(i=c.fromPoints(s.start,s.end),!0):(i=c.fromPoints(s.start,s.start),!1))}return i},this.replace=function(t,e){return this.doc.replace(t,e)},this.moveText=function(t,e,n){var i=this.getTextRange(t),r=this.getFoldsInRange(t),o=c.fromPoints(e,e);if(!n){this.remove(t);var s=t.start.row-t.end.row;(u=s?-t.end.column:t.start.column-t.end.column)&&(o.start.row==t.end.row&&o.start.column>t.end.column&&(o.start.column+=u),o.end.row==t.end.row&&o.end.column>t.end.column&&(o.end.column+=u)),s&&o.start.row>=t.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,i),r.length){var a=t.start,l=o.start,u=(s=l.row-a.row,l.column-a.column);this.addFolds(r.map(function(t){return(t=t.clone()).start.row==a.row&&(t.start.column+=u),t.end.row==a.row&&(t.end.column+=u),t.start.row+=s,t.end.row+=s,t}))}return o},this.indentRows=function(t,e,n){n=n.replace(/\t/g,this.getTabString());for(var i=t;i<=e;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(t){for(var e=t.collapseRows(),n=new c(0,0,0,0),i=this.getTabSize(),r=e.start.row;r<=e.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;s<i&&" "==o.charAt(s);++s);s<i&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(t,e,n){if(t=this.getRowFoldStart(t),e=this.getRowFoldEnd(e),n<0){if((r=this.getRowFoldStart(t+n))<0)return 0;var i=r-t}else if(n>0){var r;if((r=this.getRowFoldEnd(e+n))>this.doc.getLength()-1)return 0;i=r-e}else{t=this.$clipRowToDocument(t);i=(e=this.$clipRowToDocument(e))-t+1}var o=new c(t,0,e,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(t){return(t=t.clone()).start.row+=i,t.end.row+=i,t}),a=0==n?this.doc.getLines(t,e):this.doc.removeFullLines(t,e);return this.doc.insertFullLines(t+i,a),s.length&&this.addFolds(s),i},this.moveLinesUp=function(t,e){return this.$moveLines(t,e,-1)},this.moveLinesDown=function(t,e){return this.$moveLines(t,e,1)},this.duplicateLines=function(t,e){return this.$moveLines(t,e,0)},this.$clipRowToDocument=function(t){return Math.max(0,Math.min(t,this.doc.getLength()-1))},this.$clipColumnToRow=function(t,e){return e<0?0:Math.min(this.doc.getLine(t).length,e)},this.$clipPositionToDocument=function(t,e){if(e=Math.max(0,e),t<0)t=0,e=0;else{var n=this.doc.getLength();t>=n?(t=n-1,e=this.doc.getLine(n-1).length):e=Math.min(this.doc.getLine(t).length,e)}return{row:t,column:e}},this.$clipRangeToDocument=function(t){t.start.row<0?(t.start.row=0,t.start.column=0):t.start.column=this.$clipColumnToRow(t.start.row,t.start.column);var e=this.doc.getLength()-1;return t.end.row>e?(t.end.row=e,t.end.column=this.doc.getLine(e).length):t.end.column=this.$clipColumnToRow(t.end.row,t.end.column),t},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(t){if(t!=this.$useWrapMode){if(this.$useWrapMode=t,this.$modified=!0,this.$resetRowCache(0),t){var e=this.getLength();this.$wrapData=Array(e),this.$updateWrapData(0,e-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(t,e){this.$wrapLimitRange.min===t&&this.$wrapLimitRange.max===e||(this.$wrapLimitRange={min:t,max:e},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(t,e){var n=this.$wrapLimitRange;n.max<0&&(n={min:e,max:e});var i=this.$constrainWrapLimit(t,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(t,e,n){return e&&(t=Math.max(e,t)),n&&(t=Math.min(n,t)),t},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(t){this.setWrapLimitRange(t,t)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(t){var e=this.$useWrapMode,n=t.action,i=t.start,r=t.end,o=i.row,s=r.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[e?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(t),this.removeFolds(l);var u=0;if(g=this.getFoldLine(r.row)){g.addRemoveChars(r.row,r.column,i.column-r.column),g.shiftRow(-a);var h=this.getFoldLine(o);h&&h!==g&&(h.merge(g),g=h),u=c.indexOf(g)+1}for(;u<c.length;u++){(g=c[u]).start.row>=r.row&&g.shiftRow(-a)}s=o}else{var d=Array(a);d.unshift(o,0);var f=e?this.$wrapData:this.$rowLengthCache;f.splice.apply(f,d);c=this.$foldData,u=0;if(g=this.getFoldLine(o)){var p=g.range.compareInside(i.row,i.column);0==p?(g=g.split(i.row,i.column))&&(g.shiftRow(a),g.addRemoveChars(s,0,r.column-i.column)):-1==p&&(g.addRemoveChars(o,0,r.column-i.column),g.shiftRow(a)),u=c.indexOf(g)+1}for(;u<c.length;u++){var g;(g=c[u]).start.row>=o&&g.shiftRow(a)}}else a=Math.abs(t.start.column-t.end.column),"remove"===n&&(l=this.getFoldsInRange(t),this.removeFolds(l),a=-a),(g=this.getFoldLine(o))&&g.addRemoveChars(o,i.column,a);return e&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,e?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(t,e){this.$rowLengthCache[t]=null,this.$rowLengthCache[e]=null},this.$updateWrapData=function(t,e){var n,i,r=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,l=this.$wrapLimit,c=t;for(e=Math.min(e,r.length-1);c<=e;)(i=this.getFoldLine(c,i))?(n=[],i.walk(function(t,e,i,o){var s;if(null!=t){(s=this.$getDisplayTokens(t,n.length))[0]=a;for(var l=1;l<s.length;l++)s[l]=u}else s=this.$getDisplayTokens(r[e].substring(o,i),n.length);n=n.concat(s)}.bind(this),i.end.row,r[i.end.row].length+1),s[i.start.row]=this.$computeWrapSplits(n,l,o),c=i.end.row+1):(n=this.$getDisplayTokens(r[c]),s[c]=this.$computeWrapSplits(n,l,o),c++)};var e=1,r=2,a=3,u=4,f=9,p=10,g=11,m=12;this.$computeWrapSplits=function(t,e,n){function i(){var e=0;if(0===y)return e;if(v)for(var i=0;i<t.length;i++){var r=t[i];if(r==p)e+=1;else{if(r!=g){if(r==m)continue;break}e+=n}}return d&&!1!==v&&(e+=n),Math.min(e,y)}function o(e){for(var n=e-c,r=c;r<e;r++){var o=t[r];12!==o&&2!==o||(n-=1)}s.length||(b=i(),s.indent=b),h+=n,s.push(h),c=e}if(0==t.length)return[];for(var s=[],l=t.length,c=0,h=0,d=this.$wrapAsCode,v=this.$indentedSoftWrap,y=e<=Math.max(2*n,8)||!1===v?0:Math.floor(e/2),b=0;l-c>e-b;){var w=c+e-b;if(t[w-1]>=p&&t[w]>=p)o(w);else if(t[w]!=a&&t[w]!=u){for(var x=Math.max(w-(e-(e>>2)),c-1);w>x&&t[w]<a;)w--;if(d){for(;w>x&&t[w]<a;)w--;for(;w>x&&t[w]==f;)w--}else for(;w>x&&t[w]<p;)w--;w>x?o(++w):(t[w=c+e]==r&&w--,o(w-b))}else{for(;w!=c-1&&t[w]!=a;w--);if(w>c){o(w);continue}for(w=c+e;w<t.length&&t[w]==u;w++);if(w==t.length)break;o(w)}}return s},this.$getDisplayTokens=function(n,i){var o,s=[];i=i||0;for(var a=0;a<n.length;a++){var l=n.charCodeAt(a);if(9==l){o=this.getScreenTabSize(s.length+i),s.push(g);for(var c=1;c<o;c++)s.push(m)}else 32==l?s.push(p):l>39&&l<48||l>57&&l<64?s.push(f):l>=4352&&t(l)?s.push(e,r):s.push(e)}return s},this.$getStringScreenWidth=function(e,n,i){if(0==n)return[0,0];var r,o;for(null==n&&(n=Infinity),i=i||0,o=0;o<e.length&&(9==(r=e.charCodeAt(o))?i+=this.getScreenTabSize(i):r>=4352&&t(r)?i+=2:i+=1,!(i>n));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(t){if(this.lineWidgets)var e=this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0;else e=0;return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.getRowLineCount=function(t){return this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1:1},this.getRowWrapIndent=function(t){if(this.$useWrapMode){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE),n=this.$wrapData[e.row];return n.length&&n[0]<e.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(t){var e=this.screenToDocumentPosition(t,Number.MAX_VALUE);return this.documentToScreenColumn(e.row,e.column)},this.getDocumentLastRowColumn=function(t,e){var n=this.documentToScreenRow(t,e);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(t,e){var n=this.documentToScreenRow(t,e);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(t){return this.$useWrapMode?this.$wrapData[t]:undefined},this.getScreenTabSize=function(t){return this.$tabSize-t%this.$tabSize},this.screenToDocumentRow=function(t,e){return this.screenToDocumentPosition(t,e).row},this.screenToDocumentColumn=function(t,e){return this.screenToDocumentPosition(t,e).column},this.screenToDocumentPosition=function(t,e,n){if(t<0)return{row:0,column:0};var i,r,o=0,s=0,a=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,t),h=c.length;if(h&&u>=0){a=c[u],o=this.$docRowCache[u];var d=t>c[h-1]}else d=!h;for(var f=this.getLength()-1,p=this.getNextFoldLine(o),g=p?p.start.row:Infinity;a<=t&&!(a+(l=this.getRowLength(o))>t||o>=f);)a+=l,++o>g&&(o=p.end.row+1,g=(p=this.getNextFoldLine(o,p))?p.start.row:Infinity),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(p&&p.start.row<=o)i=this.getFoldDisplayLine(p),o=p.start.row;else{if(a+l<=t||o>f)return{row:f,column:this.getLine(f).length};i=this.getLine(o),p=null}var m=0,v=Math.floor(t-a);if(this.$useWrapMode){var y=this.$wrapData[o];y&&(r=y[v],v>0&&y.length&&(m=y.indent,s=y[v-1]||y[y.length-1],i=i.substring(s)))}return n!==undefined&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(e=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(i,e-m)[1],this.$useWrapMode&&s>=r&&(s=r-1),p?p.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(t,e){if(void 0===e)var n=this.$clipPositionToDocument(t.row,t.column);else n=this.$clipPositionToDocument(t,e);t=n.row,e=n.column;var i=0,r=null,o=null;(o=this.getFoldAt(t,e,1))&&(t=o.start.row,e=o.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,t),u=l.length;if(u&&c>=0){a=l[c],i=this.$screenRowCache[c];var h=t>l[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),f=d?d.start.row:Infinity;a<t;){if(a>=f){if((s=d.end.row+1)>t)break;f=(d=this.getNextFoldLine(s,d))?d.start.row:Infinity}else s=a+1;i+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(i))}var p="";d&&a>=f?(p=this.getFoldDisplayLine(d,t,e),r=d.start.row):(p=this.getLine(t).substring(0,e),r=t);var g=0;if(this.$useWrapMode){var m=this.$wrapData[r];if(m){for(var v=0;p.length>=m[v];)i++,v++;p=p.substring(m[v-1]||0,p.length),g=v>0?m.indent:0}}return{row:i,column:g+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(t,e){return this.documentToScreenPosition(t,e).column},this.documentToScreenRow=function(t,e){return this.documentToScreenPosition(t,e).row},this.getScreenLength=function(){var t=0,e=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(a=0,(e=this.$foldData[a++])?e.start.row:Infinity);i<n;){var o=this.$wrapData[i];t+=o?o.length+1:1,++i>r&&(i=e.end.row+1,r=(e=this.$foldData[a++])?e.start.row:Infinity)}else{t=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)t-=(e=s[a]).end.row-e.start.row}return this.lineWidgets&&(t+=this.$getWidgetScreenLength()),t},this.$setFontMetrics=function(t){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,n,i){if(0===n)return[0,0];var r,o;for(n||(n=Infinity),i=i||0,o=0;o<e.length&&!((i+="\t"===(r=e.charAt(o))?this.getScreenTabSize(i):t.getCharacterWidth(r))>n);o++);return[i,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=t}.call(f.prototype),t("./edit_session/folding").Folding.call(f.prototype),t("./edit_session/bracket_match").BracketMatch.call(f.prototype),o.defineOptions(f.prototype,"session",{wrap:{set:function(t){if(t&&"off"!=t?"free"==t?t=!0:"printMargin"==t?t=-1:"string"==typeof t&&(t=parseInt(t,10)||!1):t=!1,this.$wrap!=t)if(this.$wrap=t,t){var e="number"==typeof t?t:null;this.setWrapLimitRange(e,e),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(t){(t="auto"==t?"text"!=this.$mode.type:"text"!=t)!=this.$wrapAsCode&&(this.$wrapAsCode=t,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(t){this.$useWorker=t,this.$stopWorker(),t&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(t){isNaN(t)||this.$tabSize===t||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=t,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(t){this.setFoldStyle(t)},handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(t){this.doc.setNewLineMode(t)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(t){this.setMode(t)},get:function(){return this.$modeId},handlesSet:!0}}),e.EditSession=f}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,e){"use strict";function n(t,e){function n(t){return/\w/.test(t)||e.regExp?"\\b":""}return n(t[0])+t+n(t[t.length-1])}var i=t("./lib/lang"),r=t("./lib/oop"),o=t("./range").Range,s=function(){this.$options={}};(function(){this.set=function(t){return r.mixin(this.$options,t),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(t){this.$options=t},this.find=function(t){var e=this.$options,n=this.$matchIterator(t,e);if(!n)return!1;var i=null;return n.forEach(function(t,n,r,s){return i=new o(t,n,r,s),!(n==s&&e.start&&e.start.start&&0!=e.skipCurrent&&i.isEqual(e.start))||(i=null,!1)}),i},this.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var n=e.range,r=n?t.getLines(n.start.row,n.end.row):t.doc.getAllLines(),s=[],a=e.re;if(e.$isMultiLine){var l,c=a.length,u=r.length-c;t:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(-1==r[h+d].search(a[d]))continue t;var f=r[h],p=r[h+c-1],g=f.length-f.match(a[0])[0].length,m=p.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>g||(s.push(l=new o(h,g,h+c-1,m)),c>2&&(h=h+c-2))}}else for(var v=0;v<r.length;v++){var y=i.getMatchOffsets(r[v],a);for(d=0;d<y.length;d++){var b=y[d];s.push(new o(v,b.offset,v,b.offset+b.length))}}if(n){var w=n.start.column,x=n.start.column;for(v=0,d=s.length-1;v<d&&s[v].start.column<w&&s[v].start.row==n.start.row;)v++;for(;v<d&&s[d].end.column>x&&s[d].end.row==n.end.row;)d--;for(s=s.slice(v,d+1),v=0,d=s.length;v<d;v++)s[v].start.row+=n.start.row,s[v].end.row+=n.start.row}return s},this.replace=function(t,e){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return e;if(i){var r=i.exec(t);if(!r||r[0].length!=t.length)return null;if(e=t.replace(i,e),n.preserveCase){e=e.split("");for(var o=Math.min(t.length,t.length);o--;){var s=t[o];s&&s.toLowerCase()!=s?e[o]=e[o].toUpperCase():e[o]=e[o].toLowerCase()}e=e.join("")}return e}},this.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var r=t.needle;if(!t.needle)return t.re=!1;t.regExp||(r=i.escapeRegExp(r)),t.wholeWord&&(r=n(r,t));var o=t.caseSensitive?"gm":"gmi";if(t.$isMultiLine=!e&&/[\n\r]/.test(r),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(r,o);try{var a=new RegExp(r,o)}catch(s){a=!1}return t.re=a},this.$assembleMultilineRegExp=function(t,e){for(var n=t.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],e))}catch(o){return!1}return i},this.$matchIterator=function(t,e){var n=this.$assembleRegExp(e);if(!n)return!1;var i=1==e.backwards,r=0!=e.skipCurrent,o=e.range,s=e.start;s||(s=o?o[i?"end":"start"]:t.selection.getRange()),s.start&&(s=s[r!=i?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:t.getLength()-1;if(i)var c=function(t){var n=s.row;if(!h(n,s.column,t)){for(n--;n>=a;n--)if(h(n,Number.MAX_VALUE,t))return;if(0!=e.wrap)for(n=l,a=s.row;n>=a;n--)if(h(n,Number.MAX_VALUE,t))return}};else c=function(t){var n=s.row;if(!h(n,s.column,t)){for(n+=1;n<=l;n++)if(h(n,0,t))return;if(0!=e.wrap)for(n=a,l=s.row;n<=l;n++)if(h(n,0,t))return}};if(e.$isMultiLine)var u=n.length,h=function(e,r,o){var s=i?e-u+1:e;if(!(s<0)){var a=t.getLine(s),l=a.search(n[0]);if(!(!i&&l<r||-1===l)){for(var c=1;c<u;c++)if(-1==(a=t.getLine(s+c)).search(n[c]))return;var h=a.match(n[u-1])[0].length;if(!(i&&h>r))return!!o(s,l,s+u-1,h)||void 0}}};else if(i)h=function(e,i,r){var o,s=t.getLine(e),a=[],l=0;for(n.lastIndex=0;o=n.exec(s);){var c=o[0].length;if(l=o.index,!c){if(l>=s.length)break;n.lastIndex=l+=1}if(o.index+c>i)break;a.push(o.index,c)}for(var u=a.length-1;u>=0;u-=2){var h=a[u-1];if(r(e,h,e,h+(c=a[u])))return!0}};else h=function(e,i,r){var o,s,a=t.getLine(e);for(n.lastIndex=i;s=n.exec(a);){var l=s[0].length;if(r(e,o=s.index,e,o+l))return!0;if(!l&&(n.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:c}}}).call(s.prototype),e.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,e){"use strict";function n(t,e){this.platform=e||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=!0}function i(t,e){n.call(this,t,e),this.$singleCommand=!1}var r=t("../lib/keys"),o=t("../lib/useragent"),s=r.KEY_MODS;i.prototype=n.prototype,function(){function t(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,e){var n=t&&("string"==typeof t?t:t.name);t=this.commands[n],e||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==t)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(t);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(t,e,n){if("object"==typeof t&&t&&(n==undefined&&(n=t.position),t=t[this.platform]),t)return"function"==typeof e?this.addCommand({exec:e,bindKey:t,name:e.name||t}):void t.split("|").forEach(function(t){var i="";if(-1!=t.indexOf(" ")){var r=t.split(/\s+/);t=r.pop(),r.forEach(function(t){var e=this.parseKeys(t),n=s[e.hashId]+e.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")},this),i+=" "}var o=this.parseKeys(t),a=s[o.hashId]+o.key;this._addCommandToBinding(i+a,e,n)},this)},this._addCommandToBinding=function(e,n,i){var r,o=this.commandKeyBinding;if(n)if(!o[e]||this.$singleCommand)o[e]=n;else{Array.isArray(o[e])?-1!=(r=o[e].indexOf(n))&&o[e].splice(r,1):o[e]=[o[e]],"number"!=typeof i&&(i=t(n));var s=o[e];for(r=0;r<s.length;r++){if(t(s[r])>i)break}s.splice(r,0,n)}else delete o[e]},this.addCommands=function(t){t&&Object.keys(t).forEach(function(e){var n=t[e];if(n){if("string"==typeof n)return this.bindKey(n,e);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=e),this.addCommand(n))}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(t){return t}),n=e.pop(),i=r[n];if(r.FUNCTION_KEYS[i])n=r.FUNCTION_KEYS[i].toLowerCase();else{if(!e.length)return{key:n,hashId:-1};if(1==e.length&&"shift"==e[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=e.length;s--;){var a=r.KEY_MODS[e[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+e[s]+" in "+t),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(t,e){var n=s[t]+e;return this.commandKeyBinding[n]},this.handleKeyboard=function(t,e,n,i){if(!(i<0)){var r=s[e]+n,o=this.commandKeyBinding[r];return t.$keyChain&&(t.$keyChain+=" "+r,o=this.commandKeyBinding[t.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(t.$keyChain&&(e&&4!=e||1!=n.length?(-1==e||i>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-r.length-1)),{command:o}):(t.$keyChain=t.$keyChain||r,{command:"null"})}},this.getStatusText=function(t,e){return e.$keyChain||""}}.call(n.prototype),e.HashHandler=n,e.MultiHashHandler=i}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("../keyboard/hash_handler").MultiHashHandler,r=t("../lib/event_emitter").EventEmitter,o=function(t,e){i.call(this,e,t),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};n.inherits(o,i),function(){n.implement(this,r),this.exec=function(t,e,n){if(Array.isArray(t)){for(var i=t.length;i--;)if(this.exec(t[i],e,n))return!0;return!1}if("string"==typeof t&&(t=this.commands[t]),!t)return!1;if(e&&e.$readOnly&&!t.readOnly)return!1;if(0!=this.$checkCommandState&&t.isAvailable&&!t.isAvailable(e))return!1;var r={editor:e,command:t,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(t){if(!this.$inReplay)return t&&t._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(t){this.macro.push([t.command,t.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(t){return t.map(function(t){return"string"!=typeof t[0]&&(t[0]=t[0].name),t[1]||(t=t[0]),t})}}.call(o.prototype),e.CommandManager=o}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,e){"use strict";function n(t,e){return{win:t,mac:e}}var i=t("../lib/lang"),r=t("../config"),o=t("../range").Range;e.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(t){r.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","F4"),exec:function(t){r.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Shift-F4"),exec:function(t){r.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(t){t.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(t){t.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(t,e){"number"!=typeof e&&(e=parseInt(prompt("Enter line number:"),10)),isNaN(e)||t.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(t){t.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(t){t.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(t){t.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(t){t.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(t){t.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:n("Alt-0","Command-Option-0"),exec:function(t){t.session.foldAll(),t.session.unfold(t.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(t){t.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(t){t.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(t){t.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:n("Alt-K","Ctrl-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(t){t.selection.isEmpty()?t.selection.selectWord():t.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(t){r.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(t){t.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(t){t.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(t){t.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(t){t.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(t,e){t.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(t){t.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(t){t.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(t){t.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(t,e){t.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(t){t.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(t){t.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(t){t.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(t){t.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(t,e){t.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(t){t.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(t){t.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(t){t.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(t){t.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(t,e){t.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(t){t.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(t){t.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(t){t.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(t){t.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(t){t.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(t){t.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(t){t.renderer.scrollBy(0,-2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(t){t.renderer.scrollBy(0,2*t.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(t){t.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(t){t.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(t){t.commands.toggleRecording(t)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(t){t.commands.replay(t)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-P"),exec:function(t){t.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(t){t.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(t){t.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(){},readOnly:!0},{name:"cut",exec:function(t){var e=t.$copyWithEmptySelection&&t.selection.isEmpty()?t.selection.getLineRange():t.selection.getRange();t._emit("cut",e),e.isEmpty()||t.session.remove(e),t.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(t,e){t.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(t){t.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(t){t.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(t){t.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(t){t.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{
name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(t){t.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(t){t.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(t){t.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(t){r.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(t){t.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(t){t.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(t){t.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(t){t.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(t){t.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(t){t.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(t){t.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(t){t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(t){if(!t.selection.isEmpty())return!1;t.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(t){t.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(t){t.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:n("Ctrl-Shift-Backspace",null),exec:function(t){var e=t.selection.getRange();e.start.column=0,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:n("Ctrl-Shift-Delete",null),exec:function(t){var e=t.selection.getRange();e.end.column=Number.MAX_VALUE,t.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(t){t.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(t){t.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(t){t.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(t){t.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(t){t.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(t){t.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(t,e){t.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(t,e){t.insert(i.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(t){t.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:n("Alt-Shift-X","Ctrl-T"),exec:function(t){t.transposeLetters()},multiSelectAction:function(t){t.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(t){t.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(t){t.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(t){var e=t.selection.getRange();e.start.column=e.end.column=0,e.end.row++,t.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:n(null,null),exec:function(t){for(var e=t.selection.isBackwards(),n=e?t.selection.getSelectionLead():t.selection.getSelectionAnchor(),r=e?t.selection.getSelectionAnchor():t.selection.getSelectionLead(),s=t.session.doc.getLine(n.row).length,a=t.session.doc.getTextRange(t.selection.getRange()).replace(/\n\s*/," ").length,l=t.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var u=i.stringTrimLeft(i.stringTrimRight(t.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}r.row+1<t.session.doc.getLength()-1&&(l+=t.session.doc.getNewLineCharacter()),t.clearSelection(),t.session.doc.replace(new o(n.row,0,r.row+2,0),l),a>0?(t.selection.moveCursorTo(n.row,n.column),t.selection.selectTo(n.row,n.column+a)):(s=t.session.doc.getLine(n.row).length>s?s+1:s,t.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:n(null,null),exec:function(t){var e=t.session.doc.getLength()-1,n=t.session.doc.getLine(e).length,i=t.selection.rangeList.ranges,r=[];i.length<1&&(i=[t.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row!==e||i[s].end.column!==n)&&r.push(new o(i[s].end.row,i[s].end.column,e,n)),0===s?(0!==i[s].start.row||0!==i[s].start.column)&&r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));t.exitMultiSelectMode(),t.clearSelection();for(s=0;s<r.length;s++)t.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/clipboard",["require","exports","module"],function(t,e,n){"use strict";n.exports={lineMode:!1}}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(t,e){"use strict";t("./lib/fixoldbrowsers");var n=t("./lib/oop"),i=t("./lib/dom"),r=t("./lib/lang"),o=t("./lib/useragent"),s=t("./keyboard/textinput").TextInput,a=t("./mouse/mouse_handler").MouseHandler,l=t("./mouse/fold_handler").FoldHandler,c=t("./keyboard/keybinding").KeyBinding,u=t("./edit_session").EditSession,h=t("./search").Search,d=t("./range").Range,f=t("./lib/event_emitter").EventEmitter,p=t("./commands/command_manager").CommandManager,g=t("./commands/default_commands").commands,m=t("./config"),v=t("./token_iterator").TokenIterator,y=t("./clipboard"),b=function(t,e,n){var i=t.getContainerElement();this.container=i,this.renderer=t,this.id="editor"+ ++b.$uid,this.commands=new p(o.isMac?"mac":"win",g),"object"==typeof document&&(this.textInput=new s(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new l(this)),this.keyBinding=new c(this),this.$search=(new h).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(t,e){e._$emitInputEvent.schedule(31)}),this.setSession(e||n&&n.session||new u("")),m.resetOptions(this),n&&this.setOptions(n),m._signal("editor",this)};b.$uid=0,function(){n.implement(this,f),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(t){if(this.curOp){if(!t||this.curOp.command)return;this.prevOp=this.curOp}t||(this.previousCommand=null,t={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:t.command||{},args:t.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(t){if(this.curOp){if(t&&!1===t.returnValue)return this.curOp=null;if(1==t&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var e=this.curOp.command,n=e&&e.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(t){if(this.$mergeUndoDeltas){var e=this.prevOp,n=this.$mergeableCommands,i=e.command&&t.command.name==e.command.name;if("insertstring"==t.command.name){var r=t.args;this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(e.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(t.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(t.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,e){if(t&&"string"==typeof t&&"ace"!=t){this.$keybindingId=t;var n=this;m.loadModule(["keybinding",t],function(i){n.$keybindingId==t&&n.keyBinding.setKeyboardHandler(i&&i.handler),e&&e()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),e&&e()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(t){if(this.session!=t){this.curOp&&this.endOperation(),this.curOp={};var e=this.session;if(e){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=t,t?(this.$onDocumentChange=this.onDocumentChange.bind(this),t.on("change",this.$onDocumentChange),this.renderer.setSession(t),this.$onChangeMode=this.onChangeMode.bind(this),t.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),t.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),t.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),t.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),t.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),t.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=t.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(t)),this._signal("changeSession",{session:t,oldSession:e}),this.curOp=null,e&&e._signal("changeEditor",{oldEditor:this}),t&&t._signal("changeEditor",{editor:this}),t&&t.bgTokenizer&&t.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(t,e){return this.session.doc.setValue(t),e?1==e?this.navigateFileEnd():-1==e&&this.navigateFileStart():this.selectAll(),t},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(t){this.renderer.onResize(t)},this.setTheme=function(t,e){this.renderer.setTheme(t,e)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(t){this.renderer.setStyle(t)},this.unsetStyle=function(t){this.renderer.unsetStyle(t)},this.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container).fontSize},this.setFontSize=function(t){this.setOption("fontSize",t)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var t=this;this.$highlightPending=!0,setTimeout(function(){t.$highlightPending=!1;var e=t.session;if(e&&e.bgTokenizer){var n=e.findMatchingBracket(t.getCursorPosition());if(n)var i=new d(n.row,n.column,n.row,n.column+1);else if(e.$mode.getMatching)i=e.$mode.getMatching(t.session);i&&(e.$bracketHighlight=e.addMarker(i,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout(function(){t.$highlightTagPending=!1;var e=t.session;if(e&&e.bgTokenizer){var n=t.getCursorPosition(),i=new v(t.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1==r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,s=0,a=i.stepBackward();if("<"==a.value){do{a=r,(r=i.stepForward())&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--)}while(r&&s>=0)}else{do{r=a,a=i.stepBackward(),r&&r.value===o&&-1!==r.type.indexOf("tag-name")&&("<"===a.value?s++:"</"===a.value&&s--)}while(a&&s<=0);i.stepForward()}if(!r)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var l=i.getCurrentTokenRow(),c=i.getCurrentTokenColumn(),u=new d(l,c,l,c+r.value.length),h=e.$backMarkers[e.$tagHighlight];e.$tagHighlight&&h!=undefined&&0!==u.compareRange(h.range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),e.$tagHighlight||(e.$tagHighlight=e.addMarker(u,"ace_bracket","text"))}}},50)}},this.focus=function(){var t=this;setTimeout(function(){t.isFocused()||t.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(t){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",t))},this.onBlur=function(t){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",t))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(t){var e=this.session.$useWrapMode,n=t.start.row==t.end.row?t.end.row:Infinity;this.renderer.updateLines(t.start.row,n,e),this._signal("change",t),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(t){var e=t.data;this.renderer.updateLines(e.first,e.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var t,e=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(t=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(t=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(t=!1)),e.$highlightLineMarker&&!t)e.removeMarker(e.$highlightLineMarker.id),e.$highlightLineMarker=null;else if(!e.$highlightLineMarker&&t){var n=new d(t.row,t.column,t.row,Infinity);n.id=e.addMarker(n,"ace_active-line","screenLine"),e.$highlightLineMarker=n}else t&&(e.$highlightLineMarker.start.row=t.row,e.$highlightLineMarker.end.row=t.row,e.$highlightLineMarker.start.column=t.column,e._signal("changeBackMarker"))},this.onSelectionChange=function(){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var e=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(e,"ace_selection",n)}var i=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(i),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var t=this.session,e=this.getSelectionRange();if(!e.isEmpty()&&!e.isMultiLine()){var n=e.start.column,i=e.end.column,r=t.getLine(e.start.row),o=r.substring(n,i);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=r.substring(n-1,i+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(t){this.renderer.updateText(),this._emit("changeMode",t)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var t=this.getSelectedText(),e=this.session.doc.getNewLineCharacter(),n=!1;if(!t&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var o=i[r];r&&i[r-1].start.row==o.start.row||(t+=this.session.getLine(o.start.row)+e)}}var s={text:t};return this._signal("copy",s),y.lineMode=n?s.text:"",s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(t,e){var n={text:t,event:e};this.commands.exec("paste",this,n)},this.$handlePaste=function(t){"string"==typeof t&&(t={text:t}),this._signal("paste",t);var e=t.text,n=e==y.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},e):this.insert(e);else if(n)this.selection.rangeList.ranges.forEach(function(t){i.insert({row:t.start.row,column:0},e)});else{var r=e.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges;if(r.length>o.length||r.length<2||!r[1])return this.commands.exec("insertstring",this,e);for(var s=o.length;s--;){var a=o[s];a.isEmpty()||i.remove(a),i.insert(a.start,r[s])}}},this.execCommand=function(t,e){return this.commands.exec(t,this,e)},this.insert=function(t,e){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!e){var o=i.transformAction(n.getState(r.row),"insertion",this,n,t);o&&(t!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),t=o.text)}if("\t"==t&&(t=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==t.indexOf("\n")){(s=new d.fromPoints(r,r)).end.column+=t.length,this.session.remove(s)}}else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==t||"\r\n"==t){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),h=(a=n.getLine(r.row),i.checkOutdent(u,a,t));n.insert(r,t);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new d(r.row,c+o.selection[0],r.row,c+o.selection[1])):this.selection.setSelectionRange(new d(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),n.getDocument().isNewLine(t)){var f=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},f)}h&&i.autoOutdent(u,n,r.row)},this.onTextInput=function(t,e){if(!e)return this.keyBinding.onTextInput(t);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,t,e);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(t,e){var n;(e.extendLeft||e.extendRight)&&((n=this.selection.getRange()).start.column-=e.extendLeft,n.end.column+=e.extendRight,this.selection.setRange(n),!t&&!n.isEmpty()&&this.remove());((t||!this.selection.isEmpty())&&this.insert(t,!0),e.restoreStart||e.restoreEnd)&&((n=this.selection.getRange()).start.column-=e.restoreStart,n.end.column-=e.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(t,e,n){this.keyBinding.onCommandKey(t,e,n)},this.setOverwrite=function(t){this.session.setOverwrite(t)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(t){this.setOption("scrollSpeed",t)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(t){this.setOption("dragDelay",t)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(t){this.setOption("selectionStyle",t)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(t){this.setOption("highlightActiveLine",t)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(t){this.setOption("highlightSelectedWord",t)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(t){this.renderer.setAnimatedScroll(t)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(t){this.renderer.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(t){this.renderer.setDisplayIndentGuides(t)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(t){this.renderer.setShowPrintMargin(t)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(t){this.renderer.setPrintMarginColumn(t)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(t){this.setOption("readOnly",t)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(t){this.setOption("behavioursEnabled",t)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(t){this.setOption("wrapBehavioursEnabled",t)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(t){this.setOption("showFoldWidgets",t)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(t){this.selection.isEmpty()&&("left"==t?this.selection.selectLeft():this.selection.selectRight());var e=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(e.start.row),r=n.getMode().transformAction(i,"deletion",this,n,e);if(0===e.end.column){var o=n.getTextRange(e);if("\n"==o[o.length-1]){var s=n.getLine(e.end.row);/^\s+$/.test(s)&&(e.end.column=s.length)}}r&&(e=r)}this.session.remove(e),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var t=this.getSelectionRange();t.start.column==t.end.column&&t.start.row==t.end.row&&(t.end.column=0,t.end.row++),this.session.remove(t),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var t=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(t)},this.transposeLetters=function(){if(this.selection.isEmpty()){var t=this.getCursorPosition(),e=t.column;if(0!==e){var n,i,r=this.session.getLine(t.row);e<r.length?(n=r.charAt(e)+r.charAt(e-1),i=new d(t.row,e-1,t.row,e+1)):(n=r.charAt(e-1)+r.charAt(e-2),i=new d(t.row,e-2,t.row,e)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toLowerCase()),this.selection.setSelectionRange(t)},this.toUpperCase=function(){var t=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var e=this.getSelectionRange(),n=this.session.getTextRange(e);this.session.replace(e,n.toUpperCase()),this.selection.setSelectionRange(t)},this.indent=function(){var t=this.session,e=this.getSelectionRange();if(!(e.start.row<e.end.row)){if(e.start.column<e.end.column){var n=t.getTextRange(e);if(!/^\s+$/.test(n)){u=this.$getSelectedRows();return void t.indentRows(u.first,u.last,"\t")}}var i=t.getLine(e.start.row),o=e.start,s=t.getTabSize(),a=t.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var l=s-a%s,c=r.stringRepeat(" ",l);else{for(l=a%s;" "==i[e.start.column-1]&&l;)e.start.column--,l--;this.selection.setSelectionRange(e),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();t.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var t=this.$getSelectedRows();this.session.indentRows(t.first,t.last,"\t")},this.blockOutdent=function(){var t=this.session.getSelection();this.session.outdentRows(t.getRange())},this.sortLines=function(){for(var t=this.$getSelectedRows(),e=this.session,n=[],i=t.first;i<=t.last;i++)n.push(e.getLine(i));n.sort(function(t,e){return t.toLowerCase()<e.toLowerCase()?-1:t.toLowerCase()>e.toLowerCase()?1:0});var r=new d(0,0,0,0);for(i=t.first;i<=t.last;i++){var o=e.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,e.replace(r,n[i-t.first])}},this.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),e=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,e.first,e.last)},this.toggleBlockComment=function(){var t=this.getCursorPosition(),e=this.session.getState(t.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(e,this.session,n,t)},this.getNumberAt=function(t,e){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(t);n.lastIndex<e;){var r=n.exec(i);if(r.index<=e&&r.index+r[0].length>=e)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(t){var e=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new d(e,n-1,e,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(e,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),s!==o.end&&n<s?t*=Math.pow(10,o.end-n-1):t*=Math.pow(10,o.end-n),l+=t;var c=(l/=Math.pow(10,a)).toFixed(a),u=new d(e,o.start,e,o.end);this.session.replace(u,c),this.moveCursorTo(e,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var t=this.selection.getCursor().row,e=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,o=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=e-i-1;s<0&&(s=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&o.forEach(function(e){l=a+e.length,s>=a&&s<=l&&(n=e,c.selection.clearSelection(),c.moveCursorTo(t,a+i),c.selection.selectTo(t,l+i)),a=l});for(var u,h=this.$toggleWordPairs,d=0;d<h.length;d++)for(var f=h[d],p=0;p<=1;p++){var g=+!p,m=n.match(new RegExp("^\\s?_?("+r.escapeRegExp(f[p])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+r.escapeRegExp(m[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(r.escapeRegExp(f[p]),"i"),function(t){var e=f[g];return t.toUpperCase()==t?e=e.toUpperCase():t.charAt(0).toUpperCase()==t.charAt(0)&&(e=e.substr(0,0)+f[g].charAt(0).toUpperCase()+e.substr(1)),e}),this.insert(u),u="")}},this.removeLines=function(){var t=this.$getSelectedRows();this.session.removeFullLines(t.first,t.last),this.clearSelection()},this.duplicateSelection=function(){var t=this.selection,e=this.session,n=t.getRange(),i=t.isBackwards();if(n.isEmpty()){var r=n.start.row;e.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=e.insert(o,e.getTextRange(n),!1);n.start=o,n.end=s,t.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(t,e,n){return this.session.moveText(t,e,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},
this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(t,e){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,e?0:t),e&&-1==t&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var h=u;s[u].moveBy(a,0);for(var d=(n=this.$getSelectedRows(s[u])).first,f=n.last;++u<c;){l&&s[u].moveBy(l,0);var p=this.$getSelectedRows(s[u]);if(e&&p.first!=f)break;if(!e&&p.first>f+1)break;f=p.last}for(u--,a=this.session.$moveLines(d,f,e?0:t),e&&-1==t&&(h=u+1);h<=u;)s[h].moveBy(a,0),h++;e||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(t){return t=(t||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(t.start.row),last:this.session.getRowFoldEnd(t.end.row)}},this.onCompositionStart=function(t){this.renderer.showComposition(t)},this.onCompositionUpdate=function(t){this.renderer.setCompositionText(t)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(t){return t>=this.getFirstVisibleRow()&&t<=this.getLastVisibleRow()},this.isRowFullyVisible=function(t){return t>=this.renderer.getFirstFullyVisibleRow()&&t<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(t,e){var n=this.renderer,i=this.renderer.layerConfig,r=t*Math.floor(i.height/i.lineHeight);!0===e?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):!1===e&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=e&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(t){this.renderer.scrollToRow(t)},this.scrollToLine=function(t,e,n,i){this.renderer.scrollToLine(t,e,n,i)},this.centerSelection=function(){var t=this.getSelectionRange(),e={row:Math.floor(t.start.row+(t.end.row-t.start.row)/2),column:Math.floor(t.start.column+(t.end.column-t.start.column)/2)};this.renderer.alignCursor(e,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(t,e){this.selection.moveCursorTo(t,e)},this.moveCursorToPosition=function(t){this.selection.moveCursorToPosition(t)},this.jumpToMatching=function(t,e){var n=this.getCursorPosition(),i=new v(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(h[o.value[u]])switch(a=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===r.value?c[o.value]++:"</"===r.value&&c[o.value]--,-1===c[o.value]&&(s="tag",l=!0));l||(r=o,o=i.stepForward(),u=0)}while(o&&!l);if(s){var f,p;if("bracket"===s)(f=this.session.getBracketRange(n))||(p=(f=new d(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1)).start,(e||p.row===n.row&&Math.abs(p.column-n.column)<2)&&(f=this.session.getBracketRange(p)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g=o.value;if(0===(f=new d(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){l=!1;do{o=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&f.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===g&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?c[g]++:"</"===r.value&&c[g]--,0===c[g]&&(l=!0)))}while(r&&!l)}o&&o.type.indexOf("tag-name")&&((p=f.start).row==n.row&&Math.abs(p.column-n.column)<2&&(p=f.end))}(p=f&&f.cursor||p)&&(t?f&&e?this.selection.setRange(f):f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(t,e,n){this.selection.clearSelection(),this.session.unfold({row:t-1,column:e||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(t-1,e||0),this.isRowFullyVisible(t-1)||this.scrollToLine(t-1,!0,n)},this.navigateTo=function(t,e){this.selection.moveTo(t,e)},this.navigateUp=function(t){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(-t||-1,0)},this.navigateDown=function(t){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var e=this.selection.anchor.getPosition();return this.moveCursorToPosition(e)}this.selection.clearSelection(),this.selection.moveCursorBy(t||1,0)},this.navigateLeft=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorLeft();else{var e=this.getSelectionRange().start;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateRight=function(t){if(this.selection.isEmpty())for(t=t||1;t--;)this.selection.moveCursorRight();else{var e=this.getSelectionRange().end;this.moveCursorToPosition(e)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(t,e){e&&this.$search.set(e);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,t)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i},this.replaceAll=function(t,e){e&&this.$search.set(e);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],t)&&i++;return this.selection.setSelectionRange(r),i},this.$tryReplace=function(t,e){var n=this.session.getTextRange(t);return null!==(e=this.$search.replace(n,e))?(t.end=this.session.replace(t,e),t):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(t,e,i){e||(e={}),"string"==typeof t||t instanceof RegExp?e.needle=t:"object"==typeof t&&n.mixin(e,t);var r=this.selection.getRange();null==e.needle&&((t=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),t=this.session.getTextRange(r)),this.$search.set({needle:t})),this.$search.set(e),e.start||this.$search.set({start:r});var o=this.$search.find(this.session);return e.preventScroll?o:o?(this.revealRange(o,i),o):(e.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(t,e){this.find({skipCurrent:!0,backwards:!1},t,e)},this.findPrevious=function(t,e){this.find(t,{skipCurrent:!0,backwards:!0},e)},this.revealRange=function(t,e){this.session.unfold(t),this.selection.setSelectionRange(t);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(t.start,t.end,.5),!1!==e&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(t){if(t){var e,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",function(){i=!0}),s=this.renderer.on("beforeRender",function(){i&&(e=n.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(i&&e&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var t=n.renderer,o=t.$cursorLayer.$pixelPos,s=t.layerConfig,a=o.top-s.offset;null!=(i=o.top>=0&&a+e.top<0||!(o.top<s.height&&o.top+e.top+s.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=e=null}});this.setAutoScrollEditorIntoView=function(t){t||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",e=this.renderer.$cursorLayer;e&&(e.setSmoothBlinking(/smooth/.test(t)),e.isBlinking=!this.$readOnly&&"wide"!=t,i.setCssClass(e.element,"ace_slim-cursors",/slim/.test(t)))}}.call(b.prototype),m.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(t){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:t})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(t){this.textInput.setReadOnly(t),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(t){this.textInput.setCopyWithEmptySelection(t)},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(t){this.setAutoScrollEditorIntoView(t)}},keyboardHandler:{set:function(t){this.setKeyboardHandler(t)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(t){this.session.setValue(t)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(t){this.setSession(t)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(t){this.renderer.$gutterLayer.setShowLineNumbers(t),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),t&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(t){this.$showLineNumbers&&t?w.attach(this):w.detach(this)}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(t,e){return(Math.abs(t.selection.lead.row-e)||e+1+(e<9?"\xb7":""))+""},getWidth:function(t,e,n){return Math.max(e.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(t,e){e.renderer.$loop.schedule(e.renderer.CHANGE_GUTTER)},attach:function(t){t.renderer.$gutterLayer.$renderer=this,t.on("changeSelection",this.update),this.update(null,t)},detach:function(t){t.renderer.$gutterLayer.$renderer==this&&(t.renderer.$gutterLayer.$renderer=null),t.off("changeSelection",this.update),this.update(null,t)}};e.Editor=b}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(t,e){"use strict";function n(t,e){for(var n=e;n--;){var i=t[n];if(i&&!i[0].ignore){for(;n<e-1;){var r=l(t[n],t[n+1]);t[n]=r[0],t[n+1]=r[1],n++}return!0}}}function i(t){return{row:t.row,column:t.column}}function r(t){return{start:i(t.start),end:i(t.end),action:t.action,lines:t.lines.slice()}}function o(t){if(t=t||this,Array.isArray(t))return t.map(o).join("\n");var e="";return t.action?(e="insert"==t.action?"+":"-",e+="["+t.lines+"]"):t.value&&(e=Array.isArray(t.value)?t.value.map(s).join("\n"):s(t.value)),t.start&&(e+=s(t)),(t.id||t.rev)&&(e+="\t("+(t.id||t.rev)+")"),e}function s(t){return t.start.row+":"+t.start.column+"=>"+t.end.row+":"+t.end.column}function a(t,e){var n="insert"==t.action,i="insert"==e.action;if(n&&i)if(v(e.start,t.end)>=0)u(e,t,-1);else{if(!(v(e.start,t.start)<=0))return null;u(t,e,1)}else if(n&&!i)if(v(e.start,t.end)>=0)u(e,t,-1);else{if(!(v(e.end,t.start)<=0))return null;u(t,e,-1)}else if(!n&&i)if(v(e.start,t.start)>=0)u(e,t,1);else{if(!(v(e.start,t.start)<=0))return null;u(t,e,1)}else if(!n&&!i)if(v(e.start,t.start)>=0)u(e,t,1);else{if(!(v(e.end,t.start)<=0))return null;u(t,e,-1)}return[e,t]}function l(t,e){for(var n=t.length;n--;)for(var i=0;i<e.length;i++)if(!a(t[n],e[i])){for(;n<t.length;){for(;i--;)a(e[i],t[n]);i=e.length,n++}return[t,e]}return t.selectionBefore=e.selectionBefore=t.selectionAfter=e.selectionAfter=null,[e,t]}function c(t,e){var n="insert"==t.action,i="insert"==e.action;if(n&&i)v(t.start,e.start)<0?u(e,t,1):u(t,e,1);else if(n&&!i)v(t.start,e.end)>=0?u(t,e,-1):v(t.start,e.start)<=0?u(e,t,1):(u(t,m.fromPoints(e.start,t.start),-1),u(e,t,1));else if(!n&&i)v(e.start,t.end)>=0?u(e,t,-1):v(e.start,t.start)<=0?u(t,e,1):(u(e,m.fromPoints(t.start,e.start),-1),u(t,e,1));else if(!n&&!i)if(v(e.start,t.end)>=0)u(e,t,-1);else{var r,o;if(!(v(e.end,t.start)<=0))return v(t.start,e.start)<0&&(r=t,t=d(t,e.start)),v(t.end,e.end)>0&&(o=d(t,e.end)),h(e.end,t.start,t.end,-1),o&&!r&&(t.lines=o.lines,t.start=o.start,t.end=o.end,o=t),[e,r,o].filter(Boolean);u(t,e,-1)}return[e,t]}function u(t,e,n){h(t.start,e.start,e.end,n),h(t.end,e.start,e.end,n)}function h(t,e,n,i){t.row==(1==i?e:n).row&&(t.column+=i*(n.column-e.column)),t.row+=i*(n.row-e.row)}function d(t,e){var n=t.lines,r=t.end;t.end=i(e);var o=t.end.row-t.start.row,s=n.splice(o,n.length),a=o?e.column:e.column-t.start.column;return n.push(s[0].substring(0,a)),s[0]=s[0].substr(a),{start:i(e),end:r,lines:s,action:t.action}}function f(t,e){e=r(e);for(var n=t.length;n--;){for(var i=t[n],o=0;o<i.length;o++){var s=c(i[o],e);e=s[0],2!=s.length&&(s[2]?(i.splice(o+1,1,s[1],s[2]),o++):s[1]||(i.splice(o,1),o--))}i.length||t.splice(n,1)}return t}function p(t,e){for(var n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;r++)f(t,i[r])}var g=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(t){this.$session=t},this.add=function(t,e){this.$fromUndo||t!=this.$lastDelta&&(!1!==e&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),t.id=this.$rev=++this.$maxRev),"remove"!=t.action&&"insert"!=t.action||(this.$lastDelta=t),this.lastDeltas.push(t))},this.addSelection=function(t,e){this.selections.push({value:t,rev:e||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(t,e){null==e&&(e=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var r=n[i][0];if(r.id<=t)break;r.id<e&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(t,e){for(var n=this.selections,i=n.length;i--;){var r=n[i];if(r.rev<t)return e&&(r=n[i+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(t,e){null==e&&(e=this.$rev+1);for(var n=this.$undoStack,i=null,r=0,o=n.length;o--;){var s=n[o][0];if(s.id<e&&!i&&(i=o+1),s.id<=t){r=o+1;break}}return n.slice(r,i)},this.getChangedRanges=function(t,e){null==e&&(e=this.$rev+1)},this.getChangedLines=function(t,e){null==e&&(e=this.$rev+1)},this.undo=function(t,e){this.lastDeltas=null;var i=this.$undoStack;if(n(i,i.length)){t||(t=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=i.pop(),o=null;return r&&r.length&&(o=t.undoChanges(r,e),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,o}},this.redo=function(t,e){if(this.lastDeltas=null,t||(t=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);p(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(t){t[0].id=++this.$maxRev},this)}var i=this.$redoStack.pop(),r=null;return i&&(r=t.redoChanges(i,e),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var t=this.$undoStack,e=t[t.length-1],n=e&&e[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(t){t==undefined&&(t=this.$rev),this.mark=t},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(t){return t?o(t):o(this.$undoStack)+"\n---\n"+o(this.$redoStack)}}).call(g.prototype);var m=t("./range").Range,v=m.comparePoints;m.comparePoints;e.UndoManager=g}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(t,e){"use strict";var n=t("../lib/dom"),i=function(t,e){this.element=t,this.canvasHeight=e||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(t){n.translate(this.element,0,-t.firstRowScreen*t.lineHeight%this.canvasHeight-t.offset*this.$offsetCoefficient)},this.pageChanged=function(t,e){return Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)!==Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)},this.computeLineTop=function(t,e,n){var i=e.firstRowScreen*e.lineHeight,r=Math.floor(i/this.canvasHeight);return n.documentToScreenRow(t,0)*e.lineHeight-r*this.canvasHeight},this.computeLineHeight=function(t,e,n){return e.lineHeight*n.getRowLength(t)},this.getLength=function(){return this.cells.length},this.get=function(t){return this.cells[t]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(t){if(Array.isArray(t)){this.cells.push.apply(this.cells,t);for(var e=n.createFragment(this.element),i=0;i<t.length;i++)e.appendChild(t[i].element);this.element.appendChild(e)}else this.cells.push(t),this.element.appendChild(t.element)},this.unshift=function(t){if(Array.isArray(t)){this.cells.unshift.apply(this.cells,t);for(var e=n.createFragment(this.element),i=0;i<t.length;i++)e.appendChild(t[i].element);this.element.firstChild?this.element.insertBefore(e,this.element.firstChild):this.element.appendChild(e)}else this.cells.unshift(t),this.element.insertAdjacentElement("afterbegin",t.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(t){t&&(t.element.remove(),this.cellCache.push(t))},this.createCell=function(t,e,i,r){var o=this.cellCache.pop();if(!o){var s=n.createElement("div");r&&r(s),this.element.appendChild(s),o={element:s,text:"",row:t}}return o.row=t,o}}).call(i.prototype),e.Lines=i}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(t,e){"use strict";function n(t){var e=document.createTextNode("");t.appendChild(e);var n=i.createElement("span");return t.appendChild(n),t}var i=t("../lib/dom"),r=t("../lib/oop"),o=t("../lib/lang"),s=t("../lib/event_emitter").EventEmitter,a=t("./lines").Lines,l=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",t.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};(function(){r.implement(this,s),this.setSession=function(t){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=t,t&&t.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(t,e)},this.setAnnotations=function(t){this.$annotations=[];for(var e=0;e<t.length;e++){var n=t[e],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&r.text.push(s);var a=n.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"==a&&!r.className&&(r.className=" ace_info")}},this.$updateAnnotations=function(t){if(this.$annotations.length){var e=t.start.row,n=t.end.row-e;if(0!==n)if("remove"==t.action)this.$annotations.splice(e,n+1,null);else{var i=new Array(n+1);i.unshift(e,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(t){this.config=t;var e=this.session,i=t.firstRow,r=Math.min(t.lastRow+t.gutterOffset,e.getLength()-1);this.oldLastRow=r,this.config=t,this.$lines.moveContainer(t),this.$updateCursorRow();for(var o=e.getNextFoldLine(i),s=o?o.start.row:Infinity,a=null,l=-1,c=i;;){if(c>s&&(c=o.end.row+1,s=(o=e.getNextFoldLine(c,o))?o.start.row:Infinity),c>r){for(;this.$lines.getLength()>l+1;)this.$lines.pop();break}(a=this.$lines.get(++l))?a.row=c:(a=this.$lines.createCell(c,t,this.session,n),this.$lines.push(a)),this.$renderCell(a,t,o,c),c++}this._signal("afterRender"),this.$updateGutterWidth(t)},this.$updateGutterWidth=function(t){var e=this.session,n=e.gutterRenderer||this.$renderer,i=e.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||e.$useWrapMode)&&(r=e.getLength()+i);var o=n?n.getWidth(e,r,t):r.toString().length*t.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)!==this.gutterWidth&&!isNaN(o)&&(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var t=this.session.selection.getCursor();this.$cursorRow!==t.row&&(this.$cursorRow=t.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var t=this.session.selection.cursor.row;if(this.$cursorRow=t,!this.$cursorCell||this.$cursorCell.row!=t){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var e=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<e.length;n++){var i=e[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==e[n-1].row))break;i=e[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(t){var e=this.config;if(this.config=t,this.$updateCursorRow(),this.$lines.pageChanged(e,t))return this.update(t);this.$lines.moveContainer(t);var n=Math.min(t.lastRow+t.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!e||i<t.firstRow)return this.update(t);if(n<e.firstRow)return this.update(t);if(e.firstRow<t.firstRow)for(var r=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);r>0;r--)this.$lines.shift();if(i>n)for(r=this.session.getFoldedRowCount(n+1,i);r>0;r--)this.$lines.pop();t.firstRow<e.firstRow&&this.$lines.unshift(this.$renderLines(t,t.firstRow,e.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(t,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(t)},this.$renderLines=function(t,e,i){for(var r=[],o=e,s=this.session.getNextFoldLine(o),a=s?s.start.row:Infinity;o>a&&(o=s.end.row+1,a=(s=this.session.getNextFoldLine(o,s))?s.start.row:Infinity),!(o>i);){var l=this.$lines.createCell(o,t,this.session,n);this.$renderCell(l,t,s,o),r.push(l),o++}return r},this.$renderCell=function(t,e,n,r){var o=t.element,s=this.session,a=o.childNodes[0],l=o.childNodes[1],c=s.$firstLineNumber,u=s.$breakpoints,h=s.$decorations,d=s.gutterRenderer||this.$renderer,f=this.$showFoldWidgets&&s.foldWidgets,p=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(r==this.$cursorRow||n&&r<this.$cursorRow&&r>=p&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=t&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=t)),u[r]&&(g+=u[r]),h[r]&&(g+=h[r]),this.$annotations[r]&&(g+=this.$annotations[r].className),o.className!=g&&(o.className=g),f){var m=f[r];null==m&&(m=f[r]=s.getFoldWidget(r))}if(m){g="ace_fold-widget ace_"+m;"start"==m&&r==p&&r<n.end.row?g+=" ace_closed":g+=" ace_open",l.className!=g&&(l.className=g);var v=e.lineHeight+"px";i.setStyle(l.style,"height",v),i.setStyle(l.style,"display","inline-block")}else l&&i.setStyle(l.style,"display","none");var y=(d?d.getText(s,r):r+c).toString();return y!==a.data&&(a.data=y),i.setStyle(t.element.style,"height",this.$lines.computeLineHeight(r,e,s)+"px"),i.setStyle(t.element.style,"top",this.$lines.computeLineTop(r,e,s)+"px"),t.text=y,t},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(t){this.$highlightGutterLine=t},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(t){this.$renderer=!t&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(t){t?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=t,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var t=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(t.borderLeftWidth)||0)+(parseInt(t.paddingLeft)||0)+1,this.$padding.right=(parseInt(t.borderRightWidth)||0)+(parseInt(t.paddingRight)||0),this.$padding},this.getRegion=function(t){var e=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return t.x<e.left+n.left?"markers":this.$showFoldWidgets&&t.x>n.right-e.right?"foldWidgets":void 0}}).call(l.prototype),e.Gutter=l}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,e){"use strict";var n=t("../range").Range,i=t("../lib/dom"),r=function(t){this.element=i.createElement("div"),this.element.className="ace_layer ace_marker-layer",t.appendChild(this.element)};(function(){function t(t,e,n,i){return(t?1:0)|(e?2:0)|(n?4:0)|(i?8:0)}this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setMarkers=function(t){this.markers=t},this.elt=function(t,e){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=e,n.className=t},this.update=function(t){if(t){var e;for(var n in this.config=t,this.i=0,this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(t.firstRow,t.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,t),s=this.$padding+r.start.column*t.characterWidth;i.renderer(e,r,s,o,t)}else"fullLine"==i.type?this.drawFullLineMarker(e,r,i.clazz,t):"screenLine"==i.type?this.drawScreenLineMarker(e,r,i.clazz,t):r.isMultiLine()?"text"==i.type?this.drawTextMarker(e,r,i.clazz,t):this.drawMultiLineMarker(e,r,i.clazz,t):this.drawSingleLineMarker(e,r,i.clazz+" ace_start ace_br15",t)}else i.update(e,this,this.session,t)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(t,e){return(t-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(e,i,r,o,s){for(var a=this.session,l=i.start.row,c=i.end.row,u=l,h=0,d=0,f=a.getScreenLastRowColumn(u),p=new n(u,i.start.column,u,d);u<=c;u++)p.start.row=p.end.row=u,p.start.column=u==l?i.start.column:a.getRowWrapIndent(u),p.end.column=f,h=d,d=f,f=u+1<c?a.getScreenLastRowColumn(u+1):u==c?0:i.end.column,this.drawSingleLineMarker(e,p,r+(u==l?" ace_start":"")+" ace_br"+t(u==l||u==l+1&&i.start.column,h<d,d>f,u==c),o,u==c?0:1,s)},this.drawMultiLineMarker=function(t,e,n,i,r){var o=this.$padding,s=i.lineHeight,a=this.$getTop(e.start.row,i),l=o+e.start.column*i.characterWidth;(r=r||"",this.session.$bidiHandler.isBidiRow(e.start.row))?((c=e.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(t,c,n+" ace_br1 ace_start",i,null,r)):this.elt(n+" ace_br1 ace_start","height:"+s+"px;right:0;top:"+a+"px;left:"+l+"px;"+(r||""));if(this.session.$bidiHandler.isBidiRow(e.end.row)){var c;(c=e.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(t,c,n+" ace_br12",i,null,r)}else{a=this.$getTop(e.end.row,i);var u=e.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+s+"px;width:"+u+"px;top:"+a+"px;left:"+o+"px;"+(r||""))}if(!((s=(e.end.row-e.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(e.start.row+1,i);var h=(e.start.column?1:0)|(e.end.column?0:8);this.elt(n+(h?" ace_br"+h:""),"height:"+s+"px;right:0;top:"+a+"px;left:"+o+"px;"+(r||""))}},this.drawSingleLineMarker=function(t,e,n,i,r,o){if(this.session.$bidiHandler.isBidiRow(e.start.row))return this.drawBidiSingleLineMarker(t,e,n,i,r,o);var s=i.lineHeight,a=(e.end.column+(r||0)-e.start.column)*i.characterWidth,l=this.$getTop(e.start.row,i),c=this.$padding+e.start.column*i.characterWidth;this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(t,e,n,i,r,o){var s=i.lineHeight,a=this.$getTop(e.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(e.start.column,e.end.column).forEach(function(t){this.elt(n,"height:"+s+"px;width:"+t.width+(r||0)+"px;top:"+a+"px;left:"+(l+t.left)+"px;"+(o||""))},this)},this.drawFullLineMarker=function(t,e,n,i,r){var o=this.$getTop(e.start.row,i),s=i.lineHeight;e.start.row!=e.end.row&&(s+=this.$getTop(e.end.row,i)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(t,e,n,i,r){var o=this.$getTop(e.start.row,i),s=i.lineHeight;this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))}}).call(r.prototype),e.Marker=r}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("../lib/dom"),r=t("../lib/lang"),o=t("./lines").Lines,s=t("../lib/event_emitter").EventEmitter,a=function(t){this.dom=i,this.element=this.dom.createElement("div"),
this.element.className="ace_layer ace_text-layer",t.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new o(this.element)};(function(){n.implement(this,s),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var t=this.session.doc,e="\n"==t.getNewLineCharacter()&&"windows"!=t.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(t){this.$padding=t,this.element.style.margin="0 "+t+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(t){this.$fontMetrics=t,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(t){this.session=t,t&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(t){return this.showInvisibles!=t&&(this.showInvisibles=t,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(t){return this.displayIndentGuides!=t&&(this.displayIndentGuides=t,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var t=this.session.getTabSize();this.tabSize=t;for(var e=this.$tabStrings=[0],n=1;n<t+1;n++)if(this.showInvisibles){(i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=r.stringRepeat(this.TAB_CHAR,n),e.push(i)}else e.push(this.dom.createTextNode(r.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,o="ace_indent-guide",s="",a="";if(this.showInvisibles){o+=" ace_invisible",s=" ace_invisible_space",a=" ace_invisible_tab";var l=r.stringRepeat(this.SPACE_CHAR,this.tabSize),c=r.stringRepeat(this.TAB_CHAR,this.tabSize)}else c=l=r.stringRepeat(" ",this.tabSize);(i=this.dom.createElement("span")).className=o+s,i.textContent=l,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=o+a,i.textContent=c,this.$tabStrings["\t"]=i}},this.updateLines=function(t,e,n){if(this.config.lastRow!=t.lastRow||this.config.firstRow!=t.firstRow)return this.update(t);this.config=t;for(var i=Math.max(e,t.firstRow),r=Math.min(n,t.lastRow),o=this.element.childNodes,s=0,a=t.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,u=(a=i,(l=this.session.getNextFoldLine(a))?l.start.row:Infinity);a>u&&(a=l.end.row+1,u=(l=this.session.getNextFoldLine(a,l))?l.start.row:Infinity),!(a>r);){var h=o[s++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==u&&l);var d=t.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=d&&(c=!0,h.style.height=d)}a++}if(c)for(;s<this.$lines.cells.length;){var f=this.$lines.cells[s++];f.element.style.top=this.$lines.computeLineTop(f.row,t,this.session)+"px"}},this.scrollLines=function(t){var e=this.config;if(this.config=t,this.$lines.pageChanged(e,t))return this.update(t);this.$lines.moveContainer(t);var n=t.lastRow,i=e?e.lastRow:-1;if(!e||i<t.firstRow)return this.update(t);if(n<e.firstRow)return this.update(t);if(!e||e.lastRow<t.firstRow)return this.update(t);if(t.lastRow<e.firstRow)return this.update(t);if(e.firstRow<t.firstRow)for(var r=this.session.getFoldedRowCount(e.firstRow,t.firstRow-1);r>0;r--)this.$lines.shift();if(e.lastRow>t.lastRow)for(r=this.session.getFoldedRowCount(t.lastRow+1,e.lastRow);r>0;r--)this.$lines.pop();t.firstRow<e.firstRow&&this.$lines.unshift(this.$renderLinesFragment(t,t.firstRow,e.firstRow-1)),t.lastRow>e.lastRow&&this.$lines.push(this.$renderLinesFragment(t,e.lastRow+1,t.lastRow))},this.$renderLinesFragment=function(t,e,n){for(var r=[],o=e,s=this.session.getNextFoldLine(o),a=s?s.start.row:Infinity;o>a&&(o=s.end.row+1,a=(s=this.session.getNextFoldLine(o,s))?s.start.row:Infinity),!(o>n);){var l=this.$lines.createCell(o,t,this.session),c=l.element;this.dom.removeChildren(c),i.setStyle(c.style,"height",this.$lines.computeLineHeight(o,t,this.session)+"px"),i.setStyle(c.style,"top",this.$lines.computeLineTop(o,t,this.session)+"px"),this.$renderLine(c,o,o==a&&s),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",r.push(l),o++}return r},this.update=function(t){this.$lines.moveContainer(t),this.config=t;for(var e=t.firstRow,n=t.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(t,e,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(t,e,n,o){for(var s,a=this,l=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,c=this.dom.createFragment(this.element),u=0;s=l.exec(o);){var h=s[1],d=s[2],f=s[3],p=s[4],g=s[5];if(a.showInvisibles||!d){var m=u!=s.index?o.slice(u,s.index):"";if(u=s.index+s[0].length,m&&c.appendChild(this.dom.createTextNode(m,this.element)),h){var v=a.session.getScreenTabSize(e+s.index);c.appendChild(a.$tabStrings[v].cloneNode(!0)),e+=v-1}else if(d)if(a.showInvisibles){(b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",b.textContent=r.stringRepeat(a.SPACE_CHAR,d.length),c.appendChild(b)}else c.appendChild(this.com.createTextNode(d,this.element));else if(f){(b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",b.textContent=r.stringRepeat(a.SPACE_CHAR,f.length),c.appendChild(b)}else if(p){a.showInvisibles&&a.SPACE_CHAR;e+=1,(b=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",b.className=a.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=a.showInvisibles?a.SPACE_CHAR:"",c.appendChild(b)}else if(g){e+=1,(b=i.createElement("span")).style.width=2*a.config.characterWidth+"px",b.className="ace_cjk",b.textContent=g,c.appendChild(b)}}}if(c.appendChild(this.dom.createTextNode(u?o.slice(u):o,this.element)),this.$textToken[n.type])t.appendChild(c);else{var y="ace_"+n.type.replace(/\./g," ace_"),b=this.dom.createElement("span");"fold"==n.type&&(b.style.width=n.value.length*this.config.characterWidth+"px"),b.className=y,b.appendChild(c),t.appendChild(b)}return e+o.length},this.renderIndentGuide=function(t,e,n){var i=e.search(this.$indentGuideRe);if(i<=0||i>=n)return e;if(" "==e[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,o=0;o<r;o++)t.appendChild(this.$tabStrings[" "].cloneNode(!0));return e.substr(i)}if("\t"==e[0]){for(o=0;o<i;o++)t.appendChild(this.$tabStrings["\t"].cloneNode(!0));return e.substr(i)}return e},this.$createLineElement=function(){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(t,e,n){var i=0,o=0,s=n[0],a=0,l=this.$createLineElement();t.appendChild(l);for(var c=0;c<e.length;c++){var u=e[c],h=u.value;if(0==c&&this.displayIndentGuides){if(i=h.length,!(h=this.renderIndentGuide(l,h,s)))continue;i-=h.length}if(i+h.length<s)a=this.$renderToken(l,a,u,h),i+=h.length;else{for(;i+h.length>=s;)a=this.$renderToken(l,a,u,h.substring(0,s-i)),h=h.substring(s-i),i=s,l=this.$createLineElement(),t.appendChild(l),l.appendChild(this.dom.createTextNode(r.stringRepeat("\xa0",n.indent),this.element)),a=0,s=n[++o]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,a=this.$renderToken(l,a,u,h))}}},this.$renderSimpleLine=function(t,e){var n=0,i=e[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(t,r)),r&&(n=this.$renderToken(t,n,i,r));for(var o=1;o<e.length;o++){if(n+(r=(i=e[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(t,n,i,r);n=this.$renderToken(t,n,i,r)}},this.$renderOverflowMessage=function(t,e,n,i){this.$renderToken(t,e,n,i.slice(0,this.MAX_LINE_LENGTH-e));var r=this.dom.createElement("span");r.className="ace_inline_button ace_keyword ace_toggle_wrap",r.style.position="absolute",r.style.right="0",r.textContent="<click to see more...>",t.appendChild(r)},this.$renderLine=function(t,e,n){if(!n&&0!=n&&(n=this.session.getFoldLine(e)),n)var i=this.$getFoldLineTokens(e,n);else i=this.session.getTokens(e);var r=t;if(i.length){var o=this.session.getRowSplitData(e);if(o&&o.length){this.$renderWrappedLine(t,i,o);r=t.lastChild}else{r=t;this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r)),this.$renderSimpleLine(r,i)}}else this.$useLineGroups()&&(r=this.$createLineElement(),t.appendChild(r));if(this.showInvisibles&&r){n&&(e=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=e==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(s)}},this.$getFoldLineTokens=function(t,e){function n(t,e,n){for(var i=0,o=0;o+t[i].value.length<e;)if(o+=t[i].value.length,++i==t.length)return;o!=e&&((s=t[i].value.substring(e-o)).length>n-e&&(s=s.substring(0,n-e)),r.push({type:t[i].type,value:s}),o=e+s.length,i+=1);for(;o<n&&i<t.length;){var s;(s=t[i].value).length+o>n?r.push({type:t[i].type,value:s.substring(0,n-o)}):r.push(t[i]),o+=s.length,i+=1}}var i=this.session,r=[],o=i.getTokens(t);return e.walk(function(t,e,s,a,l){null!=t?r.push({type:"fold",value:t}):(l&&(o=i.getTokens(e)),o.length&&n(o,a,s))},e.end.row,this.session.getLine(e.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(a.prototype),e.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,e){"use strict";var n=t("../lib/dom"),i=function(t){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",t.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(t){for(var e=this.cursors,i=e.length;i--;)n.setStyle(e[i].style,"opacity",t?"":"0")},this.$startCssAnimation=function(){for(var t=this.cursors,e=t.length;e--;)t[e].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){n.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){n.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(t){this.$padding=t},this.setSession=function(t){this.session=t},this.setBlinking=function(t){t!=this.isBlinking&&(this.isBlinking=t,this.restartTimer())},this.setBlinkInterval=function(t){t!=this.blinkInterval&&(this.blinkInterval=t,this.restartTimer())},this.setSmoothBlinking=function(t){t!=this.smoothBlinking&&(this.smoothBlinking=t,n.setCssClass(this.element,"ace_smooth-blinking",t),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var t=n.createElement("div");return t.className="ace_cursor",this.element.appendChild(t),this.cursors.push(t),t},this.removeCursor=function(){if(this.cursors.length>1){var t=this.cursors.pop();return t.parentNode.removeChild(t),t}},this.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var t=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&n.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){n.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),n.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var e=function(){this.timeoutId=setTimeout(function(){t(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){t(!0),e()},this.blinkInterval),e()}else this.$stopCssAnimation()},this.getPixelPosition=function(t,e){if(!this.config||!this.session)return{left:0,top:0};t||(t=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(t);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,t.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(t,e){return t.top>=0&&t.top<e.maxHeight},this.update=function(t){this.config=t;var e=this.session.$selectionMarkers,i=0,r=0;e!==undefined&&0!==e.length||(e=[{cursor:null}]);i=0;for(var o=e.length;i<o;i++){var s=this.getPixelPosition(e[i].cursor,!0);if(!((s.top>t.height+t.offset||s.top<0)&&i>1)){var a=this.cursors[r++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,s,t,e[i],this.session):this.isCursorInView(s,t)?(n.setStyle(l,"display","block"),n.translate(a,s.left,s.top),n.setStyle(l,"width",Math.round(t.characterWidth)+"px"),n.setStyle(l,"height",t.lineHeight+"px")):n.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(t){t!=this.overwrite&&(this.overwrite=t,t?n.addCssClass(this.element,"ace_overwrite-cursors"):n.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),e.Cursor=i}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,e){"use strict";var n=t("./lib/oop"),i=t("./lib/dom"),r=t("./lib/event"),o=t("./lib/event_emitter").EventEmitter,s=32768,a=function(t){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),t.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)};(function(){n.implement(this,o),this.setVisible=function(t){this.element.style.display=t?"":"none",this.isVisible=t,this.coeff=1}}).call(a.prototype);var l=function(t,e){a.call(this,t),this.scrollTop=0,this.scrollHeight=0,e.$scrollbarWidth=this.width=i.scrollbarWidth(t.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};n.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var t=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-t)/(this.coeff-t)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(t){this.element.style.height=t+"px"},this.setInnerHeight=this.setScrollHeight=function(t){this.scrollHeight=t,t>s?(this.coeff=s/t,t=s):1!=this.coeff&&(this.coeff=1),this.inner.style.height=t+"px"},this.setScrollTop=function(t){this.scrollTop!=t&&(this.skipEvent=!0,this.scrollTop=t,this.element.scrollTop=t*this.coeff)}}.call(l.prototype);var c=function(t,e){a.call(this,t),this.scrollLeft=0,this.height=e.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(t){this.element.style.width=t+"px"},this.setInnerWidth=function(t){this.inner.style.width=t+"px"},this.setScrollWidth=function(t){this.inner.style.width=t+"px"},this.setScrollLeft=function(t){this.scrollLeft!=t&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=t)}}.call(c.prototype),e.ScrollBar=l,e.ScrollBarV=l,e.ScrollBarH=c,e.VScrollBar=l,e.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,e){"use strict";var n=t("./lib/event"),i=function(t,e){this.onRender=t,this.pending=!1,this.changes=0,this.window=e||window;var i=this;this._flush=function(){var t=i.changes;t&&(n.blockIdle(100),i.changes=0,i.onRender(t)),i.changes&&i.schedule()}};(function(){this.schedule=function(t){this.changes=this.changes|t,this.changes&&n.nextFrame(this._flush)}}).call(i.prototype),e.RenderLoop=i}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(t,e){var n=t("../lib/oop"),i=t("../lib/dom"),r=t("../lib/lang"),o=t("../lib/event"),s=t("../lib/useragent"),a=t("../lib/event_emitter").EventEmitter,l=256,c="function"==typeof ResizeObserver,u=200,h=e.FontMetrics=function(t){this.el=i.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=i.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=i.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),t.appendChild(this.el),this.$measureNode.innerHTML=r.stringRepeat("X",l),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){n.implement(this,a),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(t,e){t.width=t.height="auto",t.left=t.top="0px",t.visibility="hidden",t.position="absolute",t.whiteSpace="pre",s.isIE<8?t["font-family"]="inherit":t.font="inherit",t.overflow=e?"hidden":"visible"},this.checkForSizeChanges=function(t){if(t===undefined&&(t=this.$measureSizes()),t&&(this.$characterSize.width!==t.width||this.$characterSize.height!==t.height)){this.$measureNode.style.fontWeight="bold";var e=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=t,this.charSizes=Object.create(null),this.allowBoldFonts=e&&e.width===t.width&&e.height===t.height,this._emit("changeCharacterSize",{data:t})}},this.$addObserver=function(){var t=this;this.$observer=new window.ResizeObserver(function(e){var n=e[0].contentRect;t.checkForSizeChanges({height:n.height,width:n.width/l})}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=o.onIdle(function e(){t.checkForSizeChanges(),o.onIdle(e,500)},500)},this.setPolling=function(t){t?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(t){var e={height:(t||this.$measureNode).clientHeight,width:(t||this.$measureNode).clientWidth/l};return 0===e.width||0===e.height?null:e},this.$measureCharWidth=function(t){return this.$main.innerHTML=r.stringRepeat(t,l),this.$main.getBoundingClientRect().width/l},this.getCharacterWidth=function(t){var e=this.charSizes[t];return e===undefined&&(e=this.charSizes[t]=this.$measureCharWidth(t)/this.$characterSize.width),e},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function t(e){return e?(window.getComputedStyle(e).zoom||1)*t(e.parentElement):1},this.$initTransformMeasureNodes=function(){var t=function(t,e){return["div",{style:"position: absolute;top:"+t+"px;left:"+e+"px;"}]};this.els=i.buildDom([t(0,0),t(u,0),t(0,u),t(u,u)],this.el)},this.transformCoordinates=function(t,e){function n(t,e,n){var i=t[1]*e[0]-t[0]*e[1];return[(-e[1]*n[0]+e[0]*n[1])/i,(+t[1]*n[0]-t[0]*n[1])/i]}function i(t,e){return[t[0]-e[0],t[1]-e[1]]}function r(t,e){return[t[0]+e[0],t[1]+e[1]]}function o(t,e){return[t*e[0],t*e[1]]}function s(t){var e=t.getBoundingClientRect();return[e.left,e.top]}t&&(t=o(1/this.$getZoom(this.el),t));this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),h=s(this.els[3]),d=n(i(h,l),i(h,c),i(r(l,c),r(h,a))),f=o(1+d[0],i(l,a)),p=o(1+d[1],i(c,a));if(e){var g=e,m=d[0]*g[0]/u+d[1]*g[1]/u+1,v=r(o(g[0],f),o(g[1],p));return r(o(1/m/u,v),a)}var y=i(t,a),b=n(i(f,o(d[0],y)),i(p,o(d[1],y)),y);return o(u,b)}}).call(h.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(t,e){"use strict"
;var n=t("./lib/oop"),i=t("./lib/dom"),r=t("./config"),o=t("./layer/gutter").Gutter,s=t("./layer/marker").Marker,a=t("./layer/text").Text,l=t("./layer/cursor").Cursor,c=t("./scrollbar").HScrollBar,u=t("./scrollbar").VScrollBar,h=t("./renderloop").RenderLoop,d=t("./layer/font_metrics").FontMetrics,f=t("./lib/event_emitter").EventEmitter,p='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',g=t("./lib/useragent"),m=g.isIE;i.importCssString(p,"ace_editor.css");var v=function(t,e){var n=this;this.container=t||i.createElement("div"),i.addCssClass(this.container,"ace_editor"),i.HI_DPI&&i.addCssClass(this.container,"ace_hidpi"),this.setTheme(e),this.$gutter=i.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=i.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=i.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new o(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var f=this.$textLayer=new a(this.content);this.canvas=f.element,this.$markerFront=new s(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollTop(t.data-n.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(t){n.$scrollAnimation||n.session.setScrollLeft(t.data-n.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new d(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(t){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",t)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!0,this.$loop=new h(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(t){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=t,t&&this.scrollMargin.top&&t.getScrollTop()<=0&&t.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(t),this.$markerBack.setSession(t),this.$markerFront.setSession(t),this.$gutterLayer.setSession(t),this.$textLayer.setSession(t),t&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(t,e,n){if(e===undefined&&(e=Infinity),this.$changedLines?(this.$changedLines.firstRow>t&&(this.$changedLines.firstRow=t),this.$changedLines.lastRow<e&&(this.$changedLines.lastRow=e)):this.$changedLines={firstRow:t,lastRow:e},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(t){t?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(t,e,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=t?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(t,e,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;t&&(this.$gutterLayer.$padding=null),t?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(t,e,n,r){r-=this.$extraHeight||0;var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if(r&&(t||s.height!=r)&&(s.height=r,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(t||s.width!=n)){o|=this.CHANGE_SIZE,s.width=n,null==e&&(e=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=e,i.setStyle(this.scrollBarH.element.style,"left",e+"px"),i.setStyle(this.scroller.style,"left",e+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-e-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";i.setStyle(this.scrollBarH.element.style,"right",l),i.setStyle(this.scroller.style,"right",l),i.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||t)&&(o|=this.CHANGE_FULL)}return s.$dirty=!n||!r,o&&this._signal("resize",a),o},this.onGutterResize=function(t){var e=this.$showGutter?t:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var t=this.$size.scrollerWidth-2*this.$padding,e=Math.floor(t/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(t){this.setOption("animatedScroll",t)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(t){this.setOption("showInvisibles",t),this.session.$bidiHandler.setShowInvisibles(t)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(t){this.setOption("displayIndentGuides",t)},this.setShowPrintMargin=function(t){this.setOption("showPrintMargin",t)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(t){this.setOption("printMarginColumn",t)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(t){return this.setOption("showGutter",t)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(t){this.setOption("fadeFoldWidgets",t)},this.setHighlightGutterLine=function(t){this.setOption("highlightGutterLine",t)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var t=i.createElement("div");t.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",t.appendChild(this.$printMarginEl),this.content.insertBefore(t,this.content.firstChild)}var e=this.$printMarginEl.style;e.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",e.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){var t=this.textarea.style;if(this.$keepTextAreaAtCursor){var e=this.$cursorLayer.$pixelPos;if(e){var n=this.$composition;n&&n.markerRange&&(e=this.$cursorLayer.getPixelPosition(n.markerRange.start,!0));var r=this.layerConfig,o=e.top,s=e.left;o-=r.offset;var a=n&&n.useTextareaForIME?this.lineHeight:m?0:1;if(o<0||o>r.height-a)i.translate(this.textarea,0,0);else{var l=1;if(n)if(n.useTextareaForIME){var c=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(c)[0],a+=2}else o+=this.lineHeight+2;else o+=this.lineHeight;(s-=this.scrollLeft)>this.$size.scrollerWidth-l&&(s=this.$size.scrollerWidth-l),s+=this.gutterWidth+this.margin.left,i.setStyle(t,"height",a+"px"),i.setStyle(t,"width",l+"px"),i.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-l),Math.min(o,this.$size.height-a))}}}else i.translate(this.textarea,-100,0)},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var t=this.layerConfig,e=t.lastRow;return this.session.documentToScreenRow(e,0)*t.lineHeight-this.session.getScrollTop()>t.height-t.lineHeight?e-1:e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(t){this.$padding=t,this.$textLayer.setPadding(t),this.$cursorLayer.setPadding(t),this.$markerFront.setPadding(t),this.$markerBack.setPadding(t),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(t,e,n,i){var r=this.scrollMargin;r.top=0|t,r.bottom=0|e,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(t,e,n,i){var r=this.margin;r.top=0|t,r.bottom=0|e,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(t){this.setOption("hScrollBarAlwaysVisible",t)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(t){this.setOption("vScrollBarAlwaysVisible",t)},this.$updateScrollBarV=function(){var t=this.layerConfig.maxHeight,e=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(t-=(e-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>t-e&&(t=this.scrollTop+e,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(t+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(t,e){if(this.$changes&&(t|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(t||e)){if(this.$size.$dirty)return this.$changes|=t,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(t&this.CHANGE_FULL||t&this.CHANGE_SIZE||t&this.CHANGE_TEXT||t&this.CHANGE_LINES||t&this.CHANGE_SCROLL||t&this.CHANGE_H_SCROLL){if(t|=this.$computeLayerConfig(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;r>0&&(this.scrollTop=r,t|=this.CHANGE_SCROLL,t|=this.$computeLayerConfig())}n=this.layerConfig,this.$updateScrollBarV(),t&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",s=n.minHeight+"px";i.setStyle(this.content.style,"width",o),i.setStyle(this.content.style,"height",s)}return t&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),t&this.CHANGE_FULL?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender")):t&this.CHANGE_SCROLL?(t&this.CHANGE_TEXT||t&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(t&this.CHANGE_GUTTER||t&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(t&this.CHANGE_TEXT?(this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):t&this.CHANGE_LINES?(this.$updateLines()||t&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):t&this.CHANGE_TEXT||t&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):t&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),t&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),t&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender"))}this.$changes|=t},this.$autosize=function(){var t=this.session.getScreenLength()*this.lineHeight,e=this.$maxLines*this.lineHeight,n=Math.min(e,Math.max((this.$minLines||1)*this.lineHeight,t))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&t>e;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var t=this.session,e=this.$size,n=e.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||e.scrollerWidth-r-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=this.scrollTop%this.lineHeight,c=e.scrollerHeight+this.lineHeight,u=!this.$maxLines&&this.$scrollPastEnd?(e.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=u;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,i-e.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,r+2*this.$padding-e.scrollerWidth+h.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||e.scrollerHeight-i+u<0||this.scrollTop>h.top),f=a!==d;f&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,g,m=Math.ceil(c/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-l)/this.lineHeight)),y=v+m,b=this.lineHeight;v=t.screenToDocumentRow(v,0);var w=t.getFoldLine(v);w&&(v=w.start.row),p=t.documentToScreenRow(v,0),g=t.getRowLength(v)*b,y=Math.min(t.screenToDocumentRow(y,0),t.getLength()-1),c=e.scrollerHeight+t.getRowLength(y)*b+g,l=this.scrollTop-p*b;var x=0;return(this.layerConfig.width!=r||s)&&(x=this.CHANGE_H_SCROLL),(s||f)&&(x=this.$updateCachedSize(!0,this.gutterWidth,e.width,e.height),this._signal("scrollbarVisibilityChanged"),f&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:c,maxHeight:i,offset:l,gutterOffset:b?Math.max(0,Math.ceil((l+e.height-e.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),x},this.$updateLines=function(){if(this.$changedLines){var t=this.$changedLines.firstRow,e=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(t>n.lastRow+1||e<n.firstRow))return e===Infinity?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,t,e),!0)}},this.$getLongestLine=function(){var t=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(t+=1),this.$textLayer&&t>this.$textLayer.MAX_LINE_LENGTH&&(t=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(t*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(t,e){this.$gutterLayer.addGutterDecoration(t,e)},this.removeGutterDecoration=function(t,e){this.$gutterLayer.removeGutterDecoration(t,e)},this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(t){this.$gutterLayer.setAnnotations(t),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(t,e,n){this.scrollCursorIntoView(t,n),this.scrollCursorIntoView(e,n)},this.scrollCursorIntoView=function(t,e,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(t),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(e&&l+s>o+this.lineHeight&&(o-=e*this.$size.scrollerHeight),
0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(e&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=e*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(t){this.session.setScrollTop(t*this.lineHeight)},this.alignCursor=function(t,e){"number"==typeof t&&(t={row:t,column:0});var n=this.$cursorLayer.getPixelPosition(t),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(e||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(t,e){var n=0,i=this.STEPS,r=[],o=function(t,e,n){return n*(Math.pow(t-1,3)+1)+e};for(n=0;n<i;++n)r.push(o(n/this.STEPS,t,e-t));return r},this.scrollToLine=function(t,e,n,i){var r=this.$cursorLayer.getPixelPosition({row:t,column:0}).top;e&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(o,i)},this.animateScrolling=function(t,e){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(t!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(t=r[0])==n)return}var o=i.$calcSteps(t,n);this.$scrollAnimation={from:t,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval(function(){o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,e&&e())},10)}}},this.scrollToY=function(t){this.scrollTop!==t&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=t)},this.scrollToX=function(t){this.scrollLeft!==t&&(this.scrollLeft=t),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(t,e){this.session.setScrollTop(e),this.session.setScrollLeft(e)},this.scrollBy=function(t,e){e&&this.session.setScrollTop(this.session.getScrollTop()+e),t&&this.session.setScrollLeft(this.session.getScrollLeft()+t)},this.isScrollableBy=function(t,e){return e<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(e>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(t<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(t>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(t,e){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([t,e]);t=i[1]-this.gutterWidth-this.margin.left,e=i[0]}else n=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=Math.floor((e+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(t,e){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([t,e]);t=i[1]-this.gutterWidth-this.margin.left,e=i[0]}else n=this.scroller.getBoundingClientRect();var r=t+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((e+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),r)},this.textToScreenCoordinates=function(t,e){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(t,e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,t)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},this.showComposition=function(t){this.$composition=t,t.cssText||(t.cssText=this.textarea.style.cssText,t.keepTextAreaAtCursor=this.$keepTextAreaAtCursor),t.useTextareaForIME=this.$useTextareaForIME,this.$useTextareaForIME?(this.$keepTextAreaAtCursor=!0,i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):t.markerId=this.session.addMarker(t.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(t){var e=this.session.selection.cursor;this.addToken(t,"composition_placeholder",e.row,e.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),i.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null,this.$cursorLayer.element.style.display="")},this.addToken=function(t,e,n,i){var r=this.session;r.bgTokenizer.lines[n]=null;var o={type:e,value:t},s=r.getTokens(n);if(null==i)s.push(o);else for(var a=0,l=0;l<s.length;l++){var c=s[l];if(i<=(a+=c.value.length)){var u=c.value.length-(a-i),h=c.value.slice(0,u),d=c.value.slice(u);s.splice(l,1,{type:c.type,value:h},o,{type:c.type,value:d});break}}this.updateLines(n,n)},this.setTheme=function(t,e){function n(n){if(o.$themeId!=t)return e&&e();if(!n||!n.cssClass)throw new Error("couldn't load module "+t+" or it didn't call define");n.$id&&(o.$themeId=n.$id),i.importCssString(n.cssText,n.cssClass,o.container),o.theme&&i.removeCssClass(o.container,o.theme.cssClass);var r="padding"in n?n.padding:"padding"in(o.theme||{})?4:o.$padding;o.$padding&&r!=o.$padding&&o.setPadding(r),o.$theme=n.cssClass,o.theme=n,i.addCssClass(o.container,n.cssClass),i.setCssClass(o.container,"ace_dark",n.isDark),o.$size&&(o.$size.width=0,o.$updateSizeAsync()),o._dispatchEvent("themeLoaded",{theme:n}),e&&e()}var o=this;if(this.$themeId=t,o._dispatchEvent("themeChange",{theme:t}),t&&"string"!=typeof t)n(t);else{var s=t||this.$options.theme.initialValue;r.loadModule(["theme",s],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(t,e){i.setCssClass(this.container,t,!1!==e)},this.unsetStyle=function(t){i.removeCssClass(this.container,t)},this.setCursorStyle=function(t){i.setStyle(this.scroller.style,"cursor",t)},this.setMouseCursor=function(t){i.setStyle(this.scroller.style,"cursor",t)},this.attachToShadowRoot=function(){i.importCssString(p,"ace_editor.css",this.container)},this.destroy=function(){this.$fontMetrics.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),r.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(t){this.$textLayer.setShowInvisibles(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(t){"number"==typeof t&&(this.$printMarginColumn=t),this.$showPrintMargin=!!t,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(t){this.$gutter.style.display=t?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(t){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",t)},initialValue:!1},showFoldWidgets:{set:function(t){this.$gutterLayer.setShowFoldWidgets(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(t){this.$textLayer.setDisplayIndentGuides(t)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(t){this.$gutterLayer.setHighlightGutterLine(t),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(t){"number"==typeof t&&(t+="px"),this.container.style.fontSize=t,this.updateFontSize()},initialValue:12},fontFamily:{set:function(t){this.container.style.fontFamily=t,this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(t){t=+t||0,this.$scrollPastEnd!=t&&(this.$scrollPastEnd=t,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(t){this.$gutterLayer.$fixedWidth=!!t,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(t){this.setTheme(t)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!g.isMobile&&!g.isIE}}),e.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,e,n){"use strict";function i(t){var e="importScripts('"+s.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch(n){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(e),i.getBlob("application/javascript")}}function r(t){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};var e=i(t),n=(window.URL||window.webkitURL).createObjectURL(e);return new Worker(n)}var o=t("../lib/oop"),s=t("../lib/net"),a=t("../lib/event_emitter").EventEmitter,l=t("../config"),c=function(e,n,i,o,s){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),l.get("packaged")||!t.toUrl)o=o||l.moduleUrl(n,"worker");else{var a=this.$normalizePath;o=o||a(t.toUrl("ace/worker/worker.js",null,"_"));var c={};e.forEach(function(e){c[e]=a(t.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=r(o),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){o.implement(this,a),this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var n=this.callbacks[e.id];n&&(n(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data)}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return s.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,e.push(i)}this.send(t,e)},this.emit=function(t,e){try{e.data&&e.data.err&&(e.data.err={message:e.data.err.message,stack:e.data.err.stack,code:e.data.err.code}),this.$worker.postMessage({event:t,data:{data:e.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==t.action?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(c.prototype);var u=function(t,e,n){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var i=null,r=!1,o=Object.create(a),s=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(t){s.messageBuffer.push(t),i&&(r?setTimeout(c):c())},this.setEmitSync=function(t){r=t};var c=function(){var t=s.messageBuffer.shift();t.command?i[t.command].apply(i,t.args):t.event&&o._signal(t.event,t.data)};o.postMessage=function(t){s.onMessage({data:t})},o.callback=function(t,e){this.postMessage({type:"call",id:e,data:t})},o.emit=function(t,e){this.postMessage({type:"event",name:t,data:e})},l.loadModule(["worker",e],function(t){for(i=new t[n](o);s.messageBuffer.length;)c()})};u.prototype=c.prototype,e.UIWorkerClient=u,e.WorkerClient=c,e.createWorker=r}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,e){"use strict";var n=t("./range").Range,i=t("./lib/event_emitter").EventEmitter,r=t("./lib/oop"),o=function(t,e,n,i,r,o){var s=this;this.length=e,this.session=t,this.doc=t.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=n;var a=t.getUndoManager().$undoStack||t.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),t.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,i),this.setup=function(){var t=this,e=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=i.addMarker(new n(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(n){var i=e.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),t.others.push(i)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,e=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=t.addMarker(new n(i.row,i.column,i.row,i.column+e.length),e.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var t=0;t<this.others.length;t++)this.session.removeMarker(this.others[t].markerId)}},this.onUpdate=function(t){if(this.$updating)return this.updateAnchors(t);var e=t;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var i="insert"===t.action?e.end.column-e.start.column:e.start.column-e.end.column,r=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,o=e.start.column-this.pos.column;if(this.updateAnchors(t),r&&(this.length+=i),r&&!this.session.$fromUndo)if("insert"===t.action)for(var s=this.others.length-1;s>=0;s--){var a={row:(l=this.others[s]).row,column:l.column+o};this.doc.insertMergedLines(a,t.lines)}else if("remove"===t.action)for(s=this.others.length-1;s>=0;s--){var l;a={row:(l=this.others[s]).row,column:l.column+o};this.doc.remove(new n(a.row,a.column,a.row,a.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(t){this.pos.onChange(t);for(var e=this.others.length;e--;)this.others[e].onChange(t);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var t=this,e=this.session,i=function(i,r){e.removeMarker(i.markerId),i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),r,null,!1)};i(this.pos,this.mainClass);for(var r=this.others.length;r--;)i(this.others[r],this.othersClass)}},this.onCursorChange=function(t){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",t)):(this.hideOtherMarkers(),this._emit("cursorLeave",t))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var t=this.session.getUndoManager(),e=(t.$undoStack||t.$undostack).length-this.$undoStackDepth,n=0;n<e;n++)t.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),e.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,e){function n(t,e){return t.row==e.row&&t.column==e.column}function i(t){var e=t.domEvent,i=e.altKey,s=e.shiftKey,a=e.ctrlKey,l=t.getAccelKey(),c=t.getButton();if(a&&o.isMac&&(c=e.button),t.editor.inMultiSelectMode&&2==c)t.editor.textInput.onContextMenu(t.domEvent);else if(a||i||l){if(0===c){var u,h=t.editor,d=h.selection,f=h.inMultiSelectMode,p=t.getDocumentPosition(),g=d.getCursor(),m=t.inSelection()||d.isEmpty()&&n(p,g),v=t.x,y=t.y,b=function(t){v=t.clientX,y=t.clientY},w=h.session,x=h.renderer.pixelToScreenCoordinates(v,y),C=x;if(h.$mouseHandler.$enableJumpToDef)a&&i||l&&i?u=s?"block":"add":i&&h.$blockSelectEnabled&&(u="block");else if(l&&!i){if(u="add",!f&&s)return}else i&&h.$blockSelectEnabled&&(u="block");if(u&&o.isMac&&e.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!f&&m)return;if(!f){var S=d.toOrientedRange();h.addSelectionMarker(S)}var k=d.rangeList.rangeAtPoint(p);h.inVirtualSelectionMode=!0,s&&(k=null,S=d.ranges[0]||S,h.removeSelectionMarker(S)),h.once("mouseup",function(){var t=d.toOrientedRange();k&&t.isEmpty()&&n(k.cursor,t.cursor)?d.substractPoint(t.cursor):(s?d.substractPoint(S.cursor):S&&(h.removeSelectionMarker(S),d.addRange(S)),d.addRange(t)),h.inVirtualSelectionMode=!1})}else if("block"==u){t.stop(),h.inVirtualSelectionMode=!0;var _,E=[],T=function(){var t=h.renderer.pixelToScreenCoordinates(v,y),e=w.screenToDocumentPosition(t.row,t.column,t.offsetX);n(C,t)&&n(e,d.lead)||(C=t,h.selection.moveToPosition(e),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(E),E=d.rectangularRangeBlock(C,x),h.$mouseHandler.$clickSelection&&1==E.length&&E[0].isEmpty()&&(E[0]=h.$mouseHandler.$clickSelection.clone()),E.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};f&&!l?d.toSingleRange():!f&&l&&(_=d.toOrientedRange(),h.addSelectionMarker(_)),s?x=w.documentToScreenPosition(d.lead):d.moveToPosition(p),C={row:-1,column:-1};var A=function(){T(),clearInterval(R),h.removeSelectionMarkers(E),E.length||(E=[d.toOrientedRange()]),_&&(h.removeSelectionMarker(_),d.toSingleRange(_));for(var t=0;t<E.length;t++)d.addRange(E[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null},M=T;r.capture(h.container,b,A);var R=setInterval(function(){M()},20);return t.preventDefault()}}}else 0===c&&t.editor.inMultiSelectMode&&t.editor.exitMultiSelectMode()}var r=t("../lib/event"),o=t("../lib/useragent");e.onMouseDown=i}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,e){e.defaultCommands=[{name:"addCursorAbove",exec:function(t){t.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(t){t.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(t){t.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(t){t.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(t){t.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(t){t.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(t){t.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(t){t.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(t){t.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(t){t.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(t){t.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],e.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(t){t.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(t){return t&&t.inMultiSelectMode}}];var n=t("../keyboard/hash_handler").HashHandler;e.keyboardHandler=new n(e.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,e){function n(t,e,n){return f.$options.wrap=!0,f.$options.needle=e,f.$options.backwards=-1==n,f.find(t)}function i(t,e){return t.row==e.row&&t.column==e.column}function r(t){t.$multiselectOnSessionChange||(t.$onAddRange=t.$onAddRange.bind(t),t.$onRemoveRange=t.$onRemoveRange.bind(t),t.$onMultiSelect=t.$onMultiSelect.bind(t),t.$onSingleSelect=t.$onSingleSelect.bind(t),t.$multiselectOnSessionChange=e.onSessionChange.bind(t),t.$checkMultiselectChange=t.$checkMultiselectChange.bind(t),t.$multiselectOnSessionChange(t),t.on("changeSession",t.$multiselectOnSessionChange),t.on("mousedown",c),t.commands.addCommands(d.defaultCommands),o(t))}function o(t){function e(){i&&(t.renderer.setMouseCursor(""),i=!1)}var n=t.textInput.getElement(),i=!1;u.addListener(n,"keydown",function(n){var r=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);t.$blockSelectEnabled&&r?i||(t.renderer.setMouseCursor("crosshair"),i=!0):i&&e()}),u.addListener(n,"keyup",e),u.addListener(n,"blur",e)}var s=t("./range_list").RangeList,a=t("./range").Range,l=t("./selection").Selection,c=t("./mouse/multi_select_handler").onMouseDown,u=t("./lib/event"),h=t("./lib/lang"),d=t("./commands/multi_select_commands");e.commands=d.defaultCommands.concat(d.multiSelectCommands);var f=new(0,t("./search").Search),p=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(p.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(t,e){if(t){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(t),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),e||this.fromOrientedRange(t);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}t.cursor||(t.cursor=t.end);var i=this.rangeList.add(t);return this.$onAddRange(t),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),e||this.fromOrientedRange(t)}},this.toSingleRange=function(t){t=t||this.ranges[0];var e=this.rangeList.removeAll();e.length&&this.$onRemoveRange(e),t&&this.fromOrientedRange(t)},this.substractPoint=function(t){var e=this.rangeList.substractPoint(t);if(e)return this.$onRemoveRange(e),e[0]},this.mergeOverlappingRanges=function(){var t=this.rangeList.merge();t.length&&this.$onRemoveRange(t)},this.$onAddRange=function(t){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(t),this._signal("addRange",{range:t})},this.$onRemoveRange=function(t){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var e=this.rangeList.ranges.pop();t.push(e),this.rangeCount=0}for(var n=t.length;n--;){var i=this.ranges.indexOf(t[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:t}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(e=e||this.ranges[0])&&!e.isEqual(this.getRange())&&this.fromOrientedRange(e)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],n=a.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{n=this.getRange();var i=this.isBackwards(),r=n.start.row,o=n.end.row;if(r==o){if(i)var s=n.end,l=n.start;else s=n.start,l=n.end;return this.addRange(a.fromPoints(l,l)),void this.addRange(a.fromPoints(s,s))}var c=[],u=this.getLineRange(r,!0);u.start.column=n.start.column,c.push(u);for(var h=r+1;h<o;h++)c.push(this.getLineRange(h,!0));(u=this.getLineRange(o,!0)).end.column=n.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var t=this.rangeList.ranges,e=t[t.length-1],n=a.fromPoints(t[0].start,e.end);this.toSingleRange(),this.setSelectionRange(n,e.cursor==e.start)}else{var i=this.session.documentToScreenPosition(this.cursor),r=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,r).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(t,e,n){var r=[],o=t.column<e.column;if(o)var s=t.column,l=e.column,c=t.offsetX,u=e.offsetX;else s=e.column,l=t.column,c=e.offsetX,u=t.offsetX;var h,d=t.row<e.row;if(d)var f=t.row,p=e.row;else f=e.row,p=t.row;s<0&&(s=0),f<0&&(f=0),f==p&&(n=!0);for(var g=f;g<=p;g++){var m=a.fromPoints(this.session.screenToDocumentPosition(g,s,c),this.session.screenToDocumentPosition(g,l,u));if(m.isEmpty()){if(h&&i(m.end,h))break;h=m.end}m.cursor=o?m.start:m.end,r.push(m)}if(d&&r.reverse(),!n){for(var v=r.length-1;r[v].isEmpty()&&v>0;)v--;if(v>0)for(var y=0;r[y].isEmpty();)y++;for(var b=v;b>=y;b--)r[b].isEmpty()&&r.splice(b,1)}return r}}.call(l.prototype);var g=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(t){t.cursor||(t.cursor=t.end);var e=this.getSelectionStyle();return t.marker=this.session.addMarker(t,"ace_selection",e),this.session.$selectionMarkers.push(t),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,t},this.removeSelectionMarker=function(t){if(t.marker){this.session.removeMarker(t.marker);var e=this.session.$selectionMarkers.indexOf(t);-1!=e&&this.session.$selectionMarkers.splice(e,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(t){for(var e=this.session.$selectionMarkers,n=t.length;n--;){var i=t[n];if(i.marker){this.session.removeMarker(i.marker);var r=e.indexOf(i);-1!=r&&e.splice(r,1)}}this.session.selectionMarkerCount=e.length},this.$onAddRange=function(t){this.addSelectionMarker(t.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(t){this.removeSelectionMarkers(t.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(d.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(d.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(t){var e=t.command,n=t.editor;if(n.multiSelect){if(e.multiSelectAction)"forEach"==e.multiSelectAction?i=n.forEachSelection(e,t.args):"forEachLine"==e.multiSelectAction?i=n.forEachSelection(e,t.args,!0):"single"==e.multiSelectAction?(n.exitMultiSelectMode(),i=e.exec(n,t.args||{})):i=e.multiSelectAction(n,t.args||{});else{var i=e.exec(n,t.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(t,e,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,o=1==n||n&&n.$byLines,s=this.session,a=this.selection,c=a.rangeList,u=(r?a:c).ranges;if(!u.length)return t.exec?t.exec(this,e||{}):t(this,e||{});var h=a._eventRegistry;a._eventRegistry={};var d=new l(s);this.inVirtualSelectionMode=!0;for(var f=u.length;f--;){if(o)for(;f>0&&u[f].start.row==u[f-1].end.row;)f--;d.fromOrientedRange(u[f]),d.index=f,this.selection=s.selection=d;var p=t.exec?t.exec(this,e||{}):t(this,e||{});!i&&p!==undefined&&(i=p),d.toOrientedRange(u[f])}d.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var t="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var e=this.multiSelect.rangeList.ranges,n=[],i=0;i<e.length;i++)n.push(this.session.getTextRange(e[i]));var r=this.session.getDocument().getNewLineCharacter();(t=n.join(r)).length==(n.length-1)*r.length&&(t="")}else this.selection.isEmpty()||(t=this.session.getTextRange(this.getSelectionRange()));return t},this.$checkMultiselectChange=function(t,e){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&e==this.multiSelect.anchor)return;var i=e==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=e.row||this.session.$clipPositionToDocument(i.row,i.column).column!=e.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(t,e,n){if((e=e||{}).needle=t||e.needle,e.needle==undefined){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();e.needle=this.session.getTextRange(i)}this.$search.set(e);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),r.length},this.selectMoreLines=function(t,e){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,r=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var o,s=this.session.screenToDocumentPosition(r.row+t,r.column);if(n.isEmpty())c=s;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+t,l.column);i?(o=a.fromPoints(s,c)).cursor=o.start:(o=a.fromPoints(c,s)).cursor=o.end;if(o.desiredColumn=r.column,this.selection.inMultiSelectMode){if(e)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(o),u&&this.selection.substractPoint(u)},this.transposeSelections=function(t){for(var e=this.session,n=e.multiSelect,i=n.ranges,r=i.length;r--;){if((a=i[r]).isEmpty()){var o=e.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,
a.end.column=o.end.column}}n.mergeOverlappingRanges();var s=[];for(r=i.length;r--;){var a=i[r];s.unshift(e.getTextRange(a))}t<0?s.unshift(s.pop()):s.push(s.shift());for(r=i.length;r--;){o=(a=i[r]).clone();e.replace(a,s[r]),a.start.row=o.start.row,a.start.column=o.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(t,e,i){var r=this.session,o=r.multiSelect.toOrientedRange();if(!o.isEmpty()||((o=r.getWordRange(o.start.row,o.start.column)).cursor=-1==t?o.start:o.end,this.multiSelect.addRange(o),!i)){var s=n(r,r.getTextRange(o),t);s&&(s.cursor=-1==t?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),e&&this.multiSelect.substractPoint(o.cursor)}},this.alignCursors=function(){var t=this.session,e=t.multiSelect,n=e.ranges,i=-1,r=n.filter(function(t){if(t.cursor.row==i)return!0;i=t.cursor.row});if(n.length&&r.length!=n.length-1){r.forEach(function(t){e.substractPoint(t.cursor)});var o=0,s=Infinity,l=n.map(function(e){var n=e.cursor,i=t.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>o&&(o=n.column),i<s&&(s=i),i});n.forEach(function(e,n){var i=e.cursor,r=o-i.column,c=l[n]-s;r>c?t.insert(i,h.stringRepeat(" ",r-c)):t.remove(new a(i.row,i.column,i.row,i.column-r+c)),e.start.column=e.end.column=o,e.start.row=e.end.row=i.row,e.cursor=e.end}),e.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,d=c.end.row,f=u==d;if(f){var p,g=this.session.getLength();do{p=this.session.getLine(d)}while(/[=:]/.test(p)&&++d<g);do{p=this.session.getLine(u)}while(/[=:]/.test(p)&&--u>0);u<0&&(u=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(u,d);m=this.$reAlignText(m,f),this.session.insert({row:u,column:0},m.join("\n")+"\n"),f||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(t,e){function n(t){return h.stringRepeat(" ",t)}function i(t){return t[2]?n(s)+t[2]+n(a-t[2].length+l)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}function r(t){return t[2]?n(s+a-t[2].length)+t[2]+n(l)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}function o(t){return t[2]?n(s)+t[2]+n(l)+t[4].replace(/^([=:])\s+/,"$1 "):t[0]}var s,a,l,c=!0,u=!0;return t.map(function(t){var e=t.match(/(\s*)(.*?)(\s*)([=:].*)/);return e?null==s?(s=e[1].length,a=e[2].length,l=e[3].length,e):(s+a+l!=e[1].length+e[2].length+e[3].length&&(u=!1),s!=e[1].length&&(c=!1),s>e[1].length&&(s=e[1].length),a<e[2].length&&(a=e[2].length),l>e[3].length&&(l=e[3].length),e):[t]}).map(e?i:c?u?r:i:o)}}).call(g.prototype),e.onSessionChange=function(t){var e=t.session;e&&!e.multiSelect&&(e.$selectionMarkers=[],e.selection.$initRangeList(),e.multiSelect=e.selection),this.multiSelect=e&&e.multiSelect;var n=t.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),e&&(e.multiSelect.on("addRange",this.$onAddRange),e.multiSelect.on("removeRange",this.$onRemoveRange),e.multiSelect.on("multiSelect",this.$onMultiSelect),e.multiSelect.on("singleSelect",this.$onSingleSelect),e.multiSelect.lead.on("change",this.$checkMultiselectChange),e.multiSelect.anchor.on("change",this.$checkMultiselectChange)),e&&this.inMultiSelectMode!=e.selection.inMultiSelectMode&&(e.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},e.MultiSelect=r,t("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(t){r(this),t?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",c)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",c))},value:!0},enableBlockSelect:{set:function(t){this.$blockSelectEnabled=t},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,e){"use strict";var n=t("../../range").Range,i=e.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(t,e,n){var i=t.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==e&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(){return null},this.indentationBlock=function(t,e,i){var r=/\S/,o=t.getLine(e),s=o.search(r);if(-1!=s){for(var a=i||o.length,l=t.getLength(),c=e,u=e;++e<l;){var h=t.getLine(e).search(r);if(-1!=h){if(h<=s)break;u=e}}if(u>c){var d=t.getLine(u).length;return new n(c,a,u,d)}}},this.openingBracketBlock=function(t,e,i,r,o){var s={row:i,column:r+1},a=t.$findClosingBracket(e,s,o);if(a){var l=t.foldWidgets[a.row];return null==l&&(l=t.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=t.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(t,e,i,r){var o={row:i,column:r},s=t.$findOpeningBracket(e,o);if(s)return s.column++,o.column--,n.fromPoints(s,o)}}).call(i.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(t,e){"use strict";e.isDark=!1,e.cssClass="ace-tm",e.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e.$id="ace/theme/textmate",t("../lib/dom").importCssString(e.cssText,e.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(t,e){"use strict";function n(t){this.session=t,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}t("./lib/oop");var i=t("./lib/dom");t("./range").Range;(function(){this.getRowLength=function(t){var e;return e=this.lineWidgets&&this.lineWidgets[t]&&this.lineWidgets[t].rowCount||0,this.$useWrapMode&&this.$wrapData[t]?this.$wrapData[t].length+1+e:1+e},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach(function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)}),t},this.$onChangeEditor=function(t){this.attach(t.editor)},this.attach=function(t){t&&t.widgetManager&&t.widgetManager!=this&&t.widgetManager.detach(),this.editor!=t&&(this.detach(),this.editor=t,t&&(t.widgetManager=this,t.renderer.on("beforeRender",this.measureWidgets),t.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var e=this.session.lineWidgets;e&&e.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},this.updateOnFold=function(t,e){var n=e.lineWidgets;if(n&&t.action){for(var i=t.data,r=i.start.row,o=i.end.row,s="add"==t.action,a=r+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=undefined),n[o].hidden=s))}},this.updateOnChange=function(t){var e=this.session.lineWidgets;if(e){var n=t.start.row,i=t.end.row-n;if(0!==i)if("remove"==t.action){e.splice(n+1,i).forEach(function(t){t&&this.removeLineWidget(t)},this),this.$updateRows()}else{var r=new Array(i);r.unshift(n,0),e.splice.apply(e,r),this.$updateRows()}}},this.$updateRows=function(){var t=this.session.lineWidgets;if(t){var e=!0;t.forEach(function(t,n){if(t)for(e=!1,t.row=n;t.$oldWidget;)t.$oldWidget.row=n,t=t.$oldWidget}),e&&(this.session.lineWidgets=null)}},this.addLineWidget=function(t){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[t.row];e&&(t.$oldWidget=e,e.el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),this.session.lineWidgets[t.row]=t,t.session=this.session;var n=this.editor.renderer;t.html&&!t.el&&(t.el=i.createElement("div"),t.el.innerHTML=t.html),t.el&&(i.addCssClass(t.el,"ace_lineWidgetContainer"),t.el.style.position="absolute",t.el.style.zIndex=5,n.container.appendChild(t.el),t._inDocument=!0),t.coverGutter||(t.el.style.zIndex=3),null==t.pixelHeight&&(t.pixelHeight=t.el.offsetHeight),null==t.rowCount&&(t.rowCount=t.pixelHeight/n.layerConfig.lineHeight);var r=this.session.getFoldAt(t.row,0);if(t.$fold=r,r){var o=this.session.lineWidgets;t.row!=r.end.row||o[r.start.row]?t.hidden=!0:o[r.start.row]=t}return this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(t),t},this.removeLineWidget=function(t){if(t._inDocument=!1,t.session=null,t.el&&t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.editor&&t.editor.destroy)try{t.editor.destroy()}catch(e){}if(this.session.lineWidgets){var n=this.session.lineWidgets[t.row];if(n==t)this.session.lineWidgets[t.row]=t.$oldWidget,t.$oldWidget&&this.onWidgetChanged(t.$oldWidget);else for(;n;){if(n.$oldWidget==t){n.$oldWidget=t.$oldWidget;break}n=n.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:t.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(t){for(var e=this.session.lineWidgets,n=e&&e[t],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(t){this.session._changedWidgets.push(t),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(t,e){var n=this.session._changedWidgets,i=e.layerConfig;if(n&&n.length){for(var r=Infinity,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,e.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&((a-=this.session.getRowLineCount(s.row))<0&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=Infinity&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(t,e){var n=e.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,e.$cursorLayer.config=n;for(var s=r;s<=o;s++){var a=i[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,e.container.appendChild(a.el));var l=e.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:e.gutterWidth;a.fixedWidth||(c-=e.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=e.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(n.prototype),e.LineWidgets=n}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(t,e){"use strict";function n(t,e,n){for(var i=0,r=t.length-1;i<=r;){var o=i+r>>1,s=n(e,t[o]);if(s>0)i=o+1;else{if(!(s<0))return o;r=o-1}}return-(i+1)}function i(t,e,i){var r=t.getAnnotations().sort(s.comparePoints);if(r.length){var o=n(r,{row:e,column:-1},s.comparePoints);o<0&&(o=-o-1),o>=r.length?o=i>0?0:r.length-1:0===o&&i<0&&(o=r.length-1);var a=r[o];if(a&&i){if(a.row===e){do{a=r[o+=i]}while(a&&a.row===e);if(!a)return r.slice()}var l=[];e=a.row;do{l[i<0?"unshift":"push"](a),a=r[o+=i]}while(a&&a.row==e);return l.length&&l}}}var r=t("../line_widgets").LineWidgets,o=t("../lib/dom"),s=t("../range").Range;e.showErrorMarker=function(t,e){var n=t.session;n.widgetManager||(n.widgetManager=new r(n),n.widgetManager.attach(t));var s=t.getCursorPosition(),a=s.row,l=n.widgetManager.getWidgetsAtRow(a).filter(function(t){return"errorMarker"==t.type})[0];l?l.destroy():a-=e;var c,u=i(n,a,e);if(u){var h=u[0];s.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,s.row=h.row,c=t.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}t.session.unfold(s.row),t.selection.moveToPosition(s);var d={row:s.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},f=d.el.appendChild(o.createElement("div")),p=d.el.appendChild(o.createElement("div"));p.className="error_widget_arrow "+c.className;var g=t.renderer.$cursorLayer.getPixelPosition(s).left;p.style.left=g+t.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",f.className="error_widget "+c.className,f.innerHTML=c.text.join("<br>"),f.appendChild(o.createElement("div"));var m=function(t,e,n){if(0===e&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),t.off("changeSelection",d.destroy),t.off("changeSession",d.destroy),t.off("mouseup",d.destroy),t.off("change",d.destroy))},t.keyBinding.addKeyboardHandler(m),t.on("changeSelection",d.destroy),t.on("changeSession",d.destroy),t.on("mouseup",d.destroy),t.on("change",d.destroy),t.session.widgetManager.addLineWidget(d),d.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},o.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(t,e){"use strict";t("./lib/fixoldbrowsers");var n=t("./lib/dom"),i=t("./lib/event"),r=t("./range").Range,o=t("./editor").Editor,s=t("./edit_session").EditSession,a=t("./undomanager").UndoManager,l=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),e.config=t("./config"),e.require=t,"function"==typeof define&&(e.define=define),e.edit=function(t,r){if("string"==typeof t){var s=t;if(!(t=document.getElementById(s)))throw new Error("ace.edit can't find div #"+s)}if(t&&t.env&&t.env.editor instanceof o)return t.env.editor;var a="";if(t&&/input|textarea/i.test(t.tagName)){var c=t;a=c.value,t=n.createElement("pre"),c.parentNode.replaceChild(t,c)}else t&&(a=t.textContent,t.innerHTML="");var u=e.createEditSession(a),h=new o(new l(t),u,r),d={document:u,editor:h,onResize:h.resize.bind(h,null)};return c&&(d.textarea=c),i.addListener(window,"resize",d.onResize),h.on("destroy",function(){i.removeListener(window,"resize",d.onResize),d.editor.container.env=null}),h.container.env=h.env=d,h},e.createEditSession=function(t,e){var n=new s(t,e);return n.setUndoManager(new a),n},e.Range=r,e.EditSession=s,e.UndoManager=a,e.VirtualRenderer=l,e.version="1.4.1"}),ace.require(["ace/ace"],function(t){for(var e in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(e)&&(window.ace[e]=t[e]);window.ace["default"]=window.ace,"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=window.ace)}),ace.define("ace/theme/dracula",["require","exports","module","ace/lib/dom"],function(t,e){e.isDark=!0,e.cssClass="ace-dracula",e.cssText=".ace-dracula .ace_gutter {background: #282a36;color: rgb(144,145,148)}.ace-dracula .ace_print-margin {width: 1px;background: #44475a}.ace-dracula {background-color: #282a36;color: #f8f8f2}.ace-dracula .ace_cursor {color: #f8f8f0}.ace-dracula .ace_marker-layer .ace_selection {background: #44475a}.ace-dracula.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #282a36;border-radius: 2px}.ace-dracula .ace_marker-layer .ace_step {background: rgb(198, 219, 174)}.ace-dracula .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #a29709}.ace-dracula .ace_marker-layer .ace_active-line {background: #44475a}.ace-dracula .ace_gutter-active-line {background-color: #44475a}.ace-dracula .ace_marker-layer .ace_selected-word {box-shadow: 0px 0px 0px 1px #a29709;border-radius: 3px;}.ace-dracula .ace_fold {background-color: #50fa7b;border-color: #f8f8f2}.ace-dracula .ace_keyword {color: #ff79c6}.ace-dracula .ace_constant.ace_language {color: #bd93f9}.ace-dracula .ace_constant.ace_numeric {color: #bd93f9}.ace-dracula .ace_constant.ace_character {color: #bd93f9}.ace-dracula .ace_constant.ace_character.ace_escape {color: #ff79c6}.ace-dracula .ace_constant.ace_other {color: #bd93f9}.ace-dracula .ace_support.ace_function {color: #8be9fd}.ace-dracula .ace_support.ace_constant {color: #6be5fd}.ace-dracula .ace_support.ace_class {font-style: italic;color: #66d9ef}.ace-dracula .ace_support.ace_type {font-style: italic;color: #66d9ef}.ace-dracula .ace_storage {color: #ff79c6}.ace-dracula .ace_storage.ace_type {font-style: italic;color: #8be9fd}.ace-dracula .ace_invalid {color: #F8F8F0;background-color: #ff79c6}.ace-dracula .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #bd93f9}.ace-dracula .ace_string {color: #f1fa8c}.ace-dracula .ace_comment {color: #6272a4}.ace-dracula .ace_variable {color: #50fa7b}.ace-dracula .ace_variable.ace_parameter {font-style: italic;color: #ffb86c}.ace-dracula .ace_entity.ace_other.ace_attribute-name {color: #50fa7b}.ace-dracula .ace_entity.ace_name.ace_function {color: #50fa7b}.ace-dracula .ace_entity.ace_name.ace_tag {color: #ff79c6}.ace-dracula .ace_invisible {color: #626680;}.ace-dracula .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y}",e.$selectionColorConflict=!0,t("../lib/dom").importCssString(e.cssText,e.cssClass)}),ace.require(["ace/theme/dracula"],function(t){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=t)}),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("./text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},r.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};n.inherits(r,i),r.getTagRule=function(){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},r.getStartRule=function(t){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:t}},r.getEndRule=function(t){return{token:"comment.doc",regex:"\\*\\/",next:t}},e.DocCommentHighlightRules=r}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(t,e){"use strict";function n(){var t=a.replace("\\d","\\d\\-"),e={onMatch:function(t,e,n){var i="/"==t.charAt(1)?2:1;return 1==i?(e!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&e==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:t.slice(0,i)},{type:"meta.tag.tag-name.xml",value:t.substr(i)}]},regex:"</?"+t,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(e);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,e,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(t,e,n){return e==n[0]&&n.shift(),2==t.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:t}]},nextState:"jsx"},n,i("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},e],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function i(t){return[{token:"comment",regex:/\/\*/,next:[o.getTagRule(),{token:"comment",regex:"\\*\\/",next:t||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[o.getTagRule(),{token:"comment",regex:"$|^",next:t||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var r=t("../lib/oop"),o=t("./doc_comment_highlight_rules").DocCommentHighlightRules,s=t("./text_highlight_rules").TextHighlightRules,a="[a-zA-Z\\$_\xa1-\uffff][a-zA-Z\\d\\$_\xa1-\uffff]*",l=function(t){var e=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),r="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",s="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[o.getStartRule("doc-start"),i("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+a+")(\\.)(prototype)(\\.)("+a+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+a+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+a+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:"+r+")\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:e,regex:a},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+a+")(\\.)("+a+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",
regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:a},{regex:"",token:"empty",next:"no_regex"}],start:[o.getStartRule("doc-start"),i("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:a},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:s},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:s},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},t&&t.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(t,e,n){if(this.next="{"==t?this.nextState:"","{"==t&&n.length)n.unshift("start",e);else if("}"==t&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==t?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:s},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),(!t||0!=t.jsx)&&n.call(this)),this.embedRules(o,"doc-",[o.getEndRule("no_regex")]),this.normalizeRules()};r.inherits(l,s),e.JavaScriptHighlightRules=l}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,e){"use strict";var n=t("../range").Range,i=function(){};(function(){this.checkOutdent=function(t,e){return!!/^\s+$/.test(t)&&/^\s*\}/.test(e)},this.autoOutdent=function(t,e){var i=t.getLine(e).match(/^(\s*\})/);if(!i)return 0;var r=i[1].length,o=t.findMatchingBracket({row:e,column:r});if(!o||o.row==e)return 0;var s=this.$getIndent(t.getLine(o.row));t.replace(new n(e,0,e,r-1),s)},this.$getIndent=function(t){return t.match(/^\s*/)[0]}}).call(i.prototype),e.MatchingBraceOutdent=i}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,e){"use strict";var n=t("../../lib/oop"),i=t("../../range").Range,r=t("./fold_mode").FoldMode,o=e.FoldMode=function(t){t&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+t.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+t.end)))};n.inherits(o,r),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(t,e,n){var i=t.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(t,e,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(t,e,n,i){var r,o=t.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(t,o,n);if(r=o.match(this.foldingStartMarker)){var s=r.index;if(r[1])return this.openingBracketBlock(t,r[1],n,s);var a=t.getCommentFoldRange(n,s+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(t,n):"all"!=e&&(a=null)),a}if("markbegin"!==e&&(r=o.match(this.foldingStopMarker))){s=r.index+r[0].length;return r[1]?this.closingBracketBlock(t,r[1],n,s):t.getCommentFoldRange(n,s,-1)}},this.getSectionRange=function(t,e){for(var n=t.getLine(e),r=n.search(/\S/),o=e,s=n.length,a=e+=1,l=t.getLength();++e<l;){var c=(n=t.getLine(e)).search(/\S/);if(-1!==c){if(r>c)break;var u=this.getFoldWidgetRange(t,"all",e);if(u){if(u.start.row<=o)break;if(u.isMultiLine())e=u.end.row;else if(r==c)break}a=e}}return new i(o,s,a,t.getLine(a).length)},this.getCommentRegionBlock=function(t,e,n){for(var r=e.search(/\s*$/),o=t.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){e=t.getLine(n);var c=a.exec(e);if(c&&(c[1]?l--:l++,!l))break}if(n>s)return new i(s,r,n,e.length)}}.call(o.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("./text").Mode,r=t("./javascript_highlight_rules").JavaScriptHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,s=t("../worker/worker_client").WorkerClient,a=t("./behaviour/cstyle").CstyleBehaviour,l=t("./folding/cstyle").FoldMode,c=function(){this.HighlightRules=r,this.$outdent=new o,this.$behaviour=new a,this.foldingRules=new l};n.inherits(c,i),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(t,e,n){var i=this.$getIndent(e),r=this.getTokenizer().getLineTokens(e,t),o=r.tokens,s=r.state;if(o.length&&"comment"==o[o.length-1].type)return i;if("start"==t||"no_regex"==t)(a=e.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=n);else if("doc-start"==t){if("start"==s||"no_regex"==s)return"";var a;(a=e.match(/^\s*(\/?)\*/))&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(t,e,n){return this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){this.$outdent.autoOutdent(e,n)},this.createWorker=function(t){var e=new s(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return e.attachToDocument(t.getDocument()),e.on("annotate",function(e){t.setAnnotations(e.data)}),e.on("terminate",function(){t.clearAnnotations()}),e},this.$id="ace/mode/javascript"}.call(c.prototype),e.Mode=c}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(t,e){"use strict";var n=t("../lib/oop"),i=(t("../lib/lang"),t("./text_highlight_rules").TextHighlightRules),r=e.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",o=e.supportFunction="rgb|rgba|url|attr|counter|counters",s=e.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",a=e.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",l=e.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",c=e.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",u=e.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",h=e.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",d=function(){var t=this.createKeywordMapper({"support.function":o,"support.constant":s,"support.type":r,"support.constant.color":a,"support.constant.fonts":l},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:c},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+c+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:c},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:u},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:h},{include:"url"},{token:t,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};n.inherits(d,i),e.CssHighlightRules=d}),ace.define("ace/mode/css_completions",["require","exports","module"],function(t,e){"use strict";var n={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{"default":1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,"static":1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},i=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var t=document.createElement("c").style;for(var e in t)if("string"==typeof t[e]){var i=e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});n.hasOwnProperty(i)||(n[i]=1)}}this.completionsDefined=!0},this.getCompletions=function(t,e,n,i){if(this.completionsDefined||this.defineCompletions(),!e.getTokenAt(n.row,n.column))return[];if("ruleset"===t){var r=e.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(r)?(/([\w\-]+):[^:]*$/.test(r),this.getPropertyValueCompletions(t,e,n,i)):this.getPropertyCompletions(t,e,n,i)}return[]},this.getPropertyCompletions=function(){return Object.keys(n).map(function(t){return{caption:t,snippet:t+": $0;",meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(t,e,i){var r=e.getLine(i.row).substr(0,i.column),o=(/([\w\-]+):[^:]*$/.exec(r)||{})[1];if(!o)return[];var s=[];return o in n&&"object"==typeof n[o]&&(s=Object.keys(n[o])),s.map(function(t){return{caption:t,snippet:t,meta:"property value",score:1e6}})}}).call(i.prototype),e.CssCompletions=i}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(t,e){"use strict";var n=t("../../lib/oop"),i=(t("../behaviour").Behaviour,t("./cstyle").CstyleBehaviour),r=t("../../token_iterator").TokenIterator,o=function(){this.inherit(i),this.add("colon","insertion",function(t,e,n,i,o){if(":"===o&&n.selection.isEmpty()){var s=n.getCursorPosition(),a=new r(i,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(s.row);if(":"===c.substring(s.column,s.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(c.substring(s.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(t,e,n,i,o){var s=i.doc.getTextRange(o);if(!o.isMultiLine()&&":"===s){var a=n.getCursorPosition(),l=new r(i,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type)if(";"===i.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o}}),this.add("semicolon","insertion",function(t,e,n,i,r){if(";"===r&&n.selection.isEmpty()){var o=n.getCursorPosition();if(";"===i.doc.getLine(o.row).substring(o.column,o.column+1))return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(t,e,n,i,r){if("!"===r&&n.selection.isEmpty()){var o=n.getCursorPosition(),s=i.doc.getLine(o.row);if(/^\s*(;|}|$)/.test(s.substring(o.column)))return{text:"!important",selection:[10,10]}}})};n.inherits(o,i),e.CssBehaviour=o}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("./text").Mode,r=t("./css_highlight_rules").CssHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,s=t("../worker/worker_client").WorkerClient,a=t("./css_completions").CssCompletions,l=t("./behaviour/css").CssBehaviour,c=t("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=r,this.$outdent=new o,this.$behaviour=new l,this.$completer=new a,this.foldingRules=new c};n.inherits(u,i),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(t,e,n){var i=this.$getIndent(e),r=this.getTokenizer().getLineTokens(e,t).tokens;return r.length&&"comment"==r[r.length-1].type?i:(e.match(/^.*\{\s*$/)&&(i+=n),i)},this.checkOutdent=function(t,e,n){return this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){this.$outdent.autoOutdent(e,n)},this.getCompletions=function(t,e,n,i){return this.$completer.getCompletions(t,e,n,i)},this.createWorker=function(t){var e=new s(["ace"],"ace/mode/css_worker","Worker");return e.attachToDocument(t.getDocument()),e.on("annotate",function(e){t.setAnnotations(e.data)}),e.on("terminate",function(){t.clearAnnotations()}),e},this.$id="ace/mode/css"}.call(u.prototype),e.Mode=u}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("./text_highlight_rules").TextHighlightRules,r=function(){var t="[_:a-zA-Z\xc0-\uffff][-_:.a-zA-Z0-9\xc0-\uffff]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===r&&this.normalizeRules()};(function(){this.embedTagRules=function(t,e,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:e+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(t,e,n){return n.splice(0),this.token}}],this.embedRules(t,e,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(i.prototype),n.inherits(r,i),e.XmlHighlightRules=r}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("../lib/lang"),r=t("./css_highlight_rules").CssHighlightRules,o=t("./javascript_highlight_rules").JavaScriptHighlightRules,s=t("./xml_highlight_rules").XmlHighlightRules,a=i.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),l=function(){s.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(t,e){var n=a[e];return["meta.tag.punctuation."+("<"==t?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(r,"css-","style"),this.embedTagRules(new o({jsx:!1}).getRules(),"js-","script"),this.constructor===l&&this.normalizeRules()};n.inherits(l,s),e.HtmlHighlightRules=l}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,e){"use strict";function n(t,e){return t&&t.type.lastIndexOf(e+".xml")>-1}var i=t("../../lib/oop"),r=t("../behaviour").Behaviour,o=t("../../token_iterator").TokenIterator,s=(t("../../lib/lang"),function(){this.add("string_dquotes","insertion",function(t,e,i,r,s){if('"'==s||"'"==s){var a=s,l=r.doc.getTextRange(i.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&i.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=i.getCursorPosition(),u=r.doc.getLine(c.row).substring(c.column,c.column+1),h=new o(r,c.row,c.column),d=h.getCurrentToken();if(u==a&&(n(d,"attribute-value")||n(d,"string")))return{text:"",selection:[1,1]};if(d||(d=h.stepBackward()),!d)return;for(;n(d,"tag-whitespace")||n(d,"whitespace");)d=h.stepBackward();var f=!u||u.match(/\s/)
;if(n(d,"attribute-equals")&&(f||">"==u)||n(d,"decl-attribute-equals")&&(f||"?"==u))return{text:a+a,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(t,e,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)&&i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o)return r.end.column++,r}),this.add("autoclosing","insertion",function(t,e,i,r,s){if(">"==s){var a=i.getSelectionRange().start,l=new o(r,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(n(c,"tag-name")||n(c,"tag-whitespace")||n(c,"attribute-name")||n(c,"attribute-equals")||n(c,"attribute-value")))return;if(n(c,"reference.attribute-value"))return;if(n(c,"attribute-value")){var u=l.getCurrentTokenColumn()+c.value.length;if(a.column<u)return;if(a.column==u){var h=l.stepForward();if(h&&n(h,"attribute-value"))return;l.stepBackward()}}if(/^\s*>/.test(r.getLine(a.row).slice(a.column)))return;for(;!n(c,"tag-name");)if("<"==(c=l.stepBackward()).value){c=l.stepForward();break}var d=l.getCurrentTokenRow(),f=l.getCurrentTokenColumn();if(n(l.stepBackward(),"end-tag-open"))return;var p=c.value;if(d==a.row&&(p=p.substring(0,a.column-f)),this.voidElements.hasOwnProperty(p.toLowerCase()))return;return{text:"></"+p+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(t,e,n,i,r){if("\n"==r){var s=n.getCursorPosition(),a=i.getLine(s.row),l=new o(i,s.row,s.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,h=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var d=i.getTokenAt(s.row,s.column+1),f=(a=i.getLine(h),this.$getIndent(a)),p=f+i.getTabString();return d&&"</"===d.value?{text:"\n"+p+"\n"+f,selection:[1,p.length,1,p.length]}:{text:"\n"+p}}}}})});i.inherits(s,r),e.XmlBehaviour=s}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(t,e){"use strict";var n=t("../../lib/oop"),i=t("./fold_mode").FoldMode,r=e.FoldMode=function(t,e){this.defaultMode=t,this.subModes=e};n.inherits(r,i),function(){this.$getMode=function(t){for(var e in"string"!=typeof t&&(t=t[0]),this.subModes)if(0===t.indexOf(e))return this.subModes[e];return null},this.$tryMode=function(t,e,n,i){var r=this.$getMode(t);return r?r.getFoldWidget(e,n,i):""},this.getFoldWidget=function(t,e,n){return this.$tryMode(t.getState(n-1),t,e,n)||this.$tryMode(t.getState(n),t,e,n)||this.defaultMode.getFoldWidget(t,e,n)},this.getFoldWidgetRange=function(t,e,n){var i=this.$getMode(t.getState(n-1));return i&&i.getFoldWidget(t,e,n)||(i=this.$getMode(t.getState(n))),i&&i.getFoldWidget(t,e,n)||(i=this.defaultMode),i.getFoldWidgetRange(t,e,n)}}.call(r.prototype)}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(t,e){"use strict";function n(t,e){return t.type.lastIndexOf(e+".xml")>-1}var i=t("../../lib/oop"),r=(t("../../lib/lang"),t("../../range").Range),o=t("./fold_mode").FoldMode,s=t("../../token_iterator").TokenIterator,a=e.FoldMode=function(t,e){o.call(this),this.voidElements=t||{},this.optionalEndTags=i.mixin({},this.voidElements),e&&i.mixin(this.optionalEndTags,e)};i.inherits(a,o);var l=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(t,e,n){var i=this._getFirstTagInLine(t,n);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"==e?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())?"":this._findEndTagInLine(t,n,i.tagName,i.end.column)?"":"start":this.getCommentFoldWidget(t,n)},this.getCommentFoldWidget=function(t,e){return/comment/.test(t.getState(e))&&/<!-/.test(t.getLine(e))?"start":""},this._getFirstTagInLine=function(t,e){for(var i=t.getTokens(e),r=new l,o=0;o<i.length;o++){var s=i[o];if(n(s,"tag-open")){if(r.end.column=r.start.column+s.value.length,r.closing=n(s,"end-tag-open"),!(s=i[++o]))return null;for(r.tagName=s.value,r.end.column+=s.value.length,o++;o<i.length;o++)if(s=i[o],r.end.column+=s.value.length,n(s,"tag-close")){r.selfClosing="/>"==s.value;break}return r}if(n(s,"tag-close"))return r.selfClosing="/>"==s.value,r;r.start.column+=s.value.length}return null},this._findEndTagInLine=function(t,e,i,r){for(var o=t.getTokens(e),s=0,a=0;a<o.length;a++){var l=o[a];if(!((s+=l.value.length)<r)&&n(l,"end-tag-open")&&(l=o[a+1])&&l.value==i)return!0}return!1},this._readTagForward=function(t){var e=t.getCurrentToken();if(!e)return null;var i=new l;do{if(n(e,"tag-open"))i.closing=n(e,"end-tag-open"),i.start.row=t.getCurrentTokenRow(),i.start.column=t.getCurrentTokenColumn();else if(n(e,"tag-name"))i.tagName=e.value;else if(n(e,"tag-close"))return i.selfClosing="/>"==e.value,i.end.row=t.getCurrentTokenRow(),i.end.column=t.getCurrentTokenColumn()+e.value.length,t.stepForward(),i}while(e=t.stepForward());return null},this._readTagBackward=function(t){var e=t.getCurrentToken();if(!e)return null;var i=new l;do{if(n(e,"tag-open"))return i.closing=n(e,"end-tag-open"),i.start.row=t.getCurrentTokenRow(),i.start.column=t.getCurrentTokenColumn(),t.stepBackward(),i;n(e,"tag-name")?i.tagName=e.value:n(e,"tag-close")&&(i.selfClosing="/>"==e.value,i.end.row=t.getCurrentTokenRow(),i.end.column=t.getCurrentTokenColumn()+e.value.length)}while(e=t.stepBackward());return null},this._pop=function(t,e){for(;t.length;){var n=t[t.length-1];if(!e||n.tagName==e.tagName)return t.pop();if(!this.optionalEndTags.hasOwnProperty(n.tagName))return null;t.pop()}},this.getFoldWidgetRange=function(t,e,n){var i=this._getFirstTagInLine(t,n);if(!i)return this.getCommentFoldWidget(t,n)&&t.getCommentFoldRange(n,t.getLine(n).length);var o,a=[];if(i.closing||i.selfClosing){c=new s(t,n,i.end.column);for(var l={row:n,column:i.start.column};o=this._readTagBackward(c);)if(o.selfClosing){if(!a.length)return o.start.column+=o.tagName.length+2,o.end.column-=2,r.fromPoints(o.start,o.end)}else if(o.closing)a.push(o);else if(this._pop(a,o),0==a.length)return o.start.column+=o.tagName.length+2,o.start.row==o.end.row&&o.start.column<o.end.column&&(o.start.column=o.end.column),r.fromPoints(o.start,l)}else{var c=new s(t,n,i.start.column),u={row:n,column:i.start.column+i.tagName.length+2};for(i.start.row==i.end.row&&(u.column=i.end.column);o=this._readTagForward(c);)if(o.selfClosing){if(!a.length)return o.start.column+=o.tagName.length+2,o.end.column-=2,r.fromPoints(o.start,o.end)}else if(o.closing){if(this._pop(a,o),0==a.length)return r.fromPoints(u,o.start)}else a.push(o)}}}).call(a.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(t,e){"use strict";var n=t("../../lib/oop"),i=t("./mixed").FoldMode,r=t("./xml").FoldMode,o=t("./cstyle").FoldMode,s=e.FoldMode=function(t,e){i.call(this,new r(t,e),{"js-":new o,"css-":new o})};n.inherits(s,i)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(t,e){"use strict";function n(t,e){return t.type.lastIndexOf(e+".xml")>-1}function i(t,e){for(var i=new o(t,e.row,e.column),r=i.getCurrentToken();r&&!n(r,"tag-name");)r=i.stepBackward();if(r)return r.value}function r(t,e){for(var i=new o(t,e.row,e.column),r=i.getCurrentToken();r&&!n(r,"attribute-name");)r=i.stepBackward();if(r)return r.value}var o=t("../token_iterator").TokenIterator,s=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],a=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(s),l={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,"for":1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{"for":1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,"default":1},section:{},summary:{},u:{},ul:{},"var":{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},c=Object.keys(l),u=function(){};(function(){this.getCompletions=function(t,e,i,r){var o=e.getTokenAt(i.row,i.column);if(!o)return[];if(n(o,"tag-name")||n(o,"tag-open")||n(o,"end-tag-open"))return this.getTagCompletions(t,e,i,r);if(n(o,"tag-whitespace")||n(o,"attribute-name"))return this.getAttributeCompletions(t,e,i,r);if(n(o,"attribute-value"))return this.getAttributeValueCompletions(t,e,i,r);var s=e.getLine(i.row).substr(0,i.column);return/&[a-z]*$/i.test(s)?this.getHTMLEntityCompletions(t,e,i,r):[]},this.getTagCompletions=function(){return c.map(function(t){return{value:t,meta:"tag",score:1e6}})},this.getAttributeCompletions=function(t,e,n){var r=i(e,n);if(!r)return[];var o=a;return r in l&&(o=o.concat(Object.keys(l[r]))),o.map(function(t){return{caption:t,snippet:t+'="$0"',meta:"attribute",score:1e6}})},this.getAttributeValueCompletions=function(t,e,n){var o=i(e,n),s=r(e,n);if(!o)return[];var a=[];return o in l&&s in l[o]&&"object"==typeof l[o][s]&&(a=Object.keys(l[o][s])),a.map(function(t){return{caption:t,snippet:t,meta:"attribute value",score:1e6}})},this.getHTMLEntityCompletions=function(){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map(function(t){return{caption:t,snippet:t,meta:"html entity",score:1e6}})}}).call(u.prototype),e.HtmlCompletions=u}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("../lib/lang"),r=t("./text").Mode,o=t("./javascript").Mode,s=t("./css").Mode,a=t("./html_highlight_rules").HtmlHighlightRules,l=t("./behaviour/xml").XmlBehaviour,c=t("./folding/html").FoldMode,u=t("./html_completions").HtmlCompletions,h=t("../worker/worker_client").WorkerClient,d=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],f=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],p=function(t){this.fragmentContext=t&&t.fragmentContext,this.HighlightRules=a,this.$behaviour=new l,this.$completer=new u,this.createModeDelegates({"js-":o,"css-":s}),this.foldingRules=new c(this.voidElements,i.arrayToMap(f))};n.inherits(p,r),function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=i.arrayToMap(d),this.getNextLineIndent=function(t,e){return this.$getIndent(e)},this.checkOutdent=function(){return!1},this.getCompletions=function(t,e,n,i){return this.$completer.getCompletions(t,e,n,i)},this.createWorker=function(t){if(this.constructor==p){var e=new h(["ace"],"ace/mode/html_worker","Worker");return e.attachToDocument(t.getDocument()),this.fragmentContext&&e.call("setOptions",[{context:this.fragmentContext}]),e.on("error",function(e){t.setAnnotations(e.data)}),e.on("terminate",function(){t.clearAnnotations()}),e}},this.$id="ace/mode/html"}.call(p.prototype),e.Mode=p}),ace.require(["ace/mode/html"],function(t){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=t)}),ace.define("ace/mode/ruby_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("./text_highlight_rules").TextHighlightRules,r=e.constantOtherSymbol={token:"constant.other.symbol.ruby",regex:"[:](?:[A-Za-z_]|[@$](?=[a-zA-Z0-9_]))[a-zA-Z0-9_]*[!=?]?"},o=(e.qString={token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},e.qqString={token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},e.tString={token:"string",regex:"[`](?:(?:\\\\.)|(?:[^'\\\\]))*?[`]"},e.constantNumericHex={token:"constant.numeric",regex:"0[xX][0-9a-fA-F](?:[0-9a-fA-F]|_(?=[0-9a-fA-F]))*\\b"}),s=e.constantNumericFloat={token:"constant.numeric",regex:"[+-]?\\d(?:\\d|_(?=\\d))*(?:(?:\\.\\d(?:\\d|_(?=\\d))*)?(?:[eE][+-]?\\d+)?)?\\b"},a=(e.instanceVariable={token:"variable.instance",regex:"@{1,2}[a-zA-Z_\\d]+"},function(){var t="abort|Array|assert|assert_equal|assert_not_equal|assert_same|assert_not_same|assert_nil|assert_not_nil|assert_match|assert_no_match|assert_in_delta|assert_throws|assert_raise|assert_nothing_raised|assert_instance_of|assert_kind_of|assert_respond_to|assert_operator|assert_send|assert_difference|assert_no_difference|assert_recognizes|assert_generates|assert_response|assert_redirected_to|assert_template|assert_select|assert_select_email|assert_select_rjs|assert_select_encoded|css_select|at_exit|attr|attr_writer|attr_reader|attr_accessor|attr_accessible|autoload|binding|block_given?|callcc|caller|catch|chomp|chomp!|chop|chop!|defined?|delete_via_redirect|eval|exec|exit|exit!|fail|Float|flunk|follow_redirect!|fork|form_for|form_tag|format|gets|global_variables|gsub|gsub!|get_via_redirect|host!|https?|https!|include|Integer|lambda|link_to|link_to_unless_current|link_to_function|link_to_remote|load|local_variables|loop|open|open_session|p|print|printf|proc|putc|puts|post_via_redirect|put_via_redirect|raise|rand|raw|readline|readlines|redirect?|request_via_redirect|require|scan|select|set_trace_func|sleep|split|sprintf|srand|String|stylesheet_link_tag|syscall|system|sub|sub!|test|throw|trace_var|trap|untrace_var|atan2|cos|exp|frexp|ldexp|log|log10|sin|sqrt|tan|render|javascript_include_tag|csrf_meta_tag|label_tag|text_field_tag|submit_tag|check_box_tag|content_tag|radio_button_tag|text_area_tag|password_field_tag|hidden_field_tag|fields_for|select_tag|options_for_select|options_from_collection_for_select|collection_select|time_zone_select|select_date|select_time|select_datetime|date_select|time_select|datetime_select|select_year|select_month|select_day|select_hour|select_minute|select_second|file_field_tag|file_field|respond_to|skip_before_filter|around_filter|after_filter|verify|protect_from_forgery|rescue_from|helper_method|redirect_to|before_filter|send_data|send_file|validates_presence_of|validates_uniqueness_of|validates_length_of|validates_format_of|validates_acceptance_of|validates_associated|validates_exclusion_of|validates_inclusion_of|validates_numericality_of|validates_with|validates_each|authenticate_or_request_with_http_basic|authenticate_or_request_with_http_digest|filter_parameter_logging|match|get|post|resources|redirect|scope|assert_routing|translate|localize|extract_locale_from_tld|caches_page|expire_page|caches_action|expire_action|cache|expire_fragment|expire_cache_for|observe|cache_sweeper|has_many|has_one|belongs_to|has_and_belongs_to_many",e="alias|and|BEGIN|begin|break|case|class|def|defined|do|else|elsif|END|end|ensure|__FILE__|finally|for|gem|if|in|__LINE__|module|next|not|or|private|protected|public|redo|rescue|retry|return|super|then|undef|unless|until|when|while|yield",n="true|TRUE|false|FALSE|nil|NIL|ARGF|ARGV|DATA|ENV|RUBY_PLATFORM|RUBY_RELEASE_DATE|RUBY_VERSION|STDERR|STDIN|STDOUT|TOPLEVEL_BINDING",i="$DEBUG|$defout|$FILENAME|$LOAD_PATH|$SAFE|$stdin|$stdout|$stderr|$VERBOSE|$!|root_url|flash|session|cookies|params|request|response|logger|self",a=this.$keywords=this.createKeywordMapper({keyword:e,"constant.language":n,"variable.language":i,"support.function":t,"invalid.deprecated":"debugger"},"identifier");this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"comment",regex:"^=begin(?:$|\\s.*$)",next:"comment"},{token:"string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},[{regex:"[{}]",onMatch:function(t,e,n){return this.next="{"==t?this.nextState:"","{"==t&&n.length?(n.unshift("start",e),"paren.lparen"):"}"==t&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string"))?"paren.end":"{"==t?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.start",regex:/"/,push:[{token:"constant.language.escape",regex:/\\(?:[nsrtvfbae'"\\]|c.|C-.|M-.(?:\\C-.)?|[0-7]{3}|x[\da-fA-F]{2}|u[\da-fA-F]{4})/},{token:"paren.start",regex:/#{/,push:"start"},{token:"string.end",regex:/"/,next:"pop"},{defaultToken:"string"}]},{token:"string.start",regex:/`/,push:[{token:"constant.language.escape",regex:/\\(?:[nsrtvfbae'"\\]|c.|C-.|M-.(?:\\C-.)?|[0-7]{3}|x[\da-fA-F]{2}|u[\da-fA-F]{4})/},{token:"paren.start",regex:/#{/,push:"start"},{token:"string.end",regex:/`/,next:"pop"},{defaultToken:"string"}]},{token:"string.start",regex:/'/,push:[{token:"constant.language.escape",regex:/\\['\\]/},{token:"string.end",regex:/'/,next:"pop"},{defaultToken:"string"}]}],{token:"text",regex:"::"},{token:"variable.instance",regex:"@{1,2}[a-zA-Z_\\d]+"},{token:"support.class",regex:"[A-Z][a-zA-Z_\\d]+"},r,o,s,{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:a,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"punctuation.separator.key-value",regex:"=>"},{stateName:"heredoc",onMatch:function(t,e,n){var i="-"==t[2]?"indentedHeredoc":"heredoc",r=t.split(this.splitRegex);return n.push(i,r[3]),[{type:"constant",value:r[1]},{type:"string",value:r[2]},{type:"support.class",value:r[3]},{type:"string",value:r[4]}]},regex:"(<<-?)(['\"`]?)([\\w]+)(['\"`]?)",rules:{heredoc:[{onMatch:function(t,e,n){return t===n[1]?(n.shift(),n.shift(),this.next=n[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}],indentedHeredoc:[{token:"string",regex:"^ +"},{onMatch:function(t,e,n){return t===n[1]?(n.shift(),n.shift(),this.next=n[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}]}},{regex:"$",token:"empty",next:function(t,e){return"heredoc"===e[0]||"indentedHeredoc"===e[0]?e[0]:t}},{token:"string.character",regex:"\\B\\?."},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:"^=end(?:$|\\s.*$)",next:"start"},{token:"comment",regex:".+"}]},this.normalizeRules()});n.inherits(a,i),e.RubyHighlightRules=a}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,e){"use strict";var n=t("../range").Range,i=function(){};(function(){this.checkOutdent=function(t,e){return!!/^\s+$/.test(t)&&/^\s*\}/.test(e)},this.autoOutdent=function(t,e){var i=t.getLine(e).match(/^(\s*\})/);if(!i)return 0;var r=i[1].length,o=t.findMatchingBracket({row:e,column:r});if(!o||o.row==e)return 0;var s=this.$getIndent(t.getLine(o.row));t.replace(new n(e,0,e,r-1),s)},this.$getIndent=function(t){return t.match(/^\s*/)[0]}}).call(i.prototype),e.MatchingBraceOutdent=i}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(t,e){"use strict";var n=t("../../lib/oop"),i=t("./fold_mode").FoldMode,r=t("../../range").Range,o=e.FoldMode=function(){};n.inherits(o,i),function(){this.getFoldWidgetRange=function(t,e,n){var i=this.indentationBlock(t,n);if(i)return i;var o=/\S/,s=t.getLine(n),a=s.search(o);if(-1!=a&&"#"==s[a]){for(var l=s.length,c=t.getLength(),u=n,h=n;++n<c;){var d=(s=t.getLine(n)).search(o);if(-1!=d){if("#"!=s[d])break;h=n}}if(h>u){var f=t.getLine(h).length;return new r(u,l,h,f)}}},this.getFoldWidget=function(t,e,n){var i=t.getLine(n),r=i.search(/\S/),o=t.getLine(n+1),s=t.getLine(n-1),a=s.search(/\S/),l=o.search(/\S/);if(-1==r)return t.foldWidgets[n-1]=-1!=a&&a<l?"start":"","";if(-1==a){if(r==l&&"#"==i[r]&&"#"==o[r])return t.foldWidgets[n-1]="",t.foldWidgets[n+1]="","start"}else if(a==r&&"#"==i[r]&&"#"==s[r]&&-1==t.getLine(n-2).search(/\S/))return t.foldWidgets[n-1]="start",t.foldWidgets[n+1]="","";return t.foldWidgets[n-1]=-1!=a&&a<r?"start":"",r<l?"start":""}}.call(o.prototype)}),ace.define("ace/mode/ruby",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/ruby_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/coffee"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("./text").Mode,r=t("./ruby_highlight_rules").RubyHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,s=t("../range").Range,a=t("./behaviour/cstyle").CstyleBehaviour,l=t("./folding/coffee").FoldMode,c=function(){this.HighlightRules=r,this.$outdent=new o,this.$behaviour=new a,this.foldingRules=new l};n.inherits(c,i),function(){this.lineCommentStart="#",this.getNextLineIndent=function(t,e,n){var i=this.$getIndent(e),r=this.getTokenizer().getLineTokens(e,t).tokens;if(r.length&&"comment"==r[r.length-1].type)return i;if("start"==t){var o=e.match(/^.*[\{\(\[]\s*$/),s=e.match(/^\s*(class|def|module)\s.*$/),a=e.match(/.*do(\s*|\s+\|.*\|\s*)$/),l=e.match(/^\s*(if|else|when)\s*/);(o||s||a||l)&&(i+=n)}return i},this.checkOutdent=function(t,e,n){return/^\s+(end|else)$/.test(e+n)||this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){var i=e.getLine(n);if(/}/.test(i))return this.$outdent.autoOutdent(e,n);var r=this.$getIndent(i),o=e.getLine(n-1),a=this.$getIndent(o),l=e.getTabString();a.length<=r.length&&r.slice(-l.length)==l&&e.remove(new s(n,r.length-l.length,n,r.length))},this.$id="ace/mode/ruby"}.call(c.prototype),e.Mode=c}),ace.require(["ace/mode/ruby"],function(t){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=t)}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(t,e){"use strict";var n=t("../lib/oop"),i=(t("../lib/lang"),
t("./text_highlight_rules").TextHighlightRules),r=e.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",o=e.supportFunction="rgb|rgba|url|attr|counter|counters",s=e.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",a=e.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",l=e.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",c=e.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",u=e.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",h=e.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",d=function(){var t=this.createKeywordMapper({"support.function":o,"support.constant":s,"support.type":r,"support.constant.color":a,"support.constant.fonts":l},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:c},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+c+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:c},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:u},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:h},{include:"url"},{token:t,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};n.inherits(d,i),e.CssHighlightRules=d}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,e){"use strict";var n=t("../range").Range,i=function(){};(function(){this.checkOutdent=function(t,e){return!!/^\s+$/.test(t)&&/^\s*\}/.test(e)},this.autoOutdent=function(t,e){var i=t.getLine(e).match(/^(\s*\})/);if(!i)return 0;var r=i[1].length,o=t.findMatchingBracket({row:e,column:r});if(!o||o.row==e)return 0;var s=this.$getIndent(t.getLine(o.row));t.replace(new n(e,0,e,r-1),s)},this.$getIndent=function(t){return t.match(/^\s*/)[0]}}).call(i.prototype),e.MatchingBraceOutdent=i}),ace.define("ace/mode/css_completions",["require","exports","module"],function(t,e){"use strict";var n={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{"default":1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,"static":1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},i=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var t=document.createElement("c").style;for(var e in t)if("string"==typeof t[e]){var i=e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});n.hasOwnProperty(i)||(n[i]=1)}}this.completionsDefined=!0},this.getCompletions=function(t,e,n,i){if(this.completionsDefined||this.defineCompletions(),!e.getTokenAt(n.row,n.column))return[];if("ruleset"===t){var r=e.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(r)?(/([\w\-]+):[^:]*$/.test(r),this.getPropertyValueCompletions(t,e,n,i)):this.getPropertyCompletions(t,e,n,i)}return[]},this.getPropertyCompletions=function(){return Object.keys(n).map(function(t){return{caption:t,snippet:t+": $0;",meta:"property",score:1e6}})},this.getPropertyValueCompletions=function(t,e,i){var r=e.getLine(i.row).substr(0,i.column),o=(/([\w\-]+):[^:]*$/.exec(r)||{})[1];if(!o)return[];var s=[];return o in n&&"object"==typeof n[o]&&(s=Object.keys(n[o])),s.map(function(t){return{caption:t,snippet:t,meta:"property value",score:1e6}})}}).call(i.prototype),e.CssCompletions=i}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(t,e){"use strict";var n=t("../../lib/oop"),i=(t("../behaviour").Behaviour,t("./cstyle").CstyleBehaviour),r=t("../../token_iterator").TokenIterator,o=function(){this.inherit(i),this.add("colon","insertion",function(t,e,n,i,o){if(":"===o&&n.selection.isEmpty()){var s=n.getCursorPosition(),a=new r(i,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(s.row);if(":"===c.substring(s.column,s.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(c.substring(s.column)))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(t,e,n,i,o){var s=i.doc.getTextRange(o);if(!o.isMultiLine()&&":"===s){var a=n.getCursorPosition(),l=new r(i,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type)if(";"===i.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o}}),this.add("semicolon","insertion",function(t,e,n,i,r){if(";"===r&&n.selection.isEmpty()){var o=n.getCursorPosition();if(";"===i.doc.getLine(o.row).substring(o.column,o.column+1))return{text:"",selection:[1,1]}}}),this.add("!important","insertion",function(t,e,n,i,r){if("!"===r&&n.selection.isEmpty()){var o=n.getCursorPosition(),s=i.doc.getLine(o.row);if(/^\s*(;|}|$)/.test(s.substring(o.column)))return{text:"!important",selection:[10,10]}}})};n.inherits(o,i),e.CssBehaviour=o}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,e){"use strict";var n=t("../../lib/oop"),i=t("../../range").Range,r=t("./fold_mode").FoldMode,o=e.FoldMode=function(t){t&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+t.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+t.end)))};n.inherits(o,r),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(t,e,n){var i=t.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(t,e,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(t,e,n,i){var r,o=t.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(t,o,n);if(r=o.match(this.foldingStartMarker)){var s=r.index;if(r[1])return this.openingBracketBlock(t,r[1],n,s);var a=t.getCommentFoldRange(n,s+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(t,n):"all"!=e&&(a=null)),a}if("markbegin"!==e&&(r=o.match(this.foldingStopMarker))){s=r.index+r[0].length;return r[1]?this.closingBracketBlock(t,r[1],n,s):t.getCommentFoldRange(n,s,-1)}},this.getSectionRange=function(t,e){for(var n=t.getLine(e),r=n.search(/\S/),o=e,s=n.length,a=e+=1,l=t.getLength();++e<l;){var c=(n=t.getLine(e)).search(/\S/);if(-1!==c){if(r>c)break;var u=this.getFoldWidgetRange(t,"all",e);if(u){if(u.start.row<=o)break;if(u.isMultiLine())e=u.end.row;else if(r==c)break}a=e}}return new i(o,s,a,t.getLine(a).length)},this.getCommentRegionBlock=function(t,e,n){for(var r=e.search(/\s*$/),o=t.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){e=t.getLine(n);var c=a.exec(e);if(c&&(c[1]?l--:l++,!l))break}if(n>s)return new i(s,r,n,e.length)}}.call(o.prototype)}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("./text").Mode,r=t("./css_highlight_rules").CssHighlightRules,o=t("./matching_brace_outdent").MatchingBraceOutdent,s=t("../worker/worker_client").WorkerClient,a=t("./css_completions").CssCompletions,l=t("./behaviour/css").CssBehaviour,c=t("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=r,this.$outdent=new o,this.$behaviour=new l,this.$completer=new a,this.foldingRules=new c};n.inherits(u,i),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(t,e,n){var i=this.$getIndent(e),r=this.getTokenizer().getLineTokens(e,t).tokens;return r.length&&"comment"==r[r.length-1].type?i:(e.match(/^.*\{\s*$/)&&(i+=n),i)},this.checkOutdent=function(t,e,n){return this.$outdent.checkOutdent(e,n)},this.autoOutdent=function(t,e,n){this.$outdent.autoOutdent(e,n)},this.getCompletions=function(t,e,n,i){return this.$completer.getCompletions(t,e,n,i)},this.createWorker=function(t){var e=new s(["ace"],"ace/mode/css_worker","Worker");return e.attachToDocument(t.getDocument()),e.on("annotate",function(e){t.setAnnotations(e.data)}),e.on("terminate",function(){t.clearAnnotations()}),e},this.$id="ace/mode/css"}.call(u.prototype),e.Mode=u}),ace.require(["ace/mode/css"],function(t){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=t)}),ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("./text_highlight_rules").TextHighlightRules,r=function(){var t="and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal",e="True|False|None|NotImplemented|Ellipsis|__debug__",n="abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes",i=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":n,"variable.language":"self|cls","constant.language":e,keyword:t},"identifier"),r="[uU]?",o="[rR]",s="[fF]",a="(?:[rR][fF]|[fF][rR])",l="(?:"+"(?:(?:[1-9]\\d*)|(?:0))"+"|"+"(?:0[oO]?[0-7]+)"+"|"+"(?:0[xX][\\dA-Fa-f]+)"+"|"+"(?:0[bB][01]+)"+")",c="(?:\\d+)",u="(?:(?:"+c+"?"+"(?:\\.\\d+)"+")|(?:"+c+"\\.))",h="(?:"+("(?:(?:"+u+"|"+c+")"+"(?:[eE][+-]?\\d+)"+")")+"|"+u+")",d="\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'\"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})";this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:r+'"{3}',next:"qqstring3"},{token:"string",regex:r+'"(?=.)',next:"qqstring"},{token:"string",regex:r+"'{3}",next:"qstring3"},{token:"string",regex:r+"'(?=.)",next:"qstring"},{token:"string",regex:o+'"{3}',next:"rawqqstring3"},{token:"string",regex:o+'"(?=.)',next:"rawqqstring"},{token:"string",regex:o+"'{3}",next:"rawqstring3"},{token:"string",regex:o+"'(?=.)",next:"rawqstring"},{token:"string",regex:s+'"{3}',next:"fqqstring3"},{token:"string",regex:s+'"(?=.)',next:"fqqstring"},{token:"string",regex:s+"'{3}",next:"fqstring3"},{token:"string",regex:s+"'(?=.)",next:"fqstring"},{token:"string",regex:a+'"{3}',next:"rfqqstring3"},{token:"string",regex:a+'"(?=.)',next:"rfqqstring"},{token:"string",regex:a+"'{3}",next:"rfqstring3"},{token:"string",regex:a+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:d},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:d},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:d},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:d},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:d},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:d},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:d},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:d},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'(.)*'"},{token:"string",regex:'"(.)*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+h+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:h},{token:"constant.numeric",regex:l+"[lL]\\b"},{token:"constant.numeric",regex:l+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:i,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};n.inherits(r,i),e.PythonHighlightRules=r}),ace.define("ace/mode/folding/pythonic",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(t,e){"use strict";var n=t("../../lib/oop"),i=t("./fold_mode").FoldMode,r=e.FoldMode=function(t){this.foldingStartMarker=new RegExp("([\\[{])(?:\\s*)$|("+t+")(?:\\s*)(?:#.*)?$")};n.inherits(r,i),function(){this.getFoldWidgetRange=function(t,e,n){var i=t.getLine(n).match(this.foldingStartMarker);if(i)return i[1]?this.openingBracketBlock(t,i[1],n,i.index):i[2]?this.indentationBlock(t,n,i.index+i[2].length):this.indentationBlock(t,n)}}.call(r.prototype)}),ace.define("ace/mode/python",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/python_highlight_rules","ace/mode/folding/pythonic","ace/range"],function(t,e){"use strict";var n=t("../lib/oop"),i=t("./text").Mode,r=t("./python_highlight_rules").PythonHighlightRules,o=t("./folding/pythonic").FoldMode,s=t("../range").Range,a=function(){this.HighlightRules=r,this.foldingRules=new o("\\:"),this.$behaviour=this.$defaultBehaviour};n.inherits(a,i),function(){this.lineCommentStart="#",this.getNextLineIndent=function(t,e,n){var i=this.$getIndent(e),r=this.getTokenizer().getLineTokens(e,t).tokens;if(r.length&&"comment"==r[r.length-1].type)return i;"start"==t&&(e.match(/^.*[\{\(\[: ]\s*$/)&&(i+=n));return i},t={pass:1,"return":1,raise:1,"break":1,"continue":1},this.checkOutdent=function(e,n,i){if("\r\n"!==i&&"\r"!==i&&"\n"!==i)return!1;var r=this.getTokenizer().getLineTokens(n.trim(),e).tokens;if(!r)return!1;do{var o=r.pop()}while(o&&("comment"==o.type||"text"==o.type&&o.value.match(/^\s+$/)));return!!o&&("keyword"==o.type&&t[o.value])},this.autoOutdent=function(t,e,n){n+=1;var i=this.$getIndent(e.getLine(n)),r=e.getTabString();i.slice(-r.length)==r&&e.remove(new s(n,i.length-r.length,n,i.length))},this.$id="ace/mode/python"}.call(a.prototype),e.Mode=a}),ace.require(["ace/mode/python"],function(t){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=t)}),function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return!!(i=n.call(null,r,t,e))&&void 0}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return!(i=n.call(null,r,t,e))&&void 0}),!!i):i},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,r;return function(){var o,s,a=this,l=arguments;return o=function(){i=null,n||(r=t.apply(a,l))},s=n&&!i,clearTimeout(i),i=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,s=l,o=t.apply(n,i)):r||(r=setTimeout(a,c)),o}},noop:function(){}}}(),n="0.10.4",i=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function n(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function i(t){return function(){var n=[].slice.call(arguments,0);return function(i){var r=[];return e.each(n,function(n){r=r.concat(t(e.toStr(i[n])))}),r}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),r=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key]),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix))}function n(){return(new Date).getTime()}function i(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(t){return JSON.parse(t)}var o,s;try{(o=window.localStorage).setItem("~~~","!"),o.removeItem("~~~")}catch(a){o=null}return s=o&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),r(o.getItem(this._prefix(t)))},set:function(t,r,s){return e.isNumber(s)?o.setItem(this._ttlKey(t),i(n()+s)):o.removeItem(this._ttlKey(t)),o.setItem(this._prefix(t),i(r))},remove:function(t){return o.removeItem(this._ttlKey(t)),o.removeItem(this._prefix(t)),this},clear:function(){var t,e,n=[],i=o.length;for(t=0;i>t;t++)(e=o.key(t)).match(this.keyMatcher)&&n.push(e.replace(this.keyMatcher,""));for(t=n.length;t--;)this.remove(n[t]);return this},isExpired:function(t){var i=r(o.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&n()>i)}}:{get:e.noop,set:e.noop,remove:e.noop,clear:e.noop,isExpired:e.noop},e.mixin(t.prototype,s),t}(),s=function(){"use strict";function n(e){e=e||{},this.cancelled=!1,this.lastUrl=null,this._send=e.transport?i(e.transport):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get,this._cache=!1===e.cache?new r(0):l}function i(n){return function(i,r){function o(t){e.defer(function(){a.resolve(t)})}function s(t){e.defer(function(){a.reject(t)})}var a=t.Deferred();return n(i,r,o,s),a}}var o=0,s={},a=6,l=new r(10);return n.setMaxPendingRequests=function(t){a=t},n.resetCache=function(){l.reset()},e.mixin(n.prototype,{_get:function(t,e,n){function i(e){n&&n(null,e),u._cache.set(t,e)}function r(){
n&&n(!0)}function l(){o--,delete s[t],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var c,u=this;this.cancelled||t!==this.lastUrl||((c=s[t])?c.done(i).fail(r):a>o?(o++,s[t]=this._send(t,e).done(i).fail(r).always(l)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,n,i){var r;return e.isFunction(n)&&(i=n,n={}),this.cancelled=!1,this.lastUrl=t,(r=this._cache.get(t))?e.defer(function(){i&&i(null,r)}):this._get(t,n,i),!!r},cancel:function(){this.cancelled=!0}}),n}(),a=function(){"use strict";function n(e){(e=e||{}).datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),e.map(t,function(t){return t.toLowerCase()})}function r(){return{ids:[],children:{}}}function o(t){for(var e={},n=[],i=0,r=t.length;r>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){function n(t,e){return t-e}var i=0,r=0,o=[];t=t.sort(n),e=e.sort(n);for(var s=t.length,a=e.length;s>i&&a>r;)t[i]<e[r]?i++:t[i]>e[r]?r++:(o.push(t[i]),i++,r++);return o}return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,s;o=n.datums.push(t)-1,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)(e=e.children[s]||(e.children[s]=r())).ids.push(o)})})},get:function(t){var n,r,a=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,o;if(r&&0===r.length)return!1;for(e=a.trie,n=t.split("");e&&(i=n.shift());)e=e.children[i];return e&&0===n.length?(o=e.ids.slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?e.map(o(r),function(t){return a.datums[t]}):[]},reset:function(){this.datums=[],this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function i(t){return t.local||null}function r(i){var r,o;return o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=i.prefetch||null)&&(r=e.isString(r)?{url:r}:r,(r=e.mixin(o,r)).thumbprint=n+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",!r.url&&t.error("prefetch requires url to be set")),r}function o(n){function i(t){return function(n){return e.debounce(n,t)}}function r(t){return function(n){return e.throttle(n,t)}}var o,s;return s={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(o=n.remote||null)&&(o=e.isString(o)?{url:o}:o,(o=e.mixin(s,o)).rateLimiter=/^throttle$/i.test(o.rateLimitBy)?r(o.rateLimitWait):i(o.rateLimitWait),o.ajax.type=o.ajax.type||"GET",o.ajax.dataType=o.ajax.dataType||"json",delete o.rateLimitBy,delete o.rateLimitWait,!o.url&&t.error("remote requires url to be set")),o}return{local:i,prefetch:r,remote:o}}();!function(n){"use strict";function r(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=c(e.sorter),this.dupDetector=e.dupDetector||u,this.local=l.local(e),this.prefetch=l.prefetch(e),this.remote=l.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new a({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new o(this.cacheKey):null}function c(t){function n(e){return e.sort(t)}function i(t){return t}return e.isFunction(t)?n:i}function u(){return!1}var h,d;h=n.Bloodhound,d={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=r,r.noConflict=function(){return n.Bloodhound=h,r},r.tokenizers=i,e.mixin(r.prototype,{_loadPrefetch:function(e){function n(t){o.clear(),o.add(e.filter?e.filter(t):t),o._saveToStorage(o.index.serialize(),e.thumbprint,e.ttl)}var i,r,o=this;return(i=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(i),r=t.Deferred().resolve()):r=t.ajax(e.url,e.ajax).done(n),r},_getFromRemote:function(t,e){function n(t,n){e(t?[]:o.remote.filter?o.remote.filter(n):n)}var i,r,o=this;if(this.transport)return t=t||"",r=encodeURIComponent(t),i=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(i,this.remote.ajax,n)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(t,e,n){this.storage&&(this.storage.set(d.data,t,n),this.storage.set(d.protocol,location.protocol,n),this.storage.set(d.thumbprint,e,n))},_readFromStorage:function(t){var e,n={};return this.storage&&(n.data=this.storage.get(d.data),n.protocol=this.storage.get(d.protocol),n.thumbprint=this.storage.get(d.thumbprint)),e=n.thumbprint!==t||n.protocol!==location.protocol,n.data&&!e?n.data:null},_initialize:function(){function n(){r.add(e.isFunction(o)?o():o)}var i,r=this,o=this.local;return i=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),o&&i.done(n),this.transport=this.remote?new s(this.remote):null,this.initPromise=i.promise()},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){this.index.add(t)},get:function(t,n){function i(t){var i=o.slice(0);e.each(t,function(t){return!e.some(i,function(e){return r.dupDetector(t,e)})&&i.push(t),i.length<r.limit}),n&&n(r.sorter(i))}var r=this,o=[],s=!1;o=this.index.get(t),(o=this.sorter(o).slice(0,this.limit)).length<this.limit?s=this._getFromRemote(t,i):this._cancelLastRemoteRequest(),s||(o.length>0||!this.transport)&&n&&n(o)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&s.resetCache()},ttAdapter:function(){return e.bind(this.get,this)}})}(this);var c={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'},u=function(){"use strict";var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(t.input,{marginTop:"-1px"}),t}(),h=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i="typeahead:";return e.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger(i+t,e)}}),n}(),d=function(){"use strict";function t(t,e,n,i){var r;if(!n)return this;for(e=e.split(l),n=i?a(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,s;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=o(n.sync,this,[e].concat(i)),s=o(n.async,this,[e].concat(i)),r()&&c(s);return this}function o(t,e,n){function i(){for(var i,r=0,o=t.length;!i&&o>r;r+=1)i=!1===t[r].apply(e,n);return!i}return i}function s(){return window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=s();return{onSync:n,onAsync:e,off:i,trigger:r}}(),f=function(t){"use strict";function n(t,n,i){for(var r,o=[],s=0,a=t.length;a>s;s++)o.push(e.escapeRegExChars(t[s]));return r=i?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(r):new RegExp(r,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(e){var n,i,o;return(n=a.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),(i=e.splitText(n.index)).splitText(n[0].length),o.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(o,i)),!!n}function s(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)(n=t.childNodes[r]).nodeType===i?r+=e(n)?1:0:s(n,e)}var a;(r=e.mixin({},i,r)).node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],a=n(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,o))}}(window.document),p=function(){"use strict";function n(n){var r,o,a,l,c=this;(n=n||{}).input||t.error("input is missing"),r=e.bind(this._onBlur,this),o=e.bind(this._onFocus,this),a=e.bind(this._onKeydown,this),l=e.bind(this._onInput,this),this.$hint=t(n.hint),this.$input=t(n.input).on("blur.tt",r).on("focus.tt",o).on("keydown.tt",a),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||e.defer(e.bind(c._onInput,c,t))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,d,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,i,r;switch(t){case"tab":i=this.getHint(),r=this.getInputValue(),n=i&&i!==r&&!o(e);break;case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,n;n=!!(e=r(t=this.getInputValue(),this.query))&&this.query.length!==t.length,this.query=t,e?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((i=document.selection.createRange()).moveStart("character",-t),t===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),g=function(){"use strict";function n(n){(n=n||{}).templates=n.templates||{},n.source||t.error("missing source"),n.name&&!o(n.name)&&t.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||e.getUniqueId(),this.source=n.source,this.displayFn=i(n.display||n.displayKey),this.templates=r(n.templates,this.displayFn),this.$el=t(c.dataset.replace("%CLASS%",this.name))}function i(t){function n(e){return e[t]}return t=t||"value",e.isFunction(t)?t:n}function r(t,n){function i(t){return"<p>"+n(t)+"</p>"}return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||i}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var s="ttDataset",a="ttValue",l="ttDatum";return n.extractDatasetName=function(e){return t(e).data(s)},n.extractValue=function(e){return t(e).data(a)},n.extractDatum=function(e){return t(e).data(l)},e.mixin(n.prototype,d,{_render:function(n,i){function r(){return g.templates.empty({query:n,isEmpty:!0})}function o(){function r(e){var n;return(n=t(c.suggestion).append(g.templates.suggestion(e)).data(s,g.name).data(a,g.displayFn(e)).data(l,e)).children().each(function(){t(this).css(u.suggestionChild)}),n}var o,h;return o=t(c.suggestions).css(u.suggestions),h=e.map(i,r),o.append.apply(o,h),g.highlight&&f({className:"tt-highlight",node:o[0],pattern:n}),o}function h(){return g.templates.header({query:n,isEmpty:!p})}function d(){return g.templates.footer({query:n,isEmpty:!p})}if(this.$el){var p,g=this;this.$el.empty(),!(p=i&&i.length)&&this.templates.empty?this.$el.html(r()).prepend(g.templates.header?h():null).append(g.templates.footer?d():null):p&&this.$el.html(o()).prepend(g.templates.header?h():null).append(g.templates.footer?d():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){function e(e){n.canceled||t!==n.query||n._render(t,e)}var n=this;this.query=t,this.canceled=!1,this.source(t,e)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),n}(),m=function(){"use strict";function n(n){var r,o,s,a=this;(n=n||{}).menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(n.datasets,i),r=e.bind(this._onSuggestionClick,this),o=e.bind(this._onSuggestionMouseEnter,this),s=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(n.menu).on("click.tt",".tt-suggestion",r).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",s),e.each(this.datasets,function(t){a.$menu.append(t.getRoot()),t.onSync("rendered",a._onRendered,a)})}function i(t){return new g(t)}return e.mixin(n.prototype,d,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function t(t){return t.isEmpty()}this.isEmpty=e.every(this.datasets,t),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n,i,r;if(this.isOpen){if(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1===(i=((i=e.index(n)+t)+1)%(e.length+1)-1))return void this.trigger("cursorRemoved");-1>i&&(i=e.length-1),this._setCursor(r=e.eq(i)),this._ensureVisible(r)}},_ensureVisible:function(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$menu.scrollTop(),r=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>e?this.$menu.scrollTop(i+e):n>r&&this.$menu.scrollTop(i+(n-r))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?u.ltr:u.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:g.extractDatum(t),value:g.extractValue(t),datasetName:g.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){function n(e){e.update(t)}e.each(this.datasets,n)},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function t(t){t.destroy()}this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,t)}}),n}(),v=function(){"use strict";function n(n){var r,o,s;(n=n||{}).input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.$node=i(n.input,n.withHint),r=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),s=this.$node.find(".tt-hint"),o.on("blur.tt",function(t){var n,i,s;n=document.activeElement,i=r.is(n),s=r.has(n).length>0,e.isMsie()&&(i||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=n.eventBus||new h({el:o}),this.dropdown=new m({menu:r,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new p({input:o,hint:s}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function i(e,n){var i,o,a,l;i=t(e),o=t(c.wrapper).css(u.wrapper),a=t(c.dropdown).css(u.dropdown),(l=i.clone().css(u.hint).css(r(i))).val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),i.data(s,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?u.input:u.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(h){}return i.wrap(o).parent().prepend(n?l:null).append(a)}function r(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function o(t){var n=t.find(".tt-input");e.each(n.data(s),function(t,i){e.isUndefined(t)?n.removeAttr(i):n.attr(i,t)}),n.detach().removeData(s).removeClass("tt-input").insertAfter(t),t.remove()}var s="ttAttrs";return e.mixin(n.prototype,{_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var n,i;n=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&i&&(this._select(i),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,n,i,r,o;(t=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),i=p.normalizeQuery(n),r=e.escapeRegExChars(i),(o=new RegExp("^(?:"+r+")(.+$)","i").exec(t.value))?this.input.setHint(n+o[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n,i,r;e=this.input.getHint(),n=this.input.getQuery(),i=t||this.input.isCursorAtEnd(),e&&n!==e&&i&&((r=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=e.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node),this.$node=null}}),n}();!function(){"use strict";var n,i,r;n=t.fn.typeahead,i="ttTypeahead",r={initialize:function(n,r){function o(){var o,s=t(this);e.each(r,function(t){t.highlight=!!n.highlight}),o=new v({input:s,eventBus:new h({el:s}),withHint:!!e.isUndefined(n.hint)||!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:r}),s.data(i,o)}return r=e.isArray(r)?r:[].slice.call(arguments,1),n=n||{},this.each(o)},open:function(){function e(){var e;(e=t(this).data(i))&&e.open()}return this.each(e)},close:function(){function e(){var e;(e=t(this).data(i))&&e.close()}return this.each(e)},val:function(e){function n(){var n;(n=t(this).data(i))&&n.setVal(e)}function r(t){var e,n;return(e=t.data(i))&&(n=e.getVal()),n}return arguments.length?this.each(n):r(this.first())},destroy:function(){function e(){var e,n=t(this);(e=n.data(i))&&(e.destroy(),n.removeData(i))}return this.each(e)}},t.fn.typeahead=function(e){var n;return r[e]&&"initialize"!==e?(n=this.filter(function(){return!!t(this).data(i)}),r[e].apply(n,[].slice.call(arguments,1))):r.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this}}()}(window.jQuery),Pagy.version="3.8.1",Pagy.init=function(t){var e=t instanceof Event||t===undefined?document:t,n=e.getElementsByClassName("pagy-json");if(e===document){for(var i in Pagy.navResizeListeners)window.removeEventListener("resize",Pagy.navResizeListeners[i],!0);Pagy.navResizeListeners={}}for(var r=0,o=n.length;r<o;r++){var s=JSON.parse(n[r].innerHTML);Pagy[s.shift()].apply(null,s)}},Pagy.nav=function(t,e,n,i){var r=document.getElementById(t),o=undefined,s=0,a=new RegExp(/__pagy_page__/g),l=[],c=function(){clearTimeout(s),s=setTimeout(r.render,150)};for(var u in n)l.push(parseInt(u));l.sort(function(t,e){return e-t}),r.render=function(){var t,r,s;for(0===this.parentElement.clientWidth&&c(),r=0,s=l.length;r<s;r++)if(this.parentElement.clientWidth>l[r]){t=l[r];break}if(t!==o){var u=e.before,h=n[t];for(r=0,s=h.length;r<s;r++){var d=h[r];"string"==typeof i&&1===d?u+=Pagy.trim(e.link.replace(a,d),i):"number"==typeof d?u+=e.link.replace(a,d):"gap"===d?u+=e.gap:"string"==typeof d&&(u+=e.active.replace(a,d))}u+=e.after,this.innerHTML="",this.insertAdjacentHTML("afterbegin",u),o=t}}.bind(r),l.length>1&&(window.removeEventListener("resize",Pagy.navResizeListeners[t],!0),window.addEventListener("resize",c,!0),Pagy.navResizeListeners[t]=c),r.render()},Pagy.combo_nav=function(t,e,n,i){var r=document.getElementById(t),o=r.getElementsByTagName("input")[0],s=function(){if(e!==o.value){var t=n.replace(/__pagy_page__/,o.value);"string"==typeof i&&"1"===o.value&&(t=Pagy.trim(t,i)),r.insertAdjacentHTML("afterbegin",t),r.getElementsByTagName("a")[0].click()}};Pagy.addInputEventListeners(o,s)},Pagy.items_selector=function(t,e,n,i){var r=document.getElementById(t),o=r.getElementsByTagName("input")[0],s=o.value,a=function(){var t=o.value;if(s!==t){var a=Math.max(Math.ceil(e/t),1),l=n.replace(/__pagy_page__/,a).replace(/__pagy_items__/,t);"string"==typeof i&&1===a&&(l=Pagy.trim(l,i)),r.insertAdjacentHTML("afterbegin",l),r.getElementsByTagName("a")[0].click()}};Pagy.addInputEventListeners(o,a)},Pagy.addInputEventListeners=function(t,e){t.addEventListener("click",function(){this.select()}),t.addEventListener("focusout",e),t.addEventListener("keyup",function(t){13===t.which&&e()}.bind(this))},Pagy.trim=function(t,e){var n=new RegExp("[?&]"+e+"=1\\b(?!&)|\\b"+e+"=1&");return t.replace(n,"")},document.addEventListener("turbolinks:before-cache",function(){$("#editor").length>0&&ace.edit("editor").destroy()}),document.addEventListener("turbolinks:load",function(){}),$(document).on("turbolinks:load",function(){function t(){$("tr.students_status").hide();var t=n.filter(function(t){return i.includes(t)}),e=r.filter(function(t){return o.includes(t)}),s=t.filter(function(t){return e.includes(t)});$.each(s,function(t,e){$(e).show()})}function e(t,e,n,i){return i.hide(),filter_field=parseInt(t.text()),""==t.text()?n=i.toArray():(n=[],$("."+e).each(function(){parent_row=$(this).parent(),field=parseInt(parent_row.children("."+e).text().trim()),field>=filter_field?n.push(parent_row.get(0)):(isNaN(filter_field)||isNaN(field))&&t.text().toLowerCase()==parent_row.children("."+e).text().trim().toLowerCase()&&n.push(parent_row.get(0))})),n}var n=$("tr.students_status").toArray(),i=$("tr.students_status").toArray(),r=$("tr.students_status").toArray(),o=$("tr.students_status").toArray();$("#clear_filter").click(function(){$("tr.students_status").show(),$("th[contenteditable=true]").text("")}),$("#filter_challenge_completed").keyup(function(){n=e($("#filter_challenge_completed"),"challenge_completed",n,$("tr.students_status")),t()}),$("#filter_challenge_failed").keyup(function(){i=e($("#filter_challenge_failed"),"challenge_failed",i,$("tr.students_status")),t()}),$("#filter_average_score").keyup(function(){r=e($("#filter_average_score"),"average_score",r,$("tr.students_status")),t()}),$("#filter_attendance_total").keyup(function(){o=e($("#filter_attendance_total"),"attendance_total",o,$("tr.students_status")),t()})}),$(document).on("turbolinks:load",function(){$("#export_month").change(function(){""==$(this).val()?$("#export_day").removeAttr("disabled"):$("#export_day").attr("disabled","true")}),$("#export_day").change(function(){""==$(this).val()?$("#export_month").removeAttr("disabled"):$("#export_month").attr("disabled","true")})}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?e(require("jquery")):(e(t.jquery),t.bootstrapSwitch={})}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){return[t.state?"on":"off",t.size,t.disabled?"disabled":void 0,t.readonly?"readonly":void 0,t.indeterminate?"indeterminate":void 0,t.inverse?"inverse":void 0,e?"id-"+e:void 0].filter(function(t){return null==t})}function i(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}function r(){var t=this,e=this.$on.add(this.$off).add(this.$label).css("width",""),n="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return e.width(n),this.$label.width(function(e,i){return"auto"===t.options.labelWidth?i<n?n:i:t.options.labelWidth}),this.privateHandleWidth=this.$on.outerWidth(),this.privateLabelWidth=this.$label.outerWidth(),this.$container.width(2*this.privateHandleWidth+this.privateLabelWidth),this.$wrapper.width(this.privateHandleWidth+this.privateLabelWidth)}function o(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.ope;this.$container.css("margin-left",function(){var n=[0,"-"+t.privateHandleWidth+"px"];return t.options.indeterminate?"-"+t.privateHandleWidth/2+"px":e?t.options.inverse?n[1]:n[0]:t.options.inverse?n[0]:n[1]})}function s(t){return this.options.baseClass+"-"+t}function a(){var t=this,e=function(){t.setPrevOptions(),r.call(t),o.call(t),setTimeout(function(){return t.options.animate&&t.$wrapper.addClass(s.call(t,"animate"))},50)};if(this.$wrapper.is(":visible"))e();else var n=window.setInterval(function(){return t.$wrapper.is(":visible")&&(e()||!0)&&window.clearInterval(n)},50)}function l(){var t=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":function(){return t.setPrevOptions()},"previousState.bootstrapSwitch":function(){t.options=t.prevOptions,t.options.indeterminate&&t.$wrapper.addClass(s.call(t,"indeterminate")),t.$element.prop("checked",t.options.state).trigger("change.bootstrapSwitch",!0)},"change.bootstrapSwitch":function(e,n){e.preventDefault(),e.stopImmediatePropagation();var i=t.$element.is(":checked");o.call(t,i),i===t.options.state||(t.options.state=i,t.$wrapper.toggleClass(s.call(t,"off")).toggleClass(s.call(t,"on")),!n&&(t.$element.is(":radio")&&y('[name="'+t.$element.attr("name")+'"]').not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[i])))},"focus.bootstrapSwitch":function(e){e.preventDefault(),t.$wrapper.addClass(s.call(t,"focused"))},"blur.bootstrapSwitch":function(e){e.preventDefault(),t.$wrapper.removeClass(s.call(t,"focused"))},"keydown.bootstrapSwitch":function(e){!e.which||t.options.disabled||t.options.readonly||(37===e.which||39===e.which)&&(e.preventDefault(),e.stopImmediatePropagation(),t.state(39===e.which))}})}function c(){var t=this;return this.$on.on("click.bootstrapSwitch",function(e){
return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")})}function u(){var t=this,e=void 0,n=void 0;this.$label.on({click:function(t){t.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(n){e||t.options.disabled||t.options.readonly||(n.preventDefault(),n.stopPropagation(),e=(n.pageX||n.originalEvent.touches[0].pageX)-parseInt(t.$container.css("margin-left"),10),t.options.animate&&t.$wrapper.removeClass(s.call(t,"animate")),t.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(i){if(null!=e){var r=(i.pageX||i.originalEvent.touches[0].pageX)-e;i.preventDefault(),r<-t.privateHandleWidth||0<r||(n=r,t.$container.css("margin-left",n+"px"))}},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(i){if(e){if(i.preventDefault(),t.options.animate&&t.$wrapper.addClass(s.call(t,"animate")),n){var r=n>-t.privateHandleWidth/2;n=!1,t.state(t.options.inverse?!r:r)}else t.state(!t.options.state);e=!1}},"mouseleave.bootstrapSwitch":function(){t.$label.trigger("mouseup.bootstrapSwitch")}})}function h(){var t=this,e=this.$element.closest("label");e.on("click",function(n){n.preventDefault(),n.stopImmediatePropagation(),n.target===e[0]&&t.toggleState()})}function d(){function t(){return y(this).data("bootstrap-switch")}function e(){return y(this).bootstrapSwitch("state",this.checked)}var n=this.$element.closest("form");n.data("bootstrap-switch")||n.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){n.find("input").filter(t).each(e)},1)}).data("bootstrap-switch",!0)}function f(t){var e=this;return y.isArray(t)?t.map(function(t){return s.call(e,t)}):[s.call(this,t)]}var p,g=(p=t)&&p.__esModule?p:{"default":p},m=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},v=function(){function t(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y=g["default"]||window.jQuery||window.$,b=function(){function t(r){var o=this,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e(this,t),this.$element=y(r),this.options=y.extend({},y.fn.bootstrapSwitch.defaults,i.call(this),p),this.prevOptions={},this.$wrapper=y("<div>",{"class":function(){return n(o.options,o.$element.attr("id")).map(function(t){return s.call(o,t)}).concat([o.options.baseClass],f.call(o,o.options.wrapperClass)).join(" ")}}),this.$container=y("<div>",{"class":s.call(this,"container")}),this.$on=y("<span>",{html:this.options.onText,"class":s.call(this,"handle-on")+" "+s.call(this,this.options.onColor)}),this.$off=y("<span>",{html:this.options.offText,"class":s.call(this,"handle-off")+" "+s.call(this,this.options.offColor)}),this.$label=y("<span>",{html:this.options.labelText,"class":s.call(this,"label")}),this.$element.on("init.bootstrapSwitch",function(){return o.options.onInit(r)}),this.$element.on("switchChange.bootstrapSwitch",function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];!1===o.options.onSwitchChange.apply(r,e)&&(o.$element.is(":radio")?y('[name="'+o.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",!0):o.$element.trigger("previousState.bootstrapSwitch",!0))}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),a.call(this),l.call(this),c.call(this),u.call(this),d.call(this),h.call(this),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return v(t,[{key:"setPrevOptions",value:function(){this.prevOptions=m({},this.options)}},{key:"state",value:function(t,e){return void 0===t?this.options.state:this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.$element.is(":radio")?y('[name="'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",!!t).trigger("change.bootstrapSwitch",e),this.$element)}},{key:"toggleState",value:function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)}},{key:"size",value:function(t){return void 0===t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(s.call(this,this.options.size)),t&&this.$wrapper.addClass(s.call(this,t)),r.call(this),o.call(this),this.options.size=t,this.$element)}},{key:"animate",value:function(t){return void 0===t?this.options.animate:this.options.animate===!!t?this.$element:this.toggleAnimate()}},{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(s.call(this,"animate")),this.$element}},{key:"disabled",value:function(t){return void 0===t?this.options.disabled:this.options.disabled===!!t?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(s.call(this,"disabled")),this.$element}},{key:"readonly",value:function(t){return void 0===t?this.options.readonly:this.options.readonly===!!t?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(s.call(this,"readonly")),this.$element}},{key:"indeterminate",value:function(t){return void 0===t?this.options.indeterminate:this.options.indeterminate===!!t?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(s.call(this,"indeterminate")),o.call(this),this.$element}},{key:"inverse",value:function(t){return void 0===t?this.options.inverse:this.options.inverse===!!t?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(s.call(this,"inverse"));var t=this.$on.clone(!0),e=this.$off.clone(!0);return this.$on.replaceWith(e),this.$off.replaceWith(t),this.$on=e,this.$off=t,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(t){return void 0===t?this.options.onColor:(this.options.onColor&&this.$on.removeClass(s.call(this,this.options.onColor)),this.$on.addClass(s.call(this,t)),this.options.onColor=t,this.$element)}},{key:"offColor",value:function(t){return void 0===t?this.options.offColor:(this.options.offColor&&this.$off.removeClass(s.call(this,this.options.offColor)),this.$off.addClass(s.call(this,t)),this.options.offColor=t,this.$element)}},{key:"onText",value:function(t){return void 0===t?this.options.onText:(this.$on.html(t),r.call(this),o.call(this),this.options.onText=t,this.$element)}},{key:"offText",value:function(t){return void 0===t?this.options.offText:(this.$off.html(t),r.call(this),o.call(this),this.options.offText=t,this.$element)}},{key:"labelText",value:function(t){return void 0===t?this.options.labelText:(this.$label.html(t),r.call(this),this.options.labelText=t,this.$element)}},{key:"handleWidth",value:function(t){return void 0===t?this.options.handleWidth:(this.options.handleWidth=t,r.call(this),o.call(this),this.$element)}},{key:"labelWidth",value:function(t){return void 0===t?this.options.labelWidth:(this.options.labelWidth=t,r.call(this),o.call(this),this.$element)}},{key:"baseClass",value:function(){return this.options.baseClass}},{key:"wrapperClass",value:function(t){if(void 0===t)return this.options.wrapperClass;var e=t||y.fn.bootstrapSwitch.defaults.wrapperClass;return this.$wrapper.removeClass(f.call(this,this.options.wrapperClass).join(" ")),this.$wrapper.addClass(f.call(this,e).join(" ")),this.options.wrapperClass=e,this.$element}},{key:"radioAllOff",value:function(t){if(void 0===t)return this.options.radioAllOff;var e=!!t;return this.options.radioAllOff===e?this.$element:(this.options.radioAllOff=e,this.$element)}},{key:"onInit",value:function(t){return void 0===t?this.options.onInit:(this.options.onInit=t||y.fn.bootstrapSwitch.defaults.onInit,this.$element)}},{key:"onSwitchChange",value:function(t){return void 0===t?this.options.onSwitchChange:(this.options.onSwitchChange=t||y.fn.bootstrapSwitch.defaults.onSwitchChange,this.$element)}},{key:"destroy",value:function(){var t=this.$element.closest("form");return t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}}]),t}();y.fn.bootstrapSwitch=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Array.prototype.reduce.call(this,function(e,i){var r=y(i),o=r.data("bootstrap-switch"),s=o||new b(i,t);return o||r.data("bootstrap-switch",s),"string"==typeof t?s[t].apply(s,n):e},this)},y.fn.bootstrapSwitch.Constructor=b,y.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}),function(){var t=this;(function(){(function(){var t=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var n;return null==t&&(t=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new e.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e,n;if(e=1<=arguments.length?t.call(arguments,0):[],this.debugging)return e.push(Date.now()),(n=this.logger).log.apply(n,["[ActionCable]"].concat(t.call(e)))}}}).call(this)}).call(t);var e=t.ActionCable;(function(){(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ConnectionMonitor=function(){function n(e){this.connection=e,this.visibilityDidChange=t(this.visibilityDidChange,this),this.reconnectAttempts=0}var i,r,o;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){if(!this.isRunning())return this.startedAt=r(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},n.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=r(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor stopped")},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=r()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,e.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=r(),e.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},n.prototype.getPollInterval=function(){var t,e,n,r;return n=(r=this.constructor.pollInterval).min,e=r.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*i(t,n,e))},n.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return e.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+o(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?e.log("ConnectionMonitor skipping reopening recent disconnect"):(e.log("ConnectionMonitor reopening"),this.connection.reopen())},n.prototype.connectionIsStale=function(){var t;return o(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&o(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return e.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},r=function(){return(new Date).getTime()},o=function(t){return(r()-t)/1e3},i=function(t,e,n){return Math.max(e,Math.min(n,t))},n}()}).call(this),function(){var t,n,i,r,o,s=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r=e.INTERNAL,n=r.message_types,i=r.protocols,o=2<=i.length?s.call(i,0,t=i.length-1):(t=0,[]),i[t++],e.Connection=function(){function t(t){this.consumer=t,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new e.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(e.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(e.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+i),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new e.WebSocket(this.consumer.url,i),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(e.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return t=n,e.log("Failed to reopen WebSocket",t)}finally{e.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),l.call(o,t)>=0},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?s.call(arguments,0):[],t=this.getState(),l.call(e,t)>=0},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,i,r;if(this.isProtocolSupported())switch(e=(r=JSON.parse(t.data)).identifier,i=r.message,r.type){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(e,"connected");case n.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",i)}},open:function(){if(e.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return e.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(e.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return e.log("WebSocket onerror event")}},t}()}.call(this),function(){var t=[].slice;e.Subscriptions=function(){function n(t){this.consumer=t,this.subscriptions=[]}return n.prototype.create=function(t,n){var i,r,o;return r="object"==typeof(i=t)?i:{channel:i},o=new e.Subscription(this.consumer,r,n),this.add(o)},n.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},n.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},n.prototype.reject=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.findAll(t)).length;e<n;e++)o=i[e],this.forget(o),this.notify(o,"rejected"),r.push(o);return r},n.prototype.forget=function(t){var e;return this.subscriptions=function(){var n,i,r,o;for(o=[],n=0,i=(r=this.subscriptions).length;n<i;n++)(e=r[n])!==t&&o.push(e);return o}.call(this),t},n.prototype.findAll=function(t){var e,n,i,r,o;for(r=[],e=0,n=(i=this.subscriptions).length;e<n;e++)(o=i[e]).identifier===t&&r.push(o);return r},n.prototype.reload=function(){var t,e,n,i,r;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)r=n[t],i.push(this.sendCommand(r,"subscribe"));return i},n.prototype.notifyAll=function(){var e,n,i,r,o,s,a;for(n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],s=[],i=0,r=(o=this.subscriptions).length;i<r;i++)a=o[i],s.push(this.notify.apply(this,[a,n].concat(t.call(e))));return s},n.prototype.notify=function(){var e,n,i,r,o,s,a;for(s=arguments[0],n=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],o=[],i=0,r=(a="string"==typeof s?this.findAll(s):[s]).length;i<r;i++)s=a[i],o.push("function"==typeof s[n]?s[n].apply(s,e):void 0);return o},n.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},n}()}.call(this),function(){e.Subscription=function(){function t(t,n,i){this.consumer=t,null==n&&(n={}),this.identifier=JSON.stringify(n),e(this,i)}var e;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e=function(t,e){var n,i;if(null!=e)for(n in e)i=e[n],t[n]=i;return t},t}()}.call(this),function(){e.Consumer=function(){function t(t){this.url=t,this.subscriptions=new e.Subscriptions(this),this.connection=new e.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){App.admin_notification=App.cable.subscriptions.create("AdminNotificationChannel",{connected:function(){},disconnected:function(){},received:function(t){var e;e={icon:"/favicon-120x120.png",body:"Mensaje desde sistema"},"Notification"in window?"granted"===Notification.permission?new Notification(t,e):"denied"!==Notification.permission&&Notification.requestPermission(function(n){"granted"===n&&new Notification(t,e)}):console.log("This browser does not support desktop notification")}})}.call(this),App.notifications=App.cable.subscriptions.create("NotificationsChannel",{connected:function(){},disconnected:function(){},received:function(t){$("#badge_count").html();if(t.alert_class!=undefined?alert_class=t.alert_class:alert_class="alert-info",t.html&&$("main .notifications").html('<div class="alert '+alert_class+' alert-dismissible" role="alert"><button class="close" data-dismiss="alert"><span aria-hidden="true">\xd7</span><span class="sr-only">Close</span></button>'+t.html+"</div>"),t.popup&&notifyMe(t.popup),t.confetti&&showConfetti(),t.csv_file)return blob=new Blob(["\ufeff",t.csv_file.content]),csv_download_link=document.createElement("a"),csv_download_link.href=window.URL.createObjectURL(blob),csv_download_link.download=t.csv_file.file_name,void csv_download_link.click()}}),function(){App.room=App.cable.subscriptions.create("SenceNotificationsChannel",{connected:function(){},disconnected:function(){},received:function(t){var e;e={icon:"/favicon-120x120.png",body:t},"Notification"in window?"granted"===Notification.permission?new Notification("Cierre su sesi\xf3n SENCE",e):"denied"!==Notification.permission&&Notification.requestPermission(function(t){"granted"===t&&new Notification("Cierre su sesi\xf3n SENCE",e)}):console.log("This browser does not support desktop notification")}})}.call(this),function(){var t;t=function(){$('[data-toggle="tooltip"]').tooltip()},$(document).ready(t),$(document).on("turbolinks:load",t),$(document).on("turbolinks:load",function(){var t,e,n,i,r;return(n=new Bloodhound({datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.value)},queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,remote:{url:$("#autocomplete-input").data("url")+"?q=%QUERY",filter:function(t){return $.map(t,function(t){return{value:t.highlight,cleanValue:t.content,url:t.url,type:t.type}})}}})).initialize(),r="fa-archive",e="fa-file",i=t="fa-folder",$("#autocomplete-input").typeahead({minLength:3,highlight:!0},{displayKey:"cleanValue",source:n.ttAdapter(),templates:{empty:['<div class="empty-message">',"No se encontraron resultados para esta b\xfasqueda","</div>"].join("\n"),suggestion:function(n){return"Section"===n.type?i=r:"Activity"===n.type?i=t:"Item"===n.type&&(i=e),'<p><strong><i class="fa '+i+'" aria-hidden="true"></i>  </strong> - '+n.value+"</p>"}}}).bind("typeahead:selected",function(t,e){return window.location=e.url})})}.call(this),function(){var t,e;t=function(t){t.select2({theme:"bootstrap",language:"es",width:"auto"})},$(document).on("turbolinks:load",function(){$("#eventModal").on("shown.bs.modal",function(){var n;TinyMCEActivator.activate(),n=$(e.student_selector),t(n),$(e.students_selector_container).hide(),$(e.send_all_selector).on("change",function(){var t;t=parseInt($(e.send_all_selector).attr(e.cohort_students_count)),this.checked?$(e.send_several_selector).is(":checked")&&(e.hideSelector(),$(e.send_several_selector).prop("checked",!1)):t*=-1,e.receivers_count+=t,e.updateCounterTag(e.receivers_count)}),$(e.send_teachers_selector).on("change",function(){var t;t=parseInt($(e.send_teachers_selector).attr(e.cohort_staff_count)),this.checked||(t*=-1),e.receivers_count+=t,e.updateCounterTag(e.receivers_count)}),$(e.send_several_selector).on("change",function(){var t;$(e.send_all_selector).is(":checked")&&(t=parseInt($(e.send_all_selector).attr(e.cohort_students_count)),e.receivers_count-=t,$(e.send_all_selector).prop("checked",!1),e.updateCounterTag(e.receivers_count)),this.checked?e.showSelector():e.hideSelector()}),$(e.student_selector).on("select2:select",function(){e.addStudent()}),$(e.student_selector).on("select2:unselecting",function(){e.removeStudent()})})}),e={send_all_selector:"#comment_send_mail",send_several_selector:"#comment_send_several_mails",send_teachers_selector:"#comment_send_to_teachers",students_selector_container:".students_selector",student_selector:"#students_mailer",select2_choices:".select2-selection__choice",receivers_count_tag:"#receiver-count",receivers_count:0,cohort_students_count:"data-students-count",cohort_staff_count:"data-staff-count",updateCounterTag:function(t){$(this.receivers_count_tag).text("Env\xedo a "+t+" persona(s)")},showSelector:function(){$(this.students_selector_container).toggle(200)},hideSelector:function(){var t;t=$(this.select2_choices).length,this.receivers_count-=t,$(this.student_selector).val("").trigger("change"),$(this.students_selector_container).toggle(200),this.updateCounterTag(this.receivers_count)},addStudent:function(){this.receivers_count+=1,this.updateCounterTag(this.receivers_count)},removeStudent:function(){this.receivers_count-=1,this.updateCounterTag(this.receivers_count)}}}.call(this),document.addEventListener("turbolinks:before-cache",function(){$("#user_photo").filestyle("destroy"),$("#user_accept_emails").bootstrapSwitch("destroy"),$("#user_job_offer").bootstrapSwitch("destroy"),$(".switch_approved").bootstrapSwitch("destroy"),$("#user-rating").raty("destroy")}),document.addEventListener("turbolinks:load",function(){$(".switch, .switch").bootstrapSwitch({onText:"SI",offText:"NO"}),$(".switch_approved, .switch").bootstrapSwitch({onText:"SI",offText:"NO"}),$("input.approved").on("change",function(){$.post("/cohorts/"+$(this).data("cohort-id")+"/update_students_approved",{user_id:$(this).data("user-id"),approved:this.checked}).then(()=>{this.checked?($(`#student_${$(this).data("user-id")}`).removeClass("bg-danger"),$(`#student_${$(this).data("user-id")}`).addClass("bg-success")):($(`#student_${$(this).data("user-id")}`).removeClass("bg-success"),$(`#student_${$(this).data("user-id")}`).addClass("bg-danger"))})})}),document.addEventListener("turbolinks:before-cache",function(){$("#calendar").length>=1&&$("#calendar").fullCalendar("destroy"),$("#calendar_birthday").length>=1&&$("#calendar_birthday").fullCalendar("destroy")}),document.addEventListener("turbolinks:load",function(){if($("#calendar").length>0){var t=$("#calendar").data("cohort-id");$("#calendar").fullCalendar({locale:"es",editable:!0,events:"/cohorts/"+t+"/events/json",eventClick:function(e){$.ajax({url:"/cohorts/"+t+"/events/"+e.id+"/edit",type:"GET",dataType:"script"}).done(function(){}).fail(function(){}).always(function(){})},eventDrop:function(e){$.ajax({url:"/cohorts/"+t+"/events/"+e.id,type:"PATCH",dataType:"script",data:{event:{start:e.start.format()}}}).done(function(){}).fail(function(){}).always(function(){})},dayClick:function(e){$.ajax({url:"/cohorts/"+t+"/events/new",type:"GET",dataType:"script",data:{event:{start:e.format(),end:e.format()}}}).done(function(){}).fail(function(){}).always(function(){})}})}$("#calendar_birthday").length>0&&$("#calendar_birthday").fullCalendar({locale:"es",editable:!1,events:"/all_birthdays"})}),function(){$(document).on("ready turbolinks:load",function(){$(".import-logs a.plus").on("click",function(){var t;t=$(this).parent().parent().data("message"),$(".import-logs ."+t+" a.plus").addClass("dn"),$(".import-logs ."+t+" a.minus").removeClass("dn"),$(".import-logs ."+t+".log-data").removeClass("dn"),$(".import-logs ."+t+".log-backtrace").removeClass("dn")}),$(".import-logs a.minus").on("click",function(){var t;t=$(this).parent().parent().data("message"),$(".import-logs ."+t+" a.plus").removeClass("dn"),$(".import-logs ."+t+" a.minus").addClass("dn"),$(".import-logs ."+t+".log-data").addClass("dn"),$(".import-logs ."+t+".log-backtrace").addClass("dn")}),$("#OpenImgUpload").click(function(){$("#imgupload").trigger("click")})})}.call(this),$(document).on("turbolinks:load",function(){$("#loader_div").hide(),$("#search_by").hide(),$("#results_search").hide(),$("button.btn-workable").click(function(){$("button.btn-workable").removeClass("active-workable"),$("#search_by").show(),$(this).addClass("active-workable"),$("#search").attr("placeholder","Buscar "+$(this).text()+"...");var t=$(this).data("workable"),e=$(this).parent().data("url"),n=$("#search").val();$("#loader_div").show(),$("#results_search").hide(),$.ajax({type:"GET",dataType:"script",url:e,data:{workable:t,query:n},success:function(){$("#loader_div").hide()}})}),$("#search").keyup(function(){var t=$(".active-workable").parent(),e=$(".active-workable").data("workable"),n=t.data("url"),i=$(this).val();$("#loader_div").show(),$("#results_search").hide(),$.ajax({type:"GET",dataType:"script",url:n,data:{workable:e,query:i},success:function(){$("#loader_div").hide()}})})}),
/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - EASING EQUATIONS
 *
 * Open source under the BSD License.
 *
 * Copyright  2001 Robert Penner
 * All rights reserved.
 *
 * TERMS OF USE - jQuery Easing
 *
 * Open source under the BSD License.
 *
 * Copyright  2008 George McGinley Smith
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice, this list of
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list
 * of conditions and the following disclaimer in the documentation and/or other materials
 * provided with the distribution.
 *
 * Neither the name of the author nor the names of contributors may be used to endorse
 * or promote products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,r){return jQuery.easing[jQuery.easing.def](t,e,n,i,r)},easeInQuad:function(t,e,n,i,r){return i*(e/=r)*e+n},easeOutQuad:function(t,e,n,i,r){return-i*(e/=r)*(e-2)+n},easeInOutQuad:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,r){return i*(e/=r)*e*e+n},easeOutCubic:function(t,e,n,i,r){return i*((e=e/r-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,r){return i*(e/=r)*e*e*e+n},easeOutQuart:function(t,e,n,i,r){return-i*((e=e/r-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,r){return i*(e/=r)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,r){return i*((e=e/r-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,r){return-i*Math.cos(e/r*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,r){return i*Math.sin(e/r*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,r){return-i/2*(Math.cos(Math.PI*e/r)-1)+n},easeInExpo:function(t,e,n,i,r){return 0==e?n:i*Math.pow(2,10*(e/r-1))+n},easeOutExpo:function(t,e,n,i,r){return e==r?n+i:i*(1-Math.pow(2,-10*e/r))+n},easeInOutExpo:function(t,e,n,i,r){return 0==e?n:e==r?n+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,r){return-i*(Math.sqrt(1-(e/=r)*e)-1)+n},easeOutCirc:function(t,e,n,i,r){return i*Math.sqrt(1-(e=e/r-1)*e)+n},easeInOutCirc:function(t,e,n,i,r){return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s||(s=.3*r),a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return-a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)+n},easeOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(1==(e/=r))return n+i;if(s||(s=.3*r),a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*r-o)*(2*Math.PI)/s)+i+n},easeInOutElastic:function(t,e,n,i,r){var o=1.70158,s=0,a=i;if(0==e)return n;if(2==(e/=r/2))return n+i;if(s||(s=r*(.3*1.5)),a<Math.abs(i)){a=i;o=s/4}else o=s/(2*Math.PI)*Math.asin(i/a);return e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*-.5+n:a*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*(2*Math.PI)/s)*.5+i+n},easeInBack:function(t,e,n,i,r,o){return o==undefined&&(o=1.70158),i*(e/=r)*e*((o+1)*e-o)+n},easeOutBack:function(t,e,n,i,r,o){return o==undefined&&(o=1.70158),i*((e=e/r-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(t,e,n,i,r,o){return o==undefined&&(o=1.70158),(e/=r/2)<1?i/2*(e*e*((1+(o*=1.525))*e-o))+n:i/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+n},easeInBounce:function(t,e,n,i,r){return i-jQuery.easing.easeOutBounce(t,r-e,0,i,r)+n},easeOutBounce:function(t,e,n,i,r){return(e/=r)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,r){return e<r/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,r)+n:.5*jQuery.easing.easeOutBounce(t,2*e-r,0,i,r)+.5*i+n}}),$(document).on("ready page:load page:update",function(){setTimeout(function(){$(".alert:not(.sticky)").fadeOut(function(){$(this).remove()})},3e3)}),$(document).ready(function(){$("#quiz_cohort").on("change",function(){var t;t=this.value.toString(),$.getScript("/cohorts/"+t+"/sections")})}),$(document).on("click","a.downloadGuide",function(){var t,e,n,i;e=(t=$(this)).data("up"),n=t.data("workable-id"),i=t.data("workable-type"),$.post("/download_guide/"+n,{workable_type:i,user_participation_id:e})}),$(document).on("click","a.downloadChallenge",function(){var t,e,n,i;e=(t=$(this)).data("up"),n=t.data("workable-id"),i=t.data("workable-type"),$.post("/download_challenge/"+n,{workable_type:i,user_participation_id:e})}),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:"function"==typeof define&&define.amd?define(function(){return e(t)}):t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){var e,n,i,r,o,s,a,l,c=(e=void 0===t?window:t,n=e.document,i=e.navigator&&e.navigator.userAgent||"",r=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(i)&&!e.opera,s=-1!==i.indexOf("Firefox"),a=-1!==i.indexOf("Chrome"),l=s&&4>parseInt(i.split("Firefox/")[1],10),e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.2.0",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:l,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:o,isWebKit:-1!==i.indexOf("AppleWebKit"),isFirefox:s,isChrome:a,isSafari:!a&&-1!==i.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(i),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]});!function(t){t.timers=[];var e=t.charts,n=t.doc,i=t.win;t.error=function(e,n){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,n)throw Error(e);i.console&&console.log(e)},t.Fx=function(t,e,n){this.options=e,this.elem=t,this.prop=n},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&1>r)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?n[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i,null,!0)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n,null,!0):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(e,n,r){var o=this,s=o.options,a=function(t){return!a.stopped&&o.step(t)},l=i.requestAnimationFrame||function(t){setTimeout(t,13)},c=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(c)};e!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=n,this.unit=r,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&1===t.timers.push(a)&&l(c)):(delete s.curAnim[this.prop],s.complete&&0===t.keys(s.curAnim).length&&s.complete.call(this.elem))},step:function(e){var n,i=+new Date,r=this.options,o=this.elem,s=r.complete,a=r.duration,l=r.curAnim;return o.attr&&!o.element?e=!1:e||i>=a+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(n=!1)}),n&&s&&s.call(o),e=!1):(this.pos=r.easing((i-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,n,i){function r(t){var e,n;for(u=t.length;u--;)e="M"===t[u]||"L"===t[u],n=/[a-zA-Z]/.test(t[u+3]),e&&n&&t.splice(u+1,0,t[u+1],t[u+2],t[u+1],t[u+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var n=t.slice(0,p);[].splice.apply(t,[0,0].concat(n)),m&&(n=t.slice(t.length-p),[].splice.apply(t,[t.length,0].concat(n)),u--)}t[0]="M"}function s(t,e){for(var n=(l-t.length)/p;0<n&&n--;)(c=t.slice().splice(t.length/v-p,p*v))[0]=e[l-p-n*p],f&&(c[p-6]=c[p-2],c[p-5]=c[p-1]),[].splice.apply(t,[t.length/v,0].concat(c)),m&&n--}n=n||"";var a,l,c,u,h=e.startX,d=e.endX,f=-1<n.indexOf("C"),p=f?7:3;n=n.split(" "),i=i.slice();var g,m=e.isArea,v=m?2:1;if(f&&(r(n),r(i)),h&&d){for(u=0;u<h.length;u++){if(h[u]===d[0]){a=u;break}if(h[0]===d[d.length-h.length+u]){a=u,g=!0;break}}void 0===a&&(n=[])}return n.length&&t.isNumber(a)&&(l=i.length+a*v*p,g?(o(n,i),s(i,n)):(o(i,n),s(n,i))),[n,i]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var e,n,i=arguments,r={},o=function(e,n){return"object"!=typeof e&&(e={}),t.objectEach(n,function(i,r){!t.isObject(i,!0)||t.isClass(i)||t.isDOMElement(i)?e[r]=n[r]:e[r]=o(e[r]||{},i)}),e};for(!0===i[0]&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,e=0;e<n;e++)r=o(r,i[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,n){return!(!e||"object"!=typeof e||n&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var n=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!n||!n.name||"Object"===n.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&Infinity>t&&-Infinity<t},t.erase=function(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}},t.defined=function(t){return null!=t},t.attr=function(e,n,i){var r;return t.isString(n)?t.defined(i)?e.setAttribute(n,i):e&&e.getAttribute&&((r=e.getAttribute(n))||"class"!==n||(r=e.getAttribute(n+"Name"))):t.defined(n)&&t.isObject(n)&&t.objectEach(n,function(t,n){e.setAttribute(n,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,n){if(e)return setTimeout(t,e,n);t.call(0,n)},t.clearTimeout=function(e){t.defined(e)&&clearTimeout(e)},t.extend=function(t,e){var n;for(n in t||(t={}),e)t[n]=e[n];return t},t.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(null!=(e=n[t]))return e},t.css=function(e,n){t.isMS&&!t.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),t.extend(e.style,n)},t.createElement=function(e,i,r,o,s){e=n.createElement(e);var a=t.css;return i&&t.extend(e,i),s&&a(e,{padding:0,border:"none",margin:0}),r&&a(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,n){var i=function(){};return i.prototype=new e,t.extend(i.prototype,n),i},t.pad=function(t,e,n){return Array((e||2)+1-String(t).replace("-","").length).join(n||0)+t},t.relativeLength=function(t,e,n){return/%$/.test(t)?e*parseFloat(t)/100+(n||0):parseFloat(t)},t.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){i.apply(r,arguments.length?arguments:e)},t.unshift(i),t=n.apply(this,t),r.proceed=null,t}},t.datePropsToTimestamps=function(e){t.objectEach(e,function(n,i){t.isObject(n)&&"function"==typeof n.getTime?e[i]=n.getTime():(t.isObject(n)||t.isArray(n))&&t.datePropsToTimestamps(n)})},t.formatSingle=function(e,n,i){var r=/\.([0-9])/,o=t.defaultOptions.lang;return/f$/.test(e)?(i=(i=e.match(r))?i[1]:-1,null!==n&&(n=t.numberFormat(n,i,o.decimalPoint,-1<e.indexOf(",")?o.thousandsSep:""))):n=(i||t.time).dateFormat(e,n),n},t.format=function(e,n,i){for(var r,o,s,a,l,c="{",u=!1,h=[];e&&-1!==(c=e.indexOf(c));){if(r=e.slice(0,c),u){for(a=(o=(r=r.split(":")).shift().split(".")).length,l=n,s=0;s<a;s++)l&&(l=l[o[s]]);r.length&&(l=t.formatSingle(r.join(":"),l,i)),h.push(l)}else h.push(r);e=e.slice(c+1),c=(u=!u)?"}":"{"}return h.push(e),h.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,n,i,r,o){var s,a=e;for(s=e/(i=t.pick(i,1)),n||(n=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===i?n=t.grep(n,function(t){return 0==t%1}):.1>=i&&(n=[1/i]))),r=0;r<n.length&&(a=n[r],!(o&&a*i>=e||!o&&s<=(n[r]+(n[r+1]||n[r]))/2));r++);return t.correctFloat(a*i,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort(function(t,i){return 0===(n=e(t,i))?t.safeI-i.safeI:n}),i=0;i<r;i++)delete t[i].safeI},t.arrayMin=function(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n},t.arrayMax=function(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n},t.destroyObjectProperties=function(e,n){t.objectEach(e,function(t,i){t&&t!==n&&t.destroy&&t.destroy(),delete e[i]})},t.discardElement=function(e){var n=t.garbageBin;n||(n=t.createElement("div")),e&&n.appendChild(e),n.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,n){n.renderer.globalAnimation=t.pick(e,n.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,n,i,r){e=+e||0,n=+n;var o,s,a=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,c=e.toString().split("e");return-1===n?n=Math.min(l,20):t.isNumber(n)?n&&c[1]&&0>c[1]&&(0<=(o=n+ +c[1])?(c[0]=(+c[0]).toExponential(o).split("e")[0],n=o):(c[0]=c[0].split(".")[0]||0,e=20>n?(c[0]*Math.pow(10,c[1])).toFixed(n):0,c[1]=0)):n=2,s=(Math.abs(c[1]?c[0]:e)+Math.pow(10,-Math.max(n,l)-1)).toFixed(n),o=3<(l=String(t.pInt(s))).length?l.length%3:0,i=t.pick(i,a.decimalPoint),r=t.pick(r,a.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+r:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(e+=i+s.slice(-n)),c[1]&&0!=+e&&(e+="e"+c[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,n,r){return"width"===n?Math.max(0,Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right")):"height"===n?Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom")):(i.getComputedStyle||t.error(27,!0),(e=i.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(n),t.pick(r,"opacity"!==n)&&(e=t.pInt(e))),e)},t.inArray=function(e,n,i){return(t.indexOfPolyfill||Array.prototype.indexOf).call(n,e,i)},t.grep=function(e,n){return(t.filterPolyfill||Array.prototype.filter).call(e,n)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var n,i=t.length;for(n=0;n<i;n++)if(e(t[n],n))return t[n]},t.some=function(e,n,i){return(t.somePolyfill||Array.prototype.some).call(e,n,i)},t.map=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,n,i){return(t.reducePolyfill||Array.prototype.reduce).apply(e,2<arguments.length?[n,i]:[n])},t.offset=function(t){var e=n.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,n){for(var i=t.timers.length;i--;)t.timers[i].elem!==e||n&&n!==t.timers[i].prop||(t.timers[i].stopped=!0)},t.each=function(e,n,i){return(t.forEachPolyfill||Array.prototype.forEach).call(e,n,i)},t.objectEach=function(t,e,n){for(var i in t)t.hasOwnProperty(i)&&e.call(n||t[i],t[i],i,t)},t.addEvent=function(e,n,i,r){var o,s=e.addEventListener||t.addEventListenerPolyfill;return o="function"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{},t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),s&&s.call(e,n,i,!1),o[n]||(o[n]=[]),o[n].push(i),r&&t.isNumber(r.order)&&(i.order=r.order,o[n].sort(function(t,e){return t.order-e.order})),function(){t.removeEvent(e,n,i)}},t.removeEvent=function(e,n,i){function r(n,i){var r=e.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(e,n,i,!1)}function o(i){var o,s;e.nodeName&&(n?(o={})[n]=!0:o=i,t.objectEach(o,function(t,e){if(i[e])for(s=i[e].length;s--;)r(e,i[e][s])}))}var s,a;t.each(["protoEvents","hcEvents"],function(l){var c=e[l];c&&(n?(s=c[n]||[],i?(-1<(a=t.inArray(i,s))&&(s.splice(a,1),c[n]=s),r(n,i)):(o(c),c[n]=[])):(o(c),e[l]={}))})},t.fireEvent=function(e,i,r,o){var s,a,l,c,u;r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent)?((s=n.createEvent("Events")).initEvent(i,!0,!0),t.extend(s,r),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s)):t.each(["protoEvents","hcEvents"],function(n){if(e[n])for(a=e[n][i]||[],l=a.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),c=0;c<l;c++)(u=a[c])&&!1===u.call(e,r)&&r.preventDefault()}),o&&!r.defaultPrevented&&o.call(e,r)},t.animate=function(e,n,i){var r,o,s,a,l="";t.isObject(i)||(i={duration:(a=arguments)[2],easing:a[3],complete:a[4]}),t.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=t.merge(n),t.objectEach(n,function(a,c){t.stop(e,c),s=new t.Fx(e,i,c),o=null,"d"===c?(s.paths=s.initPath(e,e.d,n.d),s.toD=n.d,r=0,o=1):e.attr?r=e.attr(c):(r=parseFloat(t.getStyle(e,c))||0,"opacity"!==c&&(l="px")),o||(o=a),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,l)})},t.seriesType=function(e,n,i,r,o){var s=t.getOptions(),a=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[n],i),a[e]=t.extendClass(a[n]||function(){},r),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),i.jQuery&&(i.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(t[t.isString(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}(c),function(t){var e=t.each,n=t.isNumber,i=t.map,r=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var n,r,o,s;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=i(e.stops,function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(n=e.length,e=parseInt(e.substr(1),16),7===n?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===n&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)(n=(s=this.parsers[o]).regex.exec(e))&&(r=s.parse(n));this.rgba=r||[]},get:function(t){var i,o=this.input,s=this.rgba;return this.stops?((i=r(o)).stops=[].concat(i.stops),e(this.stops,function(e,n){i.stops[n]=[i.stops[n][0],e.get(t)]})):i=s&&n(s[0])?"rgb"===t||!t&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===t?s[3]:"rgba("+s.join(",")+")":o,i},brighten:function(t){var i,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(n(t)&&0!==t)for(i=0;3>i;i++)r[i]+=o(255*t),0>r[i]&&(r[i]=0),255<r[i]&&(r[i]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var n=this.rgba,i=t.rgba;return i.length&&n&&n.length?e=((t=1!==i[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(i[0]+(n[0]-i[0])*(1-e))+","+Math.round(i[1]+(n[1]-i[1])*(1-e))+","+Math.round(i[2]+(n[2]-i[2])*(1-e))+(t?","+(i[3]+(n[3]-i[3])*(1-e)):"")+")":e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(c),function(t){var e,n,i=t.addEvent,r=t.animate,o=t.attr,s=t.charts,a=t.color,l=t.css,c=t.createElement,u=t.defined,h=t.deg2rad,d=t.destroyObjectProperties,f=t.doc,p=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,w=t.isArray,x=t.isFirefox,C=t.isMS,S=t.isObject,k=t.isString,_=t.isWebKit,E=t.merge,T=t.noop,A=t.objectEach,M=t.pick,R=t.pInt,D=t.removeEvent,L=t.stop,$=t.svg,O=t.SVG_NS,P=t.symbolSizes,I=t.win;e=t.SVGElement=function(){return this},g(e.prototype,{opacity:1,SVG_NS:O,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(t,e){this.element="span"===e?c(e):f.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,n,i){return 0!==(n=t.animObject(M(n,this.renderer.globalAnimation,!0))).duration?(i&&(n.complete=i),r(this,e,n)):(this.attr(e,null,i),n.step&&n.step.call(this)),this},complexColor:function(e,n,i){var r,o,s,a,l,c,h,d,f,g,m,v,y=this.renderer,b=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},function(){e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(s=e[o],l=y.gradients,h=e.stops,g=i.radialReference,w(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!u(s.gradientUnits)&&(a=s,s=E(s,y.getRadialAttr(g,a),{gradientUnits:"userSpaceOnUse"})),A(s,function(t,e){"id"!==e&&b.push(e,t)}),A(h,function(t){b.push(t)}),b=b.join(","),l[b]?m=l[b].attr("id"):(s.id=m=t.uniqueKey(),l[b]=c=y.createElement(o).attr(s).add(y.defs),c.radAttr=a,c.stops=[],p(h,function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),d=r.get("rgb"),f=r.get("a")):(d=e[1],f=1),e=y.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":f}).add(c),c.stops.push(e)})),v="url("+y.url+"#"+m+")",i.setAttribute(n,v),i.gradient=b,e.toString=function(){return v})})},applyTextOutline:function(e){var n,i,r,s,a,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),i=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,n){return 2*e+n}),a=e.length;a--;)"highcharts-text-outline"===(n=e[a]).getAttribute("class")&&m(e,l.removeChild(n));s=l.firstChild,p(e,function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{"class":"highcharts-text-outline",fill:i,stroke:i,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,s)})}},attr:function(t,e,n,i){var r,o,s,a,l=this.element,c=this;return"string"==typeof t&&void 0!==e&&(r=t,(t={})[r]=e),"string"==typeof t?c=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(A(t,function(e,n){s=!1,i||L(this,n),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n)&&(o||(this.symbolAttr(t),o=!0),s=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),s||((a=this[n+"Setter"]||this._defaultSetter).call(this,e,n,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,e,a))},this),this.afterSetters()),n&&n.call(this),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t,e){var n=this.attr("class")||"";return-1===n.indexOf(t)&&(e||(t=(n+(n?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==b(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;p("x y r start end width height innerR anchorX anchorY".split(" "),function(n){e[n]=M(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var n;return e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+n,t.y=Math.floor(t.y||this.y||0)+n,t.width=Math.floor((t.width||this.width||0)-2*n),t.height=Math.floor((t.height||this.height||0)-2*n),u(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,n,i=this.styles,r={},s=this.element,a="",c=!i,u=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),i&&A(t,function(t,e){t!==i[e]&&(r[e]=t,c=!0)}),c&&(i&&(t=g(i,r)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===s.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=R(t.width))),this.styles=t,e&&!$&&this.renderer.forExport&&delete t.width,s.namespaceURI===this.SVG_NS?(n=function(t,e){return"-"+e.toLowerCase()},A(t,function(t,e){-1===b(e,u)&&(a+=e.replace(/([A-Z])/g,n)+":"+t+";")}),a&&o(s,"style",a)):l(s,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var n=this,i=n.element;return y&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Date.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(-1===I.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,o=this.rotation,s=this.matrix,a=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],u(s)&&t.push("matrix("+s.join(",")+")"),r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+M(this.rotationOriginX,a.getAttribute("x"),0)+" "+M(this.rotationOriginY,a.getAttribute("y")||0)+")"),(u(n)||u(i))&&t.push("scale("+M(n,1)+" "+M(i,1)+")"),t.length&&a.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,o,s,a,l,c={};return o=(r=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!n||k(n))&&(this.alignTo=i=n||"renderer",m(o,this),o.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,i=this.alignTo),n=M(n,r[i],r),i=t.align,r=t.verticalAlign,o=(n.x||0)+(t.x||0),s=(n.y||0)+(t.y||0),"right"===i?a=1:"center"===i&&(a=2),a&&(o+=(n.width-(t.width||0))/a),c[e?"translateX":"x"]=Math.round(o),"bottom"===r?l=1:"middle"===r&&(l=2),l&&(s+=(n.height-(t.height||0))/l),c[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t,e){var n,i,r,o,s,a=this.renderer,l=this.element,c=this.styles,d=this.textStr,f=a.cache,m=a.cacheKeys,v=l.namespaceURI===this.SVG_NS;if(i=(e=M(e,this.rotation))*h,r=c&&c.fontSize,u(d)&&(-1===(s=d.toString()).indexOf("<")&&(s=s.replace(/[0-9]/g,"0")),s+=["",e||0,r,this.textWidth,c&&c.textOverflow].join()),s&&!t&&(n=f[s]),!n){if(v||a.forExport){try{(o=this.fakeTS&&function(t){p(l.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&o("none"),n=l.getBBox?g({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(y){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(a.isSVG&&(t=n.width,a=n.height,v&&(n.height=a={"11px,17":14,"13px,20":16}[c&&c.fontSize+","+Math.round(a)]||a),e&&(n.width=Math.abs(a*Math.sin(i))+Math.abs(t*Math.cos(i)),n.height=Math.abs(a*Math.cos(i))+Math.abs(t*Math.sin(i)))),s&&0<n.height){for(;250<m.length;)delete f[m.shift()];f[s]||m.push(s),f[s]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},n=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,i=e.ownerSVGElement,r=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,L(t),r&&i&&(p(i.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){var e=t.getAttribute("clip-path"),n=r.element.id;(-1<e.indexOf("(#"+n+")")||-1<e.indexOf('("#'+n+'")'))&&t.removeAttribute("clip-path")}),t.clipPath=r.destroy()),t.stops){for(i=0;i<t.stops.length;i++)t.stops[i]=t.stops[i].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();n&&n.div&&0===n.div.childNodes.length;)e=n.parentGroup,t.safeRemoveChild(n.div),delete n.div,n=e;return t.alignTo&&m(t.renderer.alignedObjects,t),A(t,function(e,n){delete t[n]}),null},shadow:function(t,e,n){var i,r,s,a,l,c,u=[],h=this.element;if(t){if(!this.shadows){for(a=M(t.width,3),l=(t.opacity||.15)/a,c=this.parentInverted?"(-1,-1)":"("+M(t.offsetX,1)+", "+M(t.offsetY,1)+")",i=1;i<=a;i++)r=h.cloneNode(0),s=2*a+1-2*i,o(r,{stroke:t.color||"#000000","stroke-opacity":l*i,"stroke-width":s,transform:"translate"+c,fill:"none"}),r.setAttribute("class",(r.getAttribute("class")||"")+" highcharts-shadow"),n&&(o(r,"height",Math.max(o(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):h.parentNode&&h.parentNode.insertBefore(r,h),u.push(r);this.shadows=u}}else this.destroyShadows();return this},destroyShadows:function(){p(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=M(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(n.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=R(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(f.createTextNode(String(M(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.complexColor(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):this[e]!==t&&n.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var n,i,r,o,s=this.renderer,a=this.parentGroup,l=(a||s).element||s.box,c=this.element;s=l===s.box;if(n=this.added,u(t)?(c.setAttribute("data-z-index",t),t=+t,this[e]===t&&(n=!1)):u(this[e])&&c.removeAttribute("data-z-index"),this[e]=t,n){for((t=this.zIndex)&&a&&(a.handleZ=!0),o=(e=l.childNodes).length-1;0<=o&&!i;o--)n=(a=e[o]).getAttribute("data-z-index"),r=!u(n),a!==c&&(0>t&&r&&!s&&!o?(l.insertBefore(c,e[o]),i=!0):(R(n)<=t||r&&(!u(t)||0<=t))&&(l.insertBefore(c,e[o+1]||null),i=!0));i||(l.insertBefore(c,e[s?3:0]||null),i=!0)}return i},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,n,i){this[n]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},n=t.SVGRenderer=function(){this.init.apply(this,arguments)},g(n.prototype,{Element:e,SVG_NS:O,init:function(t,e,n,r,s,a){var c,u;c=(r=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"}).css(this.getStyle(r))).element,t.appendChild(c),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(c,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=c,this.boxWrapper=r,this.alignedObjects=[],
this.url=(x||_)&&f.getElementsByTagName("base").length?I.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highcharts 6.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=s,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,n,!1),x&&t.getBoundingClientRect&&((e=function(){l(t,{left:0,top:0}),u=t.getBoundingClientRect(),l(t,{left:Math.ceil(u.left)-u.left+"px",top:Math.ceil(u.top)-u.top+"px"})})(),this.unSubPixelFix=i(I,"resize",e))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),d(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:T,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,n,i,r,o,s){var a,l,c,u=this,h=t.rotation,d=i?1:0,p=(n||i).length,g=p,m=[],v=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(f.createTextNode(t))},y=function(o,a){if(void 0===m[a=a||o])if(e.getSubStringLength)try{m[a]=r+e.getSubStringLength(0,i?a+1:a)}catch(l){}else u.getSpanWidth&&(v(s(n||i,o)),m[a]=r+u.getSpanWidth(t,e));return m[a]};if(t.rotation=0,l=y(e.textContent.length),c=r+l>o){for(;d<=p;)g=Math.ceil((d+p)/2),i&&(a=s(i,g)),l=y(g,a&&a.length-1),d===p?d=p+1:l>o?p=g-1:d=g;0===p?v(""):n&&p===n.length-1||v(a||s(n||i,g))}return i&&i.splice(0,g),t.actualWidth=l,t.rotation=h,c},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,n,i,r=t.element,s=this,a=s.forExport,c=M(t.textStr,"").toString(),u=-1!==c.indexOf("<"),h=r.childNodes,d=o(r,"x"),g=t.styles,m=t.textWidth,y=g&&g.lineHeight,w=g&&g.textOutline,x=g&&"ellipsis"===g.textOverflow,C=g&&"nowrap"===g.whiteSpace,S=g&&g.fontSize,k=h.length,_=(g=m&&!t.added&&this.box,function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:S||s.style.fontSize||12,y?R(y):s.fontMetrics(e,t.getAttribute("style")?t:r).h}),E=function(t,e){return A(s.escapes,function(n,i){e&&-1!==b(n,e)||(t=t.toString().replace(new RegExp(n,"g"),i))}),t},T=function(t,e){var n;if(n=t.indexOf("<"),-1!==(n=(t=t.substring(n,t.indexOf(">")-n)).indexOf(e+"="))&&(n=n+e.length+1,'"'===(e=t.charAt(n))||"'"===e))return(t=t.substring(n+1)).substring(0,t.indexOf(e))};if((n=[c,x,C,y,w,S,m].join())!==t.textCache){for(t.textCache=n;k--;)r.removeChild(h[k]);u||w||x||m||-1!==c.indexOf(" ")?(g&&g.appendChild(r),c=u?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],c=v(c,function(t){return""!==t}),p(c,function(n,c){var u,h=0,g=0;n=n.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),u=n.split("|||"),p(u,function(n){if(""!==n||1===u.length){var p,v,y={},b=f.createElementNS(s.SVG_NS,"tspan");if((p=T(n,"class"))&&o(b,"class",p),(p=T(n,"style"))&&(p=p.replace(/(;| |^)color([ :])/,"$1fill$2"),o(b,"style",p)),(v=T(n,"href"))&&!a&&(o(b,"onclick",'location.href="'+v+'"'),o(b,"class","highcharts-anchor"),l(b,{cursor:"pointer"}))," "!==(n=E(n.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(b.appendChild(f.createTextNode(n)),h?y.dx=0:c&&null!==d&&(y.x=d),o(b,y),r.appendChild(b),!h&&i&&(!$&&a&&l(b,{display:"block"}),o(b,"dy",_(b))),m){var w=n.replace(/([^\^])-/g,"$1- ").split(" ");y=!C&&(1<u.length||c||1<w.length);v=0;var k=_(b);if(x)e=s.truncate(t,b,n,void 0,0,Math.max(0,m-parseInt(S||12,10)),function(t,e){return t.substring(0,e)+"\u2026"});else if(y)for(;w.length;)w.length&&!C&&0<v&&(b=f.createElementNS(O,"tspan"),o(b,{dy:k,x:d}),p&&o(b,"style",p),b.appendChild(f.createTextNode(w.join(" ").replace(/- /g,"-"))),r.appendChild(b)),s.truncate(t,b,null,w,0===v?g:0,m,function(t,e){return w.slice(0,e).join(" ").replace(/- /g,"-")}),g=t.actualWidth,v++}h++}}}),i=i||r.childNodes.length}),x&&e&&t.attr("title",E(t.textStr,["&lt;","&gt;"])),g&&g.removeChild(r),w&&t.applyTextOutline&&t.applyTextOutline(w)):r.appendChild(f.createTextNode(E(c)))}},getContrast:function(t){return(t=a(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,s,a,l,c){var u,h,d,f,p=this.label(t,e,n,c,null,null,null,null,"button"),m=0;return p.attr(E({padding:8,r:2},o)),o=E({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),u=o.style,delete o.style,s=E(o,{fill:"#e6e6e6"},s),h=s.style,delete s.style,a=E(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),d=a.style,delete a.style,l=E(o,{style:{color:"#cccccc"}},l),f=l.style,delete l.style,i(p.element,C?"mouseover":"mouseenter",function(){3!==m&&p.setState(1)}),i(p.element,C?"mouseout":"mouseleave",function(){3!==m&&p.setState(m)}),p.setState=function(t){1!==t&&(p.state=m=t),p.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),p.attr([o,s,a,l][t||0]).css([u,h,d,f][t||0])},p.attr(o).css(g({cursor:"default"},u)),p.on("click",function(t){3!==m&&r.call(p,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return w(t)?e.d=t:S(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){return t=S(t)?t:{x:t,y:e,r:n},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,n,i,r,o){return S(t)?(e=(i=t).y,n=i.r,t=i.x):i={innerR:i,start:r,end:o},(t=this.symbol("arc",t,e,n,n,i)).r=n,t},rect:function(t,e,n,i,r,s){r=S(t)?t.r:r;var a=this.createElement("rect");return t=S(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(n,0),height:Math.max(i,0)},void 0!==s&&(t.strokeWidth=s,t=a.crisp(t)),t.fill="none",r&&(t.r=r),a.rSetter=function(t,e,n){o(n,{rx:t,ry:t})},a.attr(t)},setSize:function(t,e,n){var i=this.alignedObjects,r=i.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:M(n,!0)?void 0:0});r--;)i[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({"class":"highcharts-"+t}):e},image:function(t,e,n,r,o,s){var a,l={preserveAspectRatio:"none"},c=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},u=function(e){c(a.element,t),s.call(a,e)};return 1<arguments.length&&g(l,{x:e,y:n,width:r,height:o}),a=this.createElement("image").attr(l),s?(c(a.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),l=new I.Image,i(l,"load",u),l.src=t,l.complete&&u({})):c(a.element,t),a},symbol:function(t,e,n,i,r,o){var a,h,d,m=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),w=b&&this.symbols[b],x=u(e)&&w&&w.call(this.symbols,Math.round(e),Math.round(n),i,r,o);return w?((a=this.path(x)).attr("fill","none"),g(a,{symbolName:b,x:e,y:n,width:i,height:r}),o&&g(a,o)):y&&(h=t.match(v)[1],(a=this.image(h)).imgwidth=M(P[h]&&P[h].width,o&&o.width),a.imgheight=M(P[h]&&P[h].height,o&&o.height),d=function(){a.attr({width:a.width,height:a.height})},p(["width","height"],function(t){a[t+"Setter"]=function(t,e){var n={},i=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,u(i)&&(this.element&&this.element.setAttribute(e,i),this.alignByTranslate||(n[r]=((this[e]||0)-i)/2,this.attr(n)))}}),u(e)&&a.attr({x:e,y:n}),a.isImg=!0,u(a.imgwidth)&&u(a.imgheight)?d():(a.attr({width:0,height:0}),c("img",{onload:function(){var t=s[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),P[h]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&d(),this.parentNode&&this.parentNode.removeChild(this),m.imgCount--,!m.imgCount&&t&&t.onload&&t.onload()},src:h}),this.imgCount++)),a},symbols:{circle:function(t,e,n,i){return this.arc(t+n/2,e+i/2,n/2,i/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return["M",t,e,"L",t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return["M",t+n/2,e,"L",t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,s=r.r||n,a=r.r||i||n,l=r.end-.001;n=r.innerR,i=M(r.open,.001>Math.abs(r.end-r.start-2*Math.PI));var c=Math.cos(o),h=Math.sin(o),d=Math.cos(l);l=Math.sin(l);return s=["M",t+s*c,e+a*h,"A",s,a,0,r=.001>r.end-o-Math.PI?0:1,1,t+s*d,e+a*l],u(n)&&s.push(i?"M":"L",t+n*d,e+n*l,"A",n,n,0,r,0,t+n*c,e+n*h),s.push(i?"":"Z"),s},callout:function(t,e,n,i,r){var o,s=Math.min(r&&r.r||0,n,i),a=s+6,l=r&&r.anchorX;return r=r&&r.anchorY,o=["M",t+s,e,"L",t+n-s,e,"C",t+n,e,t+n,e,t+n,e+s,"L",t+n,e+i-s,"C",t+n,e+i,t+n,e+i,t+n-s,e+i,"L",t+s,e+i,"C",t,e+i,t,e+i,t,e+i-s,"L",t,e+s,"C",t,e,t,e,t+s,e],l&&l>n?r>e+a&&r<e+i-a?o.splice(13,3,"L",t+n,r-6,t+n+6,r,t+n,r+6,t+n,e+i-s):o.splice(13,3,"L",t+n,i/2,l,r,t+n,i/2,t+n,e+i-s):l&&0>l?r>e+a&&r<e+i-a?o.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+s):o.splice(33,3,"L",t,i/2,l,r,t,i/2,t,e+s):r&&r>i&&l>t+a&&l<t+n-a?o.splice(23,3,"L",l+6,e+i,l,e+i+6,l-6,e+i,t+s,e+i):r&&0>r&&l>t+a&&l<t+n-a&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,n-s,e),o}},clipRect:function(e,n,i,r){var o=t.uniqueKey(),s=this.createElement("clipPath").attr({id:o}).add(this.defs);return(e=this.rect(e,n,i,r,0).add(s)).id=o,e.clipPath=s,e.count=0,e},text:function(t,e,n,i){var r={};return!i||!this.allowHTML&&this.forExport?(r.x=Math.round(e||0),n&&(r.y=Math.round(n)),u(t)&&(r.text=t),t=this.createElement("text").attr(r),i||(t.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)(i=o[r]).getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),t):this.html(t,e,n)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,{h:e=24>(t=/px/.test(t)?R(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12)?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=Math.max(i*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:i}},label:function(n,i,r,o,s,a,l,c,h){var d,f,m,v,y,b,w,x,C,S,k,_,T,A=this,M=A.g("button"!==h&&"label"),R=M.text=A.text("",0,0,l).attr({zIndex:1}),L=0,$=3,O=0,P={},I=/^url\((.*?)\)$/.test(o),N=I;h&&M.addClass("highcharts-"+h),N=I,S=function(){return(x||0)%2/2},k=function(){var t=R.element.style,e={};f=(void 0===m||void 0===v||w)&&u(R.textStr)&&R.getBBox(),M.width=(m||f.width||0)+2*$+O,M.height=(v||f.height||0)+2*$,C=$+A.fontMetrics(t&&t.fontSize,R).b,N&&(d||(M.box=d=A.symbols[o]||I?A.symbol(o):A.rect(),d.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),d.add(M),t=S(),e.x=t,e.y=(c?-C:0)+t),e.width=Math.round(M.width),e.height=Math.round(M.height),d.attr(g(e,P)),P={})},_=function(){var t,e=O+$;t=c?0:C,u(m)&&f&&("center"===w||"right"===w)&&(e+={center:.5,right:1}[w]*(m-f.width)),e===R.x&&t===R.y||(R.attr("x",e),R.hasBoxWidthChanged&&(f=R.getBBox(!0),k()),void 0!==t&&R.attr("y",t)),R.x=e,R.y=t},T=function(t,e){d?d.attr(t,e):P[t]=e},M.onAdd=function(){R.add(M),M.attr({text:n||0===n?n:"",x:i,y:r}),d&&u(s)&&M.attr({anchorX:s,anchorY:a})},M.widthSetter=function(e){m=t.isNumber(e)?e:null},M.heightSetter=function(t){v=t},M["text-alignSetter"]=function(t){w=t},M.paddingSetter=function(t){u(t)&&t!==$&&($=M.padding=t,_())},M.paddingLeftSetter=function(t){u(t)&&t!==O&&(O=t,_())},M.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==L&&(L=t,f&&M.attr({x:y}))},M.textSetter=function(t){void 0!==t&&R.textSetter(t),k(),_()},M["stroke-widthSetter"]=function(t,e){t&&(N=!0),x=this["stroke-width"]=t,T(e,t)},M.strokeSetter=M.fillSetter=M.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(N=!0),M[e]=t),T(e,t)},M.anchorXSetter=function(t,e){s=M.anchorX=t,T(e,Math.round(t)-S()-y)},M.anchorYSetter=function(t,e){a=M.anchorY=t,T(e,t-b)},M.xSetter=function(t){M.x=t,L&&(t-=L*((m||f.width)+2*$),M["forceAnimate:x"]=!0),y=Math.round(t),M.attr("translateX",y)},M.ySetter=function(t){b=M.y=Math.round(t),M.attr("translateY",b)};var B=M.css;return g(M,{css:function(t){if(t){var e={};t=E(t),p(M.textProps,function(n){void 0!==t[n]&&(e[n]=t[n],delete t[n])}),R.css(e),"width"in e&&k()}return B.call(M,t)},getBBox:function(){return{width:f.width+2*$,height:f.height+2*$,x:f.x-$,y:f.y-$}},shadow:function(t){return t&&(k(),d&&d.shadow(t)),M},destroy:function(){D(M.element,"mouseenter"),D(M.element,"mouseleave"),R&&(R=R.destroy()),d&&(d=d.destroy()),e.prototype.destroy.call(M),M=A=k=_=T=null}})}}),t.Renderer=n}(c),function(t){var e=t.attr,n=t.createElement,i=t.css,r=t.defined,o=t.each,s=t.extend,a=t.isFirefox,l=t.isMS,c=t.isWebKit,u=t.pick,h=t.pInt,d=t.SVGRenderer,f=t.win,p=t.wrap;s(t.SVGElement.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,n=u(e&&t.width,void 0);return e&&(delete t.width,this.textWidth=n,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=s(this.styles,t),i(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,n=this.translateX||0,s=this.translateY||0,a=this.x||0,l=this.y||0,c=this.textAlign||"left",u={left:0,center:.5,right:1}[c],d=(p=this.styles)&&p.whiteSpace;if(i(e,{marginLeft:n,marginTop:s}),this.shadows&&o(this.shadows,function(t){i(t,{marginLeft:n+1,marginTop:s+1})}),this.inverted&&o(e.childNodes,function(n){t.invertChild(n,e)}),"SPAN"===e.tagName){var f,p=this.rotation,g=this.textWidth&&h(this.textWidth),m=[p,c,e.innerHTML,this.textWidth,this.textAlign].join();(f=g!==this.oldTextWidth)&&!(f=g>this.oldTextWidth)&&((f=this.textPxLength)||(i(e,{width:"",whiteSpace:d||"nowrap"}),f=e.offsetWidth),f=f>g),f&&/[ \-]/.test(e.textContent||e.innerText)?(i(e,{width:g+"px",display:"block",whiteSpace:d||"normal"}),this.oldTextWidth=g,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,m!==this.cTT&&(d=t.fontMetrics(e.style.fontSize).b,!r(p)||p===(this.oldRotation||0)&&c===this.oldAlign||this.setSpanRotation(p,u,d),this.getSpanCorrection(!r(p)&&this.textPxLength||e.offsetWidth,d,u,p,c)),i(e,{left:a+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),this.cTT=m,this.oldRotation=p,this.oldAlign=c}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,n){var r={},o=this.renderer.getTransformKey();r[o]=r.transform="rotate("+t+"deg)",r[o+(a?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),s(d.prototype,{getTransformKey:function(){return l&&!/Edge/.test(f.navigator.userAgent)?"-ms-transform":c?"-webkit-transform":a?"MozTransform":f.opera?"-o-transform":""},html:function(t,i,r){var a=this.createElement("span"),l=a.element,c=a.renderer,h=c.isSVG,d=function(t,e){o(["opacity","visibility"],function(n){p(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})}),t.addedSetters=!0};return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=u(t,""),a.doTransform=!0},h&&d(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.doTransform=!0},a.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},a.attr({text:t,x:Math.round(i),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,h&&(a.add=function(t){var i,r=c.box.parentNode,u=[];if(this.parentGroup=t){if(!(i=t.div)){for(;t;)u.push(t),t=t.parentGroup;o(u.reverse(),function(t){function o(e,n){t[n]=e,"translateX"===n?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,c=e(t.element,"class");c&&(c={className:c}),i=t.div=t.div||n("div",c,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},i||r),l=i.style,s(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(i),on:function(){return u[0].div&&a.on.apply({element:u[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),t.addedSetters||d(t,l)})}}else i=r;return i.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(c),function(t){var e=t.defined,n=t.each,i=t.extend,r=t.merge,o=t.pick,s=t.timeUnits,a=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(t){var e=o(t&&t.useUTC,!0),n=this;this.options=t=r(!0,this.options||{},t),this.Date=t.Date||a.Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),r=i-n.getTimezoneOffset(e);return e.setTime(r),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(t,e,i){var r;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==e.getTimezoneOffset()%60?e["set"+t](i):(r=n.getTimezoneOffset(e),r=e.getTime()-r,e.setTime(r),e["setUTC"+t](i),t=n.getTimezoneOffset(e),r=e.getTime()+t,e.setTime(r))}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,n){return e["setUTC"+t](n)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,n){return e["set"+t](n)})},makeTime:function(e,n,i,r,s,a){var l,c,u;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),l+=c=this.getTimezoneOffset(l),c!==(u=this.getTimezoneOffset(l))?l+=u-c:c-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,n,o(i,1),o(r,0),o(s,0),o(a,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,n=this.options,i=a.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(n.timezone){if(i)return function(t){return 6e4*-i.tz(t,n.timezone).utcOffset()};t.error(25)}return this.useUTC&&n.getTimezoneOffset?function(t){return 6e4*n.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,n,i){if(!t.defined(n)||isNaN(n))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=this,o=new this.Date(n),s=this.get("Hours",o),a=this.get("Day",o),l=this.get("Date",o),c=this.get("Month",o),u=this.get("FullYear",o),h=t.defaultOptions.lang,d=h.weekdays,f=h.shortWeekdays,p=t.pad;o=t.extend({a:f?f[a]:d[a].substr(0,3),A:d[a],d:p(l),e:p(l,2," "),w:a,b:h.shortMonths[c],B:h.months[c],m:p(c+1),o:c+1,y:u.toString().substr(2,2),Y:u,H:p(s),k:s,I:p(s%12||12),l:s%12||12,M:p(r.get("Minutes",o)),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:p(o.getSeconds()),L:p(Math.floor(n%1e3),3)},t.dateFormats);return t.objectEach(o,function(t,i){for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof t?t.call(r,n):t)}),i?e.substr(0,1).toUpperCase()+e.substr(1):e},resolveDTLFormat:function(e){return t.isObject(e,!0)?e:{main:(e=t.splat(e))[0],from:e[1],to:e[2]}},getTimeTicks:function(t,r,a,l){var c,u,h=this,d=[],f={};c=new h.Date(r);var p,g=t.unitRange,m=t.count||1;if(l=o(l,1),e(r)){h.set("Milliseconds",c,g>=s.second?0:m*Math.floor(h.get("Milliseconds",c)/m)),g>=s.second&&h.set("Seconds",c,g>=s.minute?0:m*Math.floor(h.get("Seconds",c)/m)),g>=s.minute&&h.set("Minutes",c,g>=s.hour?0:m*Math.floor(h.get("Minutes",c)/m)),g>=s.hour&&h.set("Hours",c,g>=s.day?0:m*Math.floor(h.get("Hours",c)/m)),g>=s.day&&h.set("Date",c,g>=s.month?1:m*Math.floor(h.get("Date",c)/m)),g>=s.month&&(h.set("Month",c,g>=s.year?0:m*Math.floor(h.get("Month",c)/m)),u=h.get("FullYear",c)),g>=s.year&&h.set("FullYear",c,u-u%m),g===s.week&&(u=h.get("Day",c),h.set("Date",c,h.get("Date",c)-u+l+(u<l?-7:0))),u=h.get("FullYear",c),l=h.get("Month",c);var v=h.get("Date",c),y=h.get("Hours",c);for(r=c.getTime(),h.variableTimezone&&(p=a-r>4*s.month||h.getTimezoneOffset(r)!==h.getTimezoneOffset(a)),r=c.getTime(),c=1;r<a;)d.push(r),r=g===s.year?h.makeTime(u+c*m,0):g===s.month?h.makeTime(u,l+c*m):!p||g!==s.day&&g!==s.week?p&&g===s.hour&&1<m?h.makeTime(u,l,v,y+c*m):r+g*m:h.makeTime(u,l,v+c*m*(g===s.day?1:7)),c++;d.push(r),g<=s.hour&&1e4>d.length&&n(d,function(t){0==t%18e5&&"000000000"===h.dateFormat("%H%M%S%L",t)&&(f[t]="day")})}return d.info=i(t,{higherRanks:f,totalRange:g*m}),d}}}(c),function(t){var e=t.color,n=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=n(!0,t.defaultOptions,e),t.time.update(n(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(n(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,n,i){return t.time.dateFormat(e,n,i)}}(c),function(t){var e=t.correctFloat,n=t.defined,i=t.destroyObjectProperties,r=t.fireEvent,o=t.isNumber,s=t.merge,a=t.pick,l=t.deg2rad;t.Tick=function(t,e,n,i,r){this.axis=t,this.pos=e,this.type=n||"",this.isNewLabel=this.isNew=!0,this.parameters=r||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n||i||this.addLabel()},t.Tick.prototype={addLabel:function(){var i,r,o,l,c=this,u=c.axis,h=u.options,d=u.chart,f=u.categories,p=u.names,g=c.pos,m=a(c.options&&c.options.labels,h.labels),v=g===(w=u.tickPositions)[0],y=g===w[w.length-1],b=(f=this.parameters.category||(f?a(f[g],p[g],g):g),c.label),w=w.info;u.isDatetimeAxis&&w&&(i=(r=d.time.resolveDTLFormat(h.dateTimeLabelFormats[!h.grid&&w.higherRanks[g]||w.unitName])).main),c.isFirst=v,c.isLast=y,c.formatCtx={axis:u,chart:d,isFirst:v,isLast:y,dateTimeLabelFormat:i,tickPositionInfo:w,value:u.isLog?e(u.lin2log(f)):f,pos:g},h=u.labelFormatter.call(c.formatCtx,this.formatCtx),(l=r&&r.list)&&(c.shortenLabel=function(){for(o=0;o<l.length;o++)if(b.attr({text:u.labelFormatter.call(t.extend(c.formatCtx,{dateTimeLabelFormat:l[o]}))}),b.getBBox().width<u.getSlotWidth(c)-2*a(m.padding,5))return;b.attr({text:""})}),n(b)?b&&b.textStr!==h&&(!b.textWidth||m.style&&m.style.width||b.styles.width||b.css({width:null}),b.attr({text:h})):((c.label=b=n(h)&&m.enabled?d.renderer.text(h,0,0,m.useHTML).css(s(m.style)).add(u.labelGroup):null)&&(b.textPxLength=b.getBBox().width),c.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n=this.axis,i=n.options.labels,r=t.x,o=n.chart.chartWidth,s=n.chart.spacing,c=a(n.labelLeft,Math.min(n.pos,s[3])),u=(s=a(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,o-s[1])),this.label),h=this.rotation,d={left:0,center:.5,right:1}[n.labelAlign||u.attr("align")],f=u.getBBox().width,p=n.getSlotWidth(this),g=p,m=1,v={};h||"justify"!==a(i.overflow,"justify")?0>h&&r-d*f<c?e=Math.round(r/Math.cos(h*l)-c):0<h&&r+d*f>s&&(e=Math.round((o-r)/Math.cos(h*l))):(o=r+(1-d)*f,r-d*f<c?g=t.x+g*(1-d)-c:o>s&&(g=s-t.x+g*d,m=-1),(g=Math.min(p,g))<p&&"center"===n.labelAlign&&(t.x+=m*(p-g-d*(p-Math.min(f,g)))),(f>g||n.autoRotation&&(u.styles||{}).width)&&(e=g)),e&&(this.shortenLabel?this.shortenLabel():(v.width=e,(i.style||{}).textOverflow||(v.textOverflow="ellipsis"),u.css(v)))},getPosition:function(e,n,i,o){var s=this.axis,a=s.chart,l=o&&a.oldChartHeight||a.chartHeight;return e={x:e?t.correctFloat(s.translate(n+i,null,null,o)+s.transB):s.left+s.offset+(s.opposite?(o&&a.oldChartWidth||a.chartWidth)-s.right-s.left:0),y:e?l-s.bottom+s.offset-(s.opposite?s.height:0):t.correctFloat(l-s.translate(n+i,null,null,o)-s.transB)},r(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,i,o,s,a,c,u){var h=this.axis,d=h.transA,f=h.reversed,p=h.staggerLines,g=h.tickRotCorr||{x:0,y:0},m=s.y,v=o||h.reserveSpaceDefault?0:-h.labelOffset*("center"===h.labelAlign?.5:1),y={};return n(m)||(m=0===h.side?i.rotation?-8:-i.getBBox().height:2===h.side?g.y+8:Math.cos(i.rotation*l)*(g.y-i.getBBox(!1,0).height/2)),t=t+s.x+v+g.x-(a&&o?a*d*(f?-1:1):0),e=e+m-(a&&!o?a*d*(f?1:-1):0),p&&(i=c/(u||1)%p,h.opposite&&(i=p-i-1),e+=h.labelOffset/p*i),y.x=t,y.y=Math.round(e),r(this,"afterGetLabelPosition",{pos:y}),y},getMarkPath:function(t,e,n,i,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-n),e+(r?n:0)],i)},renderGridLine:function(t,e,n){var i=this.axis,r=i.options,o=this.gridLine,s={},l=this.pos,c=this.type,u=a(this.tickmarkOffset,i.tickmarkOffset),h=i.chart.renderer,d=c?c+"Grid":"grid",f=r[d+"LineWidth"],p=r[d+"LineColor"];r=r[d+"LineDashStyle"];o||(s.stroke=p,s["stroke-width"]=f,r&&(s.dashstyle=r),c||(s.zIndex=1),t&&(e=0),this.gridLine=o=h.path().attr(s).addClass("highcharts-"+(c?c+"-":"")+"grid-line").add(i.gridGroup)),o&&(n=i.getPlotLinePath(l+u,o.strokeWidth()*n,t,"pass"))&&o[t||this.isNew?"attr":"animate"]({d:n,opacity:e})},renderMark:function(t,e,n){var i=this.axis,r=i.options,o=i.chart.renderer,s=this.type,l=s?s+"Tick":"tick",c=i.tickSize(l),u=this.mark,h=!u,d=t.x;t=t.y;var f=a(r[l+"Width"],!s&&i.isXAxis?1:0);r=r[l+"Color"];c&&(i.opposite&&(c[0]=-c[0]),h&&(this.mark=u=o.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(i.axisGroup),u.attr({stroke:r,"stroke-width":f})),u[h?"attr":"animate"]({d:this.getMarkPath(d,t,c[0],u.strokeWidth()*n,i.horiz,o),opacity:e}))},renderLabel:function(t,e,n,i){var r=(h=this.axis).horiz,s=h.options,l=this.label,c=s.labels,u=c.step,h=a(this.tickmarkOffset,h.tickmarkOffset),d=!0,f=t.x;t=t.y,l&&o(f)&&(l.xy=t=this.getLabelPosition(f,t,l,r,c,h,i,u),this.isFirst&&!this.isLast&&!a(s.showFirstLabel,1)||this.isLast&&!this.isFirst&&!a(s.showLastLabel,1)?d=!1:!r||c.step||c.rotation||e||0===n||this.handleOverflow(t),u&&i%u&&(d=!1),d&&o(t.y)?(t.opacity=n,l[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(l.attr("y",-9999),this.isNewLabel=!0))},render:function(e,n,i){var r=(c=this.axis).horiz,o=this.pos,s=a(this.tickmarkOffset,c.tickmarkOffset),l=(s=(o=this.getPosition(r,o,s,n)).x,o.y),c=r&&s===c.pos+c.len||!r&&l===c.pos?-1:1;i=a(i,1),this.isActive=!0,this.renderGridLine(n,i,c),this.renderMark(o,i,c),this.renderLabel(o,n,i,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){i(this,this.axis)}}}(c);var u=function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.color,s=t.correctFloat,a=t.defaultOptions,l=t.defined,c=t.deg2rad,u=t.destroyObjectProperties,h=t.each,d=t.extend,f=t.fireEvent,p=t.format,g=t.getMagnitude,m=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,w=t.isString,x=t.merge,C=t.normalizeTickInterval,S=t.objectEach,k=t.pick,_=t.removeEvent,E=t.splat,T=t.syncTimeout,A=t.Tick,M=function(){this.init.apply(this,arguments)};return t.extend(M.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,n){var i=n.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!i:i,r.isXAxis=i,r.coll=r.coll||(i?"xAxis":"yAxis"),f(this,"init",{userOptions:n}),r.opposite=n.opposite,r.side=n.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(n);var o=this.options,s=o.type;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=n,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===s||!0===o.categories,r.categories=o.categories||r.hasNames,r.names||(r.names=[],r.names.keys={}),r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===s,r.isDatetimeAxis="datetime"===s,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=k(o.crosshair,E(t.options.tooltip.crosshairs)[i?0:1],!1),n=r.options.events,-1===v(r,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&i&&void 0===r.reversed&&(r.reversed=!0),S(n,function(t,n){e(r,n,t)}),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log),f(this,"afterInit")},setOptions:function(t){
this.options=x(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],x(a[this.coll],t)),f(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e,n=this.axis,i=this.value,r=n.chart.time,o=n.categories,s=this.dateTimeLabelFormat,l=(c=a.lang).numericSymbols,c=c.numericSymbolMagnitude||1e3,u=l&&l.length,h=n.options.labels.format;n=n.isLog?Math.abs(i):n.tickInterval;if(h)e=p(h,this,r);else if(o)e=i;else if(s)e=r.dateFormat(s,i);else if(u&&1e3<=n)for(;u--&&void 0===e;)n>=(r=Math.pow(c,u+1))&&0==10*i%r&&null!==l[u]&&0!==i&&(e=t.numberFormat(i/r,-1)+l[u]);return void 0===e&&(e=1e4<=Math.abs(i)?t.numberFormat(i,-1):t.numberFormat(i,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;f(this,"getSeriesExtremes",null,function(){t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),h(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var o,s=n.options,a=s.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=a&&(a=null),t.isXAxis?(s=n.xData).length&&(n=r(s),o=i(s),b(n)||n instanceof Date||(s=m(s,b),n=r(s),o=i(s)),s.length&&(t.dataMin=Math.min(k(t.dataMin,s[0],n),n),t.dataMax=Math.max(k(t.dataMax,s[0],o),o))):(n.getExtremes(),o=n.dataMax,n=n.dataMin,l(n)&&l(o)&&(t.dataMin=Math.min(k(t.dataMin,n),n),t.dataMax=Math.max(k(t.dataMax,o),o)),l(a)&&(t.threshold=a),(!s.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})}),f(this,"afterGetSeriesExtremes")},translate:function(t,e,n,i,r,o){var s=this.linkedParent||this,a=1,l=0,c=i?s.oldTransA:s.transA;i=i?s.oldMin:s.min;var u=s.minPixelPadding;return r=(s.isOrdinal||s.isBroken||s.isLog&&r)&&s.lin2val,c||(c=s.transA),n&&(a*=-1,l=s.len),s.reversed&&(l-=(a*=-1)*(s.sector||s.len)),e?(t=(t*a+l-u)/c+i,r&&(t=s.lin2val(t))):(r&&(t=s.val2lin(t)),t=b(i)?a*(t-i)*c+l+a*u+(b(o)?c*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l=this.chart,c=this.left,u=this.top,h=n&&l.oldChartHeight||l.chartHeight,d=n&&l.oldChartWidth||l.chartWidth;o=this.transB;var f=function(t,e,n){return("pass"!==i&&t<e||t>n)&&(i?t=Math.min(Math.max(e,t),n):a=!0),t};return r=k(r,this.translate(t,null,null,n)),r=Math.min(Math.max(-1e5,r),1e5),t=n=Math.round(r+o),o=s=Math.round(h-r-o),b(r)?this.horiz?(o=u,s=h-this.bottom,t=n=f(t,c,c+this.width)):(t=c,n=d-this.right,o=s=f(o,u,u+this.height)):(a=!0,i=!1),a&&!i?null:l.renderer.crispLine(["M",t,o,"L",n,s],e||1)},getLinearTickPositions:function(t,e,n){var i,r=s(Math.floor(e/t)*t);n=s(Math.ceil(n/t)*t);var o,a=[];if(s(r+t)===r&&(o=20),this.single)return[e];for(e=r;e<=n&&(a.push(e),(e=s(e+t,o))!==i);)i=e;return a},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?k(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,n=t.tickPositions,i=t.minorTickInterval,r=[],o=t.pointRangePadding||0,s=t.min-o,a=(o=t.max+o)-s;if(a&&a/i<t.len/3)if(t.isLog)h(this.paddedTicks,function(e,n,o){n&&r.push.apply(r,t.getLogTickPositions(i,o[n-1],o[n],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(i),s,o,e.startOfWeek));else for(e=s+(n[0]-s)%i;e<=o&&e!==r[0];e+=i)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,n,o,s,a,c,u=this.options,d=this.min,f=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(u.min)||l(u.max)?this.minRange=null:(h(this.series,function(t){for(a=t.xData,o=t.xIncrement?1:a.length-1;0<o;o--)s=a[o]-a[o-1],(void 0===n||s<n)&&(n=s)}),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),f-d<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,t=[d-(t=((c=this.minRange)-f+d)/2),k(u.min,d-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),f=[(d=i(t))+c,k(u.max,d+c)],e&&(f[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(f=r(f))-d<c&&(t[0]=f-c,t[1]=k(u.min,f-c),d=i(t))),this.min=d,this.max=f},getClosest:function(){var t;return this.categories?t=1:h(this.series,function(e){var n=e.closestPointRange,i=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(n)&&i&&(t=l(t)?Math.min(t,n):n)}),t},nameToX:function(t){var e,n=y(this.categories),i=n?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():n?v(t.name,i):k(i.keys[t.name],-1)),-1===r?n||(e=i.length):e=r,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,n=this.names;0<n.length&&(h(t.keys(n.keys),function(t){delete n.keys[t]}),n.length=0,this.minRange=this.userMinRange,h(this.series||[],function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),h(t.points,function(n,i){var r;n.options&&(void 0!==(r=e.nameToX(n))&&r!==n.x&&(n.x=r,t.xData[i]=r))})}))},setAxisTranslation:function(t){var e,n=this,i=n.max-n.min,r=n.axisPointRange||0,o=0,s=0,a=n.linkedParent,l=!!n.categories,c=n.transA,u=n.isXAxis;(u||l||r)&&(e=n.getClosest(),a?(o=a.minPointOffset,s=a.pointRangePadding):h(n.series,function(t){var i=l?1:u?k(t.options.pointRange,e,0):n.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,i),n.single||(o=Math.max(o,w(t)?0:i/2),s=Math.max(s,"on"===t?0:i))}),a=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=o*=a,n.pointRangePadding=s*=a,n.pointRange=Math.min(r,i),u&&(n.closestPointRange=e)),t&&(n.oldTransA=c),n.translationSlope=n.transA=c=n.staticScale||n.len/(i+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=c*o,f(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var n,i,r,o,a=this,c=a.chart,u=a.options,d=a.isLog,p=a.isDatetimeAxis,m=a.isXAxis,v=a.isLinked,y=u.maxPadding,w=u.minPadding,x=u.tickInterval,S=u.tickPixelInterval,_=a.categories,E=b(a.threshold)?a.threshold:null,T=a.softThreshold;p||_||v||this.getTickAmount(),r=k(a.userMin,u.min),o=k(a.userMax,u.max),v?(a.linkedParent=c[a.coll][u.linkedTo],c=a.linkedParent.getExtremes(),a.min=k(c.min,c.dataMin),a.max=k(c.max,c.dataMax),u.type!==a.linkedParent.options.type&&t.error(11,1)):(!T&&l(E)&&(a.dataMin>=E?(n=E,w=0):a.dataMax<=E&&(i=E,y=0)),a.min=k(r,n,a.dataMin),a.max=k(o,i,a.dataMax)),d&&(a.positiveValuesOnly&&!e&&0>=Math.min(a.min,k(a.dataMin,a.min))&&t.error(10,1),a.min=s(a.log2lin(a.min),15),a.max=s(a.log2lin(a.max),15)),a.range&&l(a.max)&&(a.userMin=a.min=r=Math.max(a.dataMin,a.minFromRange()),a.userMax=o=a.max,a.range=null),f(a,"foundExtremes"),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),!(_||a.axisPointRange||a.usePercentage||v)&&l(a.min)&&l(a.max)&&(c=a.max-a.min)&&(!l(r)&&w&&(a.min-=c*w),!l(o)&&y&&(a.max+=c*y)),b(u.softMin)&&!b(a.userMin)&&(a.min=Math.min(a.min,u.softMin)),b(u.softMax)&&!b(a.userMax)&&(a.max=Math.max(a.max,u.softMax)),b(u.floor)&&(a.min=Math.max(a.min,u.floor)),b(u.ceiling)&&(a.max=Math.min(a.max,u.ceiling)),T&&l(a.dataMin)&&(E=E||0,!l(r)&&a.min<E&&a.dataMin>=E?a.min=E:!l(o)&&a.max>E&&a.dataMax<=E&&(a.max=E)),a.tickInterval=a.min===a.max||void 0===a.min||void 0===a.max?1:v&&!x&&S===a.linkedParent.options.tickPixelInterval?x=a.linkedParent.tickInterval:k(x,this.tickAmount?(a.max-a.min)/Math.max(this.tickAmount-1,1):void 0,_?1:(a.max-a.min)*S/Math.max(a.len,S)),m&&!e&&h(a.series,function(t){t.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),a.pointRange&&!x&&(a.tickInterval=Math.max(a.pointRange,a.tickInterval)),e=k(u.minTickInterval,a.isDatetimeAxis&&a.closestPointRange),!x&&a.tickInterval<e&&(a.tickInterval=e),p||d||x||(a.tickInterval=C(a.tickInterval,null,g(a.tickInterval),k(u.allowDecimals,!(.5<a.tickInterval&&5>a.tickInterval&&1e3<a.max&&9999>a.max)),!!this.tickAmount)),this.tickAmount||(a.tickInterval=a.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,n=this.options,i=n.tickPositions;e=this.getMinorTickInterval();var r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===e&&this.tickInterval?this.tickInterval/5:e,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==n.allowDecimals),this.tickPositions=e=i&&i.slice(),!e&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(e=[this.min,this.max],t.error(19)):e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&((e=[e[0],e.pop()])[0]===e[1]&&(e.length=1)),this.tickPositions=e,r&&(r=r.apply(this,[this.min,this.max])))&&(this.tickPositions=e=r),this.paddedTicks=e.slice(0),this.trimTicks(e,o,s),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),i||r||this.adjustTickAmount()),f(this,"afterSetTickPositions")},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-Infinity!==i)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(i)&&!this.options.tickPositions&&t.push((r+i)/2)}},alignToOthers:function(){var t,e={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.isLog||h(this.chart[this.coll],function(n){var i=n.options;i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join();n.series.length&&(e[i]?t=!0:e[i]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!l(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/n)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=e&&e.length,o=k(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(r<n){for(;e.length<n;)e.length%2||this.min===o?e.push(s(e[e.length-1]+t)):e.unshift(s(e[0]-t));this.transA*=(r-1)/(n-1),this.min=e[0],this.max=e[e.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(l(i)){for(t=n=e.length;t--;)(3===i&&1==t%2||2>=i&&0<t&&t<n-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,h(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),f(this,"afterSetScale")},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=k(n,!0),h(o.series,function(t){delete t.kdTree}),r=d(r,{min:t,max:e}),f(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=Math.min(n,k(r.min,n));r=Math.max(i,k(r.max,i));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(n)&&(t<o&&(t=o),t>r&&(t=r)),l(i)&&(e<o&&(e=o),e>r&&(e=r))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,n=(a=this.options).offsets||[0,0,0,0],i=this.horiz,r=this.width=Math.round(t.relativeLength(k(a.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),o=this.height=Math.round(t.relativeLength(k(a.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),s=this.top=Math.round(t.relativeLength(k(a.top,e.plotTop+n[0]),e.plotHeight,e.plotTop)),a=this.left=Math.round(t.relativeLength(k(a.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-o-s,this.right=e.chartWidth-r-a,this.len=Math.max(i?r:o,0),this.pos=i?a:s},getExtremes:function(){var t=this.isLog;return{min:t?s(this.lin2log(this.min)):this.min,max:t?s(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(n=this.isLog)?this.lin2log(this.min):this.min,n=n?this.lin2log(this.max):this.max;return null===t||-Infinity===t?t=e:Infinity===t?t=n:e>t?t=e:n<t&&(t=n),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(k(t,0)-90*this.side+720)%360)&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=k(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,a=o,u=this.len/(((this.categories?1:0)+this.max-this.min)/o),d=i.rotation,f=this.labelMetrics(),p=Number.MAX_VALUE,g=function(t){return t=1<(t/=u||1)?Math.ceil(t):1,s(t*o)};return r?(n=!i.staggerLines&&!i.step&&(l(d)?[d]:u<k(i.autoRotationLimit,80)&&i.autoRotation))&&h(n,function(n){var i;(n===d||n&&-90<=n&&90>=n)&&((i=(e=g(Math.abs(f.h/Math.sin(c*n))))+Math.abs(n/360))<p&&(p=i,t=n,a=e))}):i.step||(a=g(f.h)),this.autoRotation=n,this.labelRotation=k(t,d),a},getSlotWidth:function(t){var e=this.chart,n=this.horiz,i=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),o=e.margin[3];return t&&t.slotWidth||n&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/r||!n&&(i.style&&parseInt(i.style.width,10)||o&&o-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t,e,n,i=this.chart,r=i.renderer,o=this.tickPositions,s=this.ticks,a=this.options.labels,l=a&&a.style||{},c=this.horiz,u=this.getSlotWidth(),d=Math.max(1,Math.round(u-2*(a.padding||5))),f={},p=this.labelMetrics(),g=a.style&&a.style.textOverflow,m=0;if(w(a.rotation)||(f.rotation=a.rotation||0),h(o,function(t){(t=s[t])&&t.label&&t.label.textPxLength>m&&(m=t.label.textPxLength)}),this.maxLabelLength=m,this.autoRotation)m>d&&m>p.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t=d,!g))for(e="clip",d=o.length;!c&&d--;)n=o[d],(n=s[n].label)&&(n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):n.textPxLength>u&&n.css({width:u+"px"}),n.getBBox().height>this.len/o.length-(p.h-p.f)&&(n.specificTextOverflow="ellipsis"));f.rotation&&(t=m>.5*i.chartHeight?.33*i.chartHeight:m,g||(e="ellipsis")),(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation))&&(f.align=this.labelAlign),h(o,function(n){var i=(n=s[n])&&n.label,r=l.width,o={};i&&(i.attr(f),n.shortenLabel?n.shortenLabel():t&&!r&&"nowrap"!==l.whiteSpace&&(t<i.textPxLength||"SPAN"===i.element.tagName)?(o.width=t,g||(o.textOverflow=i.specificTextOverflow||e),i.css(o)):i.styles&&i.styles.width&&!o.width&&!r&&i.css({width:null}),delete i.specificTextOverflow,n.rotation=f.rotation)},this),this.tickRotCorr=r.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,n=this.chart.renderer,i=this.horiz,r=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(i?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=n.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(x(o.style)).add(this.axisGroup),this.axisTitle.isNew=!0),o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new A(this,t)},getOffset:function(){var t,e,n,i=this,r=(w=i.chart).renderer,o=i.options,s=i.tickPositions,a=i.ticks,c=i.horiz,u=i.side,d=w.inverted&&!i.isZAxis?[1,0,3,2][u]:u,p=0,g=0,m=o.title,v=o.labels,y=0,b=w.axisOffset,w=w.clipOffset,x=[-1,1,1,-1][u],C=o.className,_=i.axisParent;t=i.hasData(),i.showAxis=e=t||k(o.showEmpty,!0),i.staggerLines=i.horiz&&v.staggerLines,i.axisGroup||(i.gridGroup=r.g("grid").attr({zIndex:o.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(C||"")).add(_),i.axisGroup=r.g("axis").attr({zIndex:o.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(C||"")).add(_),i.labelGroup=r.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels "+(C||"")).add(_)),t||i.isLinked?(h(s,function(t,e){i.generateTick(t,e)}),i.renderUnsquish(),i.reserveSpaceDefault=0===u||2===u||{1:"left",3:"right"}[u]===i.labelAlign,k(v.reserveSpace,"center"===i.labelAlign||null,i.reserveSpaceDefault)&&h(s,function(t){y=Math.max(a[t].getLabelSize(),y)}),i.staggerLines&&(y*=i.staggerLines),i.labelOffset=y*(i.opposite?-1:1)):S(a,function(t,e){t.destroy(),delete a[e]}),m&&m.text&&!1!==m.enabled&&(i.addTitle(e),e&&!1!==m.reserveSpace&&(i.titleOffset=p=i.axisTitle.getBBox()[c?"height":"width"],n=m.offset,g=l(n)?0:k(m.margin,c?5:10))),i.renderLine(),i.offset=x*k(o.offset,b[u]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},r=0===u?-i.labelMetrics().h:2===u?i.tickRotCorr.y:0,g=Math.abs(y)+g,y&&(g=g-r+x*(c?k(v.y,i.tickRotCorr.y+8*x):v.x)),i.axisTitleMargin=k(n,g),i.getMaxLabelDimensions&&(i.maxLabelDimensions=i.getMaxLabelDimensions(a,s)),c=this.tickSize("tick"),b[u]=Math.max(b[u],i.axisTitleMargin+p+x*i.offset,g,t&&s.length&&c?c[0]+x*i.offset:0),o=o.offset?0:2*Math.floor(i.axisLine.strokeWidth()/2),w[d]=Math.max(w[d],o),f(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i;i=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?i:this.top,"L",r?e.chartWidth-this.right:o,r?i:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,r=this.options.title,o=t?e:n,s=this.opposite,a=this.offset,l=r.x||0,c=r.y||0,u=this.axisTitle,h=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,u);u=Math.max(u.getBBox(null,0).height-h.h-1,0),i={low:o+(t?0:i),middle:o+i/2,high:o+(t?i:0)}[r.align],e=(t?n+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+[-u,u,h.f,-u][this.side];return{x:t?i+l:e+(s?this.width:0)+a+l,y:t?e+c-(s?this.height:0)+a:i+c}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),n=this.minorTicks;n[t]||(n[t]=new A(this,t,"minor")),e&&n[t].isNew&&n[t].render(null,!0),n[t].render(null,!1,1)},renderTick:function(t,e){var n=this.isLinked,i=this.ticks,r=this.chart.hasRendered&&b(this.oldMin);(!n||t>=this.min&&t<=this.max)&&(i[t]||(i[t]=new A(this,t)),r&&i[t].isNew&&i[t].render(e,!0,-1),i[t].render(e))},render:function(){var e,i,r=this,o=r.chart,s=r.options,a=r.isLog,l=r.isLinked,c=r.tickPositions,u=r.axisTitle,d=r.ticks,p=r.minorTicks,g=r.alternateBands,m=s.stackLabels,v=s.alternateGridColor,y=r.tickmarkOffset,w=r.axisLine,x=r.showAxis,C=n(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,h([d,p,g],function(t){S(t,function(t){t.isActive=!1})}),(r.hasData()||l)&&(r.minorTickInterval&&!r.categories&&h(r.getMinorTickPositions(),function(t){r.renderMinorTick(t)}),c.length&&(h(c,function(t,e){r.renderTick(t,e)}),y&&(0===r.min||r.single)&&(d[-1]||(d[-1]=new A(r,-1,null,!0)),d[-1].render(-1))),v&&h(c,function(n,s){i=void 0!==c[s+1]?c[s+1]+y:r.max-y,0==s%2&&n<r.max&&i<=r.max+(o.polar?-y:y)&&(g[n]||(g[n]=new t.PlotLineOrBand(r)),e=n+y,g[n].options={from:a?r.lin2log(e):e,to:a?r.lin2log(i):i,color:v},g[n].render(),g[n].isActive=!0)}),r._addedPlotLB||(h((s.plotLines||[]).concat(s.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),h([d,p,g],function(t){var e,n=[],i=C.duration;S(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,n.push(e))}),T(function(){for(e=n.length;e--;)t[n[e]]&&!t[n[e]].isActive&&(t[n[e]].destroy(),delete t[n[e]])},t!==g&&o.hasRendered&&i?i:0)}),w&&(w[w.isPlaced?"animate":"attr"]({d:this.getLinePath(w.strokeWidth())}),w.isPlaced=!0,w[x?"show":"hide"](!0)),u&&x&&(s=r.getTitlePosition(),b(s.y)?(u[u.isNew?"attr":"animate"](s),u.isNew=!1):(u.attr("y",-9999),u.isNew=!0)),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1,f(this,"afterRender")},redraw:function(){this.visible&&(this.render(),h(this.plotLinesAndBands,function(t){t.render()})),h(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,n=this,i=n.stacks,r=n.plotLinesAndBands;if(f(this,"destroy",{keepEvents:t}),t||_(n),S(i,function(t,e){u(t),i[e]=null}),h([n.ticks,n.minorTicks,n.alternateBands],function(t){u(t)}),r)for(t=r.length;t--;)r[t].destroy();for(e in h("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),function(t){n[t]&&(n[t]=n[t].destroy())}),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[e]=n.plotLinesAndBandsGroups[e].destroy();S(n,function(t,e){-1===v(e,n.keepProps)&&delete n[e]})},drawCrosshair:function(t,e){var n,i,r=this.crosshair,s=k(r.snap,!0),a=this.cross;if(f(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!s)){if(s?l(e)&&(i=k(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):i=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(i)&&(n=this.getPlotLinePath(e&&(this.isXAxis?e.x:k(e.stackY,e.y)),null,null,null,i)||null),!l(n))return void this.hideCrosshair();s=this.categories&&!this.isRadial,a||(this.cross=a=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(s?"category ":"thin ")+r.className).attr({zIndex:k(r.zIndex,2)}).add(),a.attr({stroke:r.color||(s?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":k(r.width,1)}).css({"pointer-events":"none"}),r.dashStyle&&a.attr({dashstyle:r.dashStyle})),a.show().attr({d:n}),s&&!r.width&&a.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();f(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=M}(c);return function(t){var e=t.Axis,n=t.getMagnitude,i=t.normalizeTickInterval,r=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var s,a=r[e[0]],l=e[1];for(s=0;s<o.length&&(e=o[s],a=r[e[0]],l=e[1],!(o[s+1]&&t<=(a*l[l.length-1]+r[o[s+1][0]])/2));s++);return a===r.year&&t<5*a&&(l=[1,2,5]),{unitRange:a,count:t=i(t/a,l,"year"===e[0]?Math.max(n(t/a),1):1),unitName:e[0]}}}(c),function(t){var e=t.Axis,n=t.getMagnitude,i=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,s,a){var l=this.options,c=this.len,u=[];if(a||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),u=this.getLinearTickPositions(t,e,s);else if(.08<=t){var h,d,f,p,g;for(c=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<s+1&&!g;c++)for(d=l.length,h=0;h<d&&!g;h++)(f=this.log2lin(this.lin2log(c)*l[h]))>e&&(!a||p<=s)&&void 0!==p&&u.push(p),p>s&&(g=!0),p=f}else e=this.lin2log(e),s=this.lin2log(s),t=a?this.getMinorTickInterval():l.tickInterval,t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(a?5:1)*(s-e)/((a?c/this.tickPositions.length:c)||1)),t=r(t,null,n(t)),u=i(this.getLinearTickPositions(t,e,s),this.log2lin),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),u},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(c),function(t,e){var n=t.arrayMax,i=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.erase,l=t.merge,c=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,"render");var e=this,n=e.axis,i=n.horiz,o=e.options,s=o.label,a=e.label,u=o.to,h=o.from,d=o.value,f=r(h)&&r(u),p=r(d),g=e.svgElem,m=!g,v=[],y=o.color,b=c(o.zIndex,0),w=o.events,x=(v={"class":"highcharts-plot-"+(f?"band ":"line ")+(o.className||"")},{}),C=n.chart.renderer,S=f?"bands":"lines";if(n.isLog&&(h=n.log2lin(h),u=n.log2lin(u),d=n.log2lin(d)),p?(v.stroke=y,v["stroke-width"]=o.width,o.dashStyle&&(v.dashstyle=o.dashStyle)):f&&(y&&(v.fill=y),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),x.zIndex=b,S+="-"+b,(y=n.plotLinesAndBandsGroups[S])||(n.plotLinesAndBandsGroups[S]=y=C.g("plot-"+S).attr(x).add()),m&&(e.svgElem=g=C.path().attr(v).add(y)),p)v=n.getPlotLinePath(d,g.strokeWidth());else{if(!f)return;v=n.getPlotBandPath(h,u,o)}return m&&v&&v.length?(g.attr({d:v}),w&&t.objectEach(w,function(t,n){g.on(n,function(t){w[n].apply(e,[t])})})):g&&(v?(g.show(),g.animate({d:v})):(g.hide(),a&&(e.label=a=a.destroy()))),s&&r(s.text)&&v&&v.length&&0<n.width&&0<n.height&&!v.isFlat?(s=l({align:i&&f&&"center",x:i?!f&&4:10,verticalAlign:!i&&f&&"middle",y:i?f?16:10:f?6:-4,rotation:i&&!f&&90},s),this.renderLabel(s,v,f,b)):a&&a.hide(),e},renderLabel:function(t,e,r,o){var s=this.label,a=this.axis.chart.renderer;s||((s={align:t.textAlign||t.align,rotation:t.rotation,"class":"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")}).zIndex=o,this.label=s=a.text(t.text,0,0,t.useHTML).attr(s).add(),s.css(t.style)),o=e.xBounds||[e[1],e[4],r?e[6]:e[1]],e=e.yBounds||[e[2],e[5],r?e[7]:e[2]],r=i(o),a=i(e),s.align(t,!1,{x:r,y:a,width:n(o)-r,height:n(e)-a}),s.show()},destroy:function(){a(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var n,i=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),o=[],s=this.horiz,a=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,r&&i)for(t&&(n=r.toString()===i.toString(),a=0),t=0;t<r.length;t+=6)s&&i[t+1]===r[t+1]?(i[t+1]+=a,i[t+4]+=a):s||i[t+2]!==r[t+2]||(i[t+2]+=a,i[t+5]+=a),o.push("M",r[t+1],r[t+2],"L",r[t+4],r[t+5],i[t+4],i[t+5],i[t+1],i[t+2],"z"),o.isFlat=n;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,n){var i=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();s([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&a(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(c,u),function(t){var e=t.doc,n=t.each,i=t.extend,r=t.format,o=t.isNumber,s=t.map,a=t.merge,l=t.pick,c=t.splat,u=t.syncTimeout,h=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(t){n(this.chart.series,function(e){var n=e&&e.tt;n&&(!n.isActive||t?e.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var e,n=this.chart.renderer,i=this.options;return this.label||(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:i.style&&i.style.pointerEvents}),t.doc.body.appendChild(e),this.renderer=n=new t.Renderer(e,0,0)),this.split?this.label=n.g("tooltip"):(this.label=n.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:i.padding,r:i.borderRadius}),this.label.attr({fill:i.backgroundColor,"stroke-width":i.borderWidth}).css(i.style).shadow(i.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),a(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),t.discardElement(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,n,r,o){var s=this,a=s.now,l=!1!==s.options.animation&&!s.isHidden&&(1<Math.abs(e-a.x)||1<Math.abs(n-a.y)),c=s.followPointer||1<s.len;i(a,{x:l?(2*a.x+e)/3:e,y:l?(a.y+n)/2:n,anchorX:c?void 0:l?(2*a.anchorX+r)/3:r,anchorY:c?void 0:l?(a.anchorY+o)/2:o}),s.getLabel().attr(a),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(e,n,r,o)},32))},hide:function(e){var n=this;t.clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=u(function(){n.getLabel()[e?"fadeOut":"hide"](),n.isHidden=!0},e))},getAnchor:function(t,e){var i,r,o=this.chart,a=o.pointer,l=o.inverted,u=o.plotTop,h=o.plotLeft,d=0,f=0;return t=c(t),this.followPointer&&e?(void 0===e.chartX&&(e=a.normalize(e)),t=[e.chartX-o.plotLeft,e.chartY-u]):t[0].tooltipPos?t=t[0].tooltipPos:(n(t,function(t){i=t.series.yAxis,r=t.series.xAxis,d+=t.plotX+(!l&&r?r.left-h:0),f+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&i?i.top-u:0)}),d/=t.length,f/=t.length,t=[l?o.plotWidth-f:d,this.shared&&!l&&1<t.length&&e?e.chartY-u:l?o.plotHeight-d:f]),s(t,Math.round)},getPosition:function(t,n,i){var r,o=this.chart,s=this.distance,a={},c=o.inverted&&i.h||0,u=this.outside,h=u?e.documentElement.clientWidth-2*s:o.chartWidth,d=u?Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight):o.chartHeight,f=o.pointer.chartPosition,p=["y",d,n,(u?f.top-s:0)+i.plotY+o.plotTop,u?0:o.plotTop,u?d:o.plotTop+o.plotHeight],g=["x",h,t,(u?f.left-s:0)+i.plotX+o.plotLeft,u?0:o.plotLeft,u?h:o.plotLeft+o.plotWidth],m=!this.followPointer&&l(i.ttBelow,!o.inverted==!!i.negative),v=function(t,e,n,i,r,o){var l=n<i-s,u=i+s+n<e,h=i-s-n;if(i+=s,m&&u)a[t]=i;else if(!m&&l)a[t]=h;else if(l)a[t]=Math.min(o-n,0>h-c?h:h-c);else{if(!u)return!1;a[t]=Math.max(r,i+c+n>e?i:i+c)}},y=function(t,e,n,i){var r;return i<s||i>e-s?r=!1:a[t]=i<n/2?1:i>e-n/2?e-n-2:i-n/2,r},b=function(t){var e=p;p=g,g=e,r=t},w=function(){!1!==v.apply(0,p)?!1!==y.apply(0,g)||r||(b(!0),w()):r?a.x=a.y=0:(b(!0),w())};return(o.inverted||1<this.len)&&b(),w(),a},defaultFormatter:function(t){var e,n=this.points||c(this);return(e=(e=[t.tooltipFooterHeaderFormatter(n[0])]).concat(t.bodyFormatter(n))).push(t.tooltipFooterHeaderFormatter(n[0],!0)),e},refresh:function(e,i){var r,o,s,a=this.options,u=e,h={},d=[];r=a.formatter||this.defaultFormatter;var f;h=this.shared;a.enabled&&(t.clearTimeout(this.hideTimer),this.followPointer=c(u)[0].series.tooltipOptions.followPointer,i=(s=this.getAnchor(u,i))[0],o=s[1],!h||u.series&&u.series.noSharedTooltip?h=u.getLabelConfig():(n(u,function(t){t.setState("hover"),d.push(t.getLabelConfig())}),(h={x:u[0].category,y:u[0].y}).points=d,u=u[0]),this.len=d.length,h=r.call(h,this),f=u.series,this.distance=l(f.tooltipOptions.distance,16),!1===h?this.hide():(r=this.getLabel(),this.isHidden&&r.attr({opacity:1}).show(),this.split?this.renderSplit(h,c(e)):(a.style.width||r.css({width:this.chart.spacingBox.width}),
r.attr({text:h&&h.join?h.join(""):h}),r.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(u.colorIndex,f.colorIndex)),r.attr({stroke:a.borderColor||u.color||f.color||"#666666"}),this.updatePosition({plotX:i,plotY:o,negative:u.negative,ttBelow:u.ttBelow,h:s[2]||0})),this.isHidden=!1))},renderSplit:function(e,i){var r,o=this,s=[],a=this.chart,c=a.renderer,u=!0,h=this.options,d=0,f=this.getLabel(),p=a.plotTop;t.isString(e)&&(e=[!1,e]),n(e.slice(0,i.length+1),function(t,e){if(!1!==t){var n=(e=i[e-1]||{isHeader:!0,plotX:i[0].plotX}).series||o,g=n.tt,m=e.series||{},v="highcharts-color-"+l(e.colorIndex,m.colorIndex,"none");g||(n.tt=g=c.label(null,null,null,"callout",null,null,h.useHTML).addClass("highcharts-tooltip-box "+v+(e.isHeader?" highcharts-tooltip-header":"")).attr({padding:h.padding,r:h.borderRadius,fill:h.backgroundColor,stroke:h.borderColor||e.color||m.color||"#333333","stroke-width":h.borderWidth}).add(f)),g.isActive=!0,g.attr({text:t}),g.css(h.style).shadow(h.shadow),m=(t=g.getBBox()).width+g.strokeWidth(),e.isHeader?(d=t.height,a.xAxis[0].opposite&&(r=!0,p-=d),m=Math.max(0,Math.min(e.plotX+a.plotLeft-m/2,a.chartWidth+(a.scrollablePixels?a.scrollablePixels-a.marginRight:0)-m))):m=e.plotX+a.plotLeft-l(h.distance,16)-m,0>m&&(u=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=p,e.isHeader&&(t=r?-d:a.plotHeight+d),s.push({target:t,rank:e.isHeader?1:0,size:n.tt.getBBox().height+1,point:e,x:m,tt:g})}}),this.cleanSplit(),t.distribute(s,a.plotHeight+d),n(s,function(t){var e=t.point,n=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:u||e.isHeader?t.x:e.plotX+a.plotLeft+l(h.distance,16),y:t.pos+p,anchorX:e.isHeader?e.plotX+a.plotLeft:e.plotX+n.xAxis.pos,anchorY:e.isHeader?a.plotTop+a.plotHeight/2:e.plotY+n.yAxis.pos})})},updatePosition:function(t){var e,n=this.chart,i=this.getLabel(),r=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t),o=t.plotX+n.plotLeft;t=t.plotY+n.plotTop,this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(i.width+e,i.height+e,!1),o+=n.pointer.chartPosition.left-r.x,t+=n.pointer.chartPosition.top-r.y),this.move(Math.round(r.x),Math.round(r.y||0),o,t)},getDateFormat:function(t,e,n,i){var r,o,s=this.chart.time,a=s.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(o in h){if(t===h.week&&+s.dateFormat("%w",e)===n&&"00:00:00.000"===a.substr(6)){o="week";break}if(h[o]>t){o=c;break}if(l[o]&&a.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(c=o)}return o&&(r=s.resolveDTLFormat(i[o]).main),r},getXDateFormat:function(t,e,n){e=e.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,t.x,n.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var i=t.series,s=i.tooltipOptions,a=s.xDateFormat,l=i.xAxis,c=l&&"datetime"===l.options.type&&o(t.key),u=s[e+"Format"];return c&&!a&&(a=this.getXDateFormat(t,s,l)),c&&a&&n(t.point&&t.point.tooltipDateKeys||["key"],function(t){u=u.replace("{point."+t+"}","{point."+t+":"+a+"}")}),r(u,{point:t,series:i},this.chart.time)},bodyFormatter:function(t){return s(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}}}(c),function(t){var e=t.addEvent,n=t.attr,i=t.charts,r=t.color,o=t.css,s=t.defined,a=t.each,l=t.extend,c=t.find,u=t.fireEvent,h=t.isNumber,d=t.isObject,f=t.offset,p=t.pick,g=t.splat,m=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},m&&(t.tooltip=new m(t,e.tooltip),this.followTouchMove=p(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=(i=this.chart).options.chart,n=e.zoomType||"",i=i.inverted;/touch/.test(t.type)&&(n=p(e.pinchType,n)),this.zoomX=t=/x/.test(n),this.zoomY=n=/y/.test(n),this.zoomHor=t&&!i||n&&i,this.zoomVert=n&&!i||t&&i,this.hasZoom=t||n},normalize:function(t,e){var n;return n=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=f(this.chart.container)),l(t,{chartX:Math.round(n.pageX-e.left),chartY:Math.round(n.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return a(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,n){var i;return a(t,function(t){var r=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(n,r),(r=d(t,!0))&&!(r=!d(i,!0))){r=i.distX-t.distX;var o=i.dist-t.dist,s=(t.series.group&&t.series.group.zIndex)-(i.series.group&&i.series.group.zIndex);r=0<(0!==r&&e?r:0!==o?o:0!==s?s:i.series.index>t.series.index?-1:1)}r&&(i=t)}),i},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var n=(i=t.series).xAxis,i=i.yAxis,r=p(t.clientX,t.plotX),o=t.shapeArgs;return n&&i?e?{chartX:n.len+n.pos-r,chartY:i.len+i.pos-t.plotY}:{chartX:r+n.pos,chartY:t.plotY+i.pos}:o&&o.x&&o.y?{chartX:o.x,chartY:o.y}:void 0},getHoverData:function(e,n,i,r,o,s,l){var u,h=[],f=l&&l.isBoosting;return r=!(!r||!e),l=n&&!n.stickyTracking?[n]:t.grep(i,function(t){return t.visible&&!(!o&&t.directTouch)&&p(t.options.enableMouseTracking,!0)&&t.stickyTracking}),n=(u=r?e:this.findNearestKDPoint(l,o,s))&&u.series,u&&(o&&!n.noSharedTooltip?(l=t.grep(i,function(t){return t.visible&&!(!o&&t.directTouch)&&p(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),a(l,function(t){var e=c(t.points,function(t){return t.x===u.x&&!t.isNull});d(e)&&(f&&(e=t.getPoint(e)),h.push(e))})):h.push(u)),{hoverPoint:u,hoverSeries:n,hoverPoints:h}},runPointActions:function(n,r){var o,s=this.chart,l=s.tooltip&&s.tooltip.options.enabled?s.tooltip:void 0,c=!!l&&l.shared,u=(h=r||s.hoverPoint)&&h.series||s.hoverSeries,h=(u=this.getHoverData(h,u,s.series,"touchmove"!==n.type&&(!!r||u&&u.directTouch&&this.isDirectTouch),c,n,{isBoosting:s.isBoosting})).hoverPoint;if(o=u.hoverPoints,r=(u=u.hoverSeries)&&u.tooltipOptions.followPointer,c=c&&u&&!u.noSharedTooltip,h&&(h!==s.hoverPoint||l&&l.isHidden)){if(a(s.hoverPoints||[],function(e){-1===t.inArray(e,o)&&e.setState()}),a(o||[],function(t){t.setState("hover")}),s.hoverSeries!==u&&u.onMouseOver(),s.hoverPoint&&s.hoverPoint.firePointEvent("mouseOut"),!h.series)return;h.firePointEvent("mouseOver"),s.hoverPoints=o,s.hoverPoint=h,l&&l.refresh(c?o:h,n)}else r&&l&&!l.isHidden&&(h=l.getAnchor([{}],n),l.updatePosition({plotX:h[0],plotY:h[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(s.container.ownerDocument,"mousemove",function(e){var n=i[t.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(e)})),a(s.axes,function(e){var i=p(e.crosshair.snap,!0),r=i?t.find(o,function(t){return t.series[e.coll]===e}):void 0;r||!i?e.drawCrosshair(n,r):e.hideCrosshair()})},reset:function(t,e){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,o=n.hoverPoints,s=n.tooltip,l=s&&s.shared?o:r;t&&l&&a(g(l),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&l&&(s.refresh(l),s.shared&&o?a(o,function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))}):r&&(r.setState(r.state,!0),a(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&a(o,function(t){t.setState()}),i&&i.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),a(n.axes,function(t){t.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;a(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n=this.chart,i=n.options.chart,o=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,c=n.plotLeft,u=n.plotTop,h=n.plotWidth,d=n.plotHeight,f=this.selectionMarker,p=this.mouseDownX,g=this.mouseDownY,m=i.panKey&&t[i.panKey+"Key"];f&&f.touch||(o<c?o=c:o>c+h&&(o=c+h),s<u?s=u:s>u+d&&(s=u+d),this.hasDragged=Math.sqrt(Math.pow(p-o,2)+Math.pow(g-s,2)),10<this.hasDragged&&(e=n.isInsidePlot(p-c,g-u),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!f&&(this.selectionMarker=f=n.renderer.rect(c,u,a?1:h,l?1:d,0).attr({fill:i.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),"class":"highcharts-selection-marker",zIndex:7}).add()),f&&a&&(o-=p,f.attr({width:Math.abs(o),x:(0<o?0:o)+p})),f&&l&&(o=s-g,f.attr({height:Math.abs(o),y:(0<o?0:o)+g})),e&&!f&&i.panning&&n.pan(t,i.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,c={originalEvent:t,xAxis:[],yAxis:[]},d=this.selectionMarker,f=d.attr?d.attr("x"):d.x,p=d.attr?d.attr("y"):d.y,g=d.attr?d.attr("width"):d.width,m=d.attr?d.attr("height"):d.height;(this.hasDragged||i)&&(a(n.axes,function(n){if(n.zoomEnabled&&s(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var o=n.horiz,a="touchend"===t.type?n.minPixelPadding:0,l=n.toValue((o?f:p)+a);o=n.toValue((o?f+g:p+m)-a);c[n.coll].push({axis:n,min:Math.min(l,o),max:Math.max(l,o)}),r=!0}}),r&&u(n,"selection",c,function(t){n.zoom(l(t,i?{animation:!1}:null))})),h(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),i&&this.scaleGroups()}n&&h(n.index)&&(o(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){2!==(t=this.normalize(t)).button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){i[t.hoverChartIndex]&&i[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var n=i[t.hoverChartIndex];n&&(e.relatedTarget||e.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(e){var n=this.chart;s(t.hoverChartIndex)&&i[t.hoverChartIndex]&&i[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=n.index),(e=this.normalize(e)).returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!n.isInsidePlot(e.chartX-n.plotLeft,e.chartY-n.plotTop)||n.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var i;t;){if(i=n(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,"highcharts-tracker")?(u(n.series,"click",l(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&u(e,"click",t)))},setDOMEvents:function(){var n=this,i=n.chart.container,r=i.ownerDocument;i.onmousedown=function(t){n.onContainerMouseDown(t)},i.onmousemove=function(t){n.onContainerMouseMove(t)},i.onclick=function(t){n.onContainerClick(t)},this.unbindContainerMouseLeave=e(i,"mouseleave",n.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(r,"mouseup",n.onDocumentMouseUp)),t.hasTouch&&(i.ontouchstart=function(t){n.onContainerTouchStart(t)},i.ontouchmove=function(t){n.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(r,"touchend",n.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,n){e[n]=null})}}}(c),function(t){var e=t.charts,n=t.each,i=t.extend,r=t.map,o=t.noop,s=t.pick;i(t.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,c,u,h=this.chart,d=t?"x":"y",f=t?"X":"Y",p="chart"+f,g=t?"width":"height",m=h["plot"+(t?"Left":"Top")],v=a||1,y=h.inverted,b=h.bounds[t?"h":"v"],w=1===e.length,x=e[0][p],C=n[0][p],S=!w&&e[1][p],k=!w&&n[1][p];(n=function(){!w&&20<Math.abs(x-S)&&(v=a||Math.abs(C-k)/Math.abs(x-S)),c=(m-C)/v+x,l=h["plot"+(t?"Width":"Height")]/v})(),(e=c)<b.min?(e=b.min,u=!0):e+l>b.max&&(e=b.max-l,u=!0),u?(C-=.8*(C-s[d][0]),w||(k-=.8*(k-s[d][1])),n()):s[d]=[C,k],y||(o[d]=c-m,o[g]=l),o=y?1/v:v,r[g]=l,r[d]=e,i[y?t?"scaleY":"scaleX":"scale"+f]=v,i["translate"+f]=o*m+(C-o*x)},pinch:function(t){var e=this,a=e.chart,l=e.pinchDown,c=t.touches,u=c.length,h=e.lastValidTouch,d=e.hasZoom,f=e.selectionMarker,p={},g=1===u&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),m={};1<u&&(e.initiated=!0),d&&e.initiated&&!g&&t.preventDefault(),r(c,function(t){return e.normalize(t)}),"touchstart"===t.type?(n(c,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),h.x=[l[0].chartX,l[1]&&l[1].chartX],h.y=[l[0].chartY,l[1]&&l[1].chartY],n(a.axes,function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],n=t.minPixelPadding,i=t.toPixels(s(t.options.min,t.dataMin)),r=t.toPixels(s(t.options.max,t.dataMax)),o=Math.max(i,r);e.min=Math.min(t.pos,Math.min(i,r)-n),e.max=Math.max(t.pos+t.len,o+n)}}),e.res=!0):e.followTouchMove&&1===u?this.runPointActions(e.normalize(t)):l.length&&(f||(e.selectionMarker=f=i({destroy:o,touch:!0},a.plotBox)),e.pinchTranslate(l,c,p,f,m,h),e.hasPinched=d,e.scaleGroups(p,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,n){var i,r=this.chart;r.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=r.index,1===e.touches.length?(e=this.normalize(e),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&!r.openMenu?(n&&this.runPointActions(e),"touchmove"===e.type&&(i=!!(n=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-e.chartX,2)+Math.pow(n[0].chartY-e.chartY,2))),s(i,!0)&&this.pinch(e)):n&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(n){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(n)}})}(c),function(t){var e=t.addEvent,n=t.charts,i=t.css,r=t.doc,o=t.extend,s=t.noop,a=t.Pointer,l=t.removeEvent,c=t.win,u=t.wrap;if(!t.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var h={},d=!!c.PointerEvent,f=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(h,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},p=function(e,i,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),(o=n[t.hoverChartIndex].pointer)[i]({type:r,target:e.currentTarget,preventDefault:s,touches:f()}))};o(a.prototype,{onContainerPointerDown:function(t){p(t,"onContainerTouchStart","touchstart",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){p(t,"onContainerTouchMove","touchmove",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){p(t,"onDocumentTouchEnd","touchend",function(t){delete h[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(a.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&i(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),u(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),u(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(c),function(t){var e=t.addEvent,n=t.css,i=t.discardElement,r=t.defined,o=t.each,s=t.fireEvent,a=t.isFirefox,l=t.marginNames,c=t.merge,u=t.pick,h=t.setAnimation,d=t.stableSort,f=t.win,p=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,n){this.chart=t,this.setOptions(n),n.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=e(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=u(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=u(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var n=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,u(e,!0)&&n.redraw(),s(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n=this.options,i=t.legendItem,r=t.legendLine,o=t.legendSymbol,a=this.itemHiddenStyle.color,l=(n=e?n.itemStyle.color:a,e&&t.color||a),c=t.options&&t.options.marker,u={fill:l};i&&i.css({fill:n,color:n}),r&&r.attr({stroke:l}),o&&(c&&o.isMarker&&(u=t.pointAttribs(),e||(u.stroke=u.fill=a)),o.attr(u)),s(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){o(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=(n=this.options).symbolPadding,n=!n.rtl,i=(o=t._legendItemPos)[0],o=o[1],s=t.checkbox;(t=t.legendGroup)&&t.element&&t[r(t.translateY)?"animate":"attr"]({translateX:n?i:this.legendWidth-i-2*e-4,translateY:o}),s&&(s.x=i,s.y=o)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&i(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),function(e){o(["legendItem","legendGroup"],t,e)}),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;e&&(t=e.translateY,o(this.allItems,function(o){var s,a=o.checkbox;a&&(s=t+r+a.y+(this.scrollOffset||0)+3,n(a,{left:e.translateX+o.checkboxOffset+a.x-20+"px",top:s+"px",display:this.proximate||s>t-6&&s<t+i-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,n=t.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),i=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(e){var n=this.options;e.legendItem.attr({text:n.labelFormat?t.format(n.labelFormat,e,this.chart.time):n.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,n=e.renderer,i=this.options,r=this.symbolWidth,o=i.symbolPadding,s=this.itemStyle,a=this.itemHiddenStyle,l="horizontal"===i.layout?u(i.itemDistance,20):0,h=!i.rtl,d=t.legendItem,f=!t.series,p=!f&&t.series.drawLegendSymbol?t.series:t,g=p.options,m=(l=r+o+l+((g=this.createCheckboxForItem&&g&&g.showCheckbox)?20:0),i.useHTML),v=t.options.className;d||(t.legendGroup=n.g("legend-item").addClass("highcharts-"+p.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(f?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=d=n.text("",h?r+o:-o,this.baseline||0,m).css(c(t.visible?s:a)).attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(r=s.fontSize,this.fontMetrics=n.fontMetrics(r,d),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,d.attr("y",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,p.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,d,m),g&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),s.width||d.css({width:(i.itemWidth||i.width||e.spacingBox.width)-l}),this.setText(t),e=d.getBBox(),t.itemWidth=t.checkboxOffset=i.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,n=this.padding,i="horizontal"===e.layout,r=t.itemHeight,o=e.itemMarginBottom||0,s=this.itemMarginTop,a=i?u(e.itemDistance,20):0,l=e.width,c=l||this.chart.spacingBox.width-2*n-e.x;e=e.alignColumns&&this.totalItemWidth>c?this.maxItemWidth:t.itemWidth;i&&this.itemX-n+e>c&&(this.itemX=n,this.itemY+=s+this.lastLineHeight+o,this.lastLineHeight=0),this.lastItemY=s+this.itemY+o,this.lastLineHeight=Math.max(r,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],i?this.itemX+=e:(this.itemY+=s+r+o,this.lastLineHeight=r),this.offsetWidth=l||Math.max((i?this.itemX-n-(t.checkbox?0:a):e)+n,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,function(e){var n=e&&e.options;e&&u(n.showInLegend,!r(n.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),s(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var n=this.chart,i=this.options,s=this.getAlignment();s&&o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,a){o.test(s)&&!r(t[a])&&(n[l[a]]=Math.max(n[l[a]],n.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*i[a%2?"x":"y"]+u(i.margin,12)+e[a]+(0===a&&void 0!==n.options.title.margin?n.titleOffset+n.options.title.margin:0)))})},proximatePositions:function(){var e=this.chart,n=[],i="left"===this.options.align;o(this.allItems,function(r){var o,s;o=i,r.xAxis&&r.points&&(r.xAxis.options.reversed&&(o=!o),o=t.find(o?r.points:r.points.slice(0).reverse(),function(e){return t.isNumber(e.plotY)}),s=r.legendGroup.getBBox().height,n.push({target:r.visible?(o?o.plotY:r.xAxis.height)-.3*s:e.plotHeight,size:s,item:r}))},this),t.distribute(n,e.plotHeight),o(n,function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos})},render:function(){var t,e,n,i=this.chart,r=i.renderer,s=this.group,a=this.box,l=this.options,u=this.padding;this.itemX=u,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,s||(this.group=s=r.g("legend").attr({zIndex:7}).add(),this.contentGroup=r.g().attr({zIndex:1}).add(s),this.scrollGroup=r.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),d(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),l.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,o(t,this.renderItem,this),o(t,this.layoutItem,this),t=(l.width||this.offsetWidth)+u,n=this.lastItemY+this.lastLineHeight+this.titleHeight,n=this.handleOverflow(n),n+=u,a||(this.box=a=r.rect().addClass("highcharts-legend-box").attr({r:l.borderRadius}).add(s),a.isNew=!0),a.attr({stroke:l.borderColor,"stroke-width":l.borderWidth||0,fill:l.backgroundColor||"none"}).shadow(l.shadow),0<t&&0<n&&(a[a.isNew?"attr":"animate"](a.crisp.call({},{x:0,y:0,width:t,height:n},a.strokeWidth())),a.isNew=!1),a[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=n,e&&(r=i.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(r=c(r,{y:r.y+i.titleOffset+i.options.title.margin})),s.align(c(l,{width:t,height:n,verticalAlign:this.proximate?"top":l.verticalAlign}),!0,r)),this.proximate||this.positionItems()},handleOverflow:function(t){var e,n,i=this,r=(c=this.chart).renderer,s=this.options,a=s.y,l=this.padding,c=c.spacingBox.height+("top"===s.verticalAlign?-a:a)-l,h=(a=s.maxHeight,this.clipRect),d=s.navigation,f=u(d.animation,!0),p=d.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(t){"number"==typeof t?h.attr({height:t}):h&&(i.clipRect=h.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=t?"rect("+l+"px,9999px,"+(l+t)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(c/=2),a&&(c=Math.min(c,a)),m.length=0,t>c&&!1!==d.enabled?(this.clipHeight=e=Math.max(c-20-this.titleHeight-l,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,o(v,function(t,i){var r=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),s=m.length;(!s||r-m[s-1]>e&&(n||r)!==m[s-1])&&(m.push(n||r),s++),t.pageIx=s-1,n&&(v[i-1].pageIx=s-1),i===v.length-1&&r+o-m[s-1]>e&&(m.push(r),t.pageIx=s),r!==n&&(n=r)}),h||(h=i.clipRect=r.clipRect(0,l,9999,0),i.contentGroup.clip(h)),y(e),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,p,p).on("click",function(){i.scroll(-1,f)}).add(g),this.pager=r.text("",15,10).addClass("highcharts-legend-navigation").css(d.style).add(g),this.down=r.symbol("triangle-down",0,0,p,p).on("click",function(){i.scroll(1,f)}).add(g)),i.scroll(0),t=c):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n=this.pages,i=n.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,s=this.pager,a=this.padding;t>i&&(t=i),0<t&&(void 0!==e&&h(e,this.chart),this.nav.attr({translateX:a,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({"class":1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),s.attr({text:t+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,"class":t===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===i?o.inactiveColor:o.activeColor}).css({cursor:t===i?"default":"pointer"}),this.scrollOffset=-n[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.symbolHeight,i=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(i?(t.symbolWidth-n)/2:0,t.baseline-n+1,i?n:t.symbolWidth,n,u(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n=this.options,i=n.marker,r=t.symbolWidth,o=t.symbolHeight,s=o/2,a=this.chart.renderer,l=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":n.lineWidth||0},n.dashStyle&&(e.dashstyle=n.dashStyle),this.legendLine=a.path(["M",0,t,"L",r,t]).addClass("highcharts-graph").attr(e).add(l),i&&!1!==i.enabled&&r&&(n=Math.min(u(i.radius,s),s),0===this.symbol.indexOf("url")&&(i=c(i,{width:o,height:o}),n=0),this.legendSymbol=i=a.symbol(this.symbol,r/2-n,t-n,2*n,2*n,i).addClass("highcharts-point").add(l),i.isMarker=!0)}},(/Trident\/7\.0/.test(f.navigator.userAgent)||a)&&p(t.Legend.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)})}(c),function(t){var e=t.addEvent,n=t.animate,i=t.animObject,r=t.attr,o=t.doc,s=t.Axis,a=t.createElement,l=t.defaultOptions,c=t.discardElement,u=t.charts,h=t.css,d=t.defined,f=t.each,p=t.extend,g=t.find,m=t.fireEvent,v=t.grep,y=t.isNumber,b=t.isObject,w=t.isString,x=t.Legend,C=t.marginNames,S=t.merge,k=t.objectEach,_=t.Pointer,E=t.pick,T=t.pInt,A=t.removeEvent,M=t.seriesTypes,R=t.splat,D=t.syncTimeout,L=t.win,$=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,n){return new $(t,e,n)},p($.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(w(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(n,i){var r,o,s=n.series,a=n.plotOptions||{};m(this,"init",{args:arguments},function(){for(o in n.series=null,(r=S(l,n)).plotOptions)r.plotOptions[o].tooltip=a[o]&&S(a[o].tooltip)||void 0;r.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,r.series=n.series=s,this.userOptions=n;var c=r.chart,h=c.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=n.time&&t.keys(n.time).length?new t.Time(n.time):t.time,this.hasCartesianSeries=c.showAxes;var d=this;d.index=u.length,u.push(d),t.chartCount++,h&&k(h,function(t,n){e(d,n,t)}),d.xAxis=[],d.yAxis=[],d.pointCount=d.colorCounter=d.symbolCounter=0,m(d,"afterInit"),d.firstRender()})},initSeries:function(e){var n=this.options.chart;return(n=M[e.type||n.type||n.defaultSeriesType])||t.error(17,!0),(n=new n).init(this,e),n},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,n){var i=n?e:t;return t=n?t:e,0<=i&&i<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){m(this,"beforeRedraw");var n,i,r,o=this.axes,s=this.series,a=this.pointer,l=this.legend,c=this.userOptions.legend,u=this.isDirtyLegend,h=this.hasCartesianSeries,d=this.isDirtyBox,g=this.renderer,v=g.isHidden(),y=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),v&&this.temporaryDisplay(),this.layOutTitles(),e=s.length;e--;)if((r=s[e]).options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(e=s.length;e--;)(r=s[e]).options.stacking&&(r.isDirty=!0);f(s,function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),u=!0):c&&(c.labelFormatter||c.labelFormat)&&(u=!0)),t.isDirtyData&&m(t,"updatedData")}),u&&l&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),h&&f(o,function(t){t.updateNames(),t.updateYNames&&t.updateYNames(),t.setScale()}),this.getMargins(),h&&(f(o,function(t){t.isDirty&&(d=!0)}),f(o,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,y.push(function(){m(t,"afterSetExtremes",p(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||n)&&t.redraw()})),d&&this.drawChartBox(),m(this,"predraw"),f(s,function(t){(d||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),a&&a.reset(!0),g.draw(),m(this,"redraw"),m(this,"render"),v&&this.temporaryDisplay(!0),f(y,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var n,i,r=this.series;for(n=g(this.axes,e)||g(this.series,e),i=0;!n&&i<r.length;i++)n=g(r[i].points||[],e);return n},getAxes:function(){var t=this,e=(n=this.options).xAxis=R(n.xAxis||{}),n=n.yAxis=R(n.yAxis||{});m(this,"getAxes"),f(e,function(t,e){t.index=e,t.isX=!0}),f(n,function(t,e){t.index=e}),e=e.concat(n),f(e,function(e){new s(t,e)}),m(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return f(this.series,function(e){t=t.concat(v(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return v(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var i,r=this,o=r.options;i=o.title=S({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=S({style:{color:"#666666"}},o.subtitle,e),f([["title",t,i],["subtitle",e,o]],function(t,e){var n=t[0],i=r[n],o=t[1];t=t[2],i&&o&&(r[n]=i=i.destroy()),t&&!i&&(r[n]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":"highcharts-"+n,zIndex:t.zIndex||4}).add(),r[n].update=function(t){r.setTitle(!e&&t,e&&t)},r[n].css(t.style))}),r.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.renderer,r=this.spacingBox;f(["title","subtitle"],function(t){var e,o=this[t],s=this.options[t];t="title"===t?-3:s.verticalAlign?0:n+2,o&&(e=s.style.fontSize,e=i.fontMetrics(e,o).b,o.css({width:(s.width||r.width+s.widthAdjust)+"px"}).align(p({y:t+e},s),!1,"spacingBox"),
s.floating||s.verticalAlign||(n=Math.ceil(n+o.getBBox(s.useHTML).height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&E(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=(n=this.options.chart).width,n=n.height,i=this.renderTo;d(e)||(this.containerWidth=t.getStyle(i,"width")),d(n)||(this.containerHeight=t.getStyle(i,"height")),this.chartWidth=Math.max(0,e||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(n,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var n=this.renderTo;if(e)for(;n&&n.style;)n.hcOrigStyle&&(t.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(o.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(o.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,o.body.appendChild(n)),("none"===t.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},e={display:"block",overflow:"hidden"},n!==this.renderTo&&(e.height=0),t.css(n,e),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==o.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,n,i,s=this.options,l=s.chart;e=this.renderTo;var c,h=t.uniqueKey();e||(this.renderTo=e=l.renderTo),w(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),n=T(r(e,"data-highcharts-chart")),y(n)&&u[n]&&u[n].hasRendered&&u[n].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,i=this.chartHeight,c=p({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=a("div",{id:h},c,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,n,i,null,l.forExport,s.exporting&&s.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index,m(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!d(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,e),m(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&f(t.axes,function(t){t.visible&&t.getOffset()}),f(C,function(i,r){d(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(e){var n=this,i=n.options.chart,r=n.renderTo,s=d(i.width)&&d(i.height),a=i.width||t.getStyle(r,"width");i=i.height||t.getStyle(r,"height"),r=e?e.target:L;s||n.isPrinting||!a||!i||r!==L&&r!==o||(a===n.containerWidth&&i===n.containerHeight||(t.clearTimeout(n.reflowTimeout),n.reflowTimeout=D(function(){n.container&&n.setSize(void 0,void 0,!1)},e?100:0)),n.containerWidth=a,n.containerHeight=i)},setReflow:function(t){var n=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=e(L,"resize",function(t){n.reflow(t)}),e(this,"destroy",this.unbindReflow))},setSize:function(e,r,o){var s=this,a=s.renderer;s.isResizing+=1,t.setAnimation(o,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,void 0!==e&&(s.options.chart.width=e),void 0!==r&&(s.options.chart.height=r),s.getChartSize(),((e=a.globalAnimation)?n:h)(s.container,{width:s.chartWidth+"px",height:s.chartHeight+"px"},e),s.setChartSize(!0),a.setSize(s.chartWidth,s.chartHeight,o),f(s.axes,function(t){t.isDirty=!0,t.setScale()}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(o),s.oldChartHeight=null,m(s,"resize"),D(function(){s&&m(s,"endResize",null,function(){--s.isResizing})},i(e).duration)},setChartSize:function(t){var e,n,i,r,o=this.inverted,s=this.renderer,a=this.chartWidth,l=this.chartHeight,c=this.options.chart,u=this.spacing,h=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=i=Math.max(0,Math.round(a-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-n-this.marginBottom)),this.plotSizeX=o?r:i,this.plotSizeY=o?i:r,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:u[3],y:u[0],width:a-u[3]-u[1],height:l-u[0]-u[2]},this.plotBox=s.plotBox={x:e,y:n,width:i,height:r},a=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(a,h[3])/2),s=Math.ceil(Math.max(a,h[0])/2),this.clipBox={x:o,y:s,width:Math.floor(this.plotSizeX-Math.max(a,h[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(a,h[2])/2-s))},t||f(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()}),m(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var t=this,e=t.options.chart;f(["margin","spacing"],function(n){var i=e[n],r=b(i)?i:[i,i,i,i];f(["Top","Right","Bottom","Left"],function(i,o){t[n][o]=E(e[n+i],r[o])})}),f(C,function(e,n){t[e]=E(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this.options.chart,i=this.renderer,r=this.chartWidth,o=this.chartHeight,s=this.chartBackground,a=this.plotBackground,l=this.plotBorder,c=this.plotBGImage,u=n.backgroundColor,h=n.plotBackgroundColor,d=n.plotBackgroundImage,f=this.plotLeft,p=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox,x="animate";s||(this.chartBackground=s=i.rect().addClass("highcharts-background").add(),x="attr"),e=(t=n.borderWidth||0)+(n.shadow?8:0),u={fill:u||"none"},(t||s["stroke-width"])&&(u.stroke=n.borderColor,u["stroke-width"]=t),s.attr(u).shadow(n.shadow),s[x]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:n.borderRadius}),x="animate",a||(x="attr",this.plotBackground=a=i.rect().addClass("highcharts-plot-background").add()),a[x](y),a.attr({fill:h||"none"}).shadow(n.plotShadow),d&&(c?c.animate(y):this.plotBGImage=i.image(d,f,p,g,v).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=i.clipRect(w),x="animate",l||(x="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[x](l.crisp({x:f,y:p,width:g,height:v},-l.strokeWidth())),this.isDirtyBox=!1,m(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;f(["inverted","angular","polar"],function(s){for(t=M[r.type||r.defaultSeriesType],n=r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)(t=M[o[e].type])&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;f(e,function(t){t.linkedSeries.length=0}),f(e,function(e){var n=e.options.linkedTo;w(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n))&&n.linkedParent!==e&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=E(e.options.visible,n.options.visible,e.visible))}),m(this,"afterLinkSeries")},renderSeries:function(){f(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&f(e.items,function(n){var i=p(e.style,n.style),r=T(i.left)+t.plotLeft,o=T(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,r,o).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new x(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),f(i,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,n=1.05<t/this.plotHeight,(e||n)&&(f(i,function(t){(t.horiz&&e||!t.horiz&&n)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&f(i,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=S(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(L.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,n=this,i=n.axes,r=n.series,o=n.container,s=o&&o.parentNode;for(m(n,"destroy"),n.renderer.forExport?t.erase(u,n):u[n.index]=void 0,t.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),A(n),e=i.length;e--;)i[e]=i[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();f("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=n[t];e&&e.destroy&&(n[t]=e.destroy())}),o&&(o.innerHTML="",A(o),s&&c(o)),k(n,function(t,e){delete n[e]})},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),f(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),_&&(t.pointer=new _(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){f([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),m(this,"render"),d(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(c),function(t){var e=t.addEvent,n=t.Chart,i=t.each;e(n,"afterSetChartSize",function(e){var n=this.options.chart.scrollablePlotArea;(n=n&&n.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=n=Math.max(0,n-this.chartWidth))&&(this.plotWidth+=n,this.clipBox.width+=n,e.skipAxes||i(this.axes,function(e){1===e.side?e.getPlotLinePath=function(){var n,i=this.right;return this.right=i-e.chart.scrollablePixels,n=t.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=i,n}:(e.setAxisSize(),e.setAxisTranslation())}))}),e(n,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),n.prototype.setUpScrolling=function(){this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.applyFixed=function(){var e,n,i=this.container;(r=!this.fixedDiv)&&(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new t.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),t.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],function(n){t.each(i.querySelectorAll(n),function(t){(t.namespaceURI===e.SVG_NS?e.box:e.box.parentNode).appendChild(t),t.style.pointerEvents="auto"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),n=this.chartWidth+this.scrollablePixels,t.stop(this.container),this.container.style.width=n+"px",this.renderer.boxWrapper.attr({width:n,height:this.chartHeight,viewBox:[0,0,n,this.chartHeight].join(" ")}),this.chartBackground.attr({width:n}),r&&((n=this.options.chart.scrollablePlotArea).scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*n.scrollPositionX)),r=this.axisOffset,n=this.plotTop-r[0]-1;var r=this.plotTop+this.plotHeight+r[2],o=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,n,"L",this.plotLeft-1,n,"L",this.plotLeft-1,r,"L",0,r,"Z","M",o,n,"L",this.chartWidth,n,"L",this.chartWidth,r,"L",o,r,"Z"]:["M",0,0]})}}(c),function(t){var e,n=t.each,i=t.extend,r=t.erase,o=t.fireEvent,s=t.format,a=t.isArray,l=t.isNumber,c=t.pick,u=t.uniqueKey,h=t.defined,d=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,n){return this.series=t,this.color=t.color,this.applyOptions(e,n),this.id=h(this.id)?this.id:u(),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,n=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):n=t.colorIndex,this.colorIndex=c(this.colorIndex,n),t.chart.pointCount++,o(this,"afterInit"),this},applyOptions:function(t,n){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),i(this,t),this.options=this.options?i(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,o&&(this.y=this[o]),this.isNull=c(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===n?r.autoIncrement(this):n),this},setNestedProperty:function(e,n,i){return i=i.split("."),t.reduce(i,function(e,i,r,o){return e[i]=o.length-1===r?n:t.isObject(e[i],!0)?e[i]:{},e[i]},e),e},optionsToObject:function(e){var n={},i=this.series,r=i.options.keys,o=r||i.pointArrayMap||["y"],s=o.length,c=0,u=0;if(l(e)||null===e)n[o[0]]=e;else if(a(e))for(!r&&e.length>s&&("string"===(i=typeof e[0])?n.name=e[0]:"number"===i&&(n.x=e[0]),c++);u<s;)r&&void 0===e[c]||(0<o[u].indexOf(".")?t.Point.prototype.setNestedProperty(n,e[c],o[u]):n[o[u]]=e[c]),c++,u++;else"object"==typeof e&&(n=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=(n=this.series).zones,n=n.zoneAxis||"y",i=0;for(t=e[i];this[n]>=t.value;)t=e[++i];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,n=e.hoverPoints;for(t in e.pointCount--,n&&(this.setState(),r(n,this),n.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(d(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy());this.dataLabels&&(n(this.dataLabels,function(t){t.element&&t.destroy()}),delete this.dataLabels),this.connectors&&(n(this.connectors,function(t){t.element&&t.destroy()}),delete this.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,r=c(i.valueDecimals,""),o=i.valuePrefix||"",a=i.valueSuffix||"";return n(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||a)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+a)),t=t.replace(RegExp(e+"}","g"),e+":,."+r+"f}")}),s(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,n){var i=this,r=this.series.options;(r.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,n)},visible:!0}}(c),function(t){var e=t.addEvent,n=t.animObject,i=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.defined,c=t.each,u=t.erase,h=t.extend,d=t.fireEvent,f=t.grep,p=t.isArray,g=t.isNumber,m=t.isString,v=t.merge,y=t.objectEach,b=t.pick,w=t.removeEvent,x=t.splat,C=t.SVGElement,S=t.syncTimeout,k=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,n){var i,r,o=this,s=t.series;o.chart=t,o.options=n=o.setOptions(n),o.linkedSeries=[],o.bindAxes(),h(o,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected}),i=n.events,y(i,function(t,n){e(o,n,t)}),(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),c(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(n.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),s.length&&(r=s[s.length-1]),o._i=b(r&&r._i,-1)+1,t.orderSeries(this.insert(s)),d(this,"afterInit")},insert:function(t){var e,n=this.options.index;if(g(n)){for(e=t.length;e--;)if(n>=b(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return b(e,t.length-1)},bindAxes:function(){var e,n=this,i=n.options,r=n.chart;c(n.axisTypes||[],function(o){c(r[o],function(t){e=t.options,(i[o]===e.index||void 0!==i[o]&&i[o]===e.id||void 0===i[o]&&0===e.index)&&(n.insert(t.series),n[o]=t,t.isDirty=!0)}),n[o]||n.optionalAxis===o||t.error(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=g(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};c(n.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,n=this.xIncrement,i=e.pointIntervalUnit,r=this.chart.time;n=b(n,e.pointStart,0);return this.pointInterval=t=b(this.pointInterval,e.pointInterval,1),i&&(e=new r.Date(n),"day"===i?r.set("Date",e,r.get("Date",e)+t):"month"===i?r.set("Month",e,r.get("Month",e)+t):"year"===i&&r.set("FullYear",e,r.get("FullYear",e)+t),t=e.getTime()-n),this.xIncrement=n+t,n},setOptions:function(t){var e=this.chart,n=e.options,i=n.plotOptions,r=(e.userOptions||{}).plotOptions||{},o=i[this.type];return this.userOptions=t,e=v(o,i.series,t),this.tooltipOptions=v(s.tooltip,s.plotOptions.series&&s.plotOptions.series.tooltip,s.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,t.tooltip),this.stickyTracking=b(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),d(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,n){var i,r=this.chart,o=this.userOptions,s=t+"Index",a=t+"Counter",c=n?n.length:b(r.options.chart[t+"Count"],r[t+"Count"]);e||(i=b(o[s],o["_"+s]),l(i)||(r.series.length||(r[a]=0),o["_"+s]=i=r[a]%c,r[a]+=1),n&&(e=n[i])),void 0!==i&&(this[s]=i),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||a[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(e){var n,i,r,o=this.options,s=this.points,a=[],l=this.requireSorting;if(c(e,function(e){var i;i=t.defined(e)&&this.pointClass.prototype.optionsToObject.call({series:this},e).x,g(i)&&(-1===(i=t.inArray(i,this.xData,r))||s[i].touched?a.push(e):e!==o.data[i]?(s[i].update(e,!1,null,!1),s[i].touched=!0,l&&(r=i+1)):s[i]&&(s[i].touched=!0),n=!0)},this),n)for(e=s.length;e--;)(i=s[e]).touched||i.remove(!1),i.touched=!1;else{if(e.length!==s.length)return!1;c(e,function(t,e){s[e].update&&t!==o.data[e]&&s[e].update(t,!1,null,!1)})}return c(a,function(t){this.addPoint(t,!1)},this),!0},setData:function(e,n,i,r){var o,s,a=this,l=a.points,u=l&&l.length||0,h=a.options,d=a.chart,f=null,v=a.xAxis,y=h.turboThreshold,w=this.xData,x=this.yData,C=(o=a.pointArrayMap)&&o.length;if(o=(e=e||[]).length,n=b(n,!0),!1!==r&&o&&u&&!a.cropped&&!a.hasGroupedData&&a.visible&&!a.isSeriesBoosting&&(s=this.updateData(e)),!s){if(a.xIncrement=null,a.colorCounter=0,c(this.parallelArrays,function(t){a[t+"Data"].length=0}),y&&o>y){for(i=0;null===f&&i<o;)f=e[i],i++;if(g(f))for(i=0;i<o;i++)w[i]=this.autoIncrement(),x[i]=e[i];else if(p(f))if(C)for(i=0;i<o;i++)f=e[i],w[i]=f[0],x[i]=f.slice(1,C+1);else for(i=0;i<o;i++)f=e[i],w[i]=f[0],x[i]=f[1];else t.error(12)}else for(i=0;i<o;i++)void 0!==e[i]&&(f={series:a},a.pointClass.prototype.applyOptions.apply(f,[e[i]]),a.updateParallelArrays(f,i));for(x&&m(x[0])&&t.error(14,!0),a.data=[],a.options.data=a.userOptions.data=e,i=u;i--;)l[i]&&l[i].destroy&&l[i].destroy();v&&(v.minRange=v.userMinRange),a.isDirty=d.isDirtyBox=!0,a.isDirtyData=!!l,i=!1}"point"===h.legendType&&(this.processData(),this.generatePoints()),n&&d.redraw(i)},processData:function(e){var n,i=this.xData,r=this.yData,o=i.length;n=0;var s,a,l,c=this.xAxis;l=(p=this.options).cropThreshold;var u,h,d=this.getExtremesFromAll||p.getExtremesFromAll,f=this.isCartesian,p=c&&c.val2lin,g=c&&c.isLog,m=this.requireSorting;if(f&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(c&&(u=(e=c.getExtremes()).min,h=e.max),f&&this.sorted&&!d&&(!l||o>l||this.forceCrop)&&(i[o-1]<u||i[0]>h?(i=[],r=[]):this.yData&&(i[0]<u||i[o-1]>h)&&(i=(n=this.cropData(this.xData,this.yData,u,h)).xData,r=n.yData,n=n.start,s=!0)),l=i.length||1;--l;)0<(o=g?p(i[l])-p(i[l-1]):i[l]-i[l-1])&&(void 0===a||o<a)?a=o:0>o&&m&&(t.error(15),m=!1);this.cropped=s,this.cropStart=n,this.processedXData=i,this.processedYData=r,this.closestPointRange=a},cropData:function(t,e,n,i,r){var o,s=t.length,a=0,l=s;for(r=b(r,this.cropShoulder,1),o=0;o<s;o++)if(t[o]>=n){a=Math.max(0,o-r);break}for(n=o;n<s;n++)if(t[n]>i){l=n+r;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}},generatePoints:function(){var t,e,n,i,r=(f=this.options).data,o=this.data,s=this.processedXData,a=this.processedYData,l=this.pointClass,c=s.length,u=this.cropStart||0,d=this.hasGroupedData,f=f.keys,p=[];for(o||d||((o=[]).length=r.length,o=this.data=o),f&&d&&(this.options.keys=!1),i=0;i<c;i++)e=u+i,d?((n=(new l).init(this,[s[i]].concat(x(a[i])))).dataGroup=this.groupMap[i],n.dataGroup.options&&(n.options=n.dataGroup.options,h(n,n.dataGroup.options))):(n=o[e])||void 0===r[e]||(o[e]=n=(new l).init(this,r[e],s[i])),n&&(n.index=e,p[i]=n);if(this.options.keys=f,o&&(c!==(t=o.length)||d))for(i=0;i<t;i++)i!==u||d||(i+=c),o[i]&&(o[i].destroyElements(),o[i].plotX=void 0);this.data=o,this.points=p},getExtremes:function(t){var e,n,o,s,a,l=this.yAxis,c=this.processedXData,u=[],h=0,d=(e=this.xAxis.getExtremes()).min,f=e.max,m=this.requireSorting?1:0;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,a=0;a<e;a++)if(o=c[a],s=t[a],n=(g(s,!0)||p(s))&&(!l.positiveValuesOnly||s.length||0<s),o=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(c[a+m]||o)>=d&&(c[a-m]||o)<=f,n&&o)if(n=s.length)for(;n--;)"number"==typeof s[n]&&(u[h++]=s[n]);else u[h++]=s;this.dataMin=r(u),this.dataMax=i(u)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,n,i,r=this.options,s=r.stacking,a=this.xAxis,c=a.categories,u=this.yAxis,h=this.points,f=h.length,p=!!this.modifyValue,m=r.pointPlacement,v="between"===m||g(m),y=r.threshold,w=r.startFromThreshold?y:0,x=Number.MAX_VALUE;for("between"===m&&(m=.5),g(m)&&(m*=b(r.pointRange||a.pointRange)),r=0;r<f;r++){var C=h[r],S=C.x,k=C.y;e=C.low;var _,E=s&&u.stacks[(this.negStacks&&k<(w?0:y)?"-":"")+this.stackKey];u.positiveValuesOnly&&null!==k&&0>=k&&(C.isNull=!0),C.plotX=t=o(Math.min(Math.max(-1e5,a.translate(S,0,0,0,1,m,"flags"===this.type)),1e5)),s&&this.visible&&!C.isNull&&E&&E[S]&&(i=this.getStackIndicator(i,S,this.index),e=(k=(_=E[S]).points[i.key])[0],k=k[1],e===w&&i.key===E[S].base&&(e=b(g(y)&&y,u.min)),u.positiveValuesOnly&&0>=e&&(e=null),C.total=C.stackTotal=_.total,C.percentage=_.total&&C.y/_.total*100,C.stackY=k,_.setOffset(this.pointXOffset||0,this.barW||0)),C.yBottom=l(e)?Math.min(Math.max(-1e5,u.translate(e,0,1,0,1)),1e5):null,p&&(k=this.modifyValue(k,C)),C.plotY=e="number"==typeof k&&Infinity!==k?Math.min(Math.max(-1e5,u.translate(k,0,1,0,1)),1e5):void 0,C.isInside=void 0!==e&&0<=e&&e<=u.len&&0<=t&&t<=a.len,C.clientX=v?o(a.translate(S,0,0,0,1,m)):t,C.negative=C.y<(y||0),C.category=c&&void 0!==c[C.x]?c[C.x]:C.x,C.isNull||(void 0!==n&&(x=Math.min(x,Math.abs(t-n))),n=t),C.zone=this.zones.length&&C.getZone()}this.closestPointRangePx=x,d(this,"afterTranslate")},getValidPoints:function(t,e){var n=this.chart;return f(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(),l=e[a],c=e[a+"m"];l||(t&&(s.width=0,r&&(s.x=e.plotSizeX),e[a+"m"]=c=i.clipRect(r?e.plotSizeX+99:-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,i=this.chart,r=n(this.options.animation);t?this.setClip(r):((t=i[e=this.sharedClipKey])&&t.animate({width:i.plotSizeX,x:0},r),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99,x:0},r),this.animate=null)},afterAnimate:function(){this.setClip(),d(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,n,i,r,o,s,a,l=this.points,c=this.chart,u=this.options.marker,h=this[this.specialGroup]||this.markerGroup,d=b(u.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=u.enabledThreshold*u.radius);if(!1!==u.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)i=(e=l[t]).graphic,r=e.marker||{},o=!!e.marker,n=d&&void 0===r.enabled||r.enabled,s=e.isInside,n&&!e.isNull?(n=b(r.symbol,this.symbol),a=this.markerAttribs(e,e.selected&&"select"),i?i[s?"show":"hide"](!0).animate(a):s&&(0<a.width||e.hasImage)&&(e.graphic=i=c.renderer.symbol(n,a.x,a.y,a.width,a.height,o?r:u).add(h)),i&&i.attr(this.pointAttribs(e,e.selected&&"select")),i&&i.addClass(e.getClassName(),!0)):i&&(e.graphic=i.destroy())},markerAttribs:function(t,e){var n=this.options.marker,i=t.marker||{},r=i.symbol||n.symbol,o=b(i.radius,n.radius);return e&&(n=n.states[e],e=i.states&&i.states[e],o=b(e&&e.radius,n&&n.radius,o+(n&&n.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var n=this.options.marker,i=(a=t&&t.options)&&a.marker||{},r=this.color,o=a&&a.color,s=t&&t.color,a=b(i.lineWidth,n.lineWidth);return t=t&&t.zone&&t.zone.color,r=o||t||s||r,t=i.fillColor||n.fillColor||r,r=i.lineColor||n.lineColor||r,e&&(n=n.states[e],e=i.states&&i.states[e]||{},a=b(e.lineWidth,n.lineWidth,a+b(e.lineWidthPlus,n.lineWidthPlus,0)),t=e.fillColor||n.fillColor||t,r=e.lineColor||n.lineColor||r),{stroke:r,"stroke-width":a,fill:t}},destroy:function(){var e,n,i,r=this,o=r.chart,s=/AppleWebKit\/533/.test(k.navigator.userAgent),a=r.data||[];for(d(r,"destroy"),w(r),c(r.axisTypes||[],function(t){(i=r[t])&&i.series&&(u(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=a.length;e--;)(n=a[e])&&n.destroy&&n.destroy();r.points=null,t.clearTimeout(r.animationTimeout),y(r,function(t,e){t instanceof C&&!t.survive&&t[s&&"group"===e?"hide":"destroy"]()}),o.hoverSeries===r&&(o.hoverSeries=null),u(o.series,r),o.orderSeries(),y(r,function(t,e){delete r[e]})},getGraphPath:function(t,e,n){var i,r,o=this,s=o.options,a=s.step,u=[],h=[];return(i=(t=t||o.points).reversed)&&t.reverse(),(a={right:1,center:2}[a]||a&&3)&&i&&(a=4-a),!s.connectNulls||e||n||(t=this.getValidPoints(t)),c(t,function(i,c){var d=i.plotX,f=i.plotY,p=t[c-1];(i.leftCliff||p&&p.rightCliff)&&!n&&(r=!0),i.isNull&&!l(e)&&0<c?r=!s.connectNulls:i.isNull&&!e?r=!0:(0===c||r?c=["M",i.plotX,i.plotY]:o.getPointSpline?c=o.getPointSpline(t,i,c):a?(c=1===a?["L",p.plotX,f]:2===a?["L",(p.plotX+d)/2,p.plotY,"L",(p.plotX+d)/2,f]:["L",d,p.plotY]).push("L",d,f):c=["L",d,f],h.push(i.x),a&&(h.push(i.x),2===a&&h.push(i.x)),u.push.apply(u,c),r=!1)}),u.xMap=h,o.graphPath=u},drawGraph:function(){var t=this,e=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];i=t.getZonesGraphs(i);c(i,function(i,r){var o=i[0],s=t[o];s?(s.endX=t.preventGraphAnimation?null:n.xMap,s.animate({d:n})):n.length&&(t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(t.group),s={stroke:i[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},i[3]?s.dashstyle=i[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),s=t[o].attr(s).shadow(2>r&&e.shadow)),s&&(s.startX=n.xMap,s.isArea=n.isArea)})},getZonesGraphs:function(t){return c(this.zones,function(e,n){t.push(["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(e.className||""),e.color||this.color,e.dashStyle||this.options.dashStyle])},this),t},applyZones:function(){var t,e,n,i,r,o,s,a,l,u=this,h=this.chart,d=h.renderer,f=this.zones,p=this.clips||[],g=this.graph,m=this.area,v=Math.max(h.chartWidth,h.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],w=h.inverted,x=!1;f.length&&(g||m)&&y&&void 0!==y.min&&(r=y.reversed,o=y.horiz,g&&!this.showLine&&g.hide(),m&&m.hide(),i=y.getExtremes(),c(f,function(c,f){t=r?o?h.plotWidth:0:o?0:y.toPixels(i.min),t=Math.min(Math.max(b(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(b(c.value,i.max),!0)),0),v),x&&(t=e=y.toPixels(i.max)),s=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(n={x:w?l:a,y:0,width:s,height:v},o||(n.x=h.plotHeight-n.x)):(n={x:0,y:w?l:a,width:v,height:s},o&&(n.y=h.plotWidth-n.y)),w&&d.isVML&&(n=y.isXAxis?{x:0,y:r?a:l,height:n.width,width:h.chartWidth}:{x:n.y-h.plotLeft-h.spacingBox.x,y:0,width:n.height,height:h.chartHeight}),p[f]?p[f].animate(n):(p[f]=d.clipRect(n),g&&u["zone-graph-"+f].clip(p[f]),m&&u["zone-area-"+f].clip(p[f])),x=c.value>i.max,u.resetZones&&0===e&&(e=void 0)}),this.clips=p)},invertGroups:function(t){function n(){c(["group","markerGroup"],function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var i,r=this,o=r.chart;r.xAxis&&(i=e(o,"resize",n),e(r,"destroy",i),n(t),r.invertGroups=n)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o
;return s&&(this[t]=o=this.chart.renderer.g().attr({zIndex:i||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,r=e.options,o=!!e.animate&&i.renderer.isSVG&&n(r.animation).duration,s=e.visible?"inherit":"hidden",a=r.zIndex,l=e.hasRendered,c=i.seriesGroup,u=i.inverted;t=e.plotGroup("group","series",s,a,c),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,c),o&&e.animate(!0),t.inverted=!!e.isCartesian&&u,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(u),!1===r.clip||e.sharedClipKey||l||t.clip(i.clipRect),o&&e.animate(),l||(e.animationTimeout=S(function(){e.afterAnimate()},o)),e.isDirty=!1,e.hasRendered=!0,d(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(t.inverted&&n.attr({width:t.plotWidth,height:t.plotHeight}),n.animate({translateX:b(i&&i.left,t.plotLeft),translateY:b(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:r?i.len-t.chartX+i.pos:t.chartY-i.pos},e)},buildKDTree:function(){function t(n,i,r){var o,s;if(s=n&&n.length)return o=e.kdAxisArray[i%r],n.sort(function(t,e){return t[o]-e[o]}),{point:n[s=Math.floor(s/2)],left:t(n.slice(0,s),i+1,r),right:t(n.slice(s+1),i+1,r)}}this.buildingKdTree=!0;var e=this,n=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,S(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),n,n),e.buildingKdTree=!1},e.options.kdNow?0:1)},searchKDTree:function(t,e){function n(t,e,a,c){var u,h,d=e.point,f=i.kdAxisArray[a%c],p=d;return u=((h=l(t[r])&&l(d[r])?Math.pow(t[r]-d[r],2):null)||0)+((u=l(t[o])&&l(d[o])?Math.pow(t[o]-d[o],2):null)||0),d.dist=l(u)?Math.sqrt(u):Number.MAX_VALUE,d.distX=l(h)?Math.sqrt(h):Number.MAX_VALUE,h=0>(f=t[f]-d[f])?"right":"left",e[u=0>f?"left":"right"]&&(p=(u=n(t,e[u],a+1,c))[s]<p[s]?u:d),e[h]&&Math.sqrt(f*f)<p[s]&&(p=(t=n(t,e[h],a+1,c))[s]<p[s]?t:p),p}var i=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],s=e?"distX":"dist";if(e=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return n(t,this.kdTree,e,e)}})}(c),function(t){var e=t.Axis,n=t.Chart,i=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,s=t.each,a=t.format,l=t.objectEach,c=t.pick,u=t.Series;t.StackItem=function(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:c(e.y,o?4:n?14:-6),x:c(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.axis.chart,n=this.options,i=(i=n.format)?a(i,this,e.time):n.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=e.renderer.text(i,null,null,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var n=this.axis,i=n.chart,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),s=n.translate(0);s=r(o)&&Math.abs(o-s);t=i.xAxis[0].translate(this.x)+t,n=r(o)&&this.getStackBox(i,this,t,o,e,s,n),(e=this.label)&&n&&(e.align(this.alignOptions,null,n),n=e.alignAttr,e[!1===this.options.crop||i.isInsidePlot(n.x,n.y)?"show":"hide"](!0))},getStackBox:function(t,e,n,i,r,o,s){var a=e.axis.reversed,l=t.inverted;return t=s.height+s.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!a||!e.isNegative&&a,{x:l?e?i:i-o:n,y:l?t-n-r:e?t-i-o:t-i,width:l?o:r,height:l?r:o}}},n.prototype.getStacks=function(){var t=this;s(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),s(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+c(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,n=c(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=i;t--;)e[n?t:i-t-1].setStackedPoints();for(t=0;t<i;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,n=this.stacks,i=this.stackTotalGroup;i||(this.stackTotalGroup=i=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),i.translate(t.plotLeft,t.plotTop),l(n,function(t){l(t,function(t){t.render(i)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,function(e){l(e,function(n,i){n.touched<t.stacksTouched?(n.destroy(),delete e[i]):(n.total=null,n.cumulative=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,function(t){l(t,function(t){t.cumulative=t.total})}))},u.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,n,o,s,a,l,u,h=this.processedXData,d=this.processedYData,f=[],p=d.length,g=(y=this.options).threshold,m=c(y.startFromThreshold&&g,0),v=y.stack,y=y.stacking,b=this.stackKey,w="-"+b,x=this.negStacks,C=this.yAxis,S=C.stacks,k=C.oldStacks;for(C.stacksTouched+=1,a=0;a<p;a++)l=h[a],u=d[a],s=(e=this.getStackIndicator(e,l,this.index)).key,S[o=(n=x&&u<(m?0:g))?w:b]||(S[o]={}),S[o][l]||(k[o]&&k[o][l]?(S[o][l]=k[o][l],S[o][l].total=null):S[o][l]=new t.StackItem(C,C.options.stackLabels,n,l,v)),o=S[o][l],null!==u?(o.points[s]=o.points[this.index]=[c(o.cumulative,m)],r(o.cumulative)||(o.base=s),o.touched=C.stacksTouched,0<e.index&&!1===this.singleStacks&&(o.points[s][0]=o.points[this.index+","+l+",0"][0])):o.points[s]=o.points[this.index]=null,"percent"===y?(n=n?b:w,x&&S[n]&&S[n][l]?(n=S[n][l],o.total=n.total=Math.max(n.total,o.total)+Math.abs(u)||0):o.total=i(o.total+(Math.abs(u)||0))):o.total=i(o.total+(u||0)),o.cumulative=c(o.cumulative,m)+(u||0),null!==u&&(o.points[s].push(o.cumulative),f[a]=o.cumulative);"percent"===y&&(C.usePercentage=!0),this.stackedYData=f,C.oldStacks={}}},u.prototype.modifyStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,r=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&s([n,"-"+n],function(n){for(var s,a,l=r.length;l--;)s=r[l],t=e.getStackIndicator(t,s,e.index,n),(a=(s=i[n]&&i[n][s])&&s.points[t.key])&&e[o+"Stacker"](a,s,l)})},u.prototype.percentStacker=function(t,e,n){e=e.total?100/e.total:0,t[0]=i(t[0]*e),t[1]=i(t[1]*e),this.stackedYData[n]=t[1]},u.prototype.getStackIndicator=function(t,e,n,i){return!r(t)||t.x!==e||i&&t.key!==i?t={x:e,index:0,key:i}:t.index++,t.key=[n,e,t.index].join(),t}}(c),function(t){var e=t.addEvent,n=t.animate,i=t.Axis,r=t.createElement,o=t.css,s=t.defined,a=t.each,l=t.erase,c=t.extend,u=t.fireEvent,h=t.inArray,d=t.isNumber,f=t.isObject,p=t.isArray,g=t.merge,m=t.objectEach,v=t.pick,y=t.Point,b=t.Series,w=t.seriesTypes,x=t.setAnimation,C=t.splat;c(t.Chart.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=v(e,!0),u(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),u(r,"afterAddSeries"),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var o=e?"xAxis":"yAxis",s=this.options;return t=g(t,{index:this[o].length,isX:e}),e=new i(this,t),s[o]=C(s[o]||{}),s[o].push(t),v(n,!0)&&this.redraw(r),e},showLoading:function(t){var i=this,s=i.options,a=i.loadingDiv,l=s.loading,u=function(){a&&o(a,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};a||(i.loadingDiv=a=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,a),e(i,"redraw",u)),a.className="highcharts-loading",i.loadingSpan.innerHTML=t||s.lang.loading,o(a,c(l.style,{zIndex:10})),o(i.loadingSpan,l.labelStyle),i.loadingShown||(o(a,{opacity:0,display:""}),n(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,u()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",n(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,n,i){var r,o,l=this,c={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},f=t.chart,p=[];u(l,"update",{options:t}),f&&(g(!0,l.options.chart,f),"className"in f&&l.setClassName(f.className),"reflow"in f&&l.setReflow(f.reflow),("inverted"in f||"polar"in f||"type"in f)&&(l.propFromSeries(),r=!0),"alignTicks"in f&&(r=!0),m(f,function(t,e){-1!==h("chart."+e,l.propsRequireUpdateSeries)&&(o=!0),-1!==h(e,l.propsRequireDirtyBox)&&(l.isDirtyBox=!0)}),"style"in f&&l.renderer.setStyle(f.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),m(t,function(t,e){l[e]&&"function"==typeof l[e].update?l[e].update(t,!1):"function"==typeof l[c[e]]&&l[c[e]](t),"chart"!==e&&-1!==h(e,l.propsRequireUpdateSeries)&&(o=!0)}),a("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){var i;t[e]&&("series"===e&&(i=[],a(l[e],function(t,e){t.options.isInternal||i.push(e)})),a(C(t[e]),function(t,r){(r=s(t.id)&&l.get(t.id)||l[e][i?i[r]:r])&&r.coll===e&&(r.update(t,!1),n&&(r.touched=!0)),!r&&n&&("series"===e?l.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(l.addAxis(t,"xAxis"===e,!1).touched=!0))}),n&&a(l[e],function(t){t.touched||t.options.isInternal?delete t.touched:p.push(t)}))}),a(p,function(t){t.remove&&t.remove(!1)}),r&&a(l.axes,function(t){t.update({},!1)}),o&&a(l.series,function(t){t.update({},!1)}),t.loading&&g(!0,l.options.loading,t.loading),r=f&&f.width,f=f&&f.height,d(r)&&r!==l.chartWidth||d(f)&&f!==l.chartHeight?l.setSize(r,f,i):v(e,!0)&&l.redraw(i),u(l,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),c(y.prototype,{update:function(t,e,n,i){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),f(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),o=s.index,a.updateParallelArrays(s,o),u.data[o]=f(u.data[o],!0)||f(t,!0)?s.options:v(t,u.data[o]),a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(n)}var o,s=this,a=s.series,l=s.graphic,c=a.chart,u=a.options;e=v(e,!0),!1===i?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(h(this,this.series.data),t,e)}}),c(b.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this.options,c=this.data,u=this.chart,h=(h=this.xAxis)&&h.hasNames&&h.names,d=l.data,f=this.xData;if(e=v(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=f.length,this.requireSorting&&a<f[s-1])for(o=!0;s&&f[s-1]>a;)s--;this.updateParallelArrays(r,"splice",s,0,0),this.updateParallelArrays(r,s),h&&r.name&&(h[a]=r.name),d.splice(s,0,t),o&&(this.data.splice(s,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(r,"shift"),d.shift())),this.isDirtyData=this.isDirty=!0,e&&u.redraw(i)},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};x(n,a),e=v(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,n){function i(){r.destroy(),r.remove=null,o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),v(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==n?u(r,"remove",null,i):i()},update:function(e,n){var i,r=this,o=r.chart,s=r.userOptions,l=r.oldType||r.type,d=e.type||s.type||o.options.chart.type,f=w[l].prototype,p=["group","markerGroup","dataLabelsGroup"],m=["navigatorSeries","baseSeries"],y=r.finishedAnimating&&{animation:!1},b=["data","name","turboThreshold"],x=t.keys(e),C=0<x.length;if(a(x,function(t){-1===h(t,b)&&(C=!1)}),C)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{for(i in m=p.concat(m),a(m,function(t){m[t]=r[t],delete r[t]}),e=g(s,y,{index:r.index,pointStart:v(s.pointStart,r.xData[0])},{data:r.options.data},e),r.remove(!1,null,!1),f)r[i]=void 0;w[d||l]?c(r,w[d||l].prototype):t.error(17,!0),a(m,function(t){r[t]=m[t]}),r.init(o,e),e.zIndex!==s.zIndex&&a(p,function(t){r[t]&&r[t].attr({zIndex:e.zIndex})}),r.oldType=l,o.linkSeries()}u(this,"afterUpdate"),v(n,!0)&&o.redraw(!!C&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),c(i.prototype,{update:function(t,e){var n=this.chart,i=t&&t.events||{};t=g(this.userOptions,t),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=t),m(n.options[this.coll].events,function(t,e){"undefined"==typeof i[e]&&(i[e]=void 0)}),this.destroy(!0),this.init(n,c(t,{events:i})),n.isDirtyBox=!0,v(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),p(e.options[n])?e.options[n].splice(this.options.index,1):delete e.options[n],a(e[n],function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(c),function(t){var e=t.color,n=t.each,i=t.map,r=t.pick,o=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var o,s,a=[],l=[],c=this.xAxis,u=this.yAxis,h=u.stacks[this.stackKey],d={},f=this.index,p=u.series,g=p.length,m=r(u.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(s=0;s<e.length;s++)e[s].leftNull=e[s].rightNull=null,d[e[s].x]=e[s];t.objectEach(h,function(t,e){null!==t.total&&l.push(e)}),l.sort(function(t,e){return t-e}),o=i(p,function(){return this.visible}),n(l,function(t,e){var i,r,p=0;if(d[t]&&!d[t].isNull)a.push(d[t]),n([-1,1],function(n){var a=1===n?"rightNull":"leftNull",c=0,u=h[l[e+n]];if(u)for(s=f;0<=s&&s<g;)(i=u.points[s])||(s===f?d[t][a]=!0:o[s]&&(r=h[t].points[s])&&(c-=r[1]-r[0])),s+=m;d[t][1===n?"rightCliff":"leftCliff"]=c});else{for(s=f;0<=s&&s<g;){if(i=h[t].points[s]){p=i[1];break}s+=m}p=u.translate(p,0,1,0,1),a.push({isNull:!0,plotX:c.translate(t,0,0,0,1),x:t,plotY:p,yBottom:p})}})}return a},getGraphPath:function(t){var e,n,i,s,a=o.prototype.getGraphPath,l=(m=this.options).stacking,c=this.yAxis,u=[],h=[],d=this.index,f=c.stacks[this.stackKey],p=m.threshold,g=c.getThreshold(m.threshold),m=m.connectNulls||"percent"===l,v=function(e,n,r){var o=t[e];e=l&&f[o.x].points[d];var s=o[r+"Null"]||0;r=o[r+"Cliff"]||0;var a,m;o=!0;r||s?(a=(s?e[0]:e[1])+r,m=e[0]+r,o=!!s):!l&&t[n]&&t[n].isNull&&(a=m=p),void 0!==a&&(h.push({plotX:i,plotY:null===a?g:c.getThreshold(a),isNull:o,isCliff:!0}),u.push({plotX:i,plotY:null===m?g:c.getThreshold(m),doCurve:!1}))};for(t=t||this.points,l&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)n=t[e].isNull,i=r(t[e].rectPlotX,t[e].plotX),s=r(t[e].yBottom,g),(!n||m)&&(m||v(e,e-1,"left"),n&&!l&&m||(h.push(t[e]),u.push({x:e,plotX:i,plotY:s})),m||v(e,e+1,"right"));return e=a.call(this,h,!0,!0),u.reversed=!0,(n=a.call(this,u,!0,!0)).length&&(n[0]="L"),n=e.concat(n),a=a.call(this,h,!1,m),n.xMap=e.xMap,this.areaPath=n,a},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,i=this.areaPath,s=this.options,a=[["area","highcharts-area",this.color,s.fillColor]];n(this.zones,function(e,n){a.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+e.className,e.color||t.color,e.fillColor||s.fillColor])}),n(a,function(n){var o=n[0],a=t[o];a?(a.endX=t.preventGraphAnimation?null:i.xMap,a.animate({d:i})):(a=t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({fill:r(n[3],e(n[2]).setOpacity(r(s.fillOpacity,.75)).get()),zIndex:0}).add(t.group)).isArea=!0,a.startX=i.xMap,a.shiftUnit=s.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(c),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,n,i){var r,o,s,a,l=n.plotX,c=n.plotY,u=t[i-1];if(i=t[i+1],u&&!u.isNull&&!1!==u.doCurve&&!n.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!n.isCliff){t=u.plotY,s=i.plotX;var h=0;o=(1.5*c+t)/2.5,a=(1.5*c+(i=i.plotY))/2.5,(s=(1.5*l+s)/2.5)!==(r=(1.5*l+u.plotX)/2.5)&&(h=(a-o)*(s-l)/(s-r)+c-a),a+=h,(o+=h)>t&&o>c?a=2*c-(o=Math.max(t,c)):o<t&&o<c&&(a=2*c-(o=Math.min(t,c))),a>i&&a>c?o=2*c-(a=Math.max(i,c)):a<i&&a<c&&(o=2*c-(a=Math.min(i,c))),n.rightContX=s,n.rightContY=a}return n=["C",e(u.rightContX,u.plotX),e(u.rightContY,u.plotY),e(r,l),e(o,c),l,c],u.rightContX=u.rightContY=null,n}})}(c),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(c),function(t){var e=t.animObject,n=t.color,i=t.each,r=t.extend,o=t.defined,s=t.isNumber,a=t.merge,l=t.pick,c=t.Series,u=t.seriesType,h=t.svg;u("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){c.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,r=e.xAxis,o=e.yAxis,s=r.options.reversedStacks,a=(s=r.reversed&&!s||!r.reversed&&s,{}),c=0;!1===n.grouping?c=1:i(e.chart.series,function(n){var i,r=n.options,s=n.yAxis;n.type!==e.type||!n.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==s.len||o.pos!==s.pos||(r.stacking?(t=n.stackKey,void 0===a[t]&&(a[t]=c++),i=a[t]):!1!==r.grouping&&(i=c++),n.columnIndex=i)});var u=Math.min(Math.abs(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),h=u*n.groupPadding,d=(u-2*h)/(c||1);n=Math.min(n.maxPointWidth||r.len,l(n.pointWidth,d*(1-2*n.pointPadding)));return e.columnMetrics={width:n,offset:(d-n)/2+(h+((e.columnIndex||0)+(s?1:0))*d-u/2)*(s?-1:1)},e.columnMetrics},crispCol:function(t,e,n,i){var r=this.chart,o=-((s=this.borderWidth)%2?.5:0),s=s%2?.5:1;return r.inverted&&r.renderer.isVML&&(s+=1),this.options.crisp&&(n=Math.round(t+n)+o,n-=t=Math.round(t)+o),i=Math.round(e+i)+s,o=.5>=Math.abs(e)&&.5<i,i-=e=Math.round(e)+s,o&&i&&(--e,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,s=(r=t.borderWidth=l(n.borderWidth,r?0:1),t.yAxis),a=n.threshold,u=t.translatedThreshold=s.getThreshold(a),h=l(n.minPointLength,5),d=t.getColumnMetrics(),f=d.width,p=t.barW=Math.max(f,1+2*r),g=t.pointXOffset=d.offset;e.inverted&&(u-=.5),n.pointPadding&&(p=Math.ceil(p)),c.prototype.translate.apply(t),i(t.points,function(n){var i,r=l(n.yBottom,u),c=999+Math.abs(r),d=f,m=(c=Math.min(Math.max(-c,n.plotY),s.len+c),n.plotX+g),v=p,y=Math.min(c,r),b=Math.max(c,r)-y;h&&Math.abs(b)<h&&(b=h,i=!s.reversed&&!n.negative||s.reversed&&n.negative,n.y===a&&t.dataMax<=a&&s.min<a&&(i=!i),y=Math.abs(y-u)>h?r-h:u-(i?h:0)),o(n.options.pointWidth)&&(d=v=Math.ceil(n.options.pointWidth),m-=Math.round((d-f)/2)),n.barX=m,n.pointWidth=d,n.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-c,t.xAxis.len-m-v/2,b]:[m+v/2,c+s.pos-e.plotTop,b],n.shapeType="rect",n.shapeArgs=t.crispCol.apply(t,n.isNull?[m,u,v,0]:[m,y,v,b])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,r=this.options;i=(u=this.pointAttrToOptions||{}).stroke||"borderColor";var o=u["stroke-width"]||"borderWidth",s=t&&t.color||this.color,l=t&&t[i]||r[i]||this.color||s,c=t&&t[o]||r[o]||this[o]||0,u=r.dashStyle;return t&&this.zones.length&&(s=t.getZone(),s=t.options.color||s&&s.color||this.color),e&&(e=(t=a(r.states[e],t.options.states&&t.options.states[e]||{})).brightness,s=t.color||void 0!==e&&n(s).brighten(t.brightness).get()||s,l=t[i]||l,c=t[o]||c,u=t.dashStyle||u),i={fill:s,stroke:l,"stroke-width":c},u&&(i.dashstyle=u),i},drawPoints:function(){var t,e=this,n=this.chart,r=e.options,o=n.renderer,l=r.animationLimit||250;i(e.points,function(i){var c=i.graphic,u=c&&n.pointCount<l?"animate":"attr";s(i.plotY)&&null!==i.y?(t=i.shapeArgs,c?c[u](a(t)):i.graphic=c=o[i.shapeType](t).add(i.group||e.group),r.borderRadius&&c.attr({r:r.borderRadius}),c[u](e.pointAttribs(i,i.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),c.addClass(i.getClassName(),!0)):c&&(i.graphic=c.destroy())})},animate:function(t){var n,i=this,o=this.yAxis,s=i.options,a=this.chart.inverted,l={},c=a?"translateX":"translateY";h&&(t?(l.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(s.threshold))),a?l.translateX=t-o.len:l.translateY=t,i.group.attr(l)):(n=i.group.attr(c),i.group.animate({scaleY:1},r(e(i.options.animation),{step:function(t,e){l[c]=n+e.pos*(o.pos-n),i.group.attr(l)}})),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&i(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),c.prototype.remove.apply(t,arguments)}})}(c),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(c),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(c),function(t){var e=t.deg2rad,n=t.isNumber,i=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,n=this.options,o=this.chart,s=2*(n.slicedOffset||0),a=o.plotWidth-2*s,l=(o=o.plotHeight-2*s,n.center),c=(l=[i(l[0],"50%"),i(l[1],"50%"),n.size||"100%",n.innerSize||0],Math.min(a,o));for(t=0;4>t;++t)e=l[t],n=2>t||2===t&&/%$/.test(e),l[t]=r(e,[a,o,c,l[2]][t])+(n?s:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,i){return t=n(t)?t:0,i=n(i)&&i>t&&360>i-t?i:t+360,{start:e*(t+-90),end:e*(i+-90)}}}}(c),function(t){var e=t.addEvent,n=t.CenteredSeriesMixin,i=t.defined,r=t.each,o=t.extend,s=n.getStartAndEndRadians,a=t.inArray,l=t.noop,c=t.pick,u=t.Point,h=t.Series,d=t.seriesType,f=t.setAnimation;d("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(r(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=i[t],n+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=n,t=0;t<r;t++)(e=i[t]).percentage=0<n&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){h.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,a,l=0,u=(m=this.options).slicedOffset,h=u+(m.borderWidth||0),d=s(m.startAngle,m.endAngle),f=this.startAngleRad=d.start,p=(d=(this.endAngleRad=d.end)-f,this.points),g=m.dataLabels.distance,m=m.ignoreHiddenPoint,v=p.length;for(t||(this.center=t=this.getCenter()),this.getX=function(e,n,r){return i=Math.asin(Math.min((e-t[1])/(t[2]/2+r.labelDistance),1)),t[0]+(n?-1:1)*Math.cos(i)*(t[2]/2+r.labelDistance)},o=0;o<v;o++)(a=p[o]).labelDistance=c(a.options.dataLabels&&a.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,a.labelDistance),e=f+l*d,m&&!a.visible||(l+=a.percentage/100),n=f+l*d,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*n)/1e3},(i=(n+e)/2)>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),a.slicedTranslation={translateX:Math.round(Math.cos(i)*u),translateY:Math.round(Math.sin(i)*u)},n=Math.cos(i)*t[2]/2,r=Math.sin(i)*t[2]/2,a.tooltipPos=[t[0]+.7*n,t[1]+.7*r],a.half=i<-Math.PI/2||i>Math.PI/2?1:0,a.angle=i,e=Math.min(h,a.labelDistance/5),a.labelPos=[t[0]+n+Math.cos(i)*a.labelDistance,t[1]+r+Math.sin(i)*a.labelDistance,t[0]+n+Math.cos(i)*e,t[1]+r+Math.sin(i)*e,t[0]+n,t[1]+r,0>a.labelDistance?"center":a.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,i,s=this,a=s.chart.renderer,l=s.options.shadow;l&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),r(s.points,function(r){if(e=r.graphic,r.isNull)e&&(r.graphic=e.destroy());else{i=r.shapeArgs,t=r.getTranslate();var c=r.shadowGroup;l&&!c&&(c=r.shadowGroup=a.g("shadow").add(s.shadowGroup)),c&&c.attr(t),n=s.pointAttribs(r,r.selected&&"select"),e?e.setRadialReference(s.center).attr(n).animate(o(i,t)):(r.graphic=e=a[r.shapeType](i).setRadialReference(s.center).attr(t).add(s.group),e.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,c)),e.attr({visibility:r.visible?"inherit":"hidden"}),e.addClass(r.getClassName())}})},searchPoint:l,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:n.getCenter,getSymbol:l},{init:function(){u.prototype.init.apply(this,arguments);var t,n=this;return n.name=c(n.name,"Slice"),e(n,"select",t=function(t){n.slice("select"===t.type)}),e(n,"unselect",t),n},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var n=this,i=n.series,o=i.chart,s=i.options.ignoreHiddenPoint;e=c(e,s),t!==n.visible&&(n.visible=n.options.visible=t=void 0===t?!n.visible:t,i.options.data[a(n,i.data)]=n.options,r(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&o.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),s&&(i.isDirty=!0),e&&o.redraw())},slice:function(t,e,n){var r=this.series;f(n,r.chart),c(e,!0),this.sliced=this.options.sliced=i(t)?t:!this.sliced,r.options.data[a(this,r.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(c),function(t){var e=t.addEvent,n=t.arrayMax,i=t.defined,r=t.each,o=t.extend,s=t.format,a=t.map,l=t.merge,c=t.noop,u=t.pick,h=t.relativeLength,d=t.Series,f=t.seriesTypes,p=t.some,g=t.stableSort,m=t.isArray,v=t.splat;t.distribute=function(e,n,i){function o(t,e){return t.target-e.target}var s,l,c=!0,h=e,d=[];l=0;var f=h.reducedLen||n;for(s=e.length;s--;)l+=e[s].size;if(l>f){for(g(e,function(t,e){return(e.rank||0)-(t.rank||0)}),l=s=0;l<=f;)l+=e[s].size,s++;d=e.splice(s-1,e.length)}for(g(e,o),e=a(e,function(t){return{size:t.size,targets:[t.target],align:u(t.align,.5)}});c;){for(s=e.length;s--;)c=e[s],l=(Math.min.apply(0,c.targets)+Math.max.apply(0,c.targets))/2,c.pos=Math.min(Math.max(0,l-c.size*c.align),n-c.size);for(s=e.length,c=!1;s--;)0<s&&e[s-1].pos+e[s-1].size>e[s].pos&&(e[s-1].size+=e[s].size,e[s-1].targets=e[s-1].targets.concat(e[s].targets),e[s-1].align=.5,e[s-1].pos+e[s-1].size>n&&(e[s-1].pos=n-e[s-1].size),e.splice(s,1),c=!0)}h.push.apply(h,d),s=0,p(e,function(e){var o=0;if(p(e.targets,function(){if(h[s].pos=e.pos+o,Math.abs(h[s].pos-h[s].target)>i)return r(h.slice(0,s+1),function(t){delete t.pos}),h.reducedLen=(h.reducedLen||n)-.1*n,h.reducedLen>.1*n&&t.distribute(h,n,i),!0;o+=h[s].size,s++}))return!0}),g(h,o)},d.prototype.drawDataLabels=function(){function n(t,e){var n=e.filter;return!n||(e=n.operator,t=t[n.property],n=n.value,">"===e&&t>n||"<"===e&&t<n||">="===e&&t>=n||"<="===e&&t<=n||"=="===e&&t==n||"==="===e&&t===n)}function o(t,e){var n,i=[];if(m(t)&&!m(e))i=a(t,function(t){return l(t,e)});else if(m(e)&&!m(t))i=a(e,function(e){return l(t,e)});else if(m(t)||m(e))for(n=Math.max(t.length,e.length);n--;)i[n]=l(t[n],e[n]);else i=l(t,e);return i}var c,h,d=this,f=d.chart,p=d.options,g=p.dataLabels,y=d.points,b=d.hasRendered||0,w=u(g.defer,!!p.animation),x=f.renderer;g=o(o(f.options.plotOptions&&f.options.plotOptions.series&&f.options.plotOptions.series.dataLabels,f.options.plotOptions&&f.options.plotOptions[d.type]&&f.options.plotOptions[d.type].dataLabels),g);(m(g)||g.enabled||d._hasPointLabels)&&(h=d.plotGroup("dataLabelsGroup","data-labels",w&&!b?"hidden":"visible",g.zIndex||6),w&&(h.attr({opacity:+b}),b||e(d,"afterAnimate",function(){d.visible&&h.show(!0),h[p.animation?"animate":"attr"]({opacity:1},{duration:200})})),r(y,function(e){c=v(o(g,e.dlOptions||e.options&&e.options.dataLabels)),r(c,function(r,o){var a,l,c,g,m=r.enabled&&!e.isNull&&n(e,r),v=e.dataLabels?e.dataLabels[o]:e.dataLabel,y=e.connectors?e.connectors[o]:e.connector,b=!v;m&&(a=e.getLabelConfig(),l=r[e.formatPrefix+"Format"]||r.format,a=i(l)?s(l,a,f.time):(r[e.formatPrefix+"Formatter"]||r.formatter).call(a,r),l=r.style,c=r.rotation,l.color=u(r.color,l.color,d.color,"#000000"),"contrast"===l.color&&(e.contrastColor=x.getContrast(e.color||d.color),l.color=r.inside||0>u(r.distance,e.labelDistance)||p.stacking?e.contrastColor:"#000000"),p.cursor&&(l.cursor=p.cursor),g={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:c,padding:r.padding,zIndex:1},t.objectEach(g,function(t,e){void 0===t&&delete g[e]})),!v||m&&i(a)?m&&i(a)&&(v?g.text=a:(e.dataLabels=e.dataLabels||[],v=e.dataLabels[o]=c?x.text(a,0,-9999).addClass("highcharts-data-label"):x.label(a,0,-9999,r.shape,null,null,r.useHTML,null,"data-label"),o||(e.dataLabel=v),v.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(r.className||"")+(r.useHTML?" highcharts-tracker":""))),v.options=r,v.attr(g),v.css(l).shadow(r.shadow),v.added||v.add(h),d.alignDataLabel(e,v,r,null,b)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&(1===e.dataLabels.length?delete e.dataLabels:delete e.dataLabels[o]),o||delete e.dataLabel,y&&(e.connector=e.connector.destroy(),e.connectors&&(1===e.connectors.length?delete e.connectors:delete e.connectors[o])))})})),t.fireEvent(this,"afterDrawDataLabels")},d.prototype.alignDataLabel=function(t,e,n,i,r){
var s,a=this.chart,l=a.inverted,c=u(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),h=u(t.plotY,-9999),d=e.getBBox(),f=n.rotation,p=n.align,g=this.visible&&(t.series.forceDL||a.isInsidePlot(c,Math.round(h),l)||i&&a.isInsidePlot(c,l?i.x+1:i.y+i.height-1,l)),m="justify"===u(n.overflow,"justify");g&&(s=n.style.fontSize,s=a.renderer.fontMetrics(s,e).b,i=o({x:l?this.yAxis.len-h:c,y:Math.round(l?this.xAxis.len-c:h),width:0,height:0},i),o(n,{width:d.width,height:d.height}),f?(m=!1,c=a.renderer.rotCorr(s,f),c={x:i.x+n.x+i.width/2+c.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](c).attr({align:p}),h=180<(h=(f+720)%360)&&360>h,"left"===p?c.y-=h?d.height:0:"center"===p?(c.x-=d.width/2,c.y-=d.height/2):"right"===p&&(c.x-=d.width,c.y-=h?0:d.height),e.placed=!0,e.alignAttr=c):(e.align(n,null,i),c=e.alignAttr),m&&0<=i.height?t.isLabelJustified=this.justifyDataLabel(e,n,c,d,i,r):u(n.crop,!0)&&(g=a.isInsidePlot(c.x,c.y)&&a.isInsidePlot(c.x+d.width,c.y+d.height)),n.shape&&!f)&&e[r?"attr":"animate"]({anchorX:l?a.plotWidth-t.plotY:t.plotX,anchorY:l?a.plotHeight-t.plotX:t.plotY}),g||(e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign,h=t.box?0:t.padding||0;return 0>(s=n.x+h)&&("right"===c?e.align="left":e.x=-s,a=!0),(s=n.x+i.width-h)>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),0>(s=n.y+h)&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),(s=n.y+i.height-h)>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r)),a},f.pie&&(f.pie.prototype.drawDataLabels=function(){var e,o,s,a,l,c,h,f,p,g,m=this,v=m.data,y=m.chart,b=m.options.dataLabels,w=u(b.connectorPadding,10),x=u(b.connectorWidth,1),C=y.plotWidth,S=y.plotHeight,k=Math.round(y.chartWidth/3),_=m.center,E=_[2]/2,T=_[1],A=[[],[]],M=[0,0,0,0];m.visible&&(b.enabled||m._hasPointLabels)&&(r(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),d.prototype.drawDataLabels.apply(m),r(v,function(t){t.dataLabel&&(t.visible?(A[t.half].push(t),t.dataLabel._pos=null,!i(b.style.width)&&!i(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>k&&(t.dataLabel.css({width:.7*k}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))}),r(A,function(n,o){var d,v,x,k=n.length,A=[];if(k)for(m.sortByAngle(n,o-.5),0<m.maxLabelDistance&&(d=Math.max(0,T-E-m.maxLabelDistance),v=Math.min(T+E+m.maxLabelDistance,y.plotHeight),r(n,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,T-E-t.labelDistance),t.bottom=Math.min(T+E+t.labelDistance,y.plotHeight),x=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+x/2,size:x,rank:t.y},A.push(t.distributeBox))}),d=v+x-d,t.distribute(A,d,d/5)),g=0;g<k;g++)e=n[g],l=e.labelPos,s=e.dataLabel,p=!1===e.visible?"hidden":"inherit",f=d=l[1],A&&i(e.distributeBox)&&(void 0===e.distributeBox.pos?p="hidden":(c=e.distributeBox.size,f=e.top+e.distributeBox.pos)),delete e.positionIndex,h=b.justify?_[0]+(o?-1:1)*(E+e.labelDistance):m.getX(f<e.top+2||f>e.bottom-2?d:f,o,e),s._attr={visibility:p,align:l[6]},s._pos={x:h+b.x+({left:w,right:-w}[l[6]]||0),y:f+b.y-10},l.x=h,l.y=f,u(b.crop,!0)&&(a=s.getBBox().width,d=null,h-a<w&&1===o?(d=Math.round(a-h+w),M[3]=Math.max(d,M[3])):h+a>C-w&&0===o&&(d=Math.round(h+a-C+w),M[1]=Math.max(d,M[1])),0>f-c/2?M[0]=Math.max(Math.round(c/2-f),M[0]):f+c/2>S&&(M[2]=Math.max(Math.round(f+c/2-S),M[2])),s.sideOverflow=d)}),0===n(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),x&&r(this.points,function(t){var e;o=t.connector,(s=t.dataLabel)&&s._pos&&t.visible&&0<t.labelDistance?(p=s._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(m.dataLabelsGroup),o.attr({"stroke-width":x,stroke:b.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),o.attr("visibility",p)):o&&(t.connector=o.destroy())}))},f.pie.prototype.connectorPath=function(t){var e=t.x,n=t.y;return u(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),n,"C",e,n,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),n,"L",t[2],t[3],"L",t[4],t[5]]},f.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},f.pie.prototype.alignDataLabel=c,f.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,s=null!==i.size;return s||(null!==r[0]?e=Math.max(n[2]-Math.max(t[1],t[3]),o):(e=Math.max(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,n[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),e<n[2]?(n[2]=e,n[3]=Math.min(h(i.innerSize||0,e),e),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):s=!0),s}),f.column&&(f.column.prototype.alignDataLabel=function(t,e,n,i,r){var o=this.chart.inverted,s=t.series,a=t.dlBox||t.shapeArgs,c=u(t.below,t.plotY>u(this.translatedThreshold,s.yAxis.len)),h=u(n.inside,!!this.options.stacking);a&&(0>(i=l(a)).y&&(i.height+=i.y,i.y=0),0<(a=i.y+i.height-s.yAxis.len)&&(i.height-=a),o&&(i={x:s.yAxis.len-i.y-i.height,y:s.xAxis.len-i.x-i.width,width:i.height,height:i.width}),h||(o?(i.x+=c?0:i.width,i.width=0):(i.y+=c?i.height:0,i.height=0))),n.align=u(n.align,!o||h?"center":c?"right":"left"),n.verticalAlign=u(n.verticalAlign,o||h?"middle":c?"top":"bottom"),d.prototype.alignDataLabel.call(this,t,e,n,i,r),t.isLabelJustified&&t.contrastColor&&e.css({color:t.contrastColor})})}(c),function(t){var e=t.Chart,n=t.each,i=t.isArray,r=t.objectEach,o=t.pick;(t=t.addEvent)(e,"render",function(){var t=[];n(this.labelCollectors||[],function(e){t=t.concat(e())}),n(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&r(e.stacks,function(e){r(e,function(e){t.push(e.label)})})}),n(this.series||[],function(e){var r=e.options.dataLabels;e.visible&&(!1!==r.enabled||e._hasPointLabels)&&n(e.points,function(e){if(e.visible){var r=i(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[];n(r,function(n){var i=n.options;n.labelrank=o(i.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),i.allowOverlap||t.push(n)})}})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,o,s,a,l=t.length,c=this.renderer,u=function(t,e,n,i,r,o,s,a){return!(r>t+n||r+s<t||o>e+i||o+a<e)};for(r=function(t){var e,n,i,r=t.box?0:t.padding||0;if(i=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},n=t.parentGroup,t.width||(i=t.getBBox(),t.width=i.width,t.height=i.height,i=c.fontMetrics(null,t.element).h),{x:e.x+(n.translateX||0)+r,y:e.y+(n.translateY||0)+r-i,width:t.width-2*r,height:t.height-2*r}},i=0;i<l;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=r(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<l;i++)for(a=(r=t[i])&&r.absoluteBox,e=i+1;e<l;++e)s=(o=t[e])&&o.absoluteBox,a&&s&&r!==o&&0!==r.newOpacity&&0!==o.newOpacity&&(s=u(a.x,a.y,a.width,a.height,s.x,s.y,s.width,s.height))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&(t.alignAttr&&t.placed?(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:n})),t.isOld=!0)})}}(c),function(t){var e,n=t.addEvent,i=t.Chart,r=t.createElement,o=t.css,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.each,c=t.extend,u=t.fireEvent,h=t.hasTouch,d=t.inArray,f=t.isObject,p=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,w=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,n=function(t){var n=e.getPointFromEvent(t);void 0!==n&&(e.isDirectTouch=!0,n.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(i){t[i]&&(t[i].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(t){e.onTrackerMouseOut(t)}),h&&t[i].on("touchstart",n),t.options.cursor&&t[i].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0),u(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,c=s.renderer,d=s.options.tooltip.snap,f=e.tracker,p=function(){s.hoverSeries!==e&&e.onMouseOver()},g="rgba(192,192,192,"+(w?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-d,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+d,r[t-1]);f?f.attr({d:r}):e.graph&&(e.tracker=c.path(r).attr({"stroke-linejoin":"round",stroke:g,fill:i?g:"none","stroke-width":e.graph.strokeWidth()+(i?0:2*d),visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(i?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}),n.cursor&&t.css({cursor:n.cursor}),h&&t.on("touchstart",p)})),u(this,"afterDrawTracker")}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),s.legend.itemStyle.cursor="pointer",c(p.prototype,{setItemEvents:function(t,e,n){var i=this,r=i.chart.renderer.boxWrapper,o="highcharts-legend-"+(t instanceof v?"point":"series")+"-active";(n?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(o),e.css(i.options.itemHoverStyle)}).on("mouseout",function(){e.css(g(t.visible?i.itemStyle:i.itemHiddenStyle)),r.removeClass(o),t.setState()}).on("click",function(e){var n=function(){t.setVisible&&t.setVisible()};r.removeClass(o),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,n):u(t,"legendItemClick",e,n)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),n(t.checkbox,"click",function(e){u(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),c(i.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=s.lang,i=e.options.chart.resetZoomButton,r=i.theme,o=r.states,a="chart"===i.relativeTo?null:"plotBox";u(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,r,o&&o.hover).attr({align:i.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(i.position,!1,a)})},zoomOut:function(){u(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,n,i=this.pointer,r=!1;!t||t.resetSelection?(l(this.axes,function(t){e=t.zoom()}),i.initiated=!1):l(t.xAxis.concat(t.yAxis),function(t){var n=t.axis;i[n.isXAxis?"zoomX":"zoomY"]&&(e=n.zoom(t.min,t.max),n.displayBtn&&(r=!0))}),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&f(n)&&(this.resetZoomButton=n.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){var r,o=(e=i[e?"xAxis":"yAxis"][0]).horiz,s=t[o?"chartX":"chartY"],a=i[o=o?"mouseDownX":"mouseDownY"],l=(e.pointRange||0)/2,c=e.reversed&&!i.inverted||!e.reversed&&i.inverted?-1:1,u=e.getExtremes(),h=e.toValue(a-s,!0)+l*c;a=(r=(c=e.toValue(a+e.len-s,!0)-l*c)<h)?c:h,h=r?h:c;0<(r=(c=Math.min(u.dataMin,l?u.min:e.toValue(e.toPixels(u.min)-e.minPixelPadding)))-a)&&(h+=r,a=c),0<(r=h-(l=Math.max(u.dataMax,l?u.max:e.toValue(e.toPixels(u.max)+e.minPixelPadding))))&&(h=l,a-=r),e.series.length&&a!==u.min&&h!==u.max&&(e.setExtremes(a,h,!1,!1,{trigger:"pan"}),n=!0),i[o]=s}),n&&i.redraw(!1),o(i.container,{cursor:"move"})}}),c(v.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=m(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[d(n,i.data)]=n.options,n.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[d(t,i.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,n=e.pointer;t=t?n.normalize(t):n.getChartCoordinatesFromPoint(this,e.inverted),n.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=g(e.series.options.point,e.options).events;e.events=i,t.objectEach(i,function(t,i){n(e,i,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var n,i=Math.floor(this.plotX),r=this.plotY,o=this.series,s=o.options.states[t||"normal"]||{},l=a[o.type].marker&&o.options.marker,h=l&&!1===l.enabled,d=l&&l.states&&l.states[t||"normal"]||{},f=!1===d.enabled,p=o.stateMarkerGraphic,g=this.marker||{},v=o.chart,y=o.halo,b=l&&o.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(f||h&&!1===d.enabled)||t&&g.states&&g.states[t]&&!1===g.states[t].enabled||(b&&(n=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(o.pointAttribs(this,t),m(v.options.chart.animation,s.animation)),n&&this.graphic.animate(n,m(v.options.chart.animation,d.animation,l.animation)),p&&p.hide()):(t&&d&&(l=g.symbol||o.symbol,p&&p.currentSymbol!==l&&(p=p.destroy()),p?p[e?"animate":"attr"]({x:n.x,y:n.y}):l&&(o.stateMarkerGraphic=p=v.renderer.symbol(l,n.x,n.y,n.width,n.height).add(o.markerGroup),p.currentSymbol=l),p&&p.attr(o.pointAttribs(this,t))),p&&(p[t&&v.isInsidePlot(i,r,v.inverted)?"show":"hide"](),p.element.point=this)),(i=s.halo)&&i.size?(y||(o.halo=y=v.renderer.path().add((this.graphic||p).parentGroup)),y.show()[e?"animate":"attr"]({d:this.haloPath(i.size)}),y.attr({"class":"highcharts-halo highcharts-color-"+m(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),y.point=this,y.attr(c({fill:this.color||o.color,"fill-opacity":i.opacity},i.attributes))):y&&y.point&&y.point.haloPath&&y.animate({d:y.point.haloPath(0)},null,y.hide),this.state=t,u(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),c(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&u(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,n=e.tooltip,i=e.hoverPoint;e.hoverSeries=null,i&&i.onMouseOut(),this&&t.events.mouseOut&&u(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(t){var e=this,n=e.options,i=e.graph,r=n.states,o=n.lineWidth;n=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],function(n){n&&(e.state&&n.removeClass("highcharts-series-"+e.state),t&&n.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),i&&!i.dashstyle))for(o={"stroke-width":o},i.animate(o,m(r[t||"normal"]&&r[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+n];)e["zone-graph-"+n].attr(o),n+=1},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;n=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!a:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(i.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),u(i,n),!1!==e&&r.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),u(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(c),function(t){var e=t.Chart,n=t.each,i=t.inArray,r=t.isArray,o=t.isObject,s=t.pick,a=t.splat;e.prototype.setResponsive=function(e){var i=this.options.responsive,r=[],o=this.currentResponsive;i&&i.rules&&n(i.rules,function(n){void 0===n._id&&(n._id=t.uniqueKey()),this.matchResponsiveRule(n,r,e)},this);var s=t.merge.apply(0,t.map(r,function(e){return t.find(i.rules,function(t){return t._id===e}).chartOptions}));(r=r.toString()||void 0)!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:s,undoOptions:this.currentOptions(s)},this.update(s,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var n=t.condition;(n.callback||function(){return this.chartWidth<=s(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=s(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=s(n.minWidth,0)&&this.chartHeight>=s(n.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function n(e,s,l,c){var u;t.objectEach(e,function(t,e){if(!c&&-1<i(e,["series","xAxis","yAxis"]))for(t=a(t),l[e]=[],u=0;u<t.length;u++)s[e][u]&&(l[e][u]={},n(t[u],s[e][u],l[e][u],c+1));else o(t)?(l[e]=r(t)?[]:{},n(t,s[e]||{},l[e],c+1)):l[e]=s[e]||null})}var s={};return n(e,this.options,s,0),s}}(c),c}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Chartkick=e()}(this,function(){"use strict";function t(t){return"[object Array]"===Object.prototype.toString.call(t)}function e(t){return t instanceof Function}function n(t){return"[object Object]"===Object.prototype.toString.call(t)&&!e(t)&&t instanceof Object}function i(e,r){var o;for(o in r)"__proto__"!==o&&(n(r[o])||t(r[o])?(n(r[o])&&!n(e[o])&&(e[o]={}),t(r[o])&&!t(e[o])&&(e[o]=[]),i(e[o],r[o])):r[o]!==undefined&&(e[o]=r[o]))}function r(t,e){var n={};return i(n,t),i(n,e),n}function o(t){var e,n,i,r,o,s,a,l,c,u,h;return"[object Date]"===(u=Object.prototype.toString.call(t))?t:"[object String]"===u&&(i=t.match(Q))?(h=parseInt(i[1],10),s=parseInt(i[3],10)-1,e=parseInt(i[5],10),n=parseInt(i[7],10),o=i[9]?parseInt(i[9],10):0,c=i[11]?parseInt(i[11],10):0,r=i[12]?1e3*parseFloat(Z+i[12].slice(1)):0,l=Date.UTC(h,s,e,n,o,c,r),i[13]&&i[14]&&(a=60*i[15],i[17]&&(a+=parseInt(i[17],10)),l-=60*(a*="-"===i[14]?-1:1)*1e3),new Date(l)):void 0}function s(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(i[n][1]<0)return!0;return!1}function a(t){return""+t}function l(t){return parseFloat(t)}function c(t){var e,n,i,r;if("object"!=typeof t)if("number"==typeof t)t=new Date(1e3*t);else{if(e=(t=a(t)).match(X))return n=parseInt(e[1],10),i=parseInt(e[3],10)-1,r=parseInt(e[5],10),new Date(n,i,r);t=o(t.replace(/ /,"T").replace(" ","").replace("UTC","Z"))||new Date(t)}return t}function u(e){if(!t(e)){var n,i=[];for(n in e)e.hasOwnProperty(n)&&i.push([n,e[n]]);e=i}return e}function h(t,e,n,i,o,a,l,c){return function(u,h,d){var f=u.data,p=r({},t);return p=r(p,d||{}),(u.hideLegend||"legend"in h)&&e(p,h.legend,u.hideLegend),h.title&&n(p,h.title),"min"in h?i(p,h.min):s(f)||i(p,0),h.max&&o(p,h.max),"stacked"in h&&a(p,h.stacked),h.colors&&(p.colors=h.colors),h.xtitle&&l(p,h.xtitle),h.ytitle&&c(p,h.ytitle),p=r(p,h.library||{})}}function d(t,e){return t[0].getTime()-e[0].getTime()}function f(t,e){return t[0]-e[0]}function p(t,e){return t-e}function g(t){return 0===t.getMilliseconds()&&0===t.getSeconds()}function m(t){return g(t)&&0===t.getMinutes()}function v(t){return m(t)&&0===t.getHours()}function y(t,e){return v(t)&&t.getDay()===e}function b(t){return v(t)&&1===t.getDate()}function w(t){return b(t)&&0===t.getMonth()}function x(t){return!isNaN(c(t))&&a(t).length>=6}function C(t){return"number"==typeof t}function S(t,e,n,i){t=t||"",n.prefix&&(e<0&&(e*=-1,t+="-"),t+=n.prefix);var r=n.suffix||"",o=n.precision,s=n.round;if(n.byteScale){var l=i?n.byteScale:e;l>=1099511627776?(e/=1099511627776,r=" TB"):l>=1073741824?(e/=1073741824,r=" GB"):l>=1048576?(e/=1048576,r=" MB"):l>=1024?(e/=1024,r=" KB"):r=" bytes",o===undefined&&s===undefined&&(o=3)}if(o!==undefined&&s!==undefined)throw Error("Use either round or precision, not both");if(!i&&(o!==undefined&&(e=e.toPrecision(o),n.zeros||(e=parseFloat(e))),s!==undefined))if(s<0){var c=Math.pow(10,-1*s);e=parseInt((1*e/c).toFixed(0))*c}else e=e.toFixed(s),n.zeros||(e=parseFloat(e));if(n.thousands||n.decimal){var u=(e=a(e)).split(".");e=u[0],n.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,n.thousands)),u.length>1&&(e+=(n.decimal||".")+u[1])}return t+e+r}function k(t,e,n){return n in e?e[n]:n in t.options?t.options[n]:null}function _(t){var e,n,i;for(e=0;e<t.length;e++)for(i=t[e].data,n=0;n<i.length;n++)if(0!=i[n][1])return!1;return!0}function E(t,e,n){Nt.push([t,e,n]),T()}function T(){if(Bt<Ft){var t=Nt.shift();t&&(Bt++,M(t[0],t[1],t[2]),T())}}function A(){Bt--,T()}function M(t,e,n){R(t,e,function(t,e,i){var r="string"==typeof i?i:i.message;n(r)})}function R(t,e,n){var i=window.jQuery||window.Zepto||window.$;if(i&&i.ajax)i.ajax({dataType:"json",url:t,success:e,error:n,complete:A});else{var r=new XMLHttpRequest;r.open("GET",t,!0),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){A(),200===r.status?e(JSON.parse(r.responseText),r.statusText,r):n(r,"error",r.statusText)},r.send()}}function D(t,e){document.body.innerText?t.innerText=e:t.textContent=e}function L(t,e,n){n||(e="Error Loading Chart: "+e),D(t,e),t.style.color="#ff0000"}function $(t){try{t.__render()}catch(e){throw L(t.element,e.message),e}}function O(t,e){if("string"==typeof e)E(e,function(e){t.rawData=e,$(t)},function(e){L(t.element,e)});else if("function"==typeof e)try{e(function(e){t.rawData=e,$(t)},function(e){L(t.element,e,!0)})}catch(n){L(t.element,n,!0)}else t.rawData=e,$(t)}function P(t){var e=t.element,n=document.createElement("a"),i=t.options.download;!0===i?i={}:"string"==typeof i&&(i={filename:i}),n.download=i.filename||"chart.png",n.style.position="absolute",n.style.top="20px",n.style.right="20px",n.style.zIndex=1e3,n.style.lineHeight="20px",n.target="_blank";var r=document.createElement("img");r.alt="Download",r.style.border="none",r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",n.appendChild(r),e.style.position="relative",t.__downloadAttached=!0,t.__enterEvent=I(e,"mouseover",function(r){var o=r.relatedTarget;o&&(o===this||B(this,o))||!t.options.download||(n.href=t.toImage(i),e.appendChild(n))}),t.__leaveEvent=I(e,"mouseout",function(t){var e=t.relatedTarget;e&&(e===this||B(this,e))||n.parentNode&&n.parentNode.removeChild(n)})}function I(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1),n;var i=function(){return n.call(t,window.event)};return t.attachEvent("on"+e,i),i}function N(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function B(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}function F(t){if(t){if("Highcharts"===t.product)return St;if(t.charts)return It;if(e(t))return vt}throw new Error("Unknown adapter")}function H(t){var e=new(F(t))(t);-1===zt.indexOf(e)&&zt.push(e)}function z(){"Chart"in window&&H(window.Chart),"Highcharts"in window&&H(window.Highcharts),window.google&&window.google.charts&&H(window.google)}function W(t,e){if("PieChart"===e||"GeoChart"===e||"Timeline"===e)return 0===t.length;for(var n=0;n<t.length;n++)if(t[n].data.length>0)return!1;return!0}function j(t,e){e.options.messages&&e.options.messages.empty&&W(e.data,t)?D(e.element,e.options.messages.empty):(q(t,e),e.options.download&&!e.__downloadAttached&&"chartjs"===e.adapter&&P(e))}function q(t,n){var i,r,o,s;for(o="render"+t,s=n.options.adapter,z(),i=0;i<zt.length;i++)if(r=zt[i],(!s||s===r.name)&&e(r[o]))return n.adapter=r.name,n.__adapterObject=r,r[o](n);throw zt.length>0?new Error("No charting library found for "+t):new Error("No charting libraries found - be sure to include one before your charts")}function U(t,e){return V(t,C)?"number":!e&&V(t,x)?"datetime":"string"}function V(t,e){var n,i,r;for(n=0;n<t.length;n++)for(r=u(t[n].data),i=0;i<r.length;i++)if(!e(r[i][0]))return!1;return!0}function G(t){var e,n,i=[];for(e=0;e<t.length;e++){var r={};for(n in t[e])t[e].hasOwnProperty(n)&&(r[n]=t[e][n]);i.push(r)}return i}function Y(e,n,i){var r,o=e.options,s=e.rawData;for(!t(s)||"object"!=typeof s[0]||t(s[0])?(s=[{name:o.label,data:s}],e.hideLegend=!0):e.hideLegend=!1,e.xtype=n||(o.discrete?"string":U(s,i)),s=G(s),r=0;r<s.length;r++)s[r].data=jt(u(s[r].data),e.xtype);return s}function K(t){var e,n=u(t.rawData);for(e=0;e<n.length;e++)n[e]=[a(n[e][0]),l(n[e][1])];return n}var X=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i,Q=/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)?(:)?(\d\d)?([.,]\d+)?($|Z|([+-])(\d\d)(:)?(\d\d)?)/i,Z=String(1.5).charAt(1),J={maintainAspectRatio:!1,animation:!1,tooltips:{displayColors:!1,callbacks:{}},legend:{},title:{fontSize:20,fontColor:"#333"}},tt={scales:{yAxes:[{ticks:{maxTicksLimit:4},scaleLabel:{fontSize:16,fontColor:"#333"}}],xAxes:[{gridLines:{drawOnChartArea:!1},scaleLabel:{fontSize:16,fontColor:"#333"},time:{},ticks:{}}]}},et=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],nt=function(t,e,n){e!==undefined?(t.legend.display=!!e,e&&!0!==e&&(t.legend.position=e)):n&&(t.legend.display=!1)},it=function(t,e){t.title.display=!0,t.title.text=e},rt=function(t,e){null!==e&&(t.scales.yAxes[0].ticks.min=l(e))},ot=function(t,e){t.scales.yAxes[0].ticks.max=l(e)},st=function(t,e){null!==e&&(t.scales.xAxes[0].ticks.min=l(e))},at=function(t,e){t.scales.xAxes[0].ticks.max=l(e)},lt=function(t,e){t.scales.xAxes[0].stacked=!!e,t.scales.yAxes[0].stacked=!!e},ct=function(t,e){t.scales.xAxes[0].scaleLabel.display=!0,t.scales.xAxes[0].scaleLabel.labelString=e},ut=function(t,e){t.scales.yAxes[0].scaleLabel.display=!0,t.scales.yAxes[0].scaleLabel.labelString=e},ht=function(t,e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?"rgba("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+", "+e+")":t},dt=function(t){return null!=t},ft=function(t,e,n){var i=Math.ceil(t.element.offsetWidth/4/e.labels.length);i>25?i=25:i<10&&(i=10),n.scales.xAxes[0].ticks.callback||(n.scales.xAxes[0].ticks.callback=function(t){return(t=a(t)).length>i?t.substring(0,i-2)+"...":t})},pt=function(e,n,i){var r={prefix:e.options.prefix,suffix:e.options.suffix,thousands:e.options.thousands,decimal:e.options.decimal,precision:e.options.precision,round:e.options.round,zeros:e.options.zeros};if(e.options.bytes){var o=e.data;"pie"===i&&(o=[{data:o}]);for(var s=0,a=0;a<o.length;a++)for(var l=o[a],c=0;c<l.data.length;c++)l.data[c][1]>s&&(s=l.data[c][1]);for(var u=1;s>=1024;)u*=1024,s/=1024;r.byteScale=u}if("pie"!==i){var h=n.scales.yAxes;"bar"===i&&(h=n.scales.xAxes),r.byteScale&&(h[0].ticks.stepSize||(h[0].ticks.stepSize=r.byteScale/2),h[0].ticks.maxTicksLimit||(h[0].ticks.maxTicksLimit=4)),h[0].ticks.callback||(h[0].ticks.callback=function(t){return S("",t,r,!0)})}if(!n.tooltips.callbacks.label)if("scatter"===i)n.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+"("+t.xLabel+", "+t.yLabel+")"};else if("bubble"===i)n.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";n&&(n+=": ");var i=e.datasets[t.datasetIndex].data[t.index];return n+"("+t.xLabel+", "+t.yLabel+", "+i.v+")"};else if("pie"===i)n.tooltips.callbacks.label=function(e,n){var i=n.labels[e.index],o=": ";return t(i)?(i=i.slice())[0]+=o:i+=o,S(i,n.datasets[e.datasetIndex].data[e.index],r)};else{var d="bar"===i?"xLabel":"yLabel";n.tooltips.callbacks.label=function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),S(n,t[d],r)}}},gt=h(r(J,tt),nt,it,rt,ot,lt,ct,ut),mt=function(t,e,n,i){var o,s=[],a=[],u=t.options.colors||et,h=!0,d=!0,f=!0,x=!0,C=!0,S=!0,_=t.data,E=0;if("bubble"===n)for(var T=0;T<_.length;T++)for(var A=_[T],M=0;M<A.data.length;M++)A.data[M][2]>E&&(E=A.data[M][2]);var R,D,L,$,O,P=[],I=[];if("bar"===n||"column"===n||"number"!==t.xtype&&"bubble"!==t.xtype){var N,B,F=[];for(R=0;R<_.length;R++)for(L=_[R],D=0;D<L.data.length;D++)$=L.data[D],P[O="datetime"==t.xtype?$[0].getTime():$[0]]||(P[O]=new Array(_.length)),P[O][R]=l($[1]),-1===F.indexOf(O)&&F.push(O);for("datetime"!==t.xtype&&"number"!==t.xtype||F.sort(p),D=0;D<_.length;D++)I.push([]);for(B=0;B<F.length;B++)for(R=F[B],"datetime"===t.xtype?(N=new Date(l(R)),h=h&&v(N),o||(o=N.getDay()),d=d&&y(N,o),f=f&&b(N),x=x&&w(N),C=C&&m(N),S=S&&g(N)):N=R,a.push(N),D=0;D<_.length;D++)I[D].push(P[R][D]===undefined?null:P[R][D])}else for(var H=0;H<_.length;H++){for(var z=_[H],W=[],j=0;j<z.data.length;j++){var q={x:l(z.data[j][0]),y:l(z.data[j][1])};"bubble"===n&&(q.r=20*l(z.data[j][2])/E,q.v=z.data[j][2]),W.push(q)}I.push(W)}for(R=0;R<_.length;R++){var U=(L=_[R]).color||u[R],V="line"!==n?ht(U,.5):U,G={label:L.name||"",data:I[R],fill:"area"===n,borderColor:U,backgroundColor:V,pointBackgroundColor:U,borderWidth:2,pointHoverBackgroundColor:U};L.stack&&(G.stack=L.stack),!1===k(t,L,"curve")&&(G.lineTension=0),!1===k(t,L,"points")&&(G.pointRadius=0,G.pointHitRadius=5),G=r(G=r(G=r(G,t.options.dataset||{}),L.library||{}),L.dataset||{}),s.push(G)}var Y=t.options.xmin,K=t.options.xmax;if("datetime"===t.xtype){var X="math"in i.helpers?"ticks":"time";dt(Y)&&(e.scales.xAxes[0][X].min=c(Y).getTime()),dt(K)&&(e.scales.xAxes[0][X].max=c(K).getTime())}else"number"===t.xtype&&(dt(Y)&&(e.scales.xAxes[0].ticks.min=Y),dt(K)&&(e.scales.xAxes[0].ticks.max=K));if("datetime"===t.xtype&&a.length>0){var Q=(dt(Y)?c(Y):a[0]).getTime(),Z=(dt(K)?c(K):a[0]).getTime();for(R=1;R<a.length;R++){var J=a[R].getTime();J<Q&&(Q=J),J>Z&&(Z=J)}var tt,nt=(Z-Q)/864e5;if(!e.scales.xAxes[0].time.unit)if(x||nt>3650?(e.scales.xAxes[0].time.unit="year",tt=365):f||nt>300?(e.scales.xAxes[0].time.unit="month",tt=30):h||nt>10?(e.scales.xAxes[0].time.unit="day",tt=1):C||nt>.5?(e.scales.xAxes[0].time.displayFormats={hour:"MMM D, h a"},e.scales.xAxes[0].time.unit="hour",tt=1/24):S&&(e.scales.xAxes[0].time.displayFormats={minute:"h:mm a"},e.scales.xAxes[0].time.unit="minute",tt=1/24/60),tt&&nt>0){var it=Math.ceil(nt/tt/(t.element.offsetWidth/100));d&&1===tt&&(it=7*Math.ceil(it/7)),e.scales.xAxes[0].time.unitStepSize=it}e.scales.xAxes[0].time.tooltipFormat||(h?e.scales.xAxes[0].time.tooltipFormat="ll":C?e.scales.xAxes[0].time.tooltipFormat="MMM D, h a":S&&(e.scales.xAxes[0].time.tooltipFormat="h:mm a"))}return{labels:a,datasets:s}},vt=function(t){this.name="chartjs",this.library=t};vt.prototype.renderLineChart=function(t,e){var n={};!t.options.max&&_(t.data)&&(n.max=1);var i=gt(t,r(n,t.options));pt(t,i,e);var o=mt(t,i,e||"line",this.library);"number"===t.xtype?(i.scales.xAxes[0].type="linear",i.scales.xAxes[0].position="bottom"):i.scales.xAxes[0].type="string"===t.xtype?"category":"time",this.drawChart(t,"line",o,i)},
vt.prototype.renderPieChart=function(t){var e=r({},J);t.options.donut&&(e.cutoutPercentage=50),"legend"in t.options&&nt(e,t.options.legend),t.options.title&&it(e,t.options.title),e=r(e,t.options.library||{}),pt(t,e,"pie");for(var n=[],i=[],o=0;o<t.data.length;o++){var s=t.data[o];n.push(s[0]),i.push(s[1])}var a={data:i,backgroundColor:t.options.colors||et},l={labels:n,datasets:[a=r(a,t.options.dataset||{})]};this.drawChart(t,"pie",l,e)},vt.prototype.renderColumnChart=function(t,e){var n;if("bar"===e){var i=r(J,tt);delete i.scales.yAxes[0].ticks.maxTicksLimit,n=h(i,nt,it,st,at,lt,ct,ut)(t,t.options)}else n=gt(t,t.options);pt(t,n,e);var o=mt(t,n,"column",this.library);"bar"!==e&&ft(t,o,n),this.drawChart(t,"bar"===e?"horizontalBar":"bar",o,n)},vt.prototype.renderAreaChart=function(t){this.renderLineChart(t,"area")},vt.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},vt.prototype.renderScatterChart=function(t,e){e=e||"scatter";var n=gt(t,t.options);pt(t,n,e),"showLines"in n||(n.showLines=!1);var i=mt(t,n,e,this.library);n.scales.xAxes[0].type="linear",n.scales.xAxes[0].position="bottom",this.drawChart(t,e,i,n)},vt.prototype.renderBubbleChart=function(t){this.renderScatterChart(t,"bubble")},vt.prototype.destroy=function(t){t.chart&&t.chart.destroy()},vt.prototype.drawChart=function(t,e,n,i){this.destroy(t);var r={type:e,data:n,options:i};t.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(r)+");"),t.element.innerHTML="<canvas></canvas>";var o=t.element.getElementsByTagName("CANVAS")[0];t.chart=new this.library(o,r)};var yt={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}}},bt=function(t,e,n){e!==undefined?(t.legend.enabled=!!e,e&&!0!==e&&("top"===e||"bottom"===e?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):n&&(t.legend.enabled=!1)},wt=function(t,e){t.title.text=e},xt=h(yt,bt,wt,function(t,e){t.yAxis.min=e},function(t,e){t.yAxis.max=e},function(t,e){var n=e?!0===e?"normal":e:null;t.plotOptions.series.stacking=n,t.plotOptions.area.stacking=n,t.plotOptions.areaspline.stacking=n},function(t,e){t.xAxis.title.text=e},function(t,e){t.yAxis.title.text=e}),Ct=function(t,e,n){var i={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal,precision:t.options.precision,round:t.options.round,zeros:t.options.zeros};"pie"===n||e.yAxis.labels.formatter||(e.yAxis.labels.formatter=function(){return S("",this.value,i)}),e.tooltip.pointFormatter||(e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">\u25cf</span> '+S(this.series.name+": <b>",this.y,i)+"</b><br/>"})},St=function(t){this.name="highcharts",this.library=t};St.prototype.renderLineChart=function(t,e){var n={};"areaspline"===(e=e||"spline")&&(n={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),!1===t.options.curve&&("areaspline"===e?e="area":"spline"===e&&(e="line"));var i,r,o,s=xt(t,t.options,n);s.xAxis.type="string"===t.xtype?"category":"number"===t.xtype?"linear":"datetime",s.chart.type||(s.chart.type=e),Ct(t,s,e);var a=t.data;for(r=0;r<a.length;r++){if(a[r].name=a[r].name||"Value",i=a[r].data,"datetime"===t.xtype)for(o=0;o<i.length;o++)i[o][0]=i[o][0].getTime();a[r].marker={symbol:"circle"},!1===t.options.points&&(a[r].marker.enabled=!1)}this.drawChart(t,a,s)},St.prototype.renderScatterChart=function(t){var e=xt(t,t.options,{});e.chart.type="scatter",this.drawChart(t,t.data,e)},St.prototype.renderPieChart=function(t){var e=r(yt,{});t.options.colors&&(e.colors=t.options.colors),t.options.donut&&(e.plotOptions={pie:{innerSize:"50%"}}),"legend"in t.options&&bt(e,t.options.legend),t.options.title&&wt(e,t.options.title);var n=r(e,t.options.library||{});Ct(t,n,"pie");var i=[{type:"pie",name:t.options.label||"Value",data:t.data}];this.drawChart(t,i,n)},St.prototype.renderColumnChart=function(t,e){e=e||"column";var n,i,r,o,s=t.data,a=xt(t,t.options),l=[],c=[];for(a.chart.type=e,Ct(t,a,e),n=0;n<s.length;n++)for(r=s[n],i=0;i<r.data.length;i++)l[(o=r.data[i])[0]]||(l[o[0]]=new Array(s.length),c.push(o[0])),l[o[0]][n]=o[1];"number"===t.xtype&&c.sort(p),a.xAxis.categories=c;var u,h=[];for(n=0;n<s.length;n++){for(o=[],i=0;i<c.length;i++)o.push(l[c[i]][n]||0);u={name:s[n].name||"Value",data:o},s[n].stack&&(u.stack=s[n].stack),h.push(u)}this.drawChart(t,h,a)},St.prototype.renderBarChart=function(t){this.renderColumnChart(t,"bar")},St.prototype.renderAreaChart=function(t){this.renderLineChart(t,"areaspline")},St.prototype.destroy=function(t){t.chart&&t.chart.destroy()},St.prototype.drawChart=function(t,e,n){this.destroy(t),n.chart.renderTo=t.element.id,n.series=e,t.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(n)+");"),t.chart=new this.library.Chart(n)};var kt={},_t=[],Et={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},Tt=function(t,e,n){var i;e!==undefined?(i=e?!0===e?"right":e:"none",t.legend.position=i):n&&(t.legend.position="none")},At=function(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}},Mt=function(t,e){t.hAxis.viewWindow.min=e},Rt=function(t,e){t.hAxis.viewWindow.max=e},Dt=function(t,e){t.isStacked=e||!1},Lt=function(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1},$t=function(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1},Ot=h(Et,Tt,At,function(t,e){t.vAxis.viewWindow.min=e},function(t,e){t.vAxis.viewWindow.max=e},Dt,Lt,$t),Pt=function(t){window.attachEvent?window.attachEvent("onresize",t):window.addEventListener&&window.addEventListener("resize",t,!0),t()},It=function(t){this.name="google",this.library=t};It.prototype.renderLineChart=function(t){var e=this;this.waitForLoaded(t,function(){var n={};!1===t.options.curve&&(n.curveType="none"),!1===t.options.points&&(n.pointSize=0);var i=Ot(t,t.options,n),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"LineChart",r,i)})},It.prototype.renderPieChart=function(t){var e=this;this.waitForLoaded(t,function(){var n={chartArea:{top:"10%",height:"80%"},legend:{}};t.options.colors&&(n.colors=t.options.colors),t.options.donut&&(n.pieHole=.5),"legend"in t.options&&Tt(n,t.options.legend),t.options.title&&At(n,t.options.title);var i=r(r(Et,n),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn("string",""),o.addColumn("number","Value"),o.addRows(t.data),e.drawChart(t,"PieChart",o,i)})},It.prototype.renderColumnChart=function(t){var e=this;this.waitForLoaded(t,function(){var n=Ot(t,t.options),i=e.createDataTable(t.data,t.xtype);e.drawChart(t,"ColumnChart",i,n)})},It.prototype.renderBarChart=function(t){var e=this;this.waitForLoaded(t,function(){var n={hAxis:{gridlines:{color:"#ccc"}}},i=h(Et,Tt,At,Mt,Rt,Dt,Lt,$t)(t,t.options,n),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"BarChart",r,i)})},It.prototype.renderAreaChart=function(t){var e=this;this.waitForLoaded(t,function(){var n={isStacked:!0,pointSize:0,areaOpacity:.5},i=Ot(t,t.options,n),r=e.createDataTable(t.data,t.xtype);e.drawChart(t,"AreaChart",r,i)})},It.prototype.renderGeoChart=function(t){var e=this;this.waitForLoaded(t,function(){var n={legend:"none",colorAxis:{colors:t.options.colors||["#f6c7b6","#ce502d"]}},i=r(r(Et,n),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn("string",""),o.addColumn("number",t.options.label||"Value"),o.addRows(t.data),e.drawChart(t,"GeoChart",o,i)})},It.prototype.renderScatterChart=function(t){var e=this;this.waitForLoaded(t,function(){var n,i,r,o,s={},a=Ot(t,t.options,s),l=t.data,c=[];for(n=0;n<l.length;n++)for(l[n].name=l[n].name||"Value",o=l[n].data,i=0;i<o.length;i++){var u=new Array(l.length+1);u[0]=o[i][0],u[n+1]=o[i][1],c.push(u)}for((r=new e.library.visualization.DataTable).addColumn("number",""),n=0;n<l.length;n++)r.addColumn("number",l[n].name);r.addRows(c),e.drawChart(t,"ScatterChart",r,a)})},It.prototype.renderTimeline=function(t){var e=this;this.waitForLoaded(t,"timeline",function(){var n={legend:"none"};t.options.colors&&(n.colors=t.options.colors);var i=r(r(Et,n),t.options.library||{}),o=new e.library.visualization.DataTable;o.addColumn({type:"string",id:"Name"}),o.addColumn({type:"date",id:"Start"}),o.addColumn({type:"date",id:"End"}),o.addRows(t.data),t.element.style.lineHeight="normal",e.drawChart(t,"Timeline",o,i)})},It.prototype.destroy=function(t){t.chart&&t.chart.clearChart()},It.prototype.drawChart=function(t,e,n,i){this.destroy(t),t.options.code&&window.console.log("var data = new google.visualization.DataTable("+n.toJSON()+");\nvar chart = new google.visualization."+e+"(element);\nchart.draw(data, "+JSON.stringify(i)+");"),t.chart=new this.library.visualization[e](t.element),Pt(function(){t.chart.draw(n,i)})},It.prototype.waitForLoaded=function(t,e,n){var i=this;if(n||(n=e,e="corechart"),_t.push({pack:e,callback:n}),kt[e])this.runCallbacks();else{kt[e]=!0;var r={packages:[e],callback:function(){i.runCallbacks()}},o=t.__config();o.language&&(r.language=o.language),"corechart"===e&&o.mapsApiKey&&(r.mapsApiKey=o.mapsApiKey),this.library.charts.load("current",r)}},It.prototype.runCallbacks=function(){for(var t,e=0;e<_t.length;e++)t=_t[e],this.library.visualization&&("corechart"===t.pack&&this.library.visualization.LineChart||"timeline"===t.pack&&this.library.visualization.Timeline)&&(t.callback(),_t.splice(e,1),e--)},It.prototype.createDataTable=function(t,e){var n,i,r,o,s,c=[],u=[];for(n=0;n<t.length;n++)for(r=t[n],t[n].name=t[n].name||"Value",i=0;i<r.data.length;i++)o=r.data[i],c[s="datetime"===e?o[0].getTime():o[0]]||(c[s]=new Array(t.length),u.push(s)),c[s][n]=l(o[1]);var h,p=[],g=!0;for(i=0;i<u.length;i++)n=u[i],"datetime"===e?(h=new Date(l(n)),g=g&&v(h)):h="number"===e?l(n):n,p.push([h].concat(c[n]));if("datetime"===e)p.sort(d);else if("number"===e){for(p.sort(f),n=0;n<p.length;n++)p[n][0]=a(p[n][0]);e="string"}var m=new this.library.visualization.DataTable;for(e="datetime"===e&&g?"date":e,m.addColumn(e,""),n=0;n<t.length;n++)m.addColumn("number",t[n].name);return m.addRows(p),m};var Nt=[],Bt=0,Ft=4,Ht={},zt=[],Wt=function(t,e){return t="number"===e?l(t):"datetime"===e?c(t):a(t)},jt=function(t,e){var n,i,r=[];for(i=0;i<t.length;i++)"bubble"===e?r.push([l(t[i][0]),l(t[i][1]),l(t[i][2])]):(n=Wt(t[i][0],e),r.push([n,l(t[i][1])]));return"datetime"===e?r.sort(d):"number"===e&&r.sort(f),r},qt=function(t,e,n){var i;if("string"==typeof t&&(i=t,!(t=document.getElementById(t))))throw new Error("No element with id "+i);this.element=t,this.options=r(Ut.options,n||{}),this.dataSource=e,Ut.charts[t.id]=this,O(this,e),this.options.refresh&&this.startRefresh()};qt.prototype.getElement=function(){return this.element},qt.prototype.getDataSource=function(){return this.dataSource},qt.prototype.getData=function(){return this.data},qt.prototype.getOptions=function(){return this.options},qt.prototype.getChartObject=function(){return this.chart},qt.prototype.getAdapter=function(){return this.adapter},qt.prototype.updateData=function(t,e){this.dataSource=t,e&&this.__updateOptions(e),O(this,t)},qt.prototype.setOptions=function(t){this.__updateOptions(t),this.redraw()},qt.prototype.redraw=function(){O(this,this.rawData)},qt.prototype.refreshData=function(){if("string"==typeof this.dataSource){var t=-1===this.dataSource.indexOf("?")?"?":"&";O(this,this.dataSource+t+"_="+(new Date).getTime())}else"function"==typeof this.dataSource&&O(this,this.dataSource)},qt.prototype.startRefresh=function(){var t=this,e=this.options.refresh;if(e&&"string"!=typeof this.dataSource&&"function"!=typeof this.dataSource)throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId){if(!e)throw new Error("No refresh interval");this.intervalId=setInterval(function(){t.refreshData()},1e3*e)}},qt.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},qt.prototype.toImage=function(t){if("chartjs"===this.adapter){if(t&&t.background&&"transparent"!==t.background){var e=this.chart.chart.canvas,n=this.chart.chart.ctx,i=document.createElement("canvas"),r=i.getContext("2d");return i.width=n.canvas.width,i.height=n.canvas.height,r.fillStyle=t.background,r.fillRect(0,0,i.width,i.height),r.drawImage(e,0,0),i.toDataURL("image/png")}return this.chart.toBase64Image()}return null},qt.prototype.destroy=function(){this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&N(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&N(this.element,"mouseout",this.__leaveEvent)},qt.prototype.__updateOptions=function(t){var e=t.refresh&&t.refresh!==this.options.refresh;this.options=r(Ut.options,t),e&&(this.stopRefresh(),this.startRefresh())},qt.prototype.__render=function(){this.data=this.__processData(),j(this.__chartName(),this)},qt.prototype.__config=function(){return Ht};var Ut={LineChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this)},e.prototype.__chartName=function(){return"LineChart"},e}(qt),PieChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return K(this)},e.prototype.__chartName=function(){return"PieChart"},e}(qt),ColumnChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this,null,!0)},e.prototype.__chartName=function(){return"ColumnChart"},e}(qt),BarChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this,null,!0)},e.prototype.__chartName=function(){return"BarChart"},e}(qt),AreaChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this)},e.prototype.__chartName=function(){return"AreaChart"},e}(qt),GeoChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return K(this)},e.prototype.__chartName=function(){return"GeoChart"},e}(qt),ScatterChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this,"number")},e.prototype.__chartName=function(){return"ScatterChart"},e}(qt),BubbleChart:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Y(this,"bubble")},e.prototype.__chartName=function(){return"BubbleChart"},e}(qt),Timeline:function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){var t,e=this.rawData;for(t=0;t<e.length;t++)e[t][1]=c(e[t][1]),e[t][2]=c(e[t][2]);return e},e.prototype.__chartName=function(){return"Timeline"},e}(qt),charts:{},configure:function(t){for(var e in t)t.hasOwnProperty(e)&&(Ht[e]=t[e])},setDefaultOptions:function(t){Ut.options=t},eachChart:function(t){for(var e in Ut.charts)Ut.charts.hasOwnProperty(e)&&t(Ut.charts[e])},config:Ht,options:{},adapters:zt,addAdapter:H,use:function(t){return H(t),Ut}};return"undefined"==typeof window||window.Chartkick||(window.Chartkick=Ut),Ut["default"]=Ut,Ut}),$(document).ready(function(){$(window).scroll(function(){parseInt($(window).scrollTop())>=30?($(".header-navbar ").addClass("navbar-fixed"),$(".notifications-sticky-top").addClass("sticky-fixed"),$("main").addClass("margin-top")):($(".header-navbar ").removeClass("navbar-fixed"),$(".notifications-sticky-top").removeClass("sticky-fixed"),$("main").removeClass("margin-top"))})}),function(){$(document).on("ajax:before ajaxStart page:fetch",function(){return $(".spinner-sm").show()}),$(document).on("ajax:complete ajaxComplete page:change",function(){return $(".spinner-sm").hide()})}.call(this),
/*!
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2015 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.9.7
 *
 */
function(t,e,n,i){var r=t(e);t.fn.lazyload=function(n){function o(){var e=0;a.each(function(){var n=t(this);if(!l.skip_invisible||n.is(":visible"))if(t.abovethetop(this,l)||t.leftofbegin(this,l));else if(t.belowthefold(this,l)||t.rightoffold(this,l)){if(++e>l.failure_limit)return!1}else n.trigger("appear"),e=0})}var s,a=this,l={threshold:0,failure_limit:0,event:"scroll.lazyload",effect:"show",container:e,data_attribute:"original",data_srcset:"srcset",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs="};return n&&(i!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),i!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),t.extend(l,n)),s=l.container===i||l.container===e?r:t(l.container),0===l.event.indexOf("scroll")&&s.off(l.event).on(l.event,function(){return o()}),this.each(function(){var e=this,n=t(e);e.loaded=!1,n.attr("src")!==i&&!1!==n.attr("src")||n.is("img")&&n.attr("src",l.placeholder),n.one("appear",function(){if(!this.loaded){if(l.appear){var i=a.length;l.appear.call(e,i,l)}t("<img />").one("load",function(){var i=n.attr("data-"+l.data_attribute),r=n.attr("data-"+l.data_srcset);i!=n.attr("src")&&(n.hide(),n.is("img")&&(n.attr("src",i),null!=r&&n.attr("srcset",r)),n.is("video")?n.attr("poster",i):n.css("background-image","url('"+i+"')"),n[l.effect](l.effect_speed)),e.loaded=!0;var o=t.grep(a,function(t){return!t.loaded});if(a=t(o),l.load){var s=a.length;l.load.call(e,s,l)}}).attr({src:n.attr("data-"+l.data_attribute),srcset:n.attr("data-"+l.data_srcset)||""})}}),0!==l.event.indexOf("scroll")&&n.off(l.event).on(l.event,function(){e.loaded||n.trigger("appear")})}),r.off("resize.lazyload").bind("resize.lazyload",function(){o()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&r.on("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&a.each(function(){t(this).trigger("appear")})}),t(function(){o()}),this},t.belowthefold=function(n,o){return(o.container===i||o.container===e?(e.innerHeight?e.innerHeight:r.height())+r.scrollTop():t(o.container).offset().top+t(o.container).height())<=t(n).offset().top-o.threshold},t.rightoffold=function(n,o){return(o.container===i||o.container===e?r.width()+r.scrollLeft():t(o.container).offset().left+t(o.container).width())<=t(n).offset().left-o.threshold},t.abovethetop=function(n,o){return(o.container===i||o.container===e?r.scrollTop():t(o.container).offset().top)>=t(n).offset().top+o.threshold+t(n).height()},t.leftofbegin=function(n,o){return(o.container===i||o.container===e?r.scrollLeft():t(o.container).offset().left)>=t(n).offset().left+o.threshold+t(n).width()},t.inviewport=function(e,n){return!(t.rightoffold(e,n)||t.leftofbegin(e,n)||t.belowthefold(e,n)||t.abovethetop(e,n))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),$(document).on("turbolinks:load",function(){function t(t,e){var n=document.getElementById(e),i="#"+t;"password"===n.type?n.type="text":n.type="password",$(i+" .fa-eye").toggleClass("d-none"),$(i+" .fa-eye-slash").toggleClass("d-block","d-none"),$(i+" .fa-eye-slash").toggleClass("text-info")}$(".seePassword").click(function(){t("login-password","user_password")}),$(".seePasswordConfirmation").click(function(){t("confirmation-password","user_password_confirmation")}),hideRecover(),$("#btn-recover-account").click(function(){hideLoginAnimation(),showRecoverAnimation()}),$("#btn-login-account").click(function(){hideRecoverAnimation(),showLoginAnimation()})}),$(document).on("turbolinks:load",function(){check_capslock_form($(".password"))}),document.onkeydown=function(t){t=t||event,"undefined"==typeof window.lastpress&&(window.lastpress=t.timeStamp),"undefined"!=typeof window.capsLockEnabled&&(20==t.keyCode&&t.timeStamp>window.lastpress+50&&(window.capsLockEnabled=!window.capsLockEnabled,$(".capslockdiv").toggle(),$(".password").toggleClass("text-uppercase")),window.lastpress=t.timeStamp)},$(document).on("turbolinks:load",function(){function t(){e.value!=n.value?(n.setCustomValidity("Passwords Don't Match"),$(".validation").text("Contrase\xf1as no coinciden"),$(".password").addClass("text-danger"),$(".password").removeClass("text-success"),$(".fa-eye").addClass("text-danger"),$(".fa-eye-slash").addClass("text-danger"),$("#btn-actualizar").attr("disabled","disabled")):(n.setCustomValidity(""),$(".validation").text(""),$(".password").removeClass("text-danger"),$(".password").addClass("text-success"),$(".fa-eye").removeClass("text-danger"),$(".fa-eye-slash").removeClass("text-danger"),$("#btn-actualizar").removeAttr("disabled"))}var e=document.getElementById("user_password"),n=document.getElementById("user_password_confirmation");e&&n&&(e.onkeyup=t,n.onkeyup=t)}),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function n(n,o,a){function l(t,e,i){var r,o="$()."+n+'("'+e+'")';return t.each(function(t,l){var c=a.data(l,n);if(c){var u=c[e];if(u&&"_"!=e.charAt(0)){var h=u.apply(c,i);r=void 0===r?h:r}else s(o+" is not a valid method")}else s(n+" not initialized. Cannot call methods, i.e. "+o)}),void 0!==r?r:t}function c(t,e){t.each(function(t,i){var r=a.data(i,n);r?(r.option(e),r._init()):(r=new o(i,e),a.data(i,n,r))})}(a=a||e||t.jQuery)&&(o.prototype.option||(o.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[n]=function(t){return"string"==typeof t?l(this,t,r.call(arguments,1)):(c(this,t),this)},i(a))}function i(t){!t||t&&t.bridget||(t.bridget=n)}var r=Array.prototype.slice,o=t.console,s=void 0===o?function(){}:function(t){o.error(t)};return i(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(t,o),delete i[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;c>e;e++){t[l[e]]=0}return t}function i(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function r(){if(!u){u=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(e);var r=i(e);s=200==Math.round(t(r.width)),o.isBoxSizeOuter=s,n.removeChild(e)}}function o(e){if(r(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=i(e);if("none"==o.display)return n();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var u=a.isBorderBox="border-box"==o.boxSizing,h=0;c>h;h++){var d=l[h],f=o[d],p=parseFloat(f);a[d]=isNaN(p)?0:p}var g=a.paddingLeft+a.paddingRight,m=a.paddingTop+a.paddingBottom,v=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,b=a.borderLeftWidth+a.borderRightWidth,w=a.borderTopWidth+a.borderBottomWidth,x=u&&s,C=t(o.width);!1!==C&&(a.width=C+(x?0:g+b));var S=t(o.height);return!1!==S&&(a.height=S+(x?0:m+w)),a.innerWidth=a.width-(g+b),a.innerHeight=a.height-(m+w),a.outerWidth=a.width+v,a.outerHeight=a.height+y,a}}var s,a="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=l.length,u=!1;return o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0;n<e.length;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();return function(e,n){return e[t](n)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var n={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},i=Array.prototype.slice;n.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?i.call(t):[t]},n.removeFrom=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},n.getParent=function(t,n){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,n))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,i){t=n.makeArray(t);var r=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!i)return void r.push(t);e(t,i)&&r.push(t);for(var n=t.querySelectorAll(i),o=0;o<n.length;o++)r.push(n[o])}}),r},n.debounceMethod=function(t,e,n){n=n||100;var i=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments,o=this;this[r]=setTimeout(function(){i.apply(o,e),delete o[r]},n)}},n.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()};var r=t.console;return n.htmlInit=function(e,i){n.docReady(function(){var o=n.toDashed(i),s="data-"+o,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+o),c=n.makeArray(a).concat(n.makeArray(l)),u=s+"-options",h=t.jQuery;c.forEach(function(t){var n,o=t.getAttribute(s)||t.getAttribute(u);try{n=o&&JSON.parse(o)}catch(a){return void(r&&r.error("Error parsing "+s+" on "+t.className+": "+a))}var l=new e(t,n);h&&h.data(t,i,l)})})},n}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function n(t){for(var e in t)return!1;return null,!0}function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function r(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var o=document.documentElement.style,s="string"==typeof o.transition?"transition":"WebkitTransition",a="string"==typeof o.transform?"transform":"WebkitTransform",l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],c={transform:a,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},u=i.prototype=Object.create(t.prototype);u.constructor=i,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},u.getSize=function(){this.size=e(this.element)},u.css=function(t){var e=this.element.style;for(var n in t){e[c[n]||n]=t[n]}},u.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=t[e?"left":"right"],r=t[n?"top":"bottom"],o=parseFloat(i),s=parseFloat(r),a=this.layout.size;-1!=i.indexOf("%")&&(o=o/100*a.width),-1!=r.indexOf("%")&&(s=s/100*a.height),o=isNaN(o)?0:o,s=isNaN(s)?0:s,o-=e?a.paddingLeft:a.paddingRight,s-=n?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=s},u.layoutPosition=function(){var t=this.layout.size,e={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=n?"paddingLeft":"paddingRight",o=n?"left":"right",s=n?"right":"left",a=this.position.x+t[r];e[o]=this.getXValue(a),e[s]="";var l=i?"paddingTop":"paddingBottom",c=i?"top":"bottom",u=i?"bottom":"top",h=this.position.y+t[l];e[c]=this.getYValue(h),e[u]="",this.css(e),this.emitEvent("layout",[this])},u.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},u.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},u._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,r=t==this.position.x&&e==this.position.y;if(this.setPosition(t,e),!r||this.isTransitioning){var o=t-n,s=e-i,a={};a.transform=this.getTranslate(o,s),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},u.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},u.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},u._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},u.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var h="opacity,"+r(a);u.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:h,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(l,this,!1)}},u.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},u.onotransitionend=function(t){this.ontransitionend(t)};var d={"-webkit-transform":"transform"};u.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=d[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd)e.onEnd[i].call(this),delete e.onEnd[i];this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},u._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(f)},u.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},u.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},u.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(n,i,r,o){return e(t,n,i,r,o)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,n,i,r){"use strict";function o(t,e){var n=i.getQueryElement(t);if(n){this.element=n,c&&(this.$element=c(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var r=++h;this.element.outlayerGUID=r,d[r]=this,this._create(),this._getOption("initLayout")&&this.layout()}else l&&l.error("Bad element for "+this.constructor.namespace+": "+(n||t))}function s(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),n=e&&e[1],i=e&&e[2];return n.length?(n=parseFloat(n))*(p[i]||1):0}var l=t.console,c=t.jQuery,u=function(){},h=0,d={};o.namespace="outlayer",o.Item=r,o.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=o.prototype;i.extend(f,e.prototype),f.option=function(t){i.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},o.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],r=0;r<e.length;r++){var o=new n(e[r],this);i.push(o)}return i},f._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=n(this.element)},f._getMeasurement=function(t,e){var i,r=this.options[t];r?("string"==typeof r?i=this.element.querySelector(r):r instanceof HTMLElement&&(i=r),this[t]=i?n(i)[e]:r):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var n=[];t.forEach(function(t){var i=this._getItemLayoutPosition(t);i.item=t,i.isInstant=e||t.isLayoutInstant,n.push(i)},this),this._processLayoutQueue(n)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null==t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},f._positionItem=function(t,e,n,i,r){i?t.goTo(e,n):(t.stagger(r*this.stagger),t.moveTo(e,n))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},f._getContainerSize=u,f._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){function n(){r.dispatchEvent(t+"Complete",null,[e])}function i(){++s==o&&n()}var r=this,o=e.length;if(e&&o){var s=0;e.forEach(function(e){e.once(t,i)})}else n()},f.dispatchEvent=function(t,e,n){var i=e?[e].concat(n):n;if(this.emitEvent(t,i),c)if(this.$element=this.$element||c(this.element),e){var r=c.Event(e);r.type=t,this.$element.trigger(r,n)}else this.$element.trigger(t,n)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){i.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i.makeArray(t)):void 0},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=u,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,r=n(t);return{left:e.left-i.left-r.marginLeft,top:e.top-i.top-r.marginTop,right:i.right-e.right-r.marginRight,bottom:i.bottom-e.bottom-r.marginBottom}},f.handleEvent=i.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},i.debounceMethod(o,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,n){t.stagger(n*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var n=this.items[e];if(n.element==t)return n}},f.getItems=function(t){t=i.makeArray(t);var e=[];return t.forEach(function(t){var n=this.getItem(t);n&&e.push(n)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),i.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete d[e],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},o.data=function(t){var e=(t=i.getQueryElement(t))&&t.outlayerGUID;return e&&d[e]},o.create=function(t,e){var n=s(o);return n.defaults=i.extend({},o.defaults),i.extend(n.defaults,e),n.compatOptions=i.extend({},o.compatOptions),n.namespace=t,n.data=o.data,n.Item=s(r),i.htmlInit(n,t),c&&c.bridget&&c.bridget(t,n),n};var p={ms:1,s:1e3};return o.Item=r,o}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var n=t.create("masonry");n.compatOptions.fitWidth="isFitWidth";var i=n.prototype;return i._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},i.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,o=r/i,s=i-r%i;o=Math[s&&1>s?"round":"floor"](o),this.cols=Math.max(o,1)},i.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,t),r={x:this.columnWidth*i.col,y:i.y},o=i.y+t.size.outerHeight,s=n+i.col,a=i.col;s>a;a++)this.colYs[a]=o;return r},i._getTopColPosition=function(t){var e=this._getTopColGroup(t),n=Math.min.apply(Math,e);return{col:e.indexOf(n),y:n}},i._getTopColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;n>i;i++)e[i]=this._getColGroupY(i,t);return e},i._getColGroupY=function(t,e){if(2>e)return this.colYs[t];var n=this.colYs.slice(t,t+e);return Math.max.apply(Math,n)},i._getHorizontalColPosition=function(t,e){var n=this.horizontalColIndex%this.cols;n=t>1&&n+t>this.cols?0:n;var i=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=i?n+t:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,t)}},i._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),r=this._getOption("originLeft")?i.left:i.right,o=r+n.outerWidth,s=Math.floor(r/this.columnWidth);s=Math.max(0,s);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?i.top:i.bottom)+n.outerHeight,c=s;a>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},i._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],r=0;r<n.length;r++){var o=n[r];i&&i[o]&&(this.off(t,o),delete i[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(n){return e(t,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){function n(t,e){for(var n in e)t[n]=e[n];return t}function i(t){return Array.isArray(t)?t:"object"==typeof t&&"number"==typeof t.length?c.call(t):[t]}function r(t,e,o){if(!(this instanceof r))return new r(t,e,o);var s=t;return"string"==typeof t&&(s=document.querySelectorAll(t)),s?(this.elements=i(s),this.options=n({},this.options),"function"==typeof e?o=e:n(this.options,e),o&&this.on("always",o),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(s||t))}function o(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var a=t.jQuery,l=t.console,c=Array.prototype.slice;r.prototype=Object.create(e.prototype),r.prototype.options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var n=t.querySelectorAll("img"),i=0;i<n.length;i++){var r=n[i];this.addImage(r)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var s=o[i];this.addElementBackgroundImages(s)}}}};var u={1:!0,9:!0,11:!0};return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(e.backgroundImage);null!==i;){var r=i&&i[2];r&&this.addBackground(r,t),i=n.exec(e.backgroundImage)}},r.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var n=new s(t,e);this.images.push(n)},r.prototype.check=function(){function t(t,n,i){setTimeout(function(){e.progress(t,n,i)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},r.prototype.progress=function(t,e,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},o.prototype=Object.create(e.prototype),o.prototype.check=function(){
return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(o.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},r.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((a=e).fn.imagesLoaded=function(t,e){return new r(this,t,e).jqDeferred.promise(a(this))})},r.makeJQueryPlugin(),r}),
/*
 Copyright (C) Federico Zivolo 2019
 Distributed under the MIT License (license terms are at http://opensource.org/licenses/MIT).
 */
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,function(){"use strict";function t(t){return t&&"[object Function]"==={}.toString.call(t)}function e(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function n(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function i(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var r=e(t),o=r.overflow,s=r.overflowX,a=r.overflowY;return/(auto|scroll|overlay)/.test(o+a+s)?t:i(n(t))}function r(t){return t&&t.referenceNode?t.referenceNode:t}function o(t){return 11===t?rt:10===t?ot:rt||ot}function s(t){if(!t)return document.documentElement;for(var n=o(10)?document.body:null,i=t.offsetParent||null;i===n&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var r=i&&i.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===e(i,"position")?s(i):i:t?t.ownerDocument.documentElement:document.documentElement}function a(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||s(t.firstElementChild)===t)}function l(t){return null===t.parentNode?t:l(t.parentNode)}function c(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var u=o.commonAncestorContainer;if(t!==u&&e!==u||i.contains(r))return a(u)?u:s(u);var h=l(t);return h.host?c(h.host,e):c(t,l(e).host)}function u(t){var e="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function h(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=u(e,"top"),r=u(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}function d(t,e){var n="x"===e?"Left":"Top",i="Left"==n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function f(t,e,n,i){return tt(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],o(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function p(t){var e=t.body,n=t.documentElement,i=o(10)&&getComputedStyle(n);return{height:f("Height",e,n,i),width:f("Width",e,n,i)}}function g(t){return ct({},t,{right:t.left+t.width,bottom:t.top+t.height})}function m(t){var n={};try{if(o(10)){n=t.getBoundingClientRect();var i=u(t,"top"),r=u(t,"left");n.top+=i,n.left+=r,n.bottom+=i,n.right+=r}else n=t.getBoundingClientRect()}catch(e){}var s={left:n.left,top:n.top,width:n.right-n.left,height:n.bottom-n.top},a="HTML"===t.nodeName?p(t.ownerDocument):{},l=a.width||t.clientWidth||s.width,c=a.height||t.clientHeight||s.height,h=t.offsetWidth-l,f=t.offsetHeight-c;if(h||f){var m=e(t);h-=d(m,"x"),f-=d(m,"y"),s.width-=h,s.height-=f}return g(s)}function v(t,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=o(10),a="HTML"===n.nodeName,l=m(t),c=m(n),u=i(t),d=e(n),f=parseFloat(d.borderTopWidth,10),p=parseFloat(d.borderLeftWidth,10);r&&a&&(c.top=tt(c.top,0),c.left=tt(c.left,0));var v=g({top:l.top-c.top-f,left:l.left-c.left-p,width:l.width,height:l.height});if(v.marginTop=0,v.marginLeft=0,!s&&a){var y=parseFloat(d.marginTop,10),b=parseFloat(d.marginLeft,10);v.top-=f-y,v.bottom-=f-y,v.left-=p-b,v.right-=p-b,v.marginTop=y,v.marginLeft=b}return(s&&!r?n.contains(u):n===u&&"BODY"!==u.nodeName)&&(v=h(v,n)),v}function y(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=v(t,n),r=tt(n.clientWidth,window.innerWidth||0),o=tt(n.clientHeight,window.innerHeight||0),s=e?0:u(n),a=e?0:u(n,"left");return g({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}function b(t){var i=t.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===e(t,"position"))return!0;var r=n(t);return!!r&&b(r)}function w(t){if(!t||!t.parentElement||o())return document.documentElement;for(var n=t.parentElement;n&&"none"===e(n,"transform");)n=n.parentElement;return n||document.documentElement}function x(t,e,o,s){var a=4<arguments.length&&void 0!==arguments[4]&&arguments[4],l={top:0,left:0},u=a?w(t):c(t,r(e));if("viewport"===s)l=y(u,a);else{var h;"scrollParent"===s?"BODY"===(h=i(n(e))).nodeName&&(h=t.ownerDocument.documentElement):h="window"===s?t.ownerDocument.documentElement:s;var d=v(h,u,a);if("HTML"!==h.nodeName||b(u))l=d;else{var f=p(t.ownerDocument),g=f.height,m=f.width;l.top+=d.top-d.marginTop,l.bottom=g+d.top,l.left+=d.left-d.marginLeft,l.right=m+d.left}}var x="number"==typeof(o=o||0);return l.left+=x?o:o.left||0,l.top+=x?o:o.top||0,l.right-=x?o:o.right||0,l.bottom-=x?o:o.bottom||0,l}function C(t){return t.width*t.height}function S(t,e,n,i,r){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=x(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(t){return ct({key:t},a[t],{area:C(a[t])})}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),u=0<c.length?c[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function k(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return v(n,i?w(e):c(e,r(n)),i)}function _(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function E(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function T(t,e,n){n=n.split("-")[0];var i=_(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[c]:e[E(a)],r}function A(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function M(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=A(t,function(t){return t[e]===n});return t.indexOf(i)}function R(e,n,i){return(void 0===i?e:e.slice(0,M(e,"name",i))).forEach(function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=e["function"]||e.fn;e.enabled&&t(i)&&(n.offsets.popper=g(n.offsets.popper),n.offsets.reference=g(n.offsets.reference),n=i(n,e))}),n}function D(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=k(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=S(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=T(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=R(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function L(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function $(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if("undefined"!=typeof document.body.style[o])return o}return null}function O(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[$("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function P(t){var e=t.ownerDocument;return e?e.defaultView:window}function I(t,e,n,r){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(e,n,{passive:!0}),o||I(i(s.parentNode),e,n,r),r.push(s)}function N(t,e,n,r){n.updateBound=r,P(t).addEventListener("resize",n.updateBound,{passive:!0});var o=i(t);return I(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function B(){this.state.eventsEnabled||(this.state=N(this.reference,this.options,this.state,this.scheduleUpdate))}function F(t,e){return P(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function H(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=F(this.reference,this.state))}function z(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function W(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&z(e[n])&&(i="px"),t.style[n]=e[n]+i})}function j(t,e){Object.keys(e).forEach(function(n){!1===e[n]?t.removeAttribute(n):t.setAttribute(n,e[n])})}function q(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=J,s=function(t){return t},a=o(r.width),l=o(i.width),c=-1!==["left","right"].indexOf(t.placement),u=-1!==t.placement.indexOf("-"),h=e?c||u||a%2==l%2?o:Z:s,d=e?o:s;return{left:h(1==a%2&&1==l%2&&!u&&e?i.left-1:i.left),top:d(i.top),bottom:d(i.bottom),right:h(i.right)}}function U(t,e,n){var i=A(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`";console.warn("`"+n+"` modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}function V(t){return"end"===t?"start":"start"===t?"end":t}function G(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=dt.indexOf(t),i=dt.slice(n+1).concat(dt.slice(0,n));return e?i.reverse():i}function Y(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return g(a)[e]/100*o}return"vh"===s||"vw"===s?("vh"===s?tt(document.documentElement.clientHeight,window.innerHeight||0):tt(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}function K(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(A(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1===a?[s]:[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))];return(c=c.map(function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return Y(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){z(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}function X(t,e){var n,i=e.offset,r=t.placement,o=t.offsets,s=o.popper,a=o.reference,l=r.split("-")[0];return n=z(+i)?[+i,0]:K(i,s,a,l),"left"===l?(s.top+=n[0],s.left-=n[1]):"right"===l?(s.top+=n[0],s.left+=n[1]):"top"===l?(s.left+=n[0],s.top-=n[1]):"bottom"===l&&(s.left+=n[0],s.top+=n[1]),t.popper=s,t}var Q=Math.min,Z=Math.floor,J=Math.round,tt=Math.max,et="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,nt=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(et&&0<=navigator.userAgent.indexOf(t[e]))return 1;return 0}(),it=et&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},nt))}},rt=et&&!(!window.MSInputMethodContext||!document.documentMode),ot=et&&/MSIE 10/.test(navigator.userAgent),st=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},at=function(){function t(t,e){for(var n,i=0;i<e.length;i++)(n=e[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),lt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},ct=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ut=et&&/Firefox/i.test(navigator.userAgent),ht=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],dt=ht.slice(3),ft={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},pt=function(){function e(n,i){var r=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};st(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=it(this.update.bind(this)),this.options=ct({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n&&n.jquery?n[0]:n,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(ct({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){r.options.modifiers[t]=ct({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return ct({name:t},r.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(e){e.enabled&&t(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return at(e,[{key:"update",value:function(){return D.call(this)}},{key:"destroy",value:function(){return O.call(this)}},{key:"enableEventListeners",value:function(){return B.call(this)}},{key:"disableEventListeners",value:function(){return H.call(this)}}]),e}();return pt.Utils=("undefined"==typeof window?global:window).PopperUtils,pt.placements=ht,pt.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:lt({},l,o[l]),end:lt({},l,o[l]+o[c]-s[c])};t.offsets.popper=ct({},s,u[i])}return t}},offset:{order:200,enabled:!0,fn:X,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||s(t.instance.popper);t.instance.reference===n&&(n=s(n));var i=$("transform"),r=t.instance.popper.style,o=r.top,a=r.left,l=r[i];r.top="",r.left="",r[i]="";var c=x(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=a,r[i]=l,e.boundaries=c;var u=e.priority,h=t.offsets.popper,d={primary:function(t){var n=h[t];return h[t]<c[t]&&!e.escapeWithReference&&(n=tt(h[t],c[t])),lt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=h[n];return h[t]>c[t]&&!e.escapeWithReference&&(i=Q(h[n],c[t]-("right"===t?h.width:h.height))),lt({},n,i)}};return u.forEach(function(t){var e=-1===["left","top"].indexOf(t)?"secondary":"primary";h=ct({},h,d[e](t))}),t.offsets.popper=h,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Z,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,n){var i;if(!U(t.instance.modifiers,"arrow","keepTogether"))return t;var r=n.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],s=t.offsets,a=s.popper,l=s.reference,c=-1!==["left","right"].indexOf(o),u=c?"height":"width",h=c?"Top":"Left",d=h.toLowerCase(),f=c?"left":"top",p=c?"bottom":"right",m=_(r)[u];l[p]-m<a[d]&&(t.offsets.popper[d]-=a[d]-(l[p]-m)),l[d]+m>a[p]&&(t.offsets.popper[d]+=l[d]+m-a[p]),t.offsets.popper=g(t.offsets.popper);var v=l[d]+l[u]/2-m/2,y=e(t.instance.popper),b=parseFloat(y["margin"+h],10),w=parseFloat(y["border"+h+"Width"],10),x=v-t.offsets.popper[d]-b-w;return x=tt(Q(a[u]-m,x),0),t.arrowElement=r,t.offsets.arrow=(lt(i={},d,J(x)),lt(i,f,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(L(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=x(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=E(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case ft.FLIP:s=[i,r];break;case ft.CLOCKWISE:s=G(i);break;case ft.COUNTERCLOCKWISE:s=G(i,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=E(i);var c=t.offsets.popper,u=t.offsets.reference,h=Z,d="left"===i&&h(c.right)>h(u.left)||"right"===i&&h(c.left)<h(u.right)||"top"===i&&h(c.bottom)>h(u.top)||"bottom"===i&&h(c.top)<h(u.bottom),f=h(c.left)<h(n.left),p=h(c.right)>h(n.right),g=h(c.top)<h(n.top),m=h(c.bottom)>h(n.bottom),v="left"===i&&f||"right"===i&&p||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&m),w=!!e.flipVariationsByContent&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&m||!y&&"end"===o&&g),x=b||w;(d||v||x)&&(t.flipped=!0,(d||v)&&(i=s[l+1]),x&&(o=V(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=ct({},t.offsets.popper,T(t.instance.popper,t.offsets.reference,t.placement)),t=R(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=E(e),t.offsets.popper=g(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!U(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=A(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=A(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,l,c=void 0===o?e.gpuAcceleration:o,u=s(t.instance.popper),h=m(u),d={position:r.position},f=q(t,2>window.devicePixelRatio||!ut),p="bottom"===n?"top":"bottom",g="right"===i?"left":"right",v=$("transform");if(l="bottom"==p?"HTML"===u.nodeName?-u.clientHeight+f.bottom:-h.height+f.bottom:f.top,a="right"==g?"HTML"===u.nodeName?-u.clientWidth+f.right:-h.width+f.right:f.left,c&&v)d[v]="translate3d("+a+"px, "+l+"px, 0)",d[p]=0,d[g]=0,d.willChange="transform";else{var y="bottom"==p?-1:1,b="right"==g?-1:1;d[p]=l*y,d[g]=a*b,d.willChange=p+", "+g}var w={"x-placement":t.placement};return t.attributes=ct({},w,t.attributes),t.styles=ct({},d,t.styles),t.arrowStyles=ct({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return W(t.instance.popper,t.styles),j(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&W(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=k(r,e,t,n.positionFixed),s=S(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),W(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},pt}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;return t(this).one("bsTransitionEnd",function(){n=!0}),setTimeout(function(){n||t(i).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t("#"===o?[]:o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target).closest(".btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse")?"toggle":r.data();n.call(o,s)})}(jQuery),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(o).each(function(){var i=t(this),r=e(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",o)),
n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.7",s.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=e(i),s=r.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+a);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,s,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+d>p.bottom?"top":"top"==a&&u.top-d<p.top?"bottom":"right"==a&&u.right+h>p.width?"left":"left"==a&&u.left-h<p.left?"right":a,o.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,u,h,d);this.applyPlacement(g,a);var m=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var h=/top|bottom/.test(n),d=h?2*u.left-r+l:2*u.top-o+c,f=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][f],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&o.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,s=i?{top:0,left:0}:o?null:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,a,l,s)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=e.left-o,u=e.left+o+n;c<s.left?r.left=s.left-c:u>s.right&&(r.left=s.left+s.width-u)}return r},n.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},n.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+s<=t-i)&&"bottom";var a=null==this.affixed,l=a?r:o.top;return null!=n&&r<=n?"top":null!=i&&l+(a?s:e)>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),$(function(){const t="#modal-holder",e=".modal";$(document).on("click","a[data-modal]",function(){const n=$(this).attr("href");return $.get(n,n=>{$(t).html(n).find(e).modal()}),!1}),$(document).on("ajax:success","form[data-modal]",function(n){const[i,r,o]=n.detail,s=o.getResponseHeader("Location");if(s)window.location=s;else{$(".modal-backdrop").remove();const n=$(i).find("body").html();$(t).html(n).find(e).modal()}return!1})}),function(){}.call(this);_=@k1u           a"ECT}(a,9       O^partitionKey=%28https%2Cdesafiolatam.com%29,:https://empieza.desafiolatam.com/assets/application-2bbb1165811ca78dd57b28b288b183d638fef95ebe4d18a8b738152093a3d40c.js strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAAAAgAAAAAAAAAAAAAAAAAAAAEANgFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAU5MIIFNTCCBB2gAwIBAgISAwnr1DGyLfupiQ0tKWXjqHLLMA0GCSqGSIb3DQEBCwUAMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQDEwJSMzAeFw0yMTA3MjgyMTQ3MTNaFw0yMTEwMjYyMTQ3MTFaMCMxITAfBgNVBAMTGGVtcGllemEuZGVzYWZpb2xhdGFtLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANzjh5oVRbiSdWV8tMSx0MMN24Hgq5NhLzHhowmRQ9BP6x9LbHsOS1+e5tYWbEQY8hpWCZ7skp+agSz6b3LSpURxdgUJbKM0MBTDHSzbMhTj9ij1tVHMjcwX7Hec1zfazEnZFexdZU8Z1BbbqvSCjNA8sepYfdb5czAzkuzp9dPe5XKDF6pgtPjNqS/KwYhd2MlpW3uk+jdl7RodT+OPnYWUFTO5ZatqG1qAgi+oZC/OQHNI0vV/nkO1Po3Pkb/YnLw66QUoKID13Q8wimWh78UdTQWGprzVc1LxrkMfM9oQ4jwUasilFxskFDq3EtfMnZk7m5h1Oqod8vocwMvXjPsCAwEAAaOCAlIwggJOMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDAYDVR0TAQH/BAIwADAdBgNVHQ4EFgQUoZMs3z5l9oECk00BfAkBUlodw70wHwYDVR0jBBgwFoAUFC6zF7dYVsuuUAlA5h+vnYsUwsYwVQYIKwYBBQUHAQEESTBHMCEGCCsGAQUFBzABhhVodHRwOi8vcjMuby5sZW5jci5vcmcwIgYIKwYBBQUHMAKGFmh0dHA6Ly9yMy5pLmxlbmNyLm9yZy8wIwYDVR0RBBwwGoIYZW1waWV6YS5kZXNhZmlvbGF0YW0uY29tMEwGA1UdIARFMEMwCAYGZ4EMAQIBMDcGCysGAQQBgt8TAQEBMCgwJgYIKwYBBQUHAgEWGmh0dHA6Ly9jcHMubGV0c2VuY3J5cHQub3JnMIIBAwYKKwYBBAHWeQIEAgSB9ASB8QDvAHcAb1N2rDHwMRnYmQCkURX/dxUcEdkCwQApBo2yCJo32RMAAAF670zp9wAABAMASDBGAiEA/r/sjoIXtGLpfDSvSRNvLHDBG2gvGyhnHxnwnD6cp8QCIQCQ2o5jusMbMcA6x7FHBTc/jzHQyaYV8SgwYpMWJ3y9SwB0AH0+8viP/4hVaCTCwMqeUol5K8UOeAl/LmqXaJl+IvDXAAABeu9M6e4AAAQDAEUwQwIgUkEvxDmVPv325TX+2ibbigAojP/ETtmj4YVlm1iYAvUCHypPp7MyxYTBsHsEb6kZvkyp5+T0azqX4gDUPx9q5e8wDQYJKoZIhvcNAQELBQADggEBACDsnZrhBDoQNQrnpnJoDufjMI9+q0PShj8SAHcOTkiwtyMxe3F0M6PAiXGNK0hhT4TyGvOGkoXhN3OyzP2LGaDZvG1CxA5HCPbFXQoWhe1e32ngQF5yvibdPnhSHTYsakFO0mnFDRzNa11qv0s1nGNDp6ODXTgiCgklJnA2jkLTxWghMyftksta6HmLFHYsi3A0dnv7S+LO074w4bX+Sqy/vXjpOgb2aul7RYoEdj4zBuxWx89ApNnN5k/GoE8oy7pREVBk5FVZLwenI0uZdrdutzEWynuBRQ83zFJrN8/pwJUg7Hr5l8l7iOdYXBgm7NBBuBA6A3l4syPqFSgAJT/MqAADAAAAAAEBAAAAAAAABngyNTUxOQAAAA5SU0EtUFNTLVNIQTI1NgADZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAFOTCCBTUwggQdoAMCAQICEgMJ69Qxsi37qYkNLSll46hyyzANBgkqhkiG9w0BAQsFADAyMQswCQYDVQQGEwJVUzEWMBQGA1UEChMNTGV0J3MgRW5jcnlwdDELMAkGA1UEAxMCUjMwHhcNMjEwNzI4MjE0NzEzWhcNMjExMDI2MjE0NzExWjAjMSEwHwYDVQQDExhlbXBpZXphLmRlc2FmaW9sYXRhbS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDc44eaFUW4knVlfLTEsdDDDduB4KuTYS8x4aMJkUPQT+sfS2x7DktfnubWFmxEGPIaVgme7JKfmoEs+m9y0qVEcXYFCWyjNDAUwx0s2zIU4/Yo9bVRzI3MF+x3nNc32sxJ2RXsXWVPGdQW26r0gozQPLHqWH3W+XMwM5Ls6fXT3uVygxeqYLT4zakvysGIXdjJaVt7pPo3Ze0aHU/jj52FlBUzuWWrahtagIIvqGQvzkBzSNL1f55DtT6Nz5G/2Jy8OukFKCiA9d0PMIploe/FHU0Fhqa81XNS8a5DHzPaEOI8FGrIpRcbJBQ6txLXzJ2ZO5uYdTqqHfL6HMDL14z7AgMBAAGjggJSMIICTjAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFKGTLN8+ZfaBApNNAXwJAVJaHcO9MB8GA1UdIwQYMBaAFBQusxe3WFbLrlAJQOYfr52LFMLGMFUGCCsGAQUFBwEBBEkwRzAhBggrBgEFBQcwAYYVaHR0cDovL3IzLm8ubGVuY3Iub3JnMCIGCCsGAQUFBzAChhZodHRwOi8vcjMuaS5sZW5jci5vcmcvMCMGA1UdEQQcMBqCGGVtcGllemEuZGVzYWZpb2xhdGFtLmNvbTBMBgNVHSAERTBDMAgGBmeBDAECATA3BgsrBgEEAYLfEwEBATAoMCYGCCsGAQUFBwIBFhpodHRwOi8vY3BzLmxldHNlbmNyeXB0Lm9yZzCCAQMGCisGAQQB1nkCBAIEgfQEgfEA7wB3AG9Tdqwx8DEZ2JkApFEV/3cVHBHZAsEAKQaNsgiaN9kTAAABeu9M6fcAAAQDAEgwRgIhAP6/7I6CF7Ri6Xw0r0kTbyxwwRtoLxsoZx8Z8Jw+nKfEAiEAkNqOY7rDGzHAOsexRwU3P48x0MmmFfEoMGKTFid8vUsAdAB9PvL4j/+IVWgkwsDKnlKJeSvFDngJfy5ql2iZfiLw1wAAAXrvTOnuAAAEAwBFMEMCIFJBL8Q5lT799uU1/tom24oAKIz/xE7Zo+GFZZtYmAL1Ah8qT6ezMsWEwbB7BG+pGb5Mqefk9Gs6l+IA1D8fauXvMA0GCSqGSIb3DQEBCwUAA4IBAQAg7J2a4QQ6EDUK56ZyaA7n4zCPfqtD0oY/EgB3Dk5IsLcjMXtxdDOjwIlxjStIYU+E8hrzhpKF4Tdzssz9ixmg2bxtQsQORwj2xV0KFoXtXt9p4EBecr4m3T54Uh02LGpBTtJpxQ0czWtdar9LNZxjQ6ejg104IgoJJSZwNo5C08VoITMn7ZLLWuh5ixR2LItwNHZ7+0viztO+MOG1/kqsv7146ToG9mrpe0WKBHY+MwbsVsfPQKTZzeZPxqBPKMu6URFQZORVWS8HpyNLmXa3brcxFsp7gUUPN8xSazfP6cCVIOx6+ZfJe4jnWFwYJuzQQbgQOgN5eLMj6hUoACU/ZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAEaTCCBGUwggNNoAMCAQICEEABdQSDFKTIIYyEqQwWzd8wDQYJKoZIhvcNAQELBQAwPzEkMCIGA1UEChMbRGlnaXRhbCBTaWduYXR1cmUgVHJ1c3QgQ28uMRcwFQYDVQQDEw5EU1QgUm9vdCBDQSBYMzAeFw0yMDEwMDcxOTIxNDBaFw0yMTA5MjkxOTIxNDBaMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQDEwJSMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALsCFSjM9qCU0w8S7I1VksP4gvGZpnpCiKddJqq1K7nFTLGvjmv5dcij1w9HlBRVNVeMnqiiORn1gjxCqU5u9TvDLtuNwLBc81k45+3PafBaCxu+wJQkJYf6N3GzE+ccrOGb79vkO0VSRZapwVPONMhS7rWu7Y/eYHDipVSrtm0Ol6VANGsr07xm62Y0fPpri49XKZn4MBddunJv+4HFrdKGWD0Xx+cJu/Er94bcwdpxXdRG48ytJcGIvGBndWaz8Rj3olzmU/86iLZHpf8TGOqYCXc/nVP5zwHl9aZwFxSvY6T/mbOTndxTpwb+SIUdoWmuJXW7E8xSA/XtUaGL2xUCAwEAAaOCAWgwggFkMBIGA1UdEwEB/wQIMAYBAf8CAQAwDgYDVR0PAQH/BAQDAgGGMEsGCCsGAQUFBwEBBD8wPTA7BggrBgEFBQcwAoYvaHR0cDovL2FwcHMuaWRlbnRydXN0LmNvbS9yb290cy9kc3Ryb290Y2F4My5wN2MwHwYDVR0jBBgwFoAUxKexpHsscfrb4UuQdf/EFWCFiRAwVAYDVR0gBE0wSzAIBgZngQwBAgEwPwYLKwYBBAGC3xMBAQEwMDAuBggrBgEFBQcCARYiaHR0cDovL2Nwcy5yb290LXgxLmxldHNlbmNyeXB0Lm9yZzA8BgNVHR8ENTAzMDGgL6AthitodHRwOi8vY3JsLmlkZW50cnVzdC5jb20vRFNUUk9PVENBWDNDUkwuY3JsMB0GA1UdDgQWBBQULrMXt1hWy65QCUDmH6+dixTCxjAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBANlM4Mn1hIg3Mdu7E+Kz/ItrYhJsWLdJfjwCt6gfKGHrzuAuc+9JB3o1hB8drWjw2P5WgS9tf1imbjU2EBxzw+W9bV4B125y+yqguNNXZOVbwmnU0LL3fEvDF46IcnPc/fxtvePJC45hOhZYfXQ2K1WAPcdjvoRDxjmhDmtXnj8pwYD2sr1Hy6owbLcy4VlUCxgJF15jbPuWZzwccwyTi8YRdiSG3kAHB+R9LWa1JaOWWMjqgO7PaTuW/OaNwDPzifgpLRQULX7wYXCVXfcL5cD7JPrsjsthyO5jcSioLAU7d++bXgNk8FHR5IVTXLACl9R+xjTSzhAA5LHfOsLqF75mCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAANOMIIDSjCCAjKgAwIBAgIQRK+wgNajJ7qJMDmGLvhAazANBgkqhkiG9w0BAQUFADA/MSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMTDkRTVCBSb290IENBIFgzMB4XDTAwMDkzMDIxMTIxOVoXDTIxMDkzMDE0MDExNVowPzEkMCIGA1UEChMbRGlnaXRhbCBTaWduYXR1cmUgVHJ1c3QgQ28uMRcwFQYDVQQDEw5EU1QgUm9vdCBDQSBYMzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAN+v6ZdQCINXtMxiZfaQguzH0yxrMMpb7NnDfcdAwRgUi+DoM3ZJKuM/IUmTrE4Orz5Iy2Xu/NMhD2XSKtkyj4zl93ewEnu1lcCJo6m67XMuegwGMoOifooUMM0RoOEqOLl5CjH9UL2AZd+3UWODyOKIYepLYYHsUmu5ouJLGiifSKOeDNoJjj4XLh7dIN9bxiqKqy69cK3FCxolkHRyxXtqqzTWMIn/5WgTe1QLyNau7Fqckh49ZLOMxt+/yUFw7BZy1SbsOFU5Q9D8/RhcQPGX69Wam40dutolucbY38EVAjqr2m7xPi71XAicPNaDaeQQmxkqtilX4+U9m5/wAl0CAwEAAaNCMEAwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYwHQYDVR0OBBYEFMSnsaR7LHH62+FLkHX/xBVghYkQMA0GCSqGSIb3DQEBBQUAA4IBAQCjGiybFwBcqR7uKGY3Or+Dxz9LwwmglSBd49lZRNI+DT69ikugdB/OEIKcdBodfpga3csTS7MgROSR6cz8faXbauX+5v3gTt23ADq1cEmv8uXrAvHRAosZy5Q6XkjEGB5YGV8eAlrwDPGxrancWYaLbumR9YbK+rlmM6pZW87ipxZzR8srzJmwN0jP41ZL9c8PDHIyh8bwRLtTcm1D9SZImlJnt1ir/md2cXjbDaJWFBM5JDGFoqgCWjBH4d1QB7wCCZAA62RjYJsWvIjJEubSfZGL+T0yjWW06XyxV3bqxbYoOb8VZRzI9neWagqNdwvYkQsEjgfbKbYK7p2CNTUQAAAAAQAAAAJoMgABAA== request-method GET response-head HTTP/2 200 OK
server: nginx/1.14.0 (Ubuntu)
date: Mon, 23 Aug 2021 01:51:57 GMT
content-type: application/javascript
content-length: 1823425
last-modified: Mon, 29 Mar 2021 10:27:54 GMT
etag: "6061abaa-1bd2c1"
accept-ranges: bytes
X-Firefox-Spdy: h2
 original-response-headers server: nginx/1.14.0 (Ubuntu)
date: Mon, 23 Aug 2021 01:51:57 GMT
content-type: application/javascript
content-length: 1823425
last-modified: Mon, 29 Mar 2021 10:27:54 GMT
etag: "6061abaa-1bd2c1"
accept-ranges: bytes
X-Firefox-Spdy: h2
 ctid 2 uncompressed-len 0  